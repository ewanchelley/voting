(self.webpackChunkvoting=self.webpackChunkvoting||[]).push([[179],{255:Dt=>{function Y(L){return Promise.resolve().then(()=>{var D=new Error("Cannot find module '"+L+"'");throw D.code="MODULE_NOT_FOUND",D})}Y.keys=()=>[],Y.resolve=Y,Y.id=255,Dt.exports=Y},635:Dt=>{Dt.exports=function(D){return D.length?function(D){var R={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},y={opType:"",optimize:"_obj",constraints:{},variables:{}},x={">=":"min","<=":"max","=":"equal"},E="",A=null,_="",O="",b="",C=0;"string"==typeof D&&(D=D.split("\n"));for(var v=0;v<D.length;v++)if(b="__"+v,A=null,R.is_objective.test(E=D[v]))y.opType=E.match(/(max|min)/gi)[0],(A=E.match(R.parse_lhs).map(function(S){return S.replace(/\s+/,"")}).slice(1)).forEach(function(S){_=null===(_=S.match(R.get_num))?"-"===S.substr(0,1)?-1:1:_[0],_=parseFloat(_),O=S.match(R.get_word)[0].replace(/\;$/,""),y.variables[O]=y.variables[O]||{},y.variables[O]._obj=_});else if(R.is_int.test(E))A=E.match(R.parse_int).slice(1),y.ints=y.ints||{},A.forEach(function(S){S=S.replace(";",""),y.ints[S]=1});else if(R.is_bin.test(E))A=E.match(R.parse_bin).slice(1),y.binaries=y.binaries||{},A.forEach(function(S){S=S.replace(";",""),y.binaries[S]=1});else if(R.is_constraint.test(E)){var m=E.indexOf(":");(A=(-1===m?E:E.slice(m+1)).match(R.parse_lhs).map(function(S){return S.replace(/\s+/,"")})).forEach(function(S){_=null===(_=S.match(R.get_num))?"-"===S.substr(0,1)?-1:1:_[0],_=parseFloat(_),O=S.match(R.get_word)[0],y.variables[O]=y.variables[O]||{},y.variables[O][b]=_}),C=parseFloat(E.match(R.parse_rhs)[0]),E=x[E.match(R.parse_dir)[0]],y.constraints[b]=y.constraints[b]||{},y.constraints[b][E]=C}else R.is_unrestricted.test(E)&&(A=E.match(R.parse_int).slice(1),y.unrestricted=y.unrestricted||{},A.forEach(function(S){S=S.replace(";",""),y.unrestricted[S]=1}));return y}(D):function(D){if(!D)throw new Error("Solver requires a model to operate on");var R="",E={max:"<=",min:">=",equal:"="},T=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(D.opType)for(var A in R+=D.opType+":",D.variables)D.variables[A][A]=D.variables[A][A]?D.variables[A][A]:1,D.variables[A][D.optimize]&&(R+=" "+D.variables[A][D.optimize]+" "+A.replace(T,"_"));else R+="max:";for(var _ in R+=";\n\n",D.constraints)for(var O in D.constraints[_])if(void 0!==E[O]){for(var b in D.variables)void 0!==D.variables[b][_]&&(R+=" "+D.variables[b][_]+" "+b.replace(T,"_"));R+=" "+E[O]+" "+D.constraints[_][O],R+=";\n"}if(D.ints)for(var C in R+="\n\n",D.ints)R+="int "+C.replace(T,"_")+";\n";if(D.unrestricted)for(var v in R+="\n\n",D.unrestricted)R+="unrestricted "+v.replace(T,"_")+";\n";return R}(D)}},495:(Dt,Y,L)=>{function D(R){return(R=(R=R.replace("\\r\\n","\r\n")).split("\r\n")).filter(function(y){var x;return!(!0===(x=new RegExp(" 0$","gi")).test(y)||(x=new RegExp("\\d$","gi"),!1===x.test(y)))}).map(function(y){return y.split(/\:{0,1} +(?=\d)/)}).reduce(function(y,x,E){return y[x[0]]=x[1],y},{})}Y.reformat=L(635),Y.solve=function(R){return new Promise(function(y,x){"undefined"!=typeof window&&x("Function Not Available in Browser");var E=L(635)(R);R.external||x("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),R.external.binPath||x("No Executable | Binary path provided in arguments as 'binPath'"),R.external.args||x("No arguments array for cli | bash provided on 'args' attribute"),R.external.tempName||x("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),L(890).writeFile(R.external.tempName,E,function(A,_){if(A)x(A);else{var O=L(22).execFile;R.external.args.push(R.external.tempName),O(R.external.binPath,R.external.args,function(b,C){b?1===b.code?y(D(C)):x({code:b.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[b.code],data:C}):y(D(C))})}})})}},636:(Dt,Y,L)=>{Dt.exports={lpsolve:L(495)}},595:(Dt,Y,L)=>{var D=L(982),y=(L(96),L(413)),x=y.Constraint,E=y.Equality,T=y.Variable,A=y.IntegerVariable;function O(b,C){this.tableau=new D(b),this.name=C,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}Dt.exports=O,O.prototype.minimize=function(){return this.isMinimization=!0,this},O.prototype.maximize=function(){return this.isMinimization=!1,this},O.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var b=this.lastElementIndex;return this.lastElementIndex+=1,b},O.prototype._addConstraint=function(b){var C=b.slack;this.tableau.variablesPerIndex[C.index]=C,this.constraints.push(b),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(b)},O.prototype.smallerThan=function(b){var C=new x(b,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(C),C},O.prototype.greaterThan=function(b){var C=new x(b,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(C),C},O.prototype.equal=function(b){var C=new x(b,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(C);var v=new x(b,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(v),new E(C,v)},O.prototype.addVariable=function(b,C,v,m,h){if("string"==typeof h)switch(h){case"required":h=0;break;case"strong":h=1;break;case"medium":h=2;break;case"weak":h=3;break;default:h=0}var a,S=this.tableau.getNewElementIndex();return null==C&&(C="v"+S),null==b&&(b=0),null==h&&(h=0),v?(a=new A(C,b,S,h),this.integerVariables.push(a)):a=new T(C,b,S,h),this.variables.push(a),this.tableau.variablesPerIndex[S]=a,m&&(this.unrestrictedVariables[S]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(a),a},O.prototype._removeConstraint=function(b){var C=this.constraints.indexOf(b);-1!==C?(this.constraints.splice(C,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(b),b.relaxation&&this.removeVariable(b.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},O.prototype.removeConstraint=function(b){return b.isEquality?(this._removeConstraint(b.upperBound),this._removeConstraint(b.lowerBound)):this._removeConstraint(b),this},O.prototype.removeVariable=function(b){var C=this.variables.indexOf(b);if(-1!==C)return this.variables.splice(C,1),!0===this.tableauInitialized&&this.tableau.removeVariable(b),this;console.warn("[Model.removeVariable] Variable not present in model")},O.prototype.updateRightHandSide=function(b,C){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(b,C),this},O.prototype.updateConstraintCoefficient=function(b,C,v){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(b,C,v),this},O.prototype.setCost=function(b,C){var v=b-C.cost;return!1===this.isMinimization&&(v=-v),C.cost=b,this.tableau.updateCost(C,v),this},O.prototype.loadJson=function(b){this.isMinimization="max"!==b.opType;for(var C=b.variables,v=b.constraints,m={},h={},S=Object.keys(v),a=S.length,f=0;f<a;f+=1){var w,I,u=S[f],l=v[u],p=l.equal,M=l.weight,d=l.priority,c=void 0!==M||void 0!==d;if(void 0===p){var N=l.min;void 0!==N&&(w=this.greaterThan(N),m[u]=w,c&&w.relax(M,d));var V=l.max;void 0!==V&&(I=this.smallerThan(V),h[u]=I,c&&I.relax(M,d))}else{w=this.greaterThan(p),m[u]=w,I=this.smallerThan(p),h[u]=I;var H=new E(w,I);c&&H.relax(M,d)}}var z=Object.keys(C),U=z.length;this.tolerance=b.tolerance||0,b.timeout&&(this.timeout=b.timeout),b.options&&(b.options.timeout&&(this.timeout=b.options.timeout),0===this.tolerance&&(this.tolerance=b.options.tolerance||0),b.options.useMIRCuts&&(this.useMIRCuts=b.options.useMIRCuts),this.checkForCycles=void 0===b.options.exitOnCycles||b.options.exitOnCycles);for(var $=b.ints||{},J=b.binaries||{},te=b.unrestricted||{},ie=b.optimize,ue=0;ue<U;ue+=1){var ye=z[ue],ve=C[ye],de=!!J[ye],me=this.addVariable(ve[ie]||0,ye,!!$[ye]||de,!!te[ye]);de&&this.smallerThan(1).addTerm(1,me);var Se=Object.keys(ve);for(f=0;f<Se.length;f+=1){var _e=Se[f];if(_e!==ie){var De=ve[_e],Re=m[_e];void 0!==Re&&Re.addTerm(De,me);var Fe=h[_e];void 0!==Fe&&Fe.addTerm(De,me)}}}return this},O.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},O.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},O.prototype.isFeasible=function(){return this.tableau.feasible},O.prototype.save=function(){return this.tableau.save()},O.prototype.restore=function(){return this.tableau.restore()},O.prototype.activateMIRCuts=function(b){this.useMIRCuts=b},O.prototype.debug=function(b){this.checkForCycles=b},O.prototype.log=function(b){return this.tableau.log(b)}},813:Dt=>{Dt.exports=function(Y,L){var x,b,C,v,m,D=L.optimize,R=JSON.parse(JSON.stringify(L.optimize)),y=Object.keys(L.optimize),E=0,T={},A="",_={},O=[];for(delete L.optimize,b=0;b<y.length;b++)R[y[b]]=0;for(b=0;b<y.length;b++){for(m in L.optimize=y[b],L.opType=D[y[b]],x=Y.Solve(L,void 0,void 0,!0),y)if(!L.variables[y[m]])for(v in x[y[m]]=x[y[m]]?x[y[m]]:0,L.variables)L.variables[v][y[m]]&&x[v]&&(x[y[m]]+=x[v]*L.variables[v][y[m]]);for(A="base",C=0;C<y.length;C++)A+=x[y[C]]?"-"+(1e3*x[y[C]]|0)/1e3:"-0";if(!T[A]){for(T[A]=1,E++,C=0;C<y.length;C++)x[y[C]]&&(R[y[C]]+=x[y[C]]);delete x.feasible,delete x.result,O.push(x)}}for(b=0;b<y.length;b++)L.constraints[y[b]]={equal:R[y[b]]/E};for(b in L.optimize="cheater-"+Math.random(),L.opType="max",L.variables)L.variables[b].cheater=1;for(b in O)for(v in O[b])_[v]=_[v]||{min:1e99,max:-1e99};for(b in _)for(v in O)O[v][b]?(O[v][b]>_[b].max&&(_[b].max=O[v][b]),O[v][b]<_[b].min&&(_[b].min=O[v][b])):(O[v][b]=0,_[b].min=0);return{midpoint:x=Y.Solve(L,void 0,void 0,!0),vertices:O,ranges:_}}},258:(Dt,Y,L)=>{var D=L(212);function R(y,x,E,T,A){D.call(this,y,x,E,T),this.iter=A}Dt.exports=R,R.prototype=Object.create(D.prototype),R.constructor=R},212:Dt=>{function Y(L,D,R,y){this.feasible=R,this.evaluation=D,this.bounded=y,this._tableau=L}Dt.exports=Y,Y.prototype.generateSolutionSet=function(){for(var L={},D=this._tableau,R=D.varIndexByRow,y=D.variablesPerIndex,x=D.matrix,E=D.rhsColumn,T=D.height-1,A=Math.round(1/D.precision),_=1;_<=T;_+=1){var b=y[R[_]];void 0!==b&&!0!==b.isSlack&&(L[b.id]=Math.round((Number.EPSILON+x[_][E])*A)/A)}return L}},982:(Dt,Y,L)=>{var D=L(212),R=L(258);function y(E){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=E||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function x(E,T){this.priority=E,this.reducedCosts=new Array(T);for(var A=0;A<T;A+=1)this.reducedCosts[A]=0}Dt.exports=y,y.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},x.prototype.copy=function(){var E=new x(this.priority,this.reducedCosts.length);return E.reducedCosts=this.reducedCosts.slice(),E},y.prototype.setOptionalObjective=function(E,T,A){var _=this.objectivesByPriority[E];void 0===_&&(_=new x(E,Math.max(this.width,T+1)),this.objectivesByPriority[E]=_,this.optionalObjectives.push(_),this.optionalObjectives.sort(function(b,C){return b.priority-C.priority})),_.reducedCosts[T]=A},y.prototype.initialize=function(E,T,A,_){this.variables=A,this.unrestrictedVars=_,this.width=E,this.height=T;for(var O=new Array(E),b=0;b<E;b++)O[b]=0;this.matrix=new Array(T);for(var C=0;C<T;C++)this.matrix[C]=O.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=E+T-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},y.prototype._resetMatrix=function(){var O,b,E=this.model.variables,T=this.model.constraints,A=E.length,_=T.length,C=this.matrix[0],v=!0===this.model.isMinimization?-1:1;for(O=0;O<A;O+=1){var m=E[O],h=m.priority,S=v*m.cost;0===h?C[O+1]=S:this.setOptionalObjective(h,O+1,S),this.rowByVarIndex[b=E[O].index]=-1,this.colByVarIndex[b]=O+1,this.varIndexByCol[O+1]=b}for(var a=1,f=0;f<_;f+=1){var u=T[f],l=u.index;this.rowByVarIndex[l]=a,this.colByVarIndex[l]=-1,this.varIndexByRow[a]=l;var p,M,c=u.terms,w=c.length,I=this.matrix[a++];if(u.isUpperBound){for(p=0;p<w;p+=1)I[this.colByVarIndex[(M=c[p]).variable.index]]=M.coefficient;I[0]=u.rhs}else{for(p=0;p<w;p+=1)I[this.colByVarIndex[(M=c[p]).variable.index]]=-M.coefficient;I[0]=-u.rhs}}},y.prototype.setModel=function(E){return this.model=E,this.initialize(E.nVariables+1,E.nConstraints+1,E.variables,E.unrestrictedVariables),this._resetMatrix(),this},y.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var E=this.lastElementIndex;return this.lastElementIndex+=1,E},y.prototype.density=function(){for(var E=0,T=this.matrix,A=0;A<this.height;A++)for(var _=T[A],O=0;O<this.width;O++)0!==_[O]&&(E+=1);return E/(this.height*this.width)},y.prototype.setEvaluation=function(){var E=Math.round(1/this.precision),A=Math.round((Number.EPSILON+this.matrix[this.costRowIndex][this.rhsColumn])*E)/E;this.evaluation=A,0===this.simplexIters&&(this.bestPossibleEval=A)},y.prototype.getSolution=function(){var E=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new R(this,E,this.feasible,this.bounded,this.branchAndCutIterations):new D(this,E,this.feasible,this.bounded)}},354:(Dt,Y,L)=>{var D=L(982);D.prototype.copy=function(){var R=new D(this.precision);R.width=this.width,R.height=this.height,R.nVars=this.nVars,R.model=this.model,R.variables=this.variables,R.variablesPerIndex=this.variablesPerIndex,R.unrestrictedVars=this.unrestrictedVars,R.lastElementIndex=this.lastElementIndex,R.varIndexByRow=this.varIndexByRow.slice(),R.varIndexByCol=this.varIndexByCol.slice(),R.rowByVarIndex=this.rowByVarIndex.slice(),R.colByVarIndex=this.colByVarIndex.slice(),R.availableIndexes=this.availableIndexes.slice();for(var y=[],x=0;x<this.optionalObjectives.length;x++)y[x]=this.optionalObjectives[x].copy();R.optionalObjectives=y;for(var E=this.matrix,T=new Array(this.height),A=0;A<this.height;A++)T[A]=E[A].slice();return R.matrix=T,R},D.prototype.save=function(){this.savedState=this.copy()},D.prototype.restore=function(){if(null!==this.savedState){var x,E,R=this.savedState,y=R.matrix;for(this.nVars=R.nVars,this.model=R.model,this.variables=R.variables,this.variablesPerIndex=R.variablesPerIndex,this.unrestrictedVars=R.unrestrictedVars,this.lastElementIndex=R.lastElementIndex,this.width=R.width,this.height=R.height,x=0;x<this.height;x+=1){var T=y[x],A=this.matrix[x];for(E=0;E<this.width;E+=1)A[E]=T[E]}var _=R.varIndexByRow;for(E=0;E<this.height;E+=1)this.varIndexByRow[E]=_[E];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var O=R.varIndexByCol;for(x=0;x<this.width;x+=1)this.varIndexByCol[x]=O[x];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var b=R.rowByVarIndex,C=R.colByVarIndex,v=0;v<this.nVars;v+=1)this.rowByVarIndex[v]=b[v],this.colByVarIndex[v]=C[v];if(R.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var m=0;m<R.optionalObjectives.length;m++){var h=R.optionalObjectives[m].copy();this.optionalObjectives[m]=h,this.optionalObjectivePerPriority[h.priority]=h}}}}},96:(Dt,Y,L)=>{var D=L(982);function R(E,T,A){this.type=E,this.varIndex=T,this.value=A}function y(E,T){this.relaxedEvaluation=E,this.cuts=T}function x(E,T){return T.relaxedEvaluation-E.relaxedEvaluation}D.prototype.applyCuts=function(E){if(this.restore(),this.addCutConstraints(E),this.simplex(),this.model.useMIRCuts)for(var T=!0;T;){var A=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*A&&(T=!1)}},D.prototype.branchAndCut=function(){var E=[],T=0,A=this.model.tolerance,_=!0,O=1e99;this.model.timeout&&(O=Date.now()+this.model.timeout);for(var b=1/0,C=null,v=[],m=0;m<this.optionalObjectives.length;m+=1)v.push(1/0);var h=new y(-1/0,[]);for(E.push(h);E.length>0&&!0===_&&Date.now()<O;)if(A>0&&b<(this.model.isMinimization?this.bestPossibleEval*(1+A):this.bestPossibleEval*(1-A))&&(_=!1),!((h=E.pop()).relaxedEvaluation>b)){var a=h.cuts;if(this.applyCuts(a),T++,!1!==this.feasible){var f=this.evaluation;if(!(f>b)){if(f===b){for(var u=!0,l=0;l<this.optionalObjectives.length&&!(this.optionalObjectives[l].reducedCosts[0]>v[l]);l+=1)if(this.optionalObjectives[l].reducedCosts[0]<v[l]){u=!1;break}if(u)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===T)return void(this.branchAndCutIterations=T);C=h,b=f;for(var p=0;p<this.optionalObjectives.length;p+=1)v[p]=this.optionalObjectives[p].reducedCosts[0]}else{1===T&&this.save();for(var M=this.getMostFractionalVar(),d=M.index,c=[],w=[],I=a.length,N=0;N<I;N+=1){var V=a[N];V.varIndex===d?"min"===V.type?w.push(V):c.push(V):(c.push(V),w.push(V))}var H=Math.ceil(M.value),z=Math.floor(M.value),U=new R("min",d,H);c.push(U);var $=new R("max",d,z);w.push($),E.push(new y(f,c)),E.push(new y(f,w)),E.sort(x)}}}}null!==C&&this.applyCuts(C.cuts),this.branchAndCutIterations=T}},811:(Dt,Y,L)=>{var D=L(982);function R(y,x){this.index=y,this.value=x}D.prototype.getMostFractionalVar=function(){for(var y=0,x=null,E=null,A=this.model.integerVariables,_=A.length,O=0;O<_;O++){var b=A[O].index,C=this.rowByVarIndex[b];if(-1!==C){var v=this.matrix[C][this.rhsColumn],m=Math.abs(v-Math.round(v));y<m&&(y=m,x=b,E=v)}}return new R(x,E)},D.prototype.getFractionalVarWithLowestCost=function(){for(var y=1/0,x=null,E=null,T=this.model.integerVariables,A=T.length,_=0;_<A;_++){var O=T[_],b=O.index,C=this.rowByVarIndex[b];if(-1!==C){var v=this.matrix[C][this.rhsColumn];if(Math.abs(v-Math.round(v))>this.precision){var m=O.cost;y>m&&(y=m,x=b,E=v)}}}return new R(x,E)}},511:(Dt,Y,L)=>{var D=L(982),R=L(413).SlackVariable;D.prototype.addCutConstraints=function(y){for(var x=y.length,E=this.height,T=E+x,A=E;A<T;A+=1)void 0===this.matrix[A]&&(this.matrix[A]=this.matrix[A-1].slice());this.height=T,this.nVars=this.width+this.height-2;for(var _,O=this.width-1,b=0;b<x;b+=1){var C=y[b],v=E+b,m="min"===C.type?-1:1,h=C.varIndex,S=this.rowByVarIndex[h],a=this.matrix[v];if(-1===S){for(a[this.rhsColumn]=m*C.value,_=1;_<=O;_+=1)a[_]=0;a[this.colByVarIndex[h]]=m}else{var f=this.matrix[S];for(a[this.rhsColumn]=m*(C.value-f[this.rhsColumn]),_=1;_<=O;_+=1)a[_]=-m*f[_]}var l=this.getNewElementIndex();this.varIndexByRow[v]=l,this.rowByVarIndex[l]=v,this.colByVarIndex[l]=-1,this.variablesPerIndex[l]=new R("s"+l,l),this.nVars+=1}},D.prototype._addLowerBoundMIRCut=function(y){if(y===this.costRowIndex)return!1;var E=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[y]].isInteger)return!1;var A=E[y][this.rhsColumn],_=A-Math.floor(A);if(_<this.precision||1-this.precision<_)return!1;var O=this.height;E[O]=E[O-1].slice(),this.height+=1,this.nVars+=1;var b=this.getNewElementIndex();this.varIndexByRow[O]=b,this.rowByVarIndex[b]=O,this.colByVarIndex[b]=-1,this.variablesPerIndex[b]=new R("s"+b,b),E[O][this.rhsColumn]=Math.floor(A);for(var C=1;C<this.varIndexByCol.length;C+=1)if(this.variablesPerIndex[this.varIndexByCol[C]].isInteger){var m=E[y][C],h=Math.floor(m)+Math.max(0,m-Math.floor(m)-_)/(1-_);E[O][C]=h}else E[O][C]=Math.min(0,E[y][C]/(1-_));for(var S=0;S<this.width;S+=1)E[O][S]-=E[y][S];return!0},D.prototype._addUpperBoundMIRCut=function(y){if(y===this.costRowIndex)return!1;var E=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[y]].isInteger)return!1;var A=E[y][this.rhsColumn],_=A-Math.floor(A);if(_<this.precision||1-this.precision<_)return!1;var O=this.height;E[O]=E[O-1].slice(),this.height+=1,this.nVars+=1;var b=this.getNewElementIndex();this.varIndexByRow[O]=b,this.rowByVarIndex[b]=O,this.colByVarIndex[b]=-1,this.variablesPerIndex[b]=new R("s"+b,b),E[O][this.rhsColumn]=-_;for(var C=1;C<this.varIndexByCol.length;C+=1){var v=this.variablesPerIndex[this.varIndexByCol[C]],m=E[y][C],h=m-Math.floor(m);E[O][C]=v.isInteger?h<=_?-h:-(1-h)*_/h:m>=0?-m:m*_/(1-_)}return!0},D.prototype.applyMIRCuts=function(){}},78:(Dt,Y,L)=>{var D=L(982);D.prototype._putInBase=function(R){var y=this.rowByVarIndex[R];if(-1===y){for(var x=this.colByVarIndex[R],E=1;E<this.height;E+=1){var T=this.matrix[E][x];if(T<-this.precision||this.precision<T){y=E;break}}this.pivot(y,x)}return y},D.prototype._takeOutOfBase=function(R){var y=this.colByVarIndex[R];if(-1===y){for(var x=this.rowByVarIndex[R],E=this.matrix[x],T=1;T<this.height;T+=1){var A=E[T];if(A<-this.precision||this.precision<A){y=T;break}}this.pivot(x,y)}return y},D.prototype.updateVariableValues=function(){for(var R=this.variables.length,y=Math.round(1/this.precision),x=0;x<R;x+=1){var E=this.variables[x],A=this.rowByVarIndex[E.index];E.value=-1===A?0:Math.round((this.matrix[A][this.rhsColumn]+Number.EPSILON)*y)/y}},D.prototype.updateRightHandSide=function(R,y){var x=this.height-1,E=this.rowByVarIndex[R.index];if(-1===E){for(var T=this.colByVarIndex[R.index],A=0;A<=x;A+=1){var _=this.matrix[A];_[this.rhsColumn]-=y*_[T]}var O=this.optionalObjectives.length;if(O>0)for(var b=0;b<O;b+=1){var C=this.optionalObjectives[b].reducedCosts;C[this.rhsColumn]-=y*C[T]}}else this.matrix[E][this.rhsColumn]-=y},D.prototype.updateConstraintCoefficient=function(R,y,x){if(R.index===y.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var E=this._putInBase(R.index),T=this.colByVarIndex[y.index];if(-1===T)for(var A=this.rowByVarIndex[y.index],_=0;_<this.width;_+=1)this.matrix[E][_]+=x*this.matrix[A][_];else this.matrix[E][T]-=x},D.prototype.updateCost=function(R,y){var x=R.index,E=this.width-1,T=this.colByVarIndex[x];if(-1===T){var _,A=this.matrix[this.rowByVarIndex[x]];if(0===R.priority){var O=this.matrix[0];for(_=0;_<=E;_+=1)O[_]+=y*A[_]}else{var b=this.objectivesByPriority[R.priority].reducedCosts;for(_=0;_<=E;_+=1)b[_]+=y*A[_]}}else this.matrix[0][T]-=y},D.prototype.addConstraint=function(R){var y=R.isUpperBound?1:-1,x=this.height,E=this.matrix[x];void 0===E&&(E=this.matrix[0].slice(),this.matrix[x]=E);for(var T=this.width-1,A=0;A<=T;A+=1)E[A]=0;E[this.rhsColumn]=y*R.rhs;for(var _=R.terms,O=_.length,b=0;b<O;b+=1){var C=_[b],v=C.coefficient,m=C.variable.index,h=this.rowByVarIndex[m];if(-1===h)E[this.colByVarIndex[m]]+=y*v;else{var S=this.matrix[h];for(A=0;A<=T;A+=1)E[A]-=y*v*S[A]}}var f=R.index;this.varIndexByRow[x]=f,this.rowByVarIndex[f]=x,this.colByVarIndex[f]=-1,this.height+=1},D.prototype.removeConstraint=function(R){var y=R.index,x=this.height-1,E=this._putInBase(y),T=this.matrix[x];this.matrix[x]=this.matrix[E],this.matrix[E]=T,this.varIndexByRow[E]=this.varIndexByRow[x],this.varIndexByRow[x]=-1,this.rowByVarIndex[y]=-1,this.availableIndexes[this.availableIndexes.length]=y,R.slack.index=-1,this.height-=1},D.prototype.addVariable=function(R){var y=this.height-1,x=this.width,E=!0===this.model.isMinimization?-R.cost:R.cost,T=R.priority,A=this.optionalObjectives.length;if(A>0)for(var _=0;_<A;_+=1)this.optionalObjectives[_].reducedCosts[x]=0;0===T?this.matrix[0][x]=E:(this.setOptionalObjective(T,x,E),this.matrix[0][x]=0);for(var O=1;O<=y;O+=1)this.matrix[O][x]=0;var b=R.index;this.varIndexByCol[x]=b,this.rowByVarIndex[b]=-1,this.colByVarIndex[b]=x,this.width+=1},D.prototype.removeVariable=function(R){var y=R.index,x=this._takeOutOfBase(y),E=this.width-1;if(x!==E){for(var T=this.height-1,A=0;A<=T;A+=1){var _=this.matrix[A];_[x]=_[E]}var O=this.optionalObjectives.length;if(O>0)for(var b=0;b<O;b+=1){var C=this.optionalObjectives[b].reducedCosts;C[x]=C[E]}var v=this.varIndexByCol[E];this.varIndexByCol[x]=v,this.colByVarIndex[v]=x}this.varIndexByCol[E]=-1,this.colByVarIndex[y]=-1,this.availableIndexes[this.availableIndexes.length]=y,R.index=-1,this.width-=1}},403:(Dt,Y,L)=>{L(279),L(511),L(78),L(2),L(354),L(811),L(931),Dt.exports=L(982)},931:(Dt,Y,L)=>{var D=L(982);D.prototype.countIntegerValues=function(){for(var R=0,y=1;y<this.height;y+=1)if(this.variablesPerIndex[this.varIndexByRow[y]].isInteger){var x=this.matrix[y][this.rhsColumn];(x-=Math.floor(x))<this.precision&&-x<this.precision&&(R+=1)}return R},D.prototype.isIntegral=function(){for(var R=this.model.integerVariables,y=R.length,x=0;x<y;x++){var E=this.rowByVarIndex[R[x].index];if(-1!==E){var T=this.matrix[E][this.rhsColumn];if(Math.abs(T-Math.round(T))>this.precision)return!1}}return!0},D.prototype.computeFractionalVolume=function(R){for(var y=-1,x=1;x<this.height;x+=1)if(this.variablesPerIndex[this.varIndexByRow[x]].isInteger){var E=this.matrix[x][this.rhsColumn];if(E=Math.abs(E),Math.min(E-Math.floor(E),Math.floor(E+1))<this.precision){if(!R)return 0}else-1===y?y=E:y*=E}return-1===y?0:y}},2:(Dt,Y,L)=>{L(982).prototype.log=function(R,y){console.log("****",R,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var A,_,b,C,v,m,h,a,f,u,l,E="",T=[" "];for(_=1;_<this.width;_+=1)h=(m=void 0===(C=this.variablesPerIndex[v=this.varIndexByCol[_]])?"c"+v:C.id).length,Math.abs(h-5),a=" ",f="\t",h>5?a+=" ":f+="\t",T[_]=a,E+=f+m;console.log(E);var M=this.matrix[this.costRowIndex],d="\t";for(A=1;A<this.width;A+=1)d+="\t",d+=T[A],d+=M[A].toFixed(5);for(d+="\t"+T[0]+M[0].toFixed(5),console.log(d+"\tZ"),b=1;b<this.height;b+=1){for(u=this.matrix[b],l="\t",_=1;_<this.width;_+=1)l+="\t"+T[_]+u[_].toFixed(5);l+="\t"+T[0]+u[0].toFixed(5),m=void 0===(C=this.variablesPerIndex[v=this.varIndexByRow[b]])?"c"+v:C.id,console.log(l+"\t"+m)}console.log("");var c=this.optionalObjectives.length;if(c>0){console.log("    Optional objectives:");for(var w=0;w<c;w+=1){var I=this.optionalObjectives[w].reducedCosts,N="";for(A=1;A<this.width;A+=1)N+=I[A]<0?"":" ",N+=T[A],N+=I[A].toFixed(5);N+=(I[0]<0?"":" ")+T[0]+I[0].toFixed(5),console.log(N+" z"+w)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}},279:(Dt,Y,L)=>{var D=L(982);D.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},D.prototype.phase1=function(){for(var y=this.model.checkForCycles,x=[],E=this.matrix,T=this.rhsColumn,A=this.width-1,_=this.height-1,b=0;;){for(var C=0,v=-this.precision,m=1;m<=_;m++){var h=E[m][T];h<v&&(v=h,C=m)}if(0===C)return this.feasible=!0,b;for(var S=0,a=-1/0,f=E[0],u=E[C],l=1;l<=A;l++){var p=u[l];if(!0===this.unrestrictedVars[this.varIndexByCol[l]]||p<-this.precision){var M=-f[l]/p;a<M&&(a=M,S=l)}}if(0===S)return this.feasible=!1,b;if(y){x.push([this.varIndexByRow[C],this.varIndexByCol[S]]);var d=this.checkForCycles(x);if(d.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+d[0]),this.model.messages.push("Length :"+d[1]),this.feasible=!1,b}this.pivot(C,S),b+=1}},D.prototype.phase2=function(){for(var m,h,y=this.model.checkForCycles,x=[],E=this.matrix,T=this.rhsColumn,A=this.width-1,_=this.height-1,O=this.precision,b=this.optionalObjectives.length,C=null,v=0;;){var S=E[this.costRowIndex];b>0&&(C=[]);for(var a=0,f=O,u=!1,l=1;l<=A;l++)m=S[l],h=!0===this.unrestrictedVars[this.varIndexByCol[l]],b>0&&-O<m&&m<O?C.push(l):h&&m<0?-m>f&&(f=-m,a=l,u=!0):m>f&&(f=m,a=l,u=!1);if(b>0)for(var p=0;0===a&&C.length>0&&p<b;){var M=[],d=this.optionalObjectives[p].reducedCosts;f=O;for(var c=0;c<C.length;c++)h=!0===this.unrestrictedVars[this.varIndexByCol[l=C[c]]],-O<(m=d[l])&&m<O?M.push(l):h&&m<0?-m>f&&(f=-m,a=l,u=!0):m>f&&(f=m,a=l,u=!1);C=M,p+=1}if(0===a)return this.setEvaluation(),this.simplexIters+=1,v;for(var w=0,I=1/0,V=1;V<=_;V++){var H=E[V],z=H[T],U=H[a];if(!(-O<U&&U<O)){if(U>0&&O>z&&z>-O){I=0,w=V;break}var $=u?-z/U:z/U;$>O&&I>$&&(I=$,w=V)}}if(I===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[a],v;if(y){x.push([this.varIndexByRow[w],this.varIndexByCol[a]]);var J=this.checkForCycles(x);if(J.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+J[0]),this.model.messages.push("Length :"+J[1]),this.feasible=!1,v}this.pivot(w,a,!0),v+=1}};var R=[];D.prototype.pivot=function(y,x){var E=this.matrix,T=E[y][x],A=this.height-1,_=this.width-1,O=this.varIndexByRow[y],b=this.varIndexByCol[x];this.varIndexByRow[y]=b,this.varIndexByCol[x]=O,this.rowByVarIndex[b]=y,this.rowByVarIndex[O]=-1,this.colByVarIndex[b]=-1,this.colByVarIndex[O]=x;for(var C=E[y],v=0,m=0;m<=_;m++)C[m]>=-1e-16&&C[m]<=1e-16?C[m]=0:(C[m]/=T,R[v]=m,v+=1);C[x]=1/T;for(var h,S,a,u=0;u<=A;u++)if(u!==y&&!(E[u][x]>=-1e-16&&E[u][x]<=1e-16)){var l=E[u];if((h=l[x])>=-1e-16&&h<=1e-16)0!==h&&(l[x]=0);else{for(S=0;S<v;S++)(a=C[m=R[S]])>=-1e-16&&a<=1e-16?0!==a&&(C[m]=0):l[m]=l[m]-h*a;l[x]=-h/T}}var p=this.optionalObjectives.length;if(p>0)for(var M=0;M<p;M+=1){var d=this.optionalObjectives[M].reducedCosts;if(0!==(h=d[x])){for(S=0;S<v;S++)0!==(a=C[m=R[S]])&&(d[m]=d[m]-h*a);d[x]=-h/T}}},D.prototype.checkForCycles=function(y){for(var x=0;x<y.length-1;x++)for(var E=x+1;E<y.length;E++){var T=y[x],A=y[E];if(T[0]===A[0]&&T[1]===A[1]){if(E-x>y.length-E)break;for(var _=!0,O=1;O<E-x;O++){var b=y[x+O],C=y[E+O];if(b[0]!==C[0]||b[1]!==C[1]){_=!1;break}}if(_)return[x,E-x]}}return[]}},528:(Dt,Y)=>{Y.CleanObjectiveAttributes=function(L){var D,R,y;if("string"==typeof L.optimize){if(L.constraints[L.optimize]){for(R in D=Math.random(),L.variables)L.variables[R][L.optimize]&&(L.variables[R][D]=L.variables[R][L.optimize]);return L.constraints[D]=L.constraints[L.optimize],delete L.constraints[L.optimize],L}return L}for(y in L.optimize)if(L.constraints[y])if("equal"===L.constraints[y])delete L.optimize[y];else{for(R in D=Math.random(),L.variables)L.variables[R][y]&&(L.variables[R][D]=L.variables[R][y]);L.constraints[D]=L.constraints[y],delete L.constraints[y]}return L}},413:Dt=>{function Y(T,A,_,O){this.id=T,this.cost=A,this.index=_,this.value=0,this.priority=O}function L(T,A,_,O){Y.call(this,T,A,_,O)}function D(T,A){Y.call(this,T,0,A,0)}function R(T,A){this.variable=T,this.coefficient=A}function y(T,A,_){return 0===_||"required"===_?null:(A=A||1,_=_||1,!1===T.isMinimization&&(A=-A),T.addVariable(A,"r"+T.relaxationIndex++,!1,!1,_))}function x(T,A,_,O){this.slack=new D("s"+_,_),this.index=_,this.model=O,this.rhs=T,this.isUpperBound=A,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function E(T,A){this.upperBound=T,this.lowerBound=A,this.model=T.model,this.rhs=T.rhs,this.relaxation=null}L.prototype.isInteger=!0,D.prototype.isSlack=!0,x.prototype.addTerm=function(T,A){var _=A.index,O=this.termsByVarIndex[_];return void 0===O?(O=new R(A,T),this.termsByVarIndex[_]=O,this.terms.push(O),!0===this.isUpperBound&&(T=-T),this.model.updateConstraintCoefficient(this,A,T)):this.setVariableCoefficient(O.coefficient+T,A),this},x.prototype.removeTerm=function(T){return this},x.prototype.setRightHandSide=function(T){if(T!==this.rhs){var A=T-this.rhs;!0===this.isUpperBound&&(A=-A),this.rhs=T,this.model.updateRightHandSide(this,A)}return this},x.prototype.setVariableCoefficient=function(T,A){var _=A.index;if(-1!==_){var O=this.termsByVarIndex[_];if(void 0===O)this.addTerm(T,A);else if(T!==O.coefficient){var b=T-O.coefficient;!0===this.isUpperBound&&(b=-b),O.coefficient=T,this.model.updateConstraintCoefficient(this,A,b)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},x.prototype.relax=function(T,A){this.relaxation=y(this.model,T,A),this._relax(this.relaxation)},x.prototype._relax=function(T){null!==T&&this.setVariableCoefficient(this.isUpperBound?-1:1,T)},E.prototype.isEquality=!0,E.prototype.addTerm=function(T,A){return this.upperBound.addTerm(T,A),this.lowerBound.addTerm(T,A),this},E.prototype.removeTerm=function(T){return this.upperBound.removeTerm(T),this.lowerBound.removeTerm(T),this},E.prototype.setRightHandSide=function(T){this.upperBound.setRightHandSide(T),this.lowerBound.setRightHandSide(T),this.rhs=T},E.prototype.relax=function(T,A){this.relaxation=y(this.model,T,A),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},Dt.exports={Constraint:x,Variable:Y,IntegerVariable:L,SlackVariable:D,Equality:E,Term:R}},328:(Dt,Y,L)=>{var R,y=L(403),x=L(595),E=L(96),T=L(413),A=L(528),_=T.Constraint,O=T.Variable,b=T.Numeral,C=T.Term,v=L(636),m=function(){"use strict";this.Model=x,this.branchAndCut=E,this.Constraint=_,this.Variable=O,this.Numeral=b,this.Term=C,this.Tableau=y,this.lastSolvedModel=null,this.External=v,this.Solve=function(h,S,a,f){if(f)for(var u in A)h=A[u](h);if(!h)throw new Error("Solver requires a model to operate on");if("object"==typeof h.optimize&&Object.keys(h.optimize>1))return L(813)(this,h);if(h.external){var l=Object.keys(v);if(l=JSON.stringify(l),!h.external.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+l);if(!v[h.external.solver])throw new Error("No support (yet) for "+h.external.solver+". Please use one of these instead:"+l);return v[h.external.solver].solve(h)}h instanceof x||(h=new x(S).loadJson(h));var p=h.solve();if(this.lastSolvedModel=h,p.solutionSet=p.generateSolutionSet(),a)return p;var M={};return M.feasible=p.feasible,M.result=p.evaluation,M.bounded=p.bounded,p._tableau.__isIntegral&&(M.isIntegral=!0),Object.keys(p.solutionSet).forEach(function(d){0!==p.solutionSet[d]&&(M[d]=p.solutionSet[d])}),M},this.ReformatLP=L(635),this.MultiObjective=function(h){return L(813)(this,h)}};void 0!==(R=function(){return new m}.apply(Y,[]))&&(Dt.exports=R),Dt.exports=new m},21:function(Dt){"use strict";Dt.exports=function(Y){var L={};function D(R){if(L[R])return L[R].exports;var y=L[R]={i:R,l:!1,exports:{}};return Y[R].call(y.exports,y,y.exports,D),y.l=!0,y.exports}return D.m=Y,D.c=L,D.d=function(R,y,x){D.o(R,y)||Object.defineProperty(R,y,{configurable:!1,enumerable:!0,get:x})},D.n=function(R){var y=R&&R.__esModule?function(){return R.default}:function(){return R};return D.d(y,"a",y),y},D.o=function(R,y){return Object.prototype.hasOwnProperty.call(R,y)},D.p="",D(D.s=123)}([function(Y,L,D){L.__esModule=!0,L.default=function(R,y){if(!(R instanceof y))throw new TypeError("Cannot call a class as a function")}},function(Y,L,D){L.__esModule=!0;var E,y=(E=D(169))&&E.__esModule?E:{default:E};L.default=function(){function E(T,A){for(var _=0;_<A.length;_++){var O=A[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),(0,y.default)(T,O.key,O)}}return function(T,A,_){return A&&E(T.prototype,A),_&&E(T,_),T}}()},function(Y,L,D){var y=b(D(77)),E=b(D(29)),A=b(D(8)),O=b(D(6));function b(a){return a&&a.__esModule?a:{default:a}}var C=D(9),v=D(157);function m(a,f,u,l){var p=!1;!0===l&&(p=null===f[u]&&void 0!==a[u]),p?delete a[u]:a[u]=f[u]}L.isNumber=function(a){return a instanceof Number||"number"==typeof a},L.recursiveDOMDelete=function(a){if(a)for(;!0===a.hasChildNodes();)L.recursiveDOMDelete(a.firstChild),a.removeChild(a.firstChild)},L.giveRange=function(a,f,u,l){return f==a?.5:Math.max(0,1/(f-a)*(l-a))},L.isString=function(a){return a instanceof String||"string"==typeof a},L.isDate=function(a){if(a instanceof Date)return!0;if(L.isString(a)){if(h.exec(a))return!0;if(!isNaN(Date.parse(a)))return!0}return!1},L.randomUUID=function(){return v.v4()},L.assignAllKeys=function(a,f){for(var u in a)a.hasOwnProperty(u)&&"object"!==(0,O.default)(a[u])&&(a[u]=f)},L.fillIfDefined=function(a,f){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var l in a)void 0!==f[l]&&(null===f[l]||"object"!==(0,O.default)(f[l])?m(a,f,l,u):"object"===(0,O.default)(a[l])&&L.fillIfDefined(a[l],f[l],u))},L.extend=function(a,f){for(var u=1;u<arguments.length;u++){var l=arguments[u];for(var p in l)l.hasOwnProperty(p)&&(a[p]=l[p])}return a},L.selectiveExtend=function(a,f,u){if(!Array.isArray(a))throw new Error("Array with property names expected as first argument");for(var l=2;l<arguments.length;l++)for(var p=arguments[l],M=0;M<a.length;M++){var d=a[M];p&&p.hasOwnProperty(d)&&(f[d]=p[d])}return f},L.selectiveDeepExtend=function(a,f,u){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(u))throw new TypeError("Arrays are not supported by deepExtend");for(var p=0;p<a.length;p++){var M=a[p];if(u.hasOwnProperty(M))if(u[M]&&u[M].constructor===Object)void 0===f[M]&&(f[M]={}),f[M].constructor===Object?L.deepExtend(f[M],u[M],!1,l):m(f,u,M,l);else{if(Array.isArray(u[M]))throw new TypeError("Arrays are not supported by deepExtend");m(f,u,M,l)}}return f},L.selectiveNotDeepExtend=function(a,f,u){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(u))throw new TypeError("Arrays are not supported by deepExtend");for(var p in u)if(u.hasOwnProperty(p)&&-1===a.indexOf(p))if(u[p]&&u[p].constructor===Object)void 0===f[p]&&(f[p]={}),f[p].constructor===Object?L.deepExtend(f[p],u[p]):m(f,u,p,l);else if(Array.isArray(u[p])){f[p]=[];for(var M=0;M<u[p].length;M++)f[p].push(u[p][M])}else m(f,u,p,l);return f},L.deepExtend=function(a,f){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var p in f)if(f.hasOwnProperty(p)||!0===u)if(f[p]&&f[p].constructor===Object)void 0===a[p]&&(a[p]={}),a[p].constructor===Object?L.deepExtend(a[p],f[p],u):m(a,f,p,l);else if(Array.isArray(f[p])){a[p]=[];for(var M=0;M<f[p].length;M++)a[p].push(f[p][M])}else m(a,f,p,l);return a},L.equalArray=function(a,f){if(a.length!=f.length)return!1;for(var u=0,l=a.length;u<l;u++)if(a[u]!=f[u])return!1;return!0},L.convert=function(a,f){var u;if(void 0!==a){if(null===a)return null;if(!f)return a;if("string"!=typeof f&&!(f instanceof String))throw new Error("Type must be a string");switch(f){case"boolean":case"Boolean":return Boolean(a);case"number":case"Number":return L.isString(a)&&!isNaN(Date.parse(a))?C(a).valueOf():Number(a.valueOf());case"string":case"String":return String(a);case"Date":if(L.isNumber(a))return new Date(a);if(a instanceof Date)return new Date(a.valueOf());if(C.isMoment(a))return new Date(a.valueOf());if(L.isString(a))return(u=h.exec(a))?new Date(Number(u[1])):C(new Date(a)).toDate();throw new Error("Cannot convert object of type "+L.getType(a)+" to type Date");case"Moment":if(L.isNumber(a))return C(a);if(a instanceof Date)return C(a.valueOf());if(C.isMoment(a))return C(a);if(L.isString(a))return u=h.exec(a),C(u?Number(u[1]):a);throw new Error("Cannot convert object of type "+L.getType(a)+" to type Date");case"ISODate":if(L.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(C.isMoment(a))return a.toDate().toISOString();if(L.isString(a))return(u=h.exec(a))?new Date(Number(u[1])).toISOString():C(a).format();throw new Error("Cannot convert object of type "+L.getType(a)+" to type ISODate");case"ASPDate":if(L.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(L.isString(a))return"/Date("+((u=h.exec(a))?new Date(Number(u[1])).valueOf():new Date(a).valueOf())+")/";throw new Error("Cannot convert object of type "+L.getType(a)+" to type ASPDate");default:throw new Error('Unknown type "'+f+'"')}}};var h=/^\/?Date\((\-?\d+)/i;L.getType=function(a){var f=void 0===a?"undefined":(0,O.default)(a);return"object"==f?null===a?"null":a instanceof Boolean?"Boolean":a instanceof Number?"Number":a instanceof String?"String":Array.isArray(a)?"Array":a instanceof Date?"Date":"Object":"number"==f?"Number":"boolean"==f?"Boolean":"string"==f?"String":void 0===f?"undefined":f},L.copyAndExtendArray=function(a,f){for(var u=[],l=0;l<a.length;l++)u.push(a[l]);return u.push(f),u},L.copyArray=function(a){for(var f=[],u=0;u<a.length;u++)f.push(a[u]);return f},L.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left},L.getAbsoluteRight=function(a){return a.getBoundingClientRect().right},L.getAbsoluteTop=function(a){return a.getBoundingClientRect().top},L.addClassName=function(a,f){var u=a.className.split(" "),l=f.split(" ");u=u.concat(l.filter(function(p){return u.indexOf(p)<0})),a.className=u.join(" ")},L.removeClassName=function(a,f){var u=a.className.split(" "),l=f.split(" ");u=u.filter(function(p){return l.indexOf(p)<0}),a.className=u.join(" ")},L.forEach=function(a,f){var u,l;if(Array.isArray(a))for(u=0,l=a.length;u<l;u++)f(a[u],u,a);else for(u in a)a.hasOwnProperty(u)&&f(a[u],u,a)},L.toArray=function(a){var f=[];for(var u in a)a.hasOwnProperty(u)&&f.push(a[u]);return f},L.updateProperty=function(a,f,u){return a[f]!==u&&(a[f]=u,!0)},L.throttle=function(a){var f=!1;return function(){f||(f=!0,requestAnimationFrame(function(){f=!1,a()}))}},L.addEventListener=function(a,f,u,l){a.addEventListener?(void 0===l&&(l=!1),"mousewheel"===f&&navigator.userAgent.indexOf("Firefox")>=0&&(f="DOMMouseScroll"),a.addEventListener(f,u,l)):a.attachEvent("on"+f,u)},L.removeEventListener=function(a,f,u,l){a.removeEventListener?(void 0===l&&(l=!1),"mousewheel"===f&&navigator.userAgent.indexOf("Firefox")>=0&&(f="DOMMouseScroll"),a.removeEventListener(f,u,l)):a.detachEvent("on"+f,u)},L.preventDefault=function(a){a||(a=window.event),a.preventDefault?a.preventDefault():a.returnValue=!1},L.getTarget=function(a){var f;return a||(a=window.event),a.target?f=a.target:a.srcElement&&(f=a.srcElement),null!=f.nodeType&&3==f.nodeType&&(f=f.parentNode),f},L.hasParent=function(a,f){for(var u=a;u;){if(u===f)return!0;u=u.parentNode}return!1},L.option={},L.option.asBoolean=function(a,f){return"function"==typeof a&&(a=a()),null!=a?0!=a:f||null},L.option.asNumber=function(a,f){return"function"==typeof a&&(a=a()),null!=a?Number(a)||f||null:f||null},L.option.asString=function(a,f){return"function"==typeof a&&(a=a()),null!=a?String(a):f||null},L.option.asSize=function(a,f){return"function"==typeof a&&(a=a()),L.isString(a)?a:L.isNumber(a)?a+"px":f||null},L.option.asElement=function(a,f){return"function"==typeof a&&(a=a()),a||f||null},L.hexToRGB=function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(l,p,M,d){return p+p+M+M+d+d});var u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return u?{r:parseInt(u[1],16),g:parseInt(u[2],16),b:parseInt(u[3],16)}:null},L.overrideOpacity=function(a,f){var u;return-1!=a.indexOf("rgba")?a:-1!=a.indexOf("rgb")?"rgba("+(u=a.substr(a.indexOf("(")+1).replace(")","").split(","))[0]+","+u[1]+","+u[2]+","+f+")":null==(u=L.hexToRGB(a))?a:"rgba("+u.r+","+u.g+","+u.b+","+f+")"},L.RGBToHex=function(a,f,u){return"#"+((1<<24)+(a<<16)+(f<<8)+u).toString(16).slice(1)},L.parseColor=function(a){var f;if(!0===L.isString(a)){if(!0===L.isValidRGB(a)){var u=a.substr(4).substr(0,a.length-5).split(",").map(function(w){return parseInt(w)});a=L.RGBToHex(u[0],u[1],u[2])}if(!0===L.isValidHex(a)){var l=L.hexToHSV(a),p={h:l.h,s:.8*l.s,v:Math.min(1,1.02*l.v)},M={h:l.h,s:Math.min(1,1.25*l.s),v:.8*l.v},d=L.HSVToHex(M.h,M.s,M.v),c=L.HSVToHex(p.h,p.s,p.v);f={background:a,border:d,highlight:{background:c,border:d},hover:{background:c,border:d}}}else f={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}}}else(f={}).background=a.background||void 0,f.border=a.border||void 0,L.isString(a.highlight)?f.highlight={border:a.highlight,background:a.highlight}:(f.highlight={},f.highlight.background=a.highlight&&a.highlight.background||void 0,f.highlight.border=a.highlight&&a.highlight.border||void 0),L.isString(a.hover)?f.hover={border:a.hover,background:a.hover}:(f.hover={},f.hover.background=a.hover&&a.hover.background||void 0,f.hover.border=a.hover&&a.hover.border||void 0);return f},L.RGBToHSV=function(a,f,u){a/=255,f/=255,u/=255;var l=Math.min(a,Math.min(f,u)),p=Math.max(a,Math.max(f,u));return l==p?{h:0,s:0,v:l}:{h:60*((a==l?3:u==l?1:5)-(a==l?f-u:u==l?a-f:u-a)/(p-l))/360,s:(p-l)/p,v:p}};var S_split=function(f){var u={};return f.split(";").forEach(function(l){if(""!=l.trim()){var p=l.split(":"),M=p[0].trim(),d=p[1].trim();u[M]=d}}),u},S_join=function(f){return(0,A.default)(f).map(function(u){return u+": "+f[u]}).join("; ")};L.addCssText=function(a,f){var u=S_split(a.style.cssText),l=S_split(f),p=L.extend(u,l);a.style.cssText=S_join(p)},L.removeCssText=function(a,f){var u=S_split(a.style.cssText),l=S_split(f);for(var p in l)l.hasOwnProperty(p)&&delete u[p];a.style.cssText=S_join(u)},L.HSVToRGB=function(a,f,u){var l,p,M,d=Math.floor(6*a),c=6*a-d,w=u*(1-f),I=u*(1-c*f),N=u*(1-(1-c)*f);switch(d%6){case 0:l=u,p=N,M=w;break;case 1:l=I,p=u,M=w;break;case 2:l=w,p=u,M=N;break;case 3:l=w,p=I,M=u;break;case 4:l=N,p=w,M=u;break;case 5:l=u,p=w,M=I}return{r:Math.floor(255*l),g:Math.floor(255*p),b:Math.floor(255*M)}},L.HSVToHex=function(a,f,u){var l=L.HSVToRGB(a,f,u);return L.RGBToHex(l.r,l.g,l.b)},L.hexToHSV=function(a){var f=L.hexToRGB(a);return L.RGBToHSV(f.r,f.g,f.b)},L.isValidHex=function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},L.isValidRGB=function(a){return a=a.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a)},L.isValidRGBA=function(a){return a=a.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(a)},L.selectiveBridgeObject=function(a,f){if(null!==f&&"object"===(void 0===f?"undefined":(0,O.default)(f))){for(var u=(0,E.default)(f),l=0;l<a.length;l++)f.hasOwnProperty(a[l])&&"object"==(0,O.default)(f[a[l]])&&(u[a[l]]=L.bridgeObject(f[a[l]]));return u}return null},L.bridgeObject=function(a){if(null!==a&&"object"===(void 0===a?"undefined":(0,O.default)(a))){var f=(0,E.default)(a);if(a instanceof Element)f=a;else for(var u in f=(0,E.default)(a),a)a.hasOwnProperty(u)&&"object"==(0,O.default)(a[u])&&(f[u]=L.bridgeObject(a[u]));return f}return null},L.insertSort=function(a,f){for(var u=0;u<a.length;u++){for(var l=a[u],p=u;p>0&&f(l,a[p-1])<0;p--)a[p]=a[p-1];a[p]=l}return a},L.mergeOptions=function(a,f,u){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=function(U){return null!=U},M=function(U){return null!==U&&"object"===(void 0===U?"undefined":(0,O.default)(U))},d=function(U){for(var $ in U)if(U.hasOwnProperty($))return!1;return!0};if(!M(a))throw new Error("Parameter mergeTarget must be an object");if(!M(f))throw new Error("Parameter options must be an object");if(!p(u))throw new Error("Parameter option must have a value");if(!M(l))throw new Error("Parameter globalOptions must be an object");var c=function(U,$,J){M(U[J])||(U[J]={});var te=$[J],ie=U[J];for(var ue in te)te.hasOwnProperty(ue)&&(ie[ue]=te[ue])},w=f[u],N=M(l)&&!d(l)?l[u]:void 0,V=N?N.enabled:void 0;if(void 0!==w){if("boolean"==typeof w)return M(a[u])||(a[u]={}),void(a[u].enabled=w);if(null===w&&!M(a[u])){if(!p(N))return;a[u]=(0,E.default)(N)}if(M(w)){var H=!0;void 0!==w.enabled?H=w.enabled:void 0!==V&&(H=N.enabled),c(a,f,u),a[u].enabled=H}}},L.binarySearchCustom=function(a,f,u,l){for(var M=0,d=0,c=a.length-1;d<=c&&M<1e4;){var w=Math.floor((d+c)/2),I=a[w],V=f(void 0===l?I[u]:I[u][l]);if(0==V)return w;-1==V?d=w+1:c=w-1,M++}return-1},L.binarySearchValue=function(a,f,u,l,p){var I,N,V,H,d=0,c=0,w=a.length-1;for(p=null!=p?p:function(z,U){return z==U?0:z<U?-1:1};c<=w&&d<1e4;){if(H=Math.floor(.5*(w+c)),I=a[Math.max(0,H-1)][u],N=a[H][u],V=a[Math.min(a.length-1,H+1)][u],0==p(N,f))return H;if(p(I,f)<0&&p(N,f)>0)return"before"==l?Math.max(0,H-1):H;if(p(N,f)<0&&p(V,f)>0)return"before"==l?H:Math.min(a.length-1,H+1);p(N,f)<0?c=H+1:w=H-1,d++}return-1},L.easingFunctions={linear:function(f){return f},easeInQuad:function(f){return f*f},easeOutQuad:function(f){return f*(2-f)},easeInOutQuad:function(f){return f<.5?2*f*f:(4-2*f)*f-1},easeInCubic:function(f){return f*f*f},easeOutCubic:function(f){return--f*f*f+1},easeInOutCubic:function(f){return f<.5?4*f*f*f:(f-1)*(2*f-2)*(2*f-2)+1},easeInQuart:function(f){return f*f*f*f},easeOutQuart:function(f){return 1- --f*f*f*f},easeInOutQuart:function(f){return f<.5?8*f*f*f*f:1-8*--f*f*f*f},easeInQuint:function(f){return f*f*f*f*f},easeOutQuint:function(f){return 1+--f*f*f*f*f},easeInOutQuint:function(f){return f<.5?16*f*f*f*f*f:1+16*--f*f*f*f*f}},L.getScrollBarWidth=function(){var a=document.createElement("p");a.style.width="100%",a.style.height="200px";var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.visibility="hidden",f.style.width="200px",f.style.height="150px",f.style.overflow="hidden",f.appendChild(a),document.body.appendChild(f);var u=a.offsetWidth;f.style.overflow="scroll";var l=a.offsetWidth;return u==l&&(l=f.clientWidth),document.body.removeChild(f),u-l},L.topMost=function(a,f){var u=void 0;Array.isArray(f)||(f=[f]);var l=!0,p=!1,M=void 0;try{for(var c,d=(0,y.default)(a);!(l=(c=d.next()).done);l=!0){var w=c.value;if(w){u=w[f[0]];for(var I=1;I<f.length;I++)u&&(u=u[f[I]]);if(void 0!==u)break}}}catch(N){p=!0,M=N}finally{try{!l&&d.return&&d.return()}finally{if(p)throw M}}return u}},function(Y,L,D){Y.exports={default:D(194),__esModule:!0}},function(Y,L,D){L.__esModule=!0;var E,y=(E=D(6))&&E.__esModule?E:{default:E};L.default=function(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!==(void 0===T?"undefined":(0,y.default)(T))&&"function"!=typeof T?E:T}},function(Y,L,D){L.__esModule=!0;var y=_(D(196)),E=_(D(29)),A=_(D(6));function _(O){return O&&O.__esModule?O:{default:O}}L.default=function(O,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":(0,A.default)(b)));O.prototype=(0,E.default)(b&&b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),b&&(y.default?(0,y.default)(O,b):O.__proto__=b)}},function(Y,L,D){L.__esModule=!0;var y=A(D(142)),E=A(D(144)),T="function"==typeof E.default&&"symbol"==typeof y.default?function(_){return typeof _}:function(_){return _&&"function"==typeof E.default&&_.constructor===E.default&&_!==E.default.prototype?"symbol":typeof _};function A(_){return _&&_.__esModule?_:{default:_}}L.default="function"==typeof E.default&&"symbol"===T(y.default)?function(_){return void 0===_?"undefined":T(_)}:function(_){return _&&"function"==typeof E.default&&_.constructor===E.default&&_!==E.default.prototype?"symbol":void 0===_?"undefined":T(_)}},function(Y,L){var D=Y.exports={version:"2.5.1"};"number"==typeof __e&&(__e=D)},function(Y,L,D){Y.exports={default:D(140),__esModule:!0}},function(Y,L,D){Y.exports="undefined"!=typeof window&&window.moment||D(154)},function(Y,L,D){if("undefined"!=typeof window){var y=D(175),x=window.Hammer||D(176);Y.exports=y(x,{preventDefault:"mouse"})}else Y.exports=function(){return{on:E=function(){},off:E,destroy:E,emit:E,get:function(A){return{set:E}}};var E}},function(Y,L,D){var y=_(D(19)),E=_(D(6)),A=_(D(8));function _(v){return v&&v.__esModule?v:{default:v}}var O=D(2),b=D(43);function C(v,m){if(v&&!Array.isArray(v)&&(m=v,v=null),this._options=m||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var h=(0,A.default)(this._options.type),S=0,a=h.length;S<a;S++){var f=h[S],u=this._options.type[f];this._type[f]="Date"==u||"ISODate"==u||"ASPDate"==u?"Date":u}this._subscribers={},v&&this.add(v),this.setOptions(m)}C.prototype.setOptions=function(v){v&&void 0!==v.queue&&(!1===v.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=b.extend(this,{replace:["add","update","remove"]})),"object"===(0,E.default)(v.queue)&&this._queue.setOptions(v.queue)))},C.prototype.on=function(v,m){var h=this._subscribers[v];h||(this._subscribers[v]=h=[]),h.push({callback:m})},C.prototype.off=function(v,m){var h=this._subscribers[v];h&&(this._subscribers[v]=h.filter(function(S){return S.callback!=m}))},C.prototype._trigger=function(v,m,h){if("*"==v)throw new Error("Cannot trigger event *");var S=[];v in this._subscribers&&(S=S.concat(this._subscribers[v])),"*"in this._subscribers&&(S=S.concat(this._subscribers["*"]));for(var a=0,f=S.length;a<f;a++){var u=S[a];u.callback&&u.callback(v,m,h||null)}},C.prototype.add=function(v,m){var S,h=[];if(Array.isArray(v))for(var f=0,u=v.length;f<u;f++)S=this._addItem(v[f]),h.push(S);else{if(!v||"object"!==(void 0===v?"undefined":(0,E.default)(v)))throw new Error("Unknown dataType");S=this._addItem(v),h.push(S)}return h.length&&this._trigger("add",{items:h},m),h},C.prototype.update=function(v,m){var h=[],S=[],a=[],f=[],u=this,l=u._fieldId,p=function(I){var N=I[l];if(u._data[N]){var V=O.extend({},u._data[N]);N=u._updateItem(I),S.push(N),f.push(I),a.push(V)}else N=u._addItem(I),h.push(N)};if(Array.isArray(v))for(var M=0,d=v.length;M<d;M++)v[M]&&"object"===(0,E.default)(v[M])?p(v[M]):console.warn("Ignoring input item, which is not an object at index "+M);else{if(!v||"object"!==(void 0===v?"undefined":(0,E.default)(v)))throw new Error("Unknown dataType");p(v)}return h.length&&this._trigger("add",{items:h},m),S.length&&this._trigger("update",{items:S,oldData:a,data:f},m),h.concat(S)},C.prototype.get=function(v){var h,S,a,u,m=this,f=O.getType(arguments[0]);"String"==f||"Number"==f?(h=arguments[0],a=arguments[1]):"Array"==f?(S=arguments[0],a=arguments[1]):a=arguments[0],u=a&&a.returnType?-1==["Array","Object"].indexOf(a.returnType)?"Array":a.returnType:"Array";var c,w,N,V,p=a&&a.type||this._options.type,M=a&&a.filter,d=[];if(null!=h)(c=m._getItem(h,p))&&M&&!M(c)&&(c=null);else if(null!=S)for(N=0,V=S.length;N<V;N++)c=m._getItem(S[N],p),(!M||M(c))&&d.push(c);else for(N=0,V=(w=(0,A.default)(this._data)).length;N<V;N++)c=m._getItem(w[N],p),(!M||M(c))&&d.push(c);if(a&&a.order&&null==h&&this._sort(d,a.order),a&&a.fields){var H=a.fields;if(null!=h)c=this._filterFields(c,H);else for(N=0,V=d.length;N<V;N++)d[N]=this._filterFields(d[N],H)}if("Object"==u){var U,z={};for(N=0,V=d.length;N<V;N++)z[(U=d[N]).id]=U;return z}return null!=h?c:d},C.prototype.getIds=function(v){var u,l,M,d,m=this._data,h=v&&v.filter,S=v&&v.order,a=v&&v.type||this._options.type,f=(0,A.default)(m),c=[];if(h)if(S){for(d=[],u=0,l=f.length;u<l;u++)h(M=this._getItem(f[u],a))&&d.push(M);for(this._sort(d,S),u=0,l=d.length;u<l;u++)c.push(d[u][this._fieldId])}else for(u=0,l=f.length;u<l;u++)h(M=this._getItem(f[u],a))&&c.push(M[this._fieldId]);else if(S){for(d=[],u=0,l=f.length;u<l;u++)d.push(m[f[u]]);for(this._sort(d,S),u=0,l=d.length;u<l;u++)c.push(d[u][this._fieldId])}else for(u=0,l=f.length;u<l;u++)c.push((M=m[f[u]])[this._fieldId]);return c},C.prototype.getDataSet=function(){return this},C.prototype.forEach=function(v,m){var u,l,p,M,h=m&&m.filter,S=m&&m.type||this._options.type,f=(0,A.default)(this._data);if(m&&m.order){var d=this.get(m);for(u=0,l=d.length;u<l;u++)v(p=d[u],M=p[this._fieldId])}else for(u=0,l=f.length;u<l;u++)p=this._getItem(M=f[u],S),(!h||h(p))&&v(p,M)},C.prototype.map=function(v,m){var l,p,M,d,h=m&&m.filter,S=m&&m.type||this._options.type,a=[],u=(0,A.default)(this._data);for(l=0,p=u.length;l<p;l++)d=this._getItem(M=u[l],S),(!h||h(d))&&a.push(v(d,M));return m&&m.order&&this._sort(a,m.order),a},C.prototype._filterFields=function(v,m){if(!v)return v;var f,u,h={},S=(0,A.default)(v),a=S.length;if(Array.isArray(m))for(f=0;f<a;f++)-1!=m.indexOf(u=S[f])&&(h[u]=v[u]);else for(f=0;f<a;f++)m.hasOwnProperty(u=S[f])&&(h[m[u]]=v[u]);return h},C.prototype._sort=function(v,m){if(O.isString(m)){var h=m;v.sort(function(S,a){var f=S[h],u=a[h];return f>u?1:f<u?-1:0})}else{if("function"!=typeof m)throw new TypeError("Order must be a function or a string");v.sort(m)}},C.prototype.remove=function(v,m){var f,u,l,p,a,h=[],S=[];for(f=0,u=(a=Array.isArray(v)?v:[v]).length;f<u;f++)(p=this._remove(a[f]))&&null!=(l=p[this._fieldId])&&(h.push(l),S.push(p));return h.length&&this._trigger("remove",{items:h,oldData:S},m),h},C.prototype._remove=function(v){var m,h;return O.isNumber(v)||O.isString(v)?h=v:v&&"object"===(void 0===v?"undefined":(0,E.default)(v))&&(h=v[this._fieldId]),void 0!==h&&this._data[h]?(m=this._data[h],delete this._data[h],this.length--,m):null},C.prototype.clear=function(v){var m,h,S=(0,A.default)(this._data),a=[];for(m=0,h=S.length;m<h;m++)a.push(this._data[S[m]]);return this._data={},this.length=0,this._trigger("remove",{items:S,oldData:a},v),S},C.prototype.max=function(v){var f,u,m=this._data,h=(0,A.default)(m),S=null,a=null;for(f=0,u=h.length;f<u;f++){var p=m[h[f]],M=p[v];null!=M&&(!S||M>a)&&(S=p,a=M)}return S},C.prototype.min=function(v){var f,u,m=this._data,h=(0,A.default)(m),S=null,a=null;for(f=0,u=h.length;f<u;f++){var p=m[h[f]],M=p[v];null!=M&&(!S||M<a)&&(S=p,a=M)}return S},C.prototype.distinct=function(v){var u,l,p,m=this._data,h=(0,A.default)(m),S=[],a=this._options.type&&this._options.type[v]||null,f=0;for(u=0,p=h.length;u<p;u++){var c=m[h[u]][v],w=!1;for(l=0;l<f;l++)if(S[l]==c){w=!0;break}!w&&void 0!==c&&(S[f]=c,f++)}if(a)for(u=0,p=S.length;u<p;u++)S[u]=O.convert(S[u],a);return S},C.prototype._addItem=function(v){var m=v[this._fieldId];if(null!=m){if(this._data[m])throw new Error("Cannot add item: item with id "+m+" already exists")}else m=O.randomUUID(),v[this._fieldId]=m;var a,f,h={},S=(0,A.default)(v);for(a=0,f=S.length;a<f;a++){var u=S[a];h[u]=O.convert(v[u],this._type[u])}return this._data[m]=h,this.length++,m},C.prototype._getItem=function(v,m){var h,a,f,u=this._data[v];if(!u)return null;var l={},p=(0,A.default)(u);if(m)for(a=0,f=p.length;a<f;a++)l[h=p[a]]=O.convert(u[h],m[h]);else for(a=0,f=p.length;a<f;a++)l[h=p[a]]=u[h];return l[this._fieldId]||(l[this._fieldId]=u.id),l},C.prototype._updateItem=function(v){var m=v[this._fieldId];if(null==m)throw new Error("Cannot update item: item has no id (item: "+(0,y.default)(v)+")");var h=this._data[m];if(!h)throw new Error("Cannot update item: no item with id "+m+" found");for(var S=(0,A.default)(v),a=0,f=S.length;a<f;a++){var u=S[a];h[u]=O.convert(v[u],this._type[u])}return m},Y.exports=C},function(Y,L,D){var _,y=(_=D(8))&&_.__esModule?_:{default:_};var E=D(2),T=D(11);function A(_,O){this._data=null,this._ids={},this.length=0,this._options=O||{},this._fieldId="id",this._subscribers={};var b=this;this.listener=function(){b._onEvent.apply(b,arguments)},this.setData(_)}A.prototype.setData=function(_){var O,C,v,m;if(this._data){for(this._data.off&&this._data.off("*",this.listener),m=[],C=0,v=(O=this._data.getIds({filter:this._options&&this._options.filter})).length;C<v;C++)m.push(this._data._data[O[C]]);this._ids={},this.length=0,this._trigger("remove",{items:O,oldData:m})}if(this._data=_,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",C=0,v=(O=this._data.getIds({filter:this._options&&this._options.filter})).length;C<v;C++)this._ids[O[C]]=!0;this.length=O.length,this._trigger("add",{items:O}),this._data.on&&this._data.on("*",this.listener)}},A.prototype.refresh=function(){var _,O,b,C=this._data.getIds({filter:this._options&&this._options.filter}),v=(0,y.default)(this._ids),m={},h=[],S=[],a=[];for(O=0,b=C.length;O<b;O++)m[_=C[O]]=!0,this._ids[_]||(h.push(_),this._ids[_]=!0);for(O=0,b=v.length;O<b;O++)m[_=v[O]]||(S.push(_),a.push(this._data._data[_]),delete this._ids[_]);this.length+=h.length-S.length,h.length&&this._trigger("add",{items:h}),S.length&&this._trigger("remove",{items:S,oldData:a})},A.prototype.get=function(_){var b,C,v,O=this,m=E.getType(arguments[0]);"String"==m||"Number"==m||"Array"==m?(b=arguments[0],C=arguments[1],v=arguments[2]):(C=arguments[0],v=arguments[1]);var h=E.extend({},this._options,C);this._options.filter&&C&&C.filter&&(h.filter=function(a){return O._options.filter(a)&&C.filter(a)});var S=[];return null!=b&&S.push(b),S.push(h),S.push(v),this._data&&this._data.get.apply(this._data,S)},A.prototype.getIds=function(_){var O;if(this._data){var b=this._options.filter;O=this._data.getIds({filter:_&&_.filter?b?function(m){return b(m)&&_.filter(m)}:_.filter:b,order:_&&_.order})}else O=[];return O},A.prototype.map=function(_,O){var b=[];if(this._data){var C=this._options.filter;b=this._data.map(_,{filter:O&&O.filter?C?function(h){return C(h)&&O.filter(h)}:O.filter:C,order:O&&O.order})}else b=[];return b},A.prototype.getDataSet=function(){for(var _=this;_ instanceof A;)_=_._data;return _||null},A.prototype._onEvent=function(_,O,b){var C,v,m,S=O&&O.items,a=[],f=[],u=[],l=[],p=[],M=[];if(S&&this._data){switch(_){case"add":for(C=0,v=S.length;C<v;C++)this.get(m=S[C])&&(this._ids[m]=!0,a.push(m));break;case"update":for(C=0,v=S.length;C<v;C++)this.get(m=S[C])?this._ids[m]?(f.push(m),p.push(O.data[C]),l.push(O.oldData[C])):(this._ids[m]=!0,a.push(m)):this._ids[m]&&(delete this._ids[m],u.push(m),M.push(O.oldData[C]));break;case"remove":for(C=0,v=S.length;C<v;C++)this._ids[m=S[C]]&&(delete this._ids[m],u.push(m),M.push(O.oldData[C]))}this.length+=a.length-u.length,a.length&&this._trigger("add",{items:a},b),f.length&&this._trigger("update",{items:f,oldData:l,data:p},b),u.length&&this._trigger("remove",{items:u,oldData:M},b)}},A.prototype.on=T.prototype.on,A.prototype.off=T.prototype.off,A.prototype._trigger=T.prototype._trigger,A.prototype.subscribe=A.prototype.on,A.prototype.unsubscribe=A.prototype.off,Y.exports=A},function(Y,L,D){var R=D(57)("wks"),y=D(40),x=D(18).Symbol,E="function"==typeof x;(Y.exports=function(A){return R[A]||(R[A]=E&&x[A]||(E?x:y)("Symbol."+A))}).store=R},function(Y,L,D){L.prepareElements=function(R){for(var y in R)R.hasOwnProperty(y)&&(R[y].redundant=R[y].used,R[y].used=[])},L.cleanupElements=function(R){for(var y in R)if(R.hasOwnProperty(y)&&R[y].redundant){for(var x=0;x<R[y].redundant.length;x++)R[y].redundant[x].parentNode.removeChild(R[y].redundant[x]);R[y].redundant=[]}},L.resetElements=function(R){L.prepareElements(R),L.cleanupElements(R),L.prepareElements(R)},L.getSVGElement=function(R,y,x){var E;return y.hasOwnProperty(R)?y[R].redundant.length>0?(E=y[R].redundant[0],y[R].redundant.shift()):(E=document.createElementNS("http://www.w3.org/2000/svg",R),x.appendChild(E)):(E=document.createElementNS("http://www.w3.org/2000/svg",R),y[R]={used:[],redundant:[]},x.appendChild(E)),y[R].used.push(E),E},L.getDOMElement=function(R,y,x,E){var T;return y.hasOwnProperty(R)?y[R].redundant.length>0?(T=y[R].redundant[0],y[R].redundant.shift()):(T=document.createElement(R),void 0!==E?x.insertBefore(T,E):x.appendChild(T)):(T=document.createElement(R),y[R]={used:[],redundant:[]},void 0!==E?x.insertBefore(T,E):x.appendChild(T)),y[R].used.push(T),T},L.drawPoint=function(R,y,x,E,T,A){var _;if("circle"==x.style?((_=L.getSVGElement("circle",E,T)).setAttributeNS(null,"cx",R),_.setAttributeNS(null,"cy",y),_.setAttributeNS(null,"r",.5*x.size)):((_=L.getSVGElement("rect",E,T)).setAttributeNS(null,"x",R-.5*x.size),_.setAttributeNS(null,"y",y-.5*x.size),_.setAttributeNS(null,"width",x.size),_.setAttributeNS(null,"height",x.size)),void 0!==x.styles&&_.setAttributeNS(null,"style",x.styles),_.setAttributeNS(null,"class",x.className+" vis-point"),A){var O=L.getSVGElement("text",E,T);A.xOffset&&(R+=A.xOffset),A.yOffset&&(y+=A.yOffset),A.content&&(O.textContent=A.content),A.className&&O.setAttributeNS(null,"class",A.className+" vis-label"),O.setAttributeNS(null,"x",R),O.setAttributeNS(null,"y",y)}return _},L.drawBar=function(R,y,x,E,T,A,_,O){if(0!=E){E<0&&(y-=E*=-1);var b=L.getSVGElement("rect",A,_);b.setAttributeNS(null,"x",R-.5*x),b.setAttributeNS(null,"y",y),b.setAttributeNS(null,"width",x),b.setAttributeNS(null,"height",E),b.setAttributeNS(null,"class",T),O&&b.setAttributeNS(null,"style",O)}}},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0}),L.printStyle=void 0;var y=v(D(19)),E=v(D(6)),A=v(D(8)),O=v(D(0)),C=v(D(1));function v(u){return u&&u.__esModule?u:{default:u}}var m=D(2),h=!1,S=void 0,a="background: #FFeeee; color: #dd0000",f=function(){function u(){(0,O.default)(this,u)}return(0,C.default)(u,null,[{key:"validate",value:function(p,M,d){h=!1,S=M;var c=M;return void 0!==d&&(c=M[d]),u.parse(p,c,[]),h}},{key:"parse",value:function(p,M,d){for(var c in p)p.hasOwnProperty(c)&&u.check(c,p,M,d)}},{key:"check",value:function(p,M,d,c){if(void 0!==d[p]||void 0!==d.__any__){var w=p,I=!0;void 0===d[p]&&void 0!==d.__any__&&(w="__any__",I="object"===u.getType(M[p]));var N=d[w];I&&void 0!==N.__type__&&(N=N.__type__),u.checkFields(p,M,d,w,N,c)}else u.getSuggestion(p,d,c)}},{key:"checkFields",value:function(p,M,d,c,w,I){var N=function(U){console.log("%c"+U+u.printLocation(I,p),a)},V=u.getType(M[p]),H=w[V];void 0!==H?"array"===u.getType(H)&&-1===H.indexOf(M[p])?(N('Invalid option detected in "'+p+'". Allowed values are:'+u.print(H)+' not "'+M[p]+'". '),h=!0):"object"===V&&"__any__"!==c&&(I=m.copyAndExtendArray(I,p),u.parse(M[p],d[c],I)):void 0===w.any&&(N('Invalid type received for "'+p+'". Expected: '+u.print((0,A.default)(w))+". Received ["+V+'] "'+M[p]+'"'),h=!0)}},{key:"getType",value:function(p){var M=void 0===p?"undefined":(0,E.default)(p);return"object"===M?null===p?"null":p instanceof Boolean?"boolean":p instanceof Number?"number":p instanceof String?"string":Array.isArray(p)?"array":p instanceof Date?"date":void 0!==p.nodeType?"dom":!0===p._isAMomentObject?"moment":"object":"number"===M?"number":"boolean"===M?"boolean":"string"===M?"string":void 0===M?"undefined":M}},{key:"getSuggestion",value:function(p,M,d){var V,c=u.findInOptions(p,M,d,!1),w=u.findInOptions(p,S,[],!0);V=void 0!==c.indexMatch?" in "+u.printLocation(c.path,p,"")+'Perhaps it was incomplete? Did you mean: "'+c.indexMatch+'"?\n\n':w.distance<=4&&c.distance>w.distance?" in "+u.printLocation(c.path,p,"")+"Perhaps it was misplaced? Matching option found at: "+u.printLocation(w.path,w.closestMatch,""):c.distance<=8?'. Did you mean "'+c.closestMatch+'"?'+u.printLocation(c.path,p):". Did you mean one of these: "+u.print((0,A.default)(M))+u.printLocation(d,p),console.log('%cUnknown option detected: "'+p+'"'+V,a),h=!0}},{key:"findInOptions",value:function(p,M,d){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],w=1e9,I="",N=[],V=p.toLowerCase(),H=void 0;for(var z in M){var U=void 0;if(void 0!==M[z].__type__&&!0===c){var $=u.findInOptions(p,M[z],m.copyAndExtendArray(d,z));w>$.distance&&(I=$.closestMatch,N=$.path,w=$.distance,H=$.indexMatch)}else-1!==z.toLowerCase().indexOf(V)&&(H=z),w>(U=u.levenshteinDistance(p,z))&&(I=z,N=m.copyArray(d),w=U)}return{closestMatch:I,path:N,distance:w,indexMatch:H}}},{key:"printLocation",value:function(p,M){for(var c="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",w=0;w<p.length;w++){for(var I=0;I<w+1;I++)c+="  ";c+=p[w]+": {\n"}for(var N=0;N<p.length+1;N++)c+="  ";c+=M+"\n";for(var V=0;V<p.length+1;V++){for(var H=0;H<p.length-V;H++)c+="  ";c+="}\n"}return c+"\n\n"}},{key:"print",value:function(p){return(0,y.default)(p).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(p,M){if(0===p.length)return M.length;if(0===M.length)return p.length;var c,w,d=[];for(c=0;c<=M.length;c++)d[c]=[c];for(w=0;w<=p.length;w++)d[0][w]=w;for(c=1;c<=M.length;c++)for(w=1;w<=p.length;w++)d[c][w]=M.charAt(c-1)==p.charAt(w-1)?d[c-1][w-1]:Math.min(d[c-1][w-1]+1,Math.min(d[c][w-1]+1,d[c-1][w]+1));return d[M.length][p.length]}}]),u}();L.default=f,L.printStyle=a},function(Y,L,D){var R=D(2);function y(x,E){this.options=null,this.props=null}y.prototype.setOptions=function(x){x&&R.extend(this.options,x)},y.prototype.redraw=function(){return!1},y.prototype.destroy=function(){},y.prototype._isResized=function(){var x=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,x},Y.exports=y},function(Y,L,D){var R=D(18),y=D(7),x=D(80),E=D(26),T="prototype",A=function(_,O,b){var p,M,d,C=_&A.F,v=_&A.G,m=_&A.S,h=_&A.P,S=_&A.B,a=_&A.W,f=v?y:y[O]||(y[O]={}),u=f[T],l=v?R:m?R[O]:(R[O]||{})[T];for(p in v&&(b=O),b)(!(M=!C&&l&&void 0!==l[p])||!(p in f))&&(d=M?l[p]:b[p],f[p]=v&&"function"!=typeof l[p]?b[p]:S&&M?x(d,R):a&&l[p]==d?function(c){var w=function(I,N,V){if(this instanceof c){switch(arguments.length){case 0:return new c;case 1:return new c(I);case 2:return new c(I,N)}return new c(I,N,V)}return c.apply(this,arguments)};return w[T]=c[T],w}(d):h&&"function"==typeof d?x(Function.call,d):d,h&&((f.virtual||(f.virtual={}))[p]=d,_&A.R&&u&&!u[p]&&E(u,p,d)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,Y.exports=A},function(Y,L){var D=Y.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=D)},function(Y,L,D){Y.exports={default:D(160),__esModule:!0}},function(Y,L,D){var R=D(27),y=D(81),x=D(53),E=Object.defineProperty;L.f=D(21)?Object.defineProperty:function(A,_,O){if(R(A),_=x(_,!0),R(O),y)try{return E(A,_,O)}catch(b){}if("get"in O||"set"in O)throw TypeError("Accessors not supported!");return"value"in O&&(A[_]=O.value),A}},function(Y,L,D){Y.exports=!D(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(Y,L){var D={}.hasOwnProperty;Y.exports=function(R,y){return D.call(R,y)}},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=_(D(6)),E=_(D(0)),A=_(D(1));function _(b){return b&&b.__esModule?b:{default:b}}var O=function(){function b(C,v,m){(0,E.default)(this,b),this.body=v,this.labelModule=m,this.setOptions(C),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,A.default)(b,[{key:"setOptions",value:function(v){this.options=v}},{key:"_setMargins",value:function(v){this.margin={},this.options.margin&&("object"==(0,y.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),v.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(v,m){var h=this.options.borderWidth;return this.resize(v),Math.min(Math.abs(this.width/2/Math.cos(m)),Math.abs(this.height/2/Math.sin(m)))+h}},{key:"enableShadow",value:function(v,m){m.shadow&&(v.shadowColor=m.shadowColor,v.shadowBlur=m.shadowSize,v.shadowOffsetX=m.shadowX,v.shadowOffsetY=m.shadowY)}},{key:"disableShadow",value:function(v,m){m.shadow&&(v.shadowColor="rgba(0,0,0,0)",v.shadowBlur=0,v.shadowOffsetX=0,v.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(v,m){if(!1!==m.borderDashes)if(void 0!==v.setLineDash){var h=m.borderDashes;!0===h&&(h=[5,15]),v.setLineDash(h)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,m.borderDashes=!1}},{key:"disableBorderDashes",value:function(v,m){!1!==m.borderDashes&&(void 0!==v.setLineDash?v.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,m.borderDashes=!1))}},{key:"needsRefresh",value:function(v,m){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(v,m)}},{key:"initContextForDraw",value:function(v,m){v.lineWidth=Math.min(this.width,m.borderWidth/this.body.view.scale),v.strokeStyle=m.borderColor,v.fillStyle=m.color}},{key:"performStroke",value:function(v,m){var h=m.borderWidth/this.body.view.scale;v.save(),h>0&&(this.enableBorderDashes(v,m),v.stroke(),this.disableBorderDashes(v,m)),v.restore()}},{key:"performFill",value:function(v,m){this.enableShadow(v,m),v.fill(),this.disableShadow(v,m),this.performStroke(v,m)}},{key:"_addBoundingBoxMargin",value:function(v){this.boundingBox.left-=v,this.boundingBox.top-=v,this.boundingBox.bottom+=v,this.boundingBox.right+=v}},{key:"_updateBoundingBox",value:function(v,m,h,S,a){void 0!==h&&this.resize(h,S,a),this.left=v-this.width/2,this.top=m-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(v,m,h,S,a){this._updateBoundingBox(v,m,h,S,a)}},{key:"getDimensionsFromLabel",value:function(v,m,h){this.textSize=this.labelModule.getTextSize(v,m,h);var S=this.textSize.width,a=this.textSize.height;return 0===S&&(S=14,a=14),{width:S,height:a}}}]),b}();L.default=O},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(p,M)){this.labelModule.getTextSize(l,p,M);var c=2*d.size;this.width=c,this.height=c,this.radius=.5*this.width}}},{key:"_drawShape",value:function(l,p,M,d,c,w,I,N){this.resize(l,w,I,N),this.left=d-this.width/2,this.top=c-this.height/2,this.initContextForDraw(l,N),l[p](d,c,N.size),this.performFill(l,N),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(l,w,I,d,c,"hanging"),this.labelModule.draw(l,d,c+.5*this.height+.5*this.labelModule.size.height,w,I,"hanging")),this.updateBoundingBox(d,c)}},{key:"updateBoundingBox",value:function(l,p){this.boundingBox.top=p-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=p+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),f}(h(D(23)).default);L.default=S},function(Y,L,D){var R=D(78),y=D(51);Y.exports=function(x){return R(y(x))}},function(Y,L,D){var R=D(20),y=D(39);Y.exports=D(21)?function(x,E,T){return R.f(x,E,y(1,T))}:function(x,E,T){return x[E]=T,x}},function(Y,L,D){var R=D(32);Y.exports=function(y){if(!R(y))throw TypeError(y+" is not an object!");return y}},function(Y,L){Y.exports=function(D){try{return!!D()}catch(R){return!0}}},function(Y,L,D){Y.exports={default:D(138),__esModule:!0}},function(Y,L,D){L.__esModule=!0;var y=T(D(188)),E=T(D(77));function T(A){return A&&A.__esModule?A:{default:A}}L.default=function(_,O){if(Array.isArray(_))return _;if((0,y.default)(Object(_)))return function(_,O){var b=[],C=!0,v=!1,m=void 0;try{for(var S,h=(0,E.default)(_);!(C=(S=h.next()).done)&&(b.push(S.value),!O||b.length!==O);C=!0);}catch(a){v=!0,m=a}finally{try{!C&&h.return&&h.return()}finally{if(v)throw m}}return b}(_,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(Y,L){Y.exports={}},function(Y,L){Y.exports=function(D){return"object"==typeof D?null!==D:"function"==typeof D}},function(Y,L,D){var R=D(84),y=D(58);Y.exports=Object.keys||function(E){return R(E,y)}},function(Y,L,D){function R(y,x,E){this.x=void 0!==y?y:0,this.y=void 0!==x?x:0,this.z=void 0!==E?E:0}R.subtract=function(y,x){var E=new R;return E.x=y.x-x.x,E.y=y.y-x.y,E.z=y.z-x.z,E},R.add=function(y,x){var E=new R;return E.x=y.x+x.x,E.y=y.y+x.y,E.z=y.z+x.z,E},R.avg=function(y,x){return new R((y.x+x.x)/2,(y.y+x.y)/2,(y.z+x.z)/2)},R.crossProduct=function(y,x){var E=new R;return E.x=y.y*x.z-y.z*x.y,E.y=y.z*x.x-y.x*x.z,E.z=y.x*x.y-y.y*x.x,E},R.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Y.exports=R},function(Y,L,D){var R,x;void 0!==(x="function"==typeof(R=function(){return function(T){var v,A=T&&T.preventDefault||!1,_=T&&T.container||window,O={},b={keydown:{},keyup:{}},C={};for(v=97;v<=122;v++)C[String.fromCharCode(v)]={code:v-97+65,shift:!1};for(v=65;v<=90;v++)C[String.fromCharCode(v)]={code:v,shift:!0};for(v=0;v<=9;v++)C[""+v]={code:48+v,shift:!1};for(v=1;v<=12;v++)C["F"+v]={code:111+v,shift:!1};for(v=0;v<=9;v++)C["num"+v]={code:96+v,shift:!1};C["num*"]={code:106,shift:!1},C["num+"]={code:107,shift:!1},C["num-"]={code:109,shift:!1},C["num/"]={code:111,shift:!1},C["num."]={code:110,shift:!1},C.left={code:37,shift:!1},C.up={code:38,shift:!1},C.right={code:39,shift:!1},C.down={code:40,shift:!1},C.space={code:32,shift:!1},C.enter={code:13,shift:!1},C.shift={code:16,shift:void 0},C.esc={code:27,shift:!1},C.backspace={code:8,shift:!1},C.tab={code:9,shift:!1},C.ctrl={code:17,shift:!1},C.alt={code:18,shift:!1},C.delete={code:46,shift:!1},C.pageup={code:33,shift:!1},C.pagedown={code:34,shift:!1},C["="]={code:187,shift:!1},C["-"]={code:189,shift:!1},C["]"]={code:221,shift:!1},C["["]={code:219,shift:!1};var m=function(a){S(a,"keydown")},h=function(a){S(a,"keyup")},S=function(a,f){if(void 0!==b[f][a.keyCode]){for(var u=b[f][a.keyCode],l=0;l<u.length;l++)(void 0===u[l].shift||1==u[l].shift&&1==a.shiftKey||0==u[l].shift&&0==a.shiftKey)&&u[l].fn(a);1==A&&a.preventDefault()}};return O.bind=function(a,f,u){if(void 0===u&&(u="keydown"),void 0===C[a])throw new Error("unsupported key: "+a);void 0===b[u][C[a].code]&&(b[u][C[a].code]=[]),b[u][C[a].code].push({fn:f,shift:C[a].shift})},O.bindAll=function(a,f){for(var u in void 0===f&&(f="keydown"),C)C.hasOwnProperty(u)&&O.bind(u,a,f)},O.getKey=function(a){for(var f in C)if(C.hasOwnProperty(f)){if(1==a.shiftKey&&1==C[f].shift&&a.keyCode==C[f].code)return f;if(0==a.shiftKey&&0==C[f].shift&&a.keyCode==C[f].code)return f;if(a.keyCode==C[f].code&&"shift"==f)return f}return"unknown key, currently not supported"},O.unbind=function(a,f,u){if(void 0===u&&(u="keydown"),void 0===C[a])throw new Error("unsupported key: "+a);if(void 0!==f){var l=[],p=b[u][C[a].code];if(void 0!==p)for(var M=0;M<p.length;M++)p[M].fn==f&&p[M].shift==C[a].shift||l.push(b[u][C[a].code][M]);b[u][C[a].code]=l}else b[u][C[a].code]=[]},O.reset=function(){b={keydown:{},keyup:{}}},O.destroy=function(){b={keydown:{},keyup:{}},_.removeEventListener("keydown",m,!0),_.removeEventListener("keyup",h,!0)},_.addEventListener("keydown",m,!0),_.addEventListener("keyup",h,!0),O}})?R.apply(L,[]):R)&&(Y.exports=x)},function(Y,L,D){L.convertHiddenOptions=function(R,y,x){if(x&&!Array.isArray(x))return L.convertHiddenOptions(R,y,[x]);if(y.hiddenDates=[],x&&1==Array.isArray(x)){for(var E=0;E<x.length;E++)if(void 0===x[E].repeat){var T={};T.start=R(x[E].start).toDate().valueOf(),T.end=R(x[E].end).toDate().valueOf(),y.hiddenDates.push(T)}y.hiddenDates.sort(function(A,_){return A.start-_.start})}},L.updateHiddenDates=function(R,y,x){if(x&&!Array.isArray(x))return L.updateHiddenDates(R,y,[x]);if(x&&void 0!==y.domProps.centerContainer.width){L.convertHiddenOptions(R,y,x);for(var E=R(y.range.start),T=R(y.range.end),_=(y.range.end-y.range.start)/y.domProps.centerContainer.width,O=0;O<x.length;O++)if(void 0!==x[O].repeat){var b=R(x[O].start),C=R(x[O].end);if("Invalid Date"==b._d)throw new Error("Supplied start date is not valid: "+x[O].start);if("Invalid Date"==C._d)throw new Error("Supplied end date is not valid: "+x[O].end);if(C-b>=4*_){var m=0,h=T.clone();switch(x[O].repeat){case"daily":b.day()!=C.day()&&(m=1),b.dayOfYear(E.dayOfYear()),b.year(E.year()),b.subtract(7,"days"),C.dayOfYear(E.dayOfYear()),C.year(E.year()),C.subtract(7-m,"days"),h.add(1,"weeks");break;case"weekly":var S=C.diff(b,"days"),a=b.day();b.date(E.date()),b.month(E.month()),b.year(E.year()),C=b.clone(),b.day(a),C.day(a),C.add(S,"days"),b.subtract(1,"weeks"),C.subtract(1,"weeks"),h.add(1,"weeks");break;case"monthly":b.month()!=C.month()&&(m=1),b.month(E.month()),b.year(E.year()),b.subtract(1,"months"),C.month(E.month()),C.year(E.year()),C.subtract(1,"months"),C.add(m,"months"),h.add(1,"months");break;case"yearly":b.year()!=C.year()&&(m=1),b.year(E.year()),b.subtract(1,"years"),C.year(E.year()),C.subtract(1,"years"),C.add(m,"years"),h.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",x[O].repeat)}for(;b<h;)switch(y.hiddenDates.push({start:b.valueOf(),end:C.valueOf()}),x[O].repeat){case"daily":b.add(1,"days"),C.add(1,"days");break;case"weekly":b.add(1,"weeks"),C.add(1,"weeks");break;case"monthly":b.add(1,"months"),C.add(1,"months");break;case"yearly":b.add(1,"y"),C.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",x[O].repeat)}y.hiddenDates.push({start:b.valueOf(),end:C.valueOf()})}}L.removeDuplicates(y);var f=L.isHidden(y.range.start,y.hiddenDates),u=L.isHidden(y.range.end,y.hiddenDates),l=y.range.start,p=y.range.end;1==f.hidden&&(l=1==y.range.startToFront?f.startDate-1:f.endDate+1),1==u.hidden&&(p=1==y.range.endToFront?u.startDate-1:u.endDate+1),(1==f.hidden||1==u.hidden)&&y.range._applyRange(l,p)}},L.removeDuplicates=function(R){for(var y=R.hiddenDates,x=[],E=0;E<y.length;E++)for(var T=0;T<y.length;T++)E!=T&&1!=y[T].remove&&1!=y[E].remove&&(y[T].start>=y[E].start&&y[T].end<=y[E].end?y[T].remove=!0:y[T].start>=y[E].start&&y[T].start<=y[E].end?(y[E].end=y[T].end,y[T].remove=!0):y[T].end>=y[E].start&&y[T].end<=y[E].end&&(y[E].start=y[T].start,y[T].remove=!0));for(E=0;E<y.length;E++)!0!==y[E].remove&&x.push(y[E]);R.hiddenDates=x,R.hiddenDates.sort(function(A,_){return A.start-_.start})},L.printDates=function(R){for(var y=0;y<R.length;y++)console.log(y,new Date(R[y].start),new Date(R[y].end),R[y].start,R[y].end,R[y].remove)},L.stepOverHiddenDates=function(R,y,x){for(var E=!1,T=y.current.valueOf(),A=0;A<y.hiddenDates.length;A++){var O=y.hiddenDates[A].end;if(T>=y.hiddenDates[A].start&&T<O){E=!0;break}}if(1==E&&T<y._end.valueOf()&&T!=x){var b=R(x),C=R(O);b.year()!=C.year()?y.switchedYear=!0:b.month()!=C.month()?y.switchedMonth=!0:b.dayOfYear()!=C.dayOfYear()&&(y.switchedDay=!0),y.current=C}},L.toScreen=function(R,y,x){var E;if(0==R.body.hiddenDates.length)return E=R.range.conversion(x),(y.valueOf()-E.offset)*E.scale;var T=L.isHidden(y,R.body.hiddenDates);1==T.hidden&&(y=T.startDate);var A=L.getHiddenDurationBetween(R.body.hiddenDates,R.range.start,R.range.end);if(y<R.range.start){E=R.range.conversion(x,A);var _=L.getHiddenDurationBeforeStart(R.body.hiddenDates,y,E.offset);return y=R.options.moment(y).toDate().valueOf(),-(E.offset-(y+=_).valueOf())*E.scale}return y>R.range.end?(y=L.correctTimeForHidden(R.options.moment,R.body.hiddenDates,{start:R.range.start,end:y},y),E=R.range.conversion(x,A),(y.valueOf()-E.offset)*E.scale):(y=L.correctTimeForHidden(R.options.moment,R.body.hiddenDates,R.range,y),E=R.range.conversion(x,A),(y.valueOf()-E.offset)*E.scale)},L.toTime=function(R,y,x){if(0==R.body.hiddenDates.length){var E=R.range.conversion(x);return new Date(y/E.scale+E.offset)}var T=L.getHiddenDurationBetween(R.body.hiddenDates,R.range.start,R.range.end),_=(R.range.end-R.range.start-T)*y/x,O=L.getAccumulatedHiddenDuration(R.body.hiddenDates,R.range,_);return new Date(O+_+R.range.start)},L.getHiddenDurationBetween=function(R,y,x){for(var E=0,T=0;T<R.length;T++){var A=R[T].start,_=R[T].end;A>=y&&_<x&&(E+=_-A)}return E},L.getHiddenDurationBeforeStart=function(R,y,x){for(var E=0,T=0;T<R.length;T++){var A=R[T].start,_=R[T].end;A>=y&&_<=x&&(E+=_-A)}return E},L.correctTimeForHidden=function(R,y,x,E){return(E=R(E).toDate().valueOf())-L.getHiddenDurationBefore(R,y,x,E)},L.getHiddenDurationBefore=function(R,y,x,E){var T=0;E=R(E).toDate().valueOf();for(var A=0;A<y.length;A++){var _=y[A].start,O=y[A].end;_>=x.start&&O<x.end&&E>=O&&(T+=O-_)}return T},L.getAccumulatedHiddenDuration=function(R,y,x){for(var E=0,T=0,A=y.start,_=0;_<R.length;_++){var O=R[_].start,b=R[_].end;if(O>=y.start&&b<y.end){if(T+=O-A,A=b,T>=x)break;E+=b-O}}return E},L.snapAwayFromHidden=function(R,y,x,E){var T=L.isHidden(y,R);return 1==T.hidden?x<0?1==E?T.startDate-(T.endDate-y)-1:T.startDate-1:1==E?T.endDate+(y-T.startDate)+1:T.endDate+1:y},L.isHidden=function(R,y){for(var x=0;x<y.length;x++){var E=y[x].start,T=y[x].end;if(R>=E&&R<T)return{hidden:!0,startDate:E,endDate:T}}return{hidden:!1,startDate:E,endDate:T}}},function(Y,L,D){L.onTouch=function(R,y){y.inputHandler=function(x){x.isFirst&&y(x)},R.on("hammer.input",y.inputHandler)},L.onRelease=function(R,y){return y.inputHandler=function(x){x.isFinal&&y(x)},R.on("hammer.input",y.inputHandler)},L.offTouch=function(R,y){R.off("hammer.input",y.inputHandler)},L.offRelease=L.offTouch,L.disablePreventDefaultVertically=function(R){return R.getTouchAction=function(){return["pan-y"]},R}},function(Y,L,D){var y=T(D(6)),E=T(D(8));function T(C){return C&&C.__esModule?C:{default:C}}var A=D(10),_=D(2),O=D(9);function b(C,v,m){this.id=null,this.parent=null,this.data=C,this.dom=null,this.conversion=v||{},this.options=m||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}b.prototype.stack=!0,b.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},b.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},b.prototype.setData=function(C){null!=C.group&&this.data.group!=C.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,C.group),this.parent&&(this.parent.stackDirty=!0),null!=C.subgroup&&this.data.subgroup!=C.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,C.subgroup),this.data=C,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},b.prototype.setParent=function(C){this.displayed?(this.hide(),this.parent=C,this.parent&&this.show()):this.parent=C},b.prototype.isVisible=function(C){return!1},b.prototype.show=function(){return!1},b.prototype.hide=function(){return!1},b.prototype.redraw=function(){},b.prototype.repositionX=function(){},b.prototype.repositionY=function(){},b.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var C=this,v=document.createElement("div");v.className="vis-drag-center",v.dragCenterItem=this;var m=new A(v);m.on("tap",function(h){C.parent.itemSet.body.emitter.emit("click",{event:h,item:C.id})}),m.on("doubletap",function(h){h.stopPropagation(),C.parent.itemSet._onUpdateItem(C),C.parent.itemSet.body.emitter.emit("doubleClick",{event:h,item:C.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(v,this.dom.dragLeft):this.dom.box.appendChild(v):this.dom.point&&this.dom.point.appendChild(v),this.dom.dragCenter=v}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},b.prototype._repaintDeleteButton=function(C){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var m=this,h=document.createElement("div");h.className=this.options.rtl?"vis-delete-rtl":"vis-delete",h.title="Delete this item",new A(h).on("tap",function(S){S.stopPropagation(),m.parent.removeFromDataSet(m)}),C.appendChild(h),this.dom.deleteButton=h}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},b.prototype._repaintOnItemUpdateTimeTooltip=function(C){if(this.options.tooltipOnItemUpdateTime){var u;if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var m=document.createElement("div");m.className="vis-onUpdateTime-tooltip",C.appendChild(m),this.dom.onItemUpdateTimeTooltip=m}this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?u=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(u="start: "+O(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(u+="<br> end: "+O(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=u)}},b.prototype._updateContents=function(C){var v,h,S,a,f=this.parent.itemSet.itemsData.get(this.id),u=this.dom.box||this.dom.point,l=u.getElementsByClassName("vis-item-visible-frame")[0];if(S=this.options.visibleFrameTemplate?(a=this.options.visibleFrameTemplate.bind(this))(f,u):"",l)if(S instanceof Object&&!(S instanceof Element))a(f,l);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(S)){if(S instanceof Element)l.innerHTML="",l.appendChild(S);else if(null!=S)l.innerHTML=S;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=S}if((v=this.options.template?(h=this.options.template.bind(this))(f,C,this.data):this.data.content)instanceof Object&&!(v instanceof Element))h(f,C);else if(this._contentToString(this.content)!==this._contentToString(v)){if(v instanceof Element)C.innerHTML="",C.appendChild(v);else if(null!=v)C.innerHTML=v;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=v}},b.prototype._updateDataAttributes=function(C){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var v=[];if(Array.isArray(this.options.dataAttributes))v=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;v=(0,E.default)(this.data)}for(var m=0;m<v.length;m++){var h=v[m],S=this.data[h];null!=S?C.setAttribute("data-"+h,S):C.removeAttribute("data-"+h)}}},b.prototype._updateStyle=function(C){this.style&&(_.removeCssText(C,this.style),this.style=null),this.data.style&&(_.addCssText(C,this.data.style),this.style=this.data.style)},b.prototype._contentToString=function(C){return"string"==typeof C?C:C&&"outerHTML"in C?C.outerHTML:C},b.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,y.default)(this.options.editable)&&(this.editable={},_.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||!0!==this.options.editable.overrideItems)&&this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,y.default)(this.data.editable)&&(this.editable={},_.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},b.prototype.getWidthLeft=function(){return 0},b.prototype.getWidthRight=function(){return 0},b.prototype.getTitle=function(){return this.data.title},Y.exports=b},function(Y,L){Y.exports=function(D,R){return{enumerable:!(1&D),configurable:!(2&D),writable:!(4&D),value:R}}},function(Y,L){var D=0,R=Math.random();Y.exports=function(y){return"Symbol(".concat(void 0===y?"":y,")_",(++D+R).toString(36))}},function(Y,L,D){var R=D(51);Y.exports=function(y){return Object(R(y))}},function(Y,L){L.f={}.propertyIsEnumerable},function(Y,L,D){function R(y){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(y)}R.prototype.setOptions=function(y){y&&void 0!==y.delay&&(this.delay=y.delay),y&&void 0!==y.max&&(this.max=y.max),this._flushIfNeeded()},R.extend=function(y,x){var E=new R(x);if(void 0!==y.flush)throw new Error("Target object already has a property flush");y.flush=function(){E.flush()};var T=[{name:"flush",original:void 0}];if(x&&x.replace)for(var A=0;A<x.replace.length;A++){var _=x.replace[A];T.push({name:_,original:y[_]}),E.replace(y,_)}return E._extended={object:y,methods:T},E},R.prototype.destroy=function(){if(this.flush(),this._extended){for(var y=this._extended.object,x=this._extended.methods,E=0;E<x.length;E++){var T=x[E];T.original?y[T.name]=T.original:delete y[T.name]}this._extended=null}},R.prototype.replace=function(y,x){var E=this,T=y[x];if(!T)throw new Error("Method "+x+" undefined");y[x]=function(){for(var A=[],_=0;_<arguments.length;_++)A[_]=arguments[_];E.queue({args:A,fn:T,context:this})}},R.prototype.queue=function(y){this._queue.push("function"==typeof y?{fn:y}:y),this._flushIfNeeded()},R.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var y=this;this._timeout=setTimeout(function(){y.flush()},this.delay)}},R.prototype.flush=function(){for(;this._queue.length>0;){var y=this._queue.shift();y.fn.apply(y.context||y.fn,y.args||[])}},Y.exports=R},function(Y,L){function D(y){if(y)return function(y){for(var x in D.prototype)y[x]=D.prototype[x];return y}(y)}Y.exports=D,D.prototype.on=D.prototype.addEventListener=function(y,x){return this._callbacks=this._callbacks||{},(this._callbacks[y]=this._callbacks[y]||[]).push(x),this},D.prototype.once=function(y,x){var E=this;function T(){E.off(y,T),x.apply(this,arguments)}return this._callbacks=this._callbacks||{},T.fn=x,this.on(y,T),this},D.prototype.off=D.prototype.removeListener=D.prototype.removeAllListeners=D.prototype.removeEventListener=function(y,x){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var E=this._callbacks[y];if(!E)return this;if(1==arguments.length)return delete this._callbacks[y],this;for(var T,A=0;A<E.length;A++)if((T=E[A])===x||T.fn===x){E.splice(A,1);break}return this},D.prototype.emit=function(y){this._callbacks=this._callbacks||{};var x=[].slice.call(arguments,1),E=this._callbacks[y];if(E)for(var T=0,A=(E=E.slice(0)).length;T<A;++T)E[T].apply(this,x);return this},D.prototype.listeners=function(y){return this._callbacks=this._callbacks||{},this._callbacks[y]||[]},D.prototype.hasListeners=function(y){return!!this.listeners(y).length}},function(Y,L,D){var v,y=(v=D(6))&&v.__esModule?v:{default:v};var E=D(2),T=D(16),A=D(66),_=D(36),O=D(9);function b(v,m){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:A.FORMAT,moment:O,timeAxis:null},this.options=E.extend({},this.defaultOptions),this.body=v,this._create(),this.setOptions(m)}(b.prototype=new T).setOptions=function(v){v&&(E.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,v),E.selectiveDeepExtend(["format"],this.options,v),"orientation"in v&&("string"==typeof v.orientation?this.options.orientation.axis=v.orientation:"object"===(0,y.default)(v.orientation)&&"axis"in v.orientation&&(this.options.orientation.axis=v.orientation.axis)),"locale"in v&&("function"==typeof O.locale?O.locale(v.locale):O.lang(v.locale)))},b.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},b.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},b.prototype.redraw=function(){var v=this.props,m=this.dom.foreground,h=this.dom.background,S="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,a=m.parentNode!==S;this._calculateCharSize();var u=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;v.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?v.minorCharHeight:0,v.majorLabelHeight=u?v.majorCharHeight:0,v.height=v.minorLabelHeight+v.majorLabelHeight,v.width=m.offsetWidth,v.minorLineHeight=this.body.domProps.root.height-v.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),v.minorLineWidth=1,v.majorLineHeight=v.minorLineHeight+v.majorLabelHeight,v.majorLineWidth=1;var l=m.nextSibling,p=h.nextSibling;return m.parentNode&&m.parentNode.removeChild(m),h.parentNode&&h.parentNode.removeChild(h),m.style.height=this.props.height+"px",this._repaintLabels(),l?S.insertBefore(m,l):S.appendChild(m),p?this.body.dom.backgroundVertical.insertBefore(h,p):this.body.dom.backgroundVertical.appendChild(h),this._isResized()||a},b.prototype._repaintLabels=function(){var v=this.options.orientation.axis,m=E.convert(this.body.range.start,"Number"),h=E.convert(this.body.range.end,"Number"),S=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),a=S-_.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,S);a-=this.body.util.toTime(0).valueOf();var f=new A(new Date(m),new Date(h),a,this.body.hiddenDates,this.options);f.setMoment(this.options.moment),this.options.format&&f.setFormat(this.options.format),this.options.timeAxis&&f.setScale(this.options.timeAxis),this.step=f;var u=this.dom;u.redundant.lines=u.lines,u.redundant.majorTexts=u.majorTexts,u.redundant.minorTexts=u.minorTexts,u.lines=[],u.majorTexts=[],u.minorTexts=[];var p,M,d,c,I,V,H,z,te,N=0,U=void 0,$=0,J=1e3;for(f.start(),p=f.getCurrent(),d=this.body.util.toScreen(p);f.hasNext()&&$<J;){switch($++,c=f.isMajor(),te=f.getClassName(),z=f.getLabelMinor(),M=d,f.next(),p=f.getCurrent(),f.isMajor(),V=N,N=(d=this.body.util.toScreen(p))-M,f.scale){case"week":I=!0;break;default:I=N>=.4*V}if(this.options.showMinorLabels&&I){var ie=this._repaintMinorText(M,z,v,te);ie.style.width=N+"px"}c&&this.options.showMajorLabels?(M>0&&(null==U&&(U=M),ie=this._repaintMajorText(M,f.getLabelMajor(),v,te)),H=this._repaintMajorLine(M,N,v,te)):I?H=this._repaintMinorLine(M,N,v,te):H&&(H.style.width=parseInt(H.style.width)+N+"px")}if($===J&&!C&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),C=!0),this.options.showMajorLabels){var ue=this.body.util.toTime(0),ye=f.getLabelMajor(ue);(null==U||ye.length*(this.props.majorCharWidth||10)+10<U)&&this._repaintMajorText(0,ye,v,te)}E.forEach(this.dom.redundant,function(be){for(;be.length;){var de=be.pop();de&&de.parentNode&&de.parentNode.removeChild(de)}})},b.prototype._repaintMinorText=function(v,m,h,S){var a=this.dom.redundant.minorTexts.shift();if(!a){var f=document.createTextNode("");(a=document.createElement("div")).appendChild(f),this.dom.foreground.appendChild(a)}return this.dom.minorTexts.push(a),a.innerHTML=m,a.style.top="top"==h?this.props.majorLabelHeight+"px":"0",this.options.rtl?(a.style.left="",a.style.right=v+"px"):a.style.left=v+"px",a.className="vis-text vis-minor "+S,a},b.prototype._repaintMajorText=function(v,m,h,S){var a=this.dom.redundant.majorTexts.shift();if(!a){var f=document.createElement("div");(a=document.createElement("div")).appendChild(f),this.dom.foreground.appendChild(a)}return a.childNodes[0].innerHTML=m,a.className="vis-text vis-major "+S,a.style.top="top"==h?"0":this.props.minorLabelHeight+"px",this.options.rtl?(a.style.left="",a.style.right=v+"px"):a.style.left=v+"px",this.dom.majorTexts.push(a),a},b.prototype._repaintMinorLine=function(v,m,h,S){var a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);var f=this.props;return a.style.top="top"==h?f.majorLabelHeight+"px":this.body.domProps.top.height+"px",a.style.height=f.minorLineHeight+"px",this.options.rtl?(a.style.left="",a.style.right=v-f.minorLineWidth/2+"px",a.className="vis-grid vis-vertical-rtl vis-minor "+S):(a.style.left=v-f.minorLineWidth/2+"px",a.className="vis-grid vis-vertical vis-minor "+S),a.style.width=m+"px",a},b.prototype._repaintMajorLine=function(v,m,h,S){var a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);var f=this.props;return a.style.top="top"==h?"0":this.body.domProps.top.height+"px",this.options.rtl?(a.style.left="",a.style.right=v-f.majorLineWidth/2+"px",a.className="vis-grid vis-vertical-rtl vis-major "+S):(a.style.left=v-f.majorLineWidth/2+"px",a.className="vis-grid vis-vertical vis-major "+S),a.style.height=f.majorLineHeight+"px",a.style.width=m+"px",a},b.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var C=!1;Y.exports=b},function(Y,L,D){var R=D(10),y=D(2),x=D(16),E=D(9),T=D(98);function A(_,O){this.body=_,this.defaultOptions={moment:E,locales:T,locale:"en",id:void 0,title:void 0},this.options=y.extend({},this.defaultOptions),this.customTime=O&&O.time?O.time:new Date,this.eventParams={},this.setOptions(O),this._create()}(A.prototype=new x).setOptions=function(_){_&&y.selectiveExtend(["moment","locale","locales","id"],this.options,_)},A.prototype._create=function(){var _=document.createElement("div");_["custom-time"]=this,_.className="vis-custom-time "+(this.options.id||""),_.style.position="absolute",_.style.top="0px",_.style.height="100%",this.bar=_;var O=document.createElement("div");function b(C){this.body.range._onMouseWheel(C)}O.style.position="relative",O.style.top="0px",O.style.left="-10px",O.style.height="100%",O.style.width="20px",O.addEventListener?(O.addEventListener("mousewheel",b.bind(this),!1),O.addEventListener("DOMMouseScroll",b.bind(this),!1)):O.attachEvent("onmousewheel",b.bind(this)),_.appendChild(O),this.hammer=new R(O),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:R.DIRECTION_HORIZONTAL})},A.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},A.prototype.redraw=function(){var _=this.body.dom.backgroundVertical;this.bar.parentNode!=_&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),_.appendChild(this.bar));var O=this.body.util.toScreen(this.customTime),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),b=this.options.locales.en);var C=this.options.title;return void 0===C?C=(C=b.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+C.substring(1):"function"==typeof C&&(C=C.call(this.customTime)),this.bar.style.left=O+"px",this.bar.title=C,!1},A.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},A.prototype.setCustomTime=function(_){this.customTime=y.convert(_,"Date"),this.redraw()},A.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},A.prototype.setCustomTitle=function(_){this.options.title=_},A.prototype._onDragStart=function(_){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,_.stopPropagation()},A.prototype._onDrag=function(_){if(this.eventParams.dragging){var O=this.body.util.toScreen(this.eventParams.customTime)+_.deltaX,b=this.body.util.toTime(O);this.setCustomTime(b),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:_}),_.stopPropagation()}},A.prototype._onDragEnd=function(_){!this.eventParams.dragging||(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:_}),_.stopPropagation())},A.customTimeFromTarget=function(_){for(var O=_.target;O;){if(O.hasOwnProperty("custom-time"))return O["custom-time"];O=O.parentNode}return null},Y.exports=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(H){return H&&H.__esModule?H:{default:H}}var A=D(2),_=D(117).default,O=D(48).default,b=D(193).default,C=D(200).default,v=D(201).default,m=D(202).default,h=D(203).default,S=D(204).default,a=D(205).default,f=D(206).default,u=D(207).default,l=D(208).default,p=D(209).default,M=D(210).default,d=D(211).default,c=D(212).default,w=D(213).default,N=D(15).printStyle,V=function(){function H(z,U,$,J,te,ie){(0,y.default)(this,H),this.options=A.bridgeObject(te),this.globalOptions=te,this.defaultOptions=ie,this.body=U,this.edges=[],this.id=void 0,this.imagelist=$,this.grouplist=J,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new _(this.body,this.options,!1),this.setOptions(z)}return(0,E.default)(H,[{key:"attachEdge",value:function(U){-1===this.edges.indexOf(U)&&this.edges.push(U)}},{key:"detachEdge",value:function(U){var $=this.edges.indexOf(U);-1!=$&&this.edges.splice($,1)}},{key:"setOptions",value:function(U){var $=this.options.shape;if(U){if(void 0!==U.id&&(this.id=U.id),void 0===this.id)throw new Error("Node must have an id");return H.checkMass(U,this.id),void 0!==U.x&&(null===U.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(U.x),this.predefinedPosition=!0)),void 0!==U.y&&(null===U.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(U.y),this.predefinedPosition=!0)),void 0!==U.size&&(this.baseSize=U.size),void 0!==U.value&&(U.value=parseFloat(U.value)),H.parseOptions(this.options,U,!0,this.globalOptions,this.grouplist),this.chooser=O.choosify("node",[U,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(U),this.updateShape($),void 0!==U.hidden||void 0!==U.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var U={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(U.borderWidth*=2,U.color=this.options.color.highlight.background,U.borderColor=this.options.color.highlight.border,U.shadow=this.options.shadow.enabled):this.hover&&(U.color=this.options.color.hover.background,U.borderColor=this.options.color.hover.border,U.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(U,this.options.id,this.selected,this.hover),!1===U.shadow&&(U.shadowColor!==this.options.shadow.color||U.shadowSize!==this.options.shadow.size||U.shadowX!==this.options.shadow.x||U.shadowY!==this.options.shadow.y)&&(U.shadow=!0)):U.shadow=this.options.shadow.enabled,U}},{key:"updateLabelModule",value:function(U){null==this.options.label&&(this.options.label=""),H.updateGroupOptions(this.options,U,this.grouplist);var $=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[U,this.options,$,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(U){if(U===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new b(this.options,this.body,this.labelModule);break;case"circle":this.shape=new C(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new m(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new h(this.options,this.body,this.labelModule);break;case"dot":this.shape=new S(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new a(this.options,this.body,this.labelModule);break;case"icon":this.shape=new f(this.options,this.body,this.labelModule);break;case"image":this.shape=new u(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new l(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new p(this.options,this.body,this.labelModule);break;case"star":this.shape=new M(this.options,this.body,this.labelModule);break;case"text":this.shape=new d(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new c(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new w(this.options,this.body,this.labelModule);break;default:this.shape=new a(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(U,$){return this.shape.distanceToBorder(U,$)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(U,$,J){if(void 0!==this.options.value){var te=this.options.scaling.customScalingFunction(U,$,J,this.options.value),ie=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+te*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+te*ie}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(U){var $=this.getFormattingValues();this.shape.draw(U,this.x,this.y,this.selected,this.hover,$)}},{key:"updateBoundingBox",value:function(U){this.shape.updateBoundingBox(this.x,this.y,U)}},{key:"resize",value:function(U){var $=this.getFormattingValues();this.shape.resize(U,this.selected,this.hover,$)}},{key:"getItemsOnPoint",value:function(U){var $=[];return this.labelModule.visible()&&O.pointInRect(this.labelModule.getSize(),U)&&$.push({nodeId:this.id,labelId:0}),O.pointInRect(this.shape.boundingBox,U)&&$.push({nodeId:this.id}),$}},{key:"isOverlappingWith",value:function(U){return this.shape.left<U.right&&this.shape.left+this.shape.width>U.left&&this.shape.top<U.bottom&&this.shape.top+this.shape.height>U.top}},{key:"isBoundingBoxOverlappingWith",value:function(U){return this.shape.boundingBox.left<U.right&&this.shape.boundingBox.right>U.left&&this.shape.boundingBox.top<U.bottom&&this.shape.boundingBox.bottom>U.top}}],[{key:"updateGroupOptions",value:function(U,$,J){if(void 0!==J){var te=U.group;if(void 0!==$&&void 0!==$.group&&te!==$.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof te||"string"==typeof te&&""!=te){var ue=J.get(te);A.selectiveNotDeepExtend(["font"],U,ue),U.color=A.parseColor(U.color)}}}},{key:"parseOptions",value:function(U,$){var J=arguments.length>2&&void 0!==arguments[2]&&arguments[2],te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ie=arguments[4];if(A.selectiveNotDeepExtend(["color","fixed","shadow"],U,$,J),H.checkMass($),A.mergeOptions(U,$,"shadow",te),null!=$.color){var ye=A.parseColor($.color);A.fillIfDefined(U.color,ye)}else!0===J&&null===$.color&&(U.color=A.bridgeObject(te.color));null!=$.fixed&&("boolean"==typeof $.fixed?(U.fixed.x=$.fixed,U.fixed.y=$.fixed):(void 0!==$.fixed.x&&"boolean"==typeof $.fixed.x&&(U.fixed.x=$.fixed.x),void 0!==$.fixed.y&&"boolean"==typeof $.fixed.y&&(U.fixed.y=$.fixed.y))),!0===J&&null===$.font&&(U.font=A.bridgeObject(te.font)),H.updateGroupOptions(U,$,ie),void 0!==$.scaling&&A.mergeOptions(U.scaling,$.scaling,"label",te.scaling)}},{key:"checkMass",value:function(U,$){if(void 0!==U.mass&&U.mass<=0){var J="";void 0!==$&&(J=" in node id: "+$),console.log("%cNegative or zero mass disallowed"+J+", setting mass to 1.",N),U.mass=1}}}]),H}();L.default=V},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=_(D(6)),E=_(D(0)),A=_(D(1));function _(C){return C&&C.__esModule?C:{default:C}}var O=D(2),b=function(){function C(){(0,E.default)(this,C)}return(0,A.default)(C,null,[{key:"choosify",value:function(m,h){var S=["node","edge","label"],a=!0,f=O.topMost(h,"chosen");if("boolean"==typeof f)a=f;else if("object"===(void 0===f?"undefined":(0,y.default)(f))){if(-1===S.indexOf(m))throw new Error("choosify: subOption '"+m+"' should be one of '"+S.join("', '")+"'");var u=O.topMost(h,["chosen",m]);("boolean"==typeof u||"function"==typeof u)&&(a=u)}return a}},{key:"pointInRect",value:function(m,h,S){if(m.width<=0||m.height<=0)return!1;if(void 0!==S){var a={x:h.x-S.x,y:h.y-S.y};if(0!==S.angle){var f=-S.angle;h={x:Math.cos(f)*a.x-Math.sin(f)*a.y,y:Math.sin(f)*a.x+Math.cos(f)*a.y}}else h=a}return m.left<h.x&&m.x+m.width>h.x&&m.top<h.y&&m.y+m.width>h.y}},{key:"isValidLabel",value:function(m){return"string"==typeof m&&""!==m}}]),C}();L.default=b},function(Y,L,D){D(125);for(var R=D(18),y=D(26),x=D(31),E=D(13)("toStringTag"),T="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),A=0;A<T.length;A++){var _=T[A],O=R[_],b=O&&O.prototype;b&&!b[E]&&y(b,E,_),x[_]=x.Array}},function(Y,L){var D={}.toString;Y.exports=function(R){return D.call(R).slice(8,-1)}},function(Y,L){Y.exports=function(D){if(null==D)throw TypeError("Can't call method on  "+D);return D}},function(Y,L){Y.exports=!0},function(Y,L,D){var R=D(32);Y.exports=function(y,x){if(!R(y))return y;var E,T;if(x&&"function"==typeof(E=y.toString)&&!R(T=E.call(y))||"function"==typeof(E=y.valueOf)&&!R(T=E.call(y))||!x&&"function"==typeof(E=y.toString)&&!R(T=E.call(y)))return T;throw TypeError("Can't convert object to primitive value")}},function(Y,L,D){var R=D(27),y=D(130),x=D(58),E=D(56)("IE_PROTO"),T=function(){},A="prototype",_=function(){var m,O=D(82)("iframe"),b=x.length;for(O.style.display="none",D(134).appendChild(O),O.src="javascript:",(m=O.contentWindow.document).open(),m.write("<script>document.F=Object<\/script>"),m.close(),_=m.F;b--;)delete _[A][x[b]];return _()};Y.exports=Object.create||function(b,C){var v;return null!==b?(T[A]=R(b),v=new T,T[A]=null,v[E]=b):v=_(),void 0===C?v:y(v,C)}},function(Y,L){var D=Math.ceil,R=Math.floor;Y.exports=function(y){return isNaN(y=+y)?0:(y>0?R:D)(y)}},function(Y,L,D){var R=D(57)("keys"),y=D(40);Y.exports=function(x){return R[x]||(R[x]=y(x))}},function(Y,L,D){var R=D(18),y="__core-js_shared__",x=R[y]||(R[y]={});Y.exports=function(E){return x[E]||(x[E]={})}},function(Y,L){Y.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(Y,L,D){var R=D(20).f,y=D(22),x=D(13)("toStringTag");Y.exports=function(E,T,A){E&&!y(E=A?E:E.prototype,x)&&R(E,x,{configurable:!0,value:T})}},function(Y,L,D){var R=D(135)(!0);D(79)(String,"String",function(y){this._t=String(y),this._i=0},function(){var E,y=this._t,x=this._i;return x>=y.length?{value:void 0,done:!0}:(E=R(y,x),this._i+=E.length,{value:E,done:!1})})},function(Y,L,D){L.f=D(13)},function(Y,L,D){var R=D(18),y=D(7),x=D(52),E=D(61),T=D(20).f;Y.exports=function(A){var _=y.Symbol||(y.Symbol=x?{}:R.Symbol||{});"_"!=A.charAt(0)&&!(A in _)&&T(_,A,{value:E.f(A)})}},function(Y,L){L.f=Object.getOwnPropertySymbols},function(Y,L,D){var y=_(D(8)),E=_(D(19)),A=_(D(6));function _(S){return S&&S.__esModule?S:{default:S}}var O=D(2),b=D(9),C=D(16),v=D(36);function m(S,a){var f=b().hours(0).minutes(0).seconds(0).milliseconds(0),u=f.clone().add(-3,"days").valueOf(),l=f.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===a?(this.start=u,this.end=l):(this.start=a.start||u,this.end=a.end||l),this.rolling=!1,this.body=S,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:b,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=O.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(a)}function h(S){if("horizontal"!=S&&"vertical"!=S)throw new TypeError('Unknown direction "'+S+'". Choose "horizontal" or "vertical".')}(m.prototype=new C).setOptions=function(S){S&&(O.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,S),S.rollingMode&&S.rollingMode.follow&&this.startRolling(),("start"in S||"end"in S)&&this.setRange(S.start,S.end))},m.prototype.startRolling=function(){var S=this;!function a(){S.stopRolling(),S.rolling=!0;var f=S.end-S.start,u=O.convert(new Date,"Date").valueOf();S.setRange(u-f*S.options.rollingMode.offset,u+f*(1-S.options.rollingMode.offset),{animation:!1}),(f=1/S.conversion(S.body.domProps.center.width).scale/10)<30&&(f=30),f>1e3&&(f=1e3),S.body.dom.rollingModeBtn.style.visibility="hidden",S.currentTimeTimer=setTimeout(a,f)}()},m.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},m.prototype.setRange=function(S,a,f,u,l){f||(f={}),!0!==f.byUser&&(f.byUser=!1);var p=this,M=null!=S?O.convert(S,"Date").valueOf():null,d=null!=a?O.convert(a,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,f.animation){var c=this.start,w=this.end,I="object"===(0,A.default)(f.animation)&&"duration"in f.animation?f.animation.duration:500,N="object"===(0,A.default)(f.animation)&&"easingFunction"in f.animation?f.animation.easingFunction:"easeInOutQuad",V=O.easingFunctions[N];if(!V)throw new Error("Unknown easing function "+(0,E.default)(N)+". Choose from: "+(0,y.default)(O.easingFunctions).join(", "));var H=(new Date).valueOf(),z=!1;return function te(){if(!p.props.touch.dragging){var ue=(new Date).valueOf()-H,ye=V(ue/I),ve=ue>I;$=p._applyRange(ve||null===M?M:c+(M-c)*ye,ve||null===d?d:w+(d-w)*ye),v.updateHiddenDates(p.options.moment,p.body,p.options.hiddenDates),z=z||$;var re={start:new Date(p.start),end:new Date(p.end),byUser:f.byUser,event:f.event};if(l&&l(ye,$,ve),$&&p.body.emitter.emit("rangechange",re),ve){if(z&&(p.body.emitter.emit("rangechanged",re),u))return u()}else p.animationTimer=setTimeout(te,20)}}()}var $=this._applyRange(M,d);if(v.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),$){var J={start:new Date(this.start),end:new Date(this.end),byUser:f.byUser,event:f.event};if(this.body.emitter.emit("rangechange",J),clearTimeout(p.timeoutID),p.timeoutID=setTimeout(function(){p.body.emitter.emit("rangechanged",J)},200),u)return u()}},m.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},m.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},m.prototype._applyRange=function(S,a){var M,f=null!=S?O.convert(S,"Date").valueOf():this.start,u=null!=a?O.convert(a,"Date").valueOf():this.end,l=null!=this.options.max?O.convert(this.options.max,"Date").valueOf():null,p=null!=this.options.min?O.convert(this.options.min,"Date").valueOf():null;if(isNaN(f)||null===f)throw new Error('Invalid start "'+S+'"');if(isNaN(u)||null===u)throw new Error('Invalid end "'+a+'"');if(u<f&&(u=f),null!==p&&f<p&&(f+=M=p-f,u+=M,null!=l&&u>l&&(u=l)),null!==l&&u>l&&(f-=M=u-l,u-=M,null!=p&&f<p&&(f=p)),null!==this.options.zoomMin){var d=parseFloat(this.options.zoomMin);d<0&&(d=0),u-f<d&&(this.end-this.start===d&&f>=this.start-.5&&u<=this.end?(f=this.start,u=this.end):(f-=(M=d-(u-f))/2,u+=M/2))}if(null!==this.options.zoomMax){var w=parseFloat(this.options.zoomMax);w<0&&(w=0),u-f>w&&(this.end-this.start===w&&f<this.start&&u>this.end?(f=this.start,u=this.end):(f+=(M=u-f-w)/2,u-=M/2))}var I=this.start!=f||this.end!=u;return!(f>=this.start&&f<=this.end||u>=this.start&&u<=this.end)&&!(this.start>=f&&this.start<=u||this.end>=f&&this.end<=u)&&this.body.emitter.emit("checkRangedItems"),this.start=f,this.end=u,I},m.prototype.getRange=function(){return{start:this.start,end:this.end}},m.prototype.conversion=function(S,a){return m.conversion(this.start,this.end,S,a)},m.conversion=function(S,a,f,u){return void 0===u&&(u=0),0!=f&&a-S!=0?{offset:S,scale:f/(a-S-u)}:{offset:0,scale:1}},m.prototype._onDragStart=function(S){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&(!this._isInsideRange(S)||!this.props.touch.allowDragging||(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move")))},m.prototype._onDrag=function(S){if(S&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var a=this.options.direction;h(a);var f="horizontal"==a?S.deltaX:S.deltaY;f-=this.deltaDifference;var u=this.props.touch.end-this.props.touch.start;u-=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var M,p="horizontal"==a?this.body.domProps.center.width:this.body.domProps.center.height,d=this.props.touch.start+(M=this.options.rtl?f/p*u:-f/p*u),c=this.props.touch.end+M,w=v.snapAwayFromHidden(this.body.hiddenDates,d,this.previousDelta-f,!0),I=v.snapAwayFromHidden(this.body.hiddenDates,c,this.previousDelta-f,!0);if(w!=d||I!=c)return this.deltaDifference+=f,this.props.touch.start=w,this.props.touch.end=I,void this._onDrag(S);this.previousDelta=f,this._applyRange(d,c);var N=new Date(this.start),V=new Date(this.end);this.body.emitter.emit("rangechange",{start:N,end:V,byUser:!0,event:S}),this.body.emitter.emit("panmove")}},m.prototype._onDragEnd=function(S){!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging||(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:S}))},m.prototype._onMouseWheel=function(S){var a=0;if(S.wheelDelta?a=S.wheelDelta/120:S.detail&&(a=-S.detail/3),!(this.options.zoomKey&&!S[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(S)&&a){var f,u;if(f=a<0?1-a/5:1/(1+a/5),this.rolling)u=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var l=this.getPointer({x:S.clientX,y:S.clientY},this.body.dom.center);u=this._pointerToDate(l)}this.zoom(f,u,a,S),S.preventDefault()}},m.prototype._onTouch=function(S){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,O.preventDefault(S)},m.prototype._onPinch=function(S){if(this.options.zoomable&&this.options.moveable){O.preventDefault(S),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(S.center,this.body.dom.center)),this.stopRolling();var a=1/(S.scale+this.scaleOffset),f=this._pointerToDate(this.props.touch.center),u=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),l=v.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,f),p=u-l,M=f-l+(this.props.touch.start-(f-l))*a,d=f+p+(this.props.touch.end-(f+p))*a;this.startToFront=1-a<=0,this.endToFront=a-1<=0;var c=v.snapAwayFromHidden(this.body.hiddenDates,M,1-a,!0),w=v.snapAwayFromHidden(this.body.hiddenDates,d,a-1,!0);(c!=M||w!=d)&&(this.props.touch.start=c,this.props.touch.end=w,this.scaleOffset=1-S.scale,M=c,d=w),this.setRange(M,d,{animation:!1,byUser:!0,event:S}),this.startToFront=!1,this.endToFront=!0}},m.prototype._isInsideRange=function(S){var f,a=S.center?S.center.x:S.clientX;f=this.options.rtl?a-O.getAbsoluteLeft(this.body.dom.centerContainer):O.getAbsoluteRight(this.body.dom.centerContainer)-a;var u=this.body.util.toTime(f);return u>=this.start&&u<=this.end},m.prototype._pointerToDate=function(S){var a,f=this.options.direction;return h(f),"horizontal"==f?this.body.util.toTime(S.x).valueOf():(a=this.conversion(this.body.domProps.center.height),S.y/a.scale+a.offset)},m.prototype.getPointer=function(S,a){return this.options.rtl?{x:O.getAbsoluteRight(a)-S.x,y:S.y-O.getAbsoluteTop(a)}:{x:S.x-O.getAbsoluteLeft(a),y:S.y-O.getAbsoluteTop(a)}},m.prototype.zoom=function(S,a,f,u){null==a&&(a=(this.start+this.end)/2);var l=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),p=v.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,a),M=l-p,d=a-p+(this.start-(a-p))*S,c=a+M+(this.end-(a+M))*S;this.startToFront=!(f>0),this.endToFront=!(-f>0);var w=v.snapAwayFromHidden(this.body.hiddenDates,d,f,!0),I=v.snapAwayFromHidden(this.body.hiddenDates,c,-f,!0);(w!=d||I!=c)&&(d=w,c=I),this.setRange(d,c,{animation:!1,byUser:!0,event:u}),this.startToFront=!1,this.endToFront=!0},m.prototype.move=function(S){var a=this.end-this.start,u=this.end+a*S;this.start=this.start+a*S,this.end=u},m.prototype.moveTo=function(S){var f=(this.start+this.end)/2-S;this.setRange(this.start-f,this.end-f,{animation:!1,byUser:!0,event:null})},Y.exports=m},function(Y,L,D){var y=T(D(19)),E=T(D(6));function T(a){return a&&a.__esModule?a:{default:a}}var A=D(44),_=D(10),O=D(37),b=D(2),C=D(45),v=D(97),m=D(36),h=D(46);function S(){}A(S.prototype),S.prototype._create=function(a){this.dom={},this.dom.container=a,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var f=this;this._origRedraw=this._redraw.bind(this),this._redraw=b.throttle(this._origRedraw),this.on("_change",function(I){f.itemSet&&f.itemSet.initialItemSetDrawn&&I&&1==I.queue?f._redraw():f._origRedraw()}),this.hammer=new _(this.dom.root);var u=this.hammer.get("pinch").set({enable:!0});function p(I){this.isActive()&&this.emit("mousewheel",I);var N=0,V=0;if("detail"in I&&(V=-1*I.detail),"wheelDelta"in I&&(V=I.wheelDelta),"wheelDeltaY"in I&&(V=I.wheelDeltaY),"wheelDeltaX"in I&&(N=-1*I.wheelDeltaX),"axis"in I&&I.axis===I.HORIZONTAL_AXIS&&(N=-1*V,V=0),"deltaY"in I&&(V=-1*I.deltaY),"deltaX"in I&&(N=I.deltaX),this.options.zoomKey&&!I[this.options.zoomKey])if(I.preventDefault(),this.options.verticalScroll&&Math.abs(V)>=Math.abs(N)){var z=this.props.scrollTop+V;this.isActive()&&(this._setScrollTop(z),this._redraw(),this.emit("scroll",I))}else if(this.options.horizontalScroll){var $=(Math.abs(N)>=Math.abs(V)?N:V)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+$,this.range.end+$,{animation:!1,byUser:!0,event:I})}}function M(I){f.options.verticalScroll&&(I.preventDefault(),f.isActive())&&(f._setScrollTop(-I.target.scrollTop),f._redraw(),f.emit("scrollSide",I))}O.disablePreventDefaultVertically(u),this.hammer.get("pan").set({threshold:5,direction:_.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(I){var N=function(H){f.isActive()&&f.emit(I,H)};f.hammer.on(I,N),f.listeners[I]=N}),O.onTouch(this.hammer,function(I){f.emit("touch",I)}.bind(this)),O.onRelease(this.hammer,function(I){f.emit("release",I)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",p.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",p.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",p.bind(this)),this.dom.left.parentNode.addEventListener("scroll",M.bind(this)),this.dom.right.parentNode.addEventListener("scroll",M.bind(this));var d=!1;if(this.dom.center.addEventListener("dragover",function(I){if(I.preventDefault&&I.preventDefault(),!(!I.target.className.indexOf("vis")>-1||d))return I.dataTransfer.dropEffect="move",d=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(I){I.preventDefault&&I.preventDefault(),I.stopPropagation&&I.stopPropagation();try{var N=JSON.parse(I.dataTransfer.getData("text"));if(!N||!N.content)return}catch(V){return!1}return d=!1,I.center={x:I.clientX,y:I.clientY},"item"!==N.target?f.itemSet._onAddItem(I):f.itemSet._onDropObjectOnItem(I),f.emit("drop",f.getEventProperties(I)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!a)throw new Error("No container provided");a.appendChild(this.dom.root)},S.prototype.setOptions=function(a){if(a){if(b.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,a),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,E.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in a&&("string"==typeof a.orientation?this.options.orientation={item:a.orientation,axis:a.orientation}:"object"===(0,E.default)(a.orientation)&&("item"in a.orientation&&(this.options.orientation.item=a.orientation.item),"axis"in a.orientation&&(this.options.orientation.axis=a.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var u=this.timeAxis2=new C(this.body);u.setOptions=function(M){var d=M?b.extend({},M):{};d.orientation="top",C.prototype.setOptions.call(u,d)},this.components.push(u)}}else if(this.timeAxis2){var l=this.components.indexOf(this.timeAxis2);-1!==l&&this.components.splice(l,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof a.drawPoints&&(a.drawPoints={onRender:a.drawPoints}),"hiddenDates"in this.options&&m.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in a&&(a.clickToUse?this.activator||(this.activator=new v(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in a)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(M){return M.setOptions(a)}),"configure"in a){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(a.configure);var p=b.deepExtend({},this.options);this.components.forEach(function(M){b.deepExtend(p,M.options)}),this.configurator.setModuleOptions({global:p})}this._redraw()},S.prototype.isActive=function(){return!this.activator||this.activator.active},S.prototype.destroy=function(){for(var a in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.listeners=null,this.hammer=null,this.components.forEach(function(f){return f.destroy()}),this.body=null},S.prototype.setCustomTime=function(a,f){var u=this.customTimes.filter(function(l){return f===l.options.id});if(0===u.length)throw new Error("No custom time bar found with id "+(0,y.default)(f));u.length>0&&u[0].setCustomTime(a)},S.prototype.getCustomTime=function(a){var f=this.customTimes.filter(function(u){return u.options.id===a});if(0===f.length)throw new Error("No custom time bar found with id "+(0,y.default)(a));return f[0].getCustomTime()},S.prototype.setCustomTimeTitle=function(a,f){var u=this.customTimes.filter(function(l){return l.options.id===f});if(0===u.length)throw new Error("No custom time bar found with id "+(0,y.default)(f));if(u.length>0)return u[0].setCustomTitle(a)},S.prototype.getEventProperties=function(a){return{event:a}},S.prototype.addCustomTime=function(a,f){var u=void 0!==a?b.convert(a,"Date").valueOf():new Date;if(this.customTimes.some(function(M){return M.options.id===f}))throw new Error("A custom time with id "+(0,y.default)(f)+" already exists");var p=new h(this.body,b.extend({},this.options,{time:u,id:f}));return this.customTimes.push(p),this.components.push(p),this._redraw(),f},S.prototype.removeCustomTime=function(a){var f=this.customTimes.filter(function(u){return u.options.id===a});if(0===f.length)throw new Error("No custom time bar found with id "+(0,y.default)(a));f.forEach(function(u){this.customTimes.splice(this.customTimes.indexOf(u),1),this.components.splice(this.components.indexOf(u),1),u.destroy()}.bind(this))},S.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},S.prototype.fit=function(a,f){var u=this.getDataRange();if(null!==u.min||null!==u.max){var l=u.max-u.min,p=new Date(u.min.valueOf()-.01*l),M=new Date(u.max.valueOf()+.01*l);this.range.setRange(p,M,{animation:!a||void 0===a.animation||a.animation},f)}},S.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},S.prototype.setWindow=function(a,f,u,l){var M;"function"==typeof arguments[2]&&(l=arguments[2],u={}),1==arguments.length?this.range.setRange((M=arguments[0]).start,M.end,{animation:void 0===M.animation||M.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((M=arguments[0]).start,M.end,{animation:void 0===M.animation||M.animation},l=arguments[1]):this.range.setRange(a,f,{animation:!u||void 0===u.animation||u.animation},l)},S.prototype.moveTo=function(a,f,u){"function"==typeof arguments[1]&&(u=arguments[1],f={});var l=this.range.end-this.range.start,p=b.convert(a,"Date").valueOf();this.range.setRange(p-l/2,p+l/2,{animation:!f||void 0===f.animation||f.animation},u)},S.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}},S.prototype.zoomIn=function(a,f,u){if(!(!a||a<0||a>1)){"function"==typeof arguments[1]&&(u=arguments[1],f={});var l=this.getWindow(),p=l.start.valueOf(),M=l.end.valueOf(),d=M-p,w=(d-d/(1+a))/2;this.setWindow(p+w,M-w,f,u)}},S.prototype.zoomOut=function(a,f,u){if(!(!a||a<0||a>1)){"function"==typeof arguments[1]&&(u=arguments[1],f={});var l=this.getWindow(),p=l.start.valueOf(),M=l.end.valueOf(),d=M-p;this.setWindow(p-d*a/2,M+d*a/2,f,u)}},S.prototype.redraw=function(){this._redraw()},S.prototype._redraw=function(){this.redrawCount++;var a=!1,f=this.options,u=this.props,l=this.dom;if(l&&l.container&&0!=l.root.offsetWidth){m.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==f.orientation?(b.addClassName(l.root,"vis-top"),b.removeClassName(l.root,"vis-bottom")):(b.removeClassName(l.root,"vis-top"),b.addClassName(l.root,"vis-bottom")),l.root.style.maxHeight=b.option.asSize(f.maxHeight,""),l.root.style.minHeight=b.option.asSize(f.minHeight,""),l.root.style.width=b.option.asSize(f.width,""),u.border.left=(l.centerContainer.offsetWidth-l.centerContainer.clientWidth)/2,u.border.right=u.border.left,u.border.top=(l.centerContainer.offsetHeight-l.centerContainer.clientHeight)/2,u.border.bottom=u.border.top,u.borderRootHeight=l.root.offsetHeight-l.root.clientHeight,u.borderRootWidth=l.root.offsetWidth-l.root.clientWidth,0===l.centerContainer.clientHeight&&(u.border.left=u.border.top,u.border.right=u.border.left),0===l.root.clientHeight&&(u.borderRootWidth=u.borderRootHeight),u.center.height=l.center.offsetHeight,u.left.height=l.left.offsetHeight,u.right.height=l.right.offsetHeight,u.top.height=l.top.clientHeight||-u.border.top,u.bottom.height=l.bottom.clientHeight||-u.border.bottom;var p=Math.max(u.left.height,u.center.height,u.right.height);l.root.style.height=b.option.asSize(f.height,u.top.height+p+u.bottom.height+u.borderRootHeight+u.border.top+u.border.bottom+"px"),u.root.height=l.root.offsetHeight,u.background.height=u.root.height-u.borderRootHeight;var d=u.root.height-u.top.height-u.bottom.height-u.borderRootHeight;u.centerContainer.height=d,u.leftContainer.height=d,u.rightContainer.height=u.leftContainer.height,u.root.width=l.root.offsetWidth,u.background.width=u.root.width-u.borderRootWidth,this.initialDrawDone||(u.scrollbarWidth=b.getScrollBarWidth()),f.verticalScroll?f.rtl?(u.left.width=l.leftContainer.clientWidth||-u.border.left,u.right.width=l.rightContainer.clientWidth+u.scrollbarWidth||-u.border.right):(u.left.width=l.leftContainer.clientWidth+u.scrollbarWidth||-u.border.left,u.right.width=l.rightContainer.clientWidth||-u.border.right):(u.left.width=l.leftContainer.clientWidth||-u.border.left,u.right.width=l.rightContainer.clientWidth||-u.border.right),this._setDOM();var c=this._updateScrollTop();"top"!=f.orientation.item&&(c+=Math.max(u.centerContainer.height-u.center.height-u.border.top-u.border.bottom,0)),l.center.style.top=c+"px";var w=0==u.scrollTop?"hidden":"",I=u.scrollTop==u.scrollTopMin?"hidden":"";l.shadowTop.style.visibility=w,l.shadowBottom.style.visibility=I,l.shadowTopLeft.style.visibility=w,l.shadowBottomLeft.style.visibility=I,l.shadowTopRight.style.visibility=w,l.shadowBottomRight.style.visibility=I,f.verticalScroll&&(l.rightContainer.className="vis-panel vis-right vis-vertical-scroll",l.leftContainer.className="vis-panel vis-left vis-vertical-scroll",l.shadowTopRight.style.visibility="hidden",l.shadowBottomRight.style.visibility="hidden",l.shadowTopLeft.style.visibility="hidden",l.shadowBottomLeft.style.visibility="hidden",l.left.style.top="0px",l.right.style.top="0px"),(!f.verticalScroll||u.center.height<u.centerContainer.height)&&(l.left.style.top=c+"px",l.right.style.top=c+"px",l.rightContainer.className=l.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),l.leftContainer.className=l.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),u.left.width=l.leftContainer.clientWidth||-u.border.left,u.right.width=l.rightContainer.clientWidth||-u.border.right,this._setDOM());var N=u.center.height>u.centerContainer.height;if(this.hammer.get("pan").set({direction:N?_.DIRECTION_ALL:_.DIRECTION_HORIZONTAL}),this.components.forEach(function(H){a=H.redraw()||a}),a){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},S.prototype._setDOM=function(){var a=this.props,f=this.dom;a.leftContainer.width=a.left.width,a.rightContainer.width=a.right.width;var u=a.root.width-a.left.width-a.right.width-a.borderRootWidth;a.center.width=u,a.centerContainer.width=u,a.top.width=u,a.bottom.width=u,f.background.style.height=a.background.height+"px",f.backgroundVertical.style.height=a.background.height+"px",f.backgroundHorizontal.style.height=a.centerContainer.height+"px",f.centerContainer.style.height=a.centerContainer.height+"px",f.leftContainer.style.height=a.leftContainer.height+"px",f.rightContainer.style.height=a.rightContainer.height+"px",f.background.style.width=a.background.width+"px",f.backgroundVertical.style.width=a.centerContainer.width+"px",f.backgroundHorizontal.style.width=a.background.width+"px",f.centerContainer.style.width=a.center.width+"px",f.top.style.width=a.top.width+"px",f.bottom.style.width=a.bottom.width+"px",f.background.style.left="0",f.background.style.top="0",f.backgroundVertical.style.left=a.left.width+a.border.left+"px",f.backgroundVertical.style.top="0",f.backgroundHorizontal.style.left="0",f.backgroundHorizontal.style.top=a.top.height+"px",f.centerContainer.style.left=a.left.width+"px",f.centerContainer.style.top=a.top.height+"px",f.leftContainer.style.left="0",f.leftContainer.style.top=a.top.height+"px",f.rightContainer.style.left=a.left.width+a.center.width+"px",f.rightContainer.style.top=a.top.height+"px",f.top.style.left=a.left.width+"px",f.top.style.top="0",f.bottom.style.left=a.left.width+"px",f.bottom.style.top=a.top.height+a.centerContainer.height+"px",f.center.style.left="0",f.left.style.left="0",f.right.style.left="0"},S.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},S.prototype.setCurrentTime=function(a){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)},S.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},S.prototype._toTime=function(a){return m.toTime(this,a,this.props.center.width)},S.prototype._toGlobalTime=function(a){return m.toTime(this,a,this.props.root.width)},S.prototype._toScreen=function(a){return m.toScreen(this,a,this.props.center.width)},S.prototype._toGlobalScreen=function(a){return m.toScreen(this,a,this.props.root.width)},S.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},S.prototype._startAutoResize=function(){var a=this;this._stopAutoResize(),this._onResize=function(){1==a.options.autoResize?a.dom.root&&(a.dom.root.offsetWidth!=a.props.lastWidth||a.dom.root.offsetHeight!=a.props.lastHeight)&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight,a.props.scrollbarWidth=b.getScrollBarWidth(),a.body.emitter.emit("_change")):a._stopAutoResize()},b.addEventListener(window,"resize",this._onResize),a.dom.root&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},S.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(b.removeEventListener(window,"resize",this._onResize),this._onResize=null)},S.prototype._onTouch=function(a){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},S.prototype._onPinch=function(a){this.touch.allowDragging=!1},S.prototype._onDrag=function(a){if(a&&this.touch.allowDragging){var f=a.deltaY,u=this._getScrollTop(),l=this._setScrollTop(this.touch.initialScrollTop+f);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),l!=u&&this.emit("verticalDrag")}},S.prototype._setScrollTop=function(a){return this.props.scrollTop=a,this._updateScrollTop(),this.props.scrollTop},S.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);return a!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<a&&(this.props.scrollTop=a),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},S.prototype._getScrollTop=function(){return this.props.scrollTop},S.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},Y.exports=S},function(Y,L,D){var R=D(9),y=D(36),x=D(2);function E(T,A,_,O,b){this.moment=R,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(T,A,_),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(O)?O:null!=O?[O]:[],this.format=E.FORMAT,this.options=b||{}}E.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},E.prototype.setMoment=function(T){this.moment=T,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},E.prototype.setFormat=function(T){var A=x.deepExtend({},E.FORMAT);this.format=x.deepExtend(A,T)},E.prototype.setRange=function(T,A,_){if(!(T instanceof Date&&A instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=T?this.moment(T.valueOf()):new Date,this._end=null!=A?this.moment(A.valueOf()):new Date,this.autoScale&&this.setMinimumStep(_)},E.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},E.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},E.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},E.prototype.next=function(){var T=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var A=this.current.clone();A.add(1,"week"),A.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==T&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,y.stepOverHiddenDates(this.moment,this,T)},E.prototype.getCurrent=function(){return this.current},E.prototype.setScale=function(T){T&&"string"==typeof T.scale&&(this.scale=T.scale,this.step=T.step>0?T.step:1,this.autoScale=!1)},E.prototype.setAutoScale=function(T){this.autoScale=T},E.prototype.setMinimumStep=function(T){if(null!=T){var A=31104e6,_=2592e6,O=864e5,b=36e5,C=6e4,v=1e3;1e3*A>T&&(this.scale="year",this.step=1e3),500*A>T&&(this.scale="year",this.step=500),100*A>T&&(this.scale="year",this.step=100),50*A>T&&(this.scale="year",this.step=50),10*A>T&&(this.scale="year",this.step=10),5*A>T&&(this.scale="year",this.step=5),A>T&&(this.scale="year",this.step=1),3*_>T&&(this.scale="month",this.step=3),_>T&&(this.scale="month",this.step=1),5*O>T&&(this.scale="day",this.step=5),2*O>T&&(this.scale="day",this.step=2),O>T&&(this.scale="day",this.step=1),O/2>T&&(this.scale="weekday",this.step=1),4*b>T&&(this.scale="hour",this.step=4),b>T&&(this.scale="hour",this.step=1),15*C>T&&(this.scale="minute",this.step=15),10*C>T&&(this.scale="minute",this.step=10),5*C>T&&(this.scale="minute",this.step=5),C>T&&(this.scale="minute",this.step=1),15*v>T&&(this.scale="second",this.step=15),10*v>T&&(this.scale="second",this.step=10),5*v>T&&(this.scale="second",this.step=5),v>T&&(this.scale="second",this.step=1),200>T&&(this.scale="millisecond",this.step=200),100>T&&(this.scale="millisecond",this.step=100),50>T&&(this.scale="millisecond",this.step=50),10>T&&(this.scale="millisecond",this.step=10),5>T&&(this.scale="millisecond",this.step=5),1>T&&(this.scale="millisecond",this.step=1)}},E.snap=function(T,A,_){var O=R(T);if("year"==A){var b=O.year()+Math.round(O.month()/12);O.year(Math.round(b/_)*_),O.month(0),O.date(0),O.hours(0),O.minutes(0),O.seconds(0),O.milliseconds(0)}else if("month"==A)O.date()>15?(O.date(1),O.add(1,"month")):O.date(1),O.hours(0),O.minutes(0),O.seconds(0),O.milliseconds(0);else if("week"==A)O.weekday()>2?(O.weekday(0),O.add(1,"week")):O.weekday(0),O.hours(0),O.minutes(0),O.seconds(0),O.milliseconds(0);else if("day"==A){switch(_){case 5:case 2:O.hours(24*Math.round(O.hours()/24));break;default:O.hours(12*Math.round(O.hours()/12))}O.minutes(0),O.seconds(0),O.milliseconds(0)}else if("weekday"==A){switch(_){case 5:case 2:O.hours(12*Math.round(O.hours()/12));break;default:O.hours(6*Math.round(O.hours()/6))}O.minutes(0),O.seconds(0),O.milliseconds(0)}else if("hour"==A){switch(_){case 4:O.minutes(60*Math.round(O.minutes()/60));break;default:O.minutes(30*Math.round(O.minutes()/30))}O.seconds(0),O.milliseconds(0)}else if("minute"==A){switch(_){case 15:case 10:O.minutes(5*Math.round(O.minutes()/5)),O.seconds(0);break;case 5:O.seconds(60*Math.round(O.seconds()/60));break;default:O.seconds(30*Math.round(O.seconds()/30))}O.milliseconds(0)}else if("second"==A)switch(_){case 15:case 10:O.seconds(5*Math.round(O.seconds()/5)),O.milliseconds(0);break;case 5:O.milliseconds(1e3*Math.round(O.milliseconds()/1e3));break;default:O.milliseconds(500*Math.round(O.milliseconds()/500))}else if("millisecond"==A){var C=_>5?_/2:1;O.milliseconds(Math.round(O.milliseconds()/C)*C)}return O},E.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var T=this.moment(this.current);switch(this.scale){case"millisecond":return 0==T.milliseconds();case"second":return 0==T.seconds();case"minute":return 0==T.hours()&&0==T.minutes();case"hour":return 0==T.hours();case"weekday":case"day":case"week":return 1==T.date();case"month":return 0==T.month();case"year":default:return!1}},E.prototype.getLabelMinor=function(T){if(null==T&&(T=this.current),T instanceof Date&&(T=this.moment(T)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(T,this.scale,this.step);var A=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==T.weekday())return"";default:return A&&A.length>0?this.moment(T).format(A):""}},E.prototype.getLabelMajor=function(T){if(null==T&&(T=this.current),T instanceof Date&&(T=this.moment(T)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(T,this.scale,this.step);var A=this.format.majorLabels[this.scale];return A&&A.length>0?this.moment(T).format(A):""},E.prototype.getClassName=function(){var T=this.moment,A=this.moment(this.current),_=A.locale?A.locale("en"):A.lang("en"),O=this.step,b=[];function C(a){return a/O%2==0?" vis-even":" vis-odd"}function v(a){return a.isSame(new Date,"day")?" vis-today":a.isSame(T().add(1,"day"),"day")?" vis-tomorrow":a.isSame(T().add(-1,"day"),"day")?" vis-yesterday":""}function m(a){return a.isSame(new Date,"week")?" vis-current-week":""}function h(a){return a.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":b.push(v(_)),b.push(C(_.milliseconds()));break;case"second":b.push(v(_)),b.push(C(_.seconds()));break;case"minute":b.push(v(_)),b.push(C(_.minutes()));break;case"hour":b.push("vis-h"+_.hours()+(4==this.step?"-h"+(_.hours()+4):"")),b.push(v(_)),b.push(C(_.hours()));break;case"weekday":b.push("vis-"+_.format("dddd").toLowerCase()),b.push(v(_)),b.push(m(_)),b.push(C(_.date()));break;case"day":b.push("vis-day"+_.date()),b.push("vis-"+_.format("MMMM").toLowerCase()),b.push(v(_)),b.push(h(_)),b.push(this.step<=2?v(_):""),b.push(this.step<=2?"vis-"+_.format("dddd").toLowerCase():""),b.push(C(_.date()-1));break;case"week":b.push("vis-week"+_.format("w")),b.push(m(_)),b.push(C(_.week()));break;case"month":b.push("vis-"+_.format("MMMM").toLowerCase()),b.push(h(_)),b.push(C(_.month()));break;case"year":b.push("vis-year"+_.year()),b.push(_.isSame(new Date,"year")?" vis-current-year":""),b.push(C(_.year()))}return b.filter(String).join(" ")},Y.exports=E},function(Y,L,D){var R=D(2),y=D(16),x=D(9),E=D(98);function T(A,_){this.body=A,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:x,locales:E,locale:"en"},this.options=R.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(_)}(T.prototype=new y)._create=function(){var A=document.createElement("div");A.className="vis-current-time",A.style.position="absolute",A.style.top="0px",A.style.height="100%",this.bar=A},T.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},T.prototype.setOptions=function(A){A&&R.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,A)},T.prototype.redraw=function(){if(this.options.showCurrentTime){var A=this.body.dom.backgroundVertical;this.bar.parentNode!=A&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),A.appendChild(this.bar),this.start());var _=this.options.moment((new Date).valueOf()+this.offset),O=this.body.util.toScreen(_),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),b=this.options.locales.en);var C=b.current+" "+b.time+": "+_.format("dddd, MMMM Do YYYY, H:mm:ss");C=C.charAt(0).toUpperCase()+C.substring(1),this.options.rtl?this.bar.style.right=O+"px":this.bar.style.left=O+"px",this.bar.title=C}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},T.prototype.start=function(){var A=this;!function _(){A.stop();var b=1/A.body.range.conversion(A.body.domProps.center.width).scale/10;b<30&&(b=30),b>1e3&&(b=1e3),A.redraw(),A.body.emitter.emit("currentTimeTick"),A.currentTimeTimer=setTimeout(_,b)}()},T.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},T.prototype.setCurrentTime=function(A){var _=R.convert(A,"Date").valueOf(),O=(new Date).valueOf();this.offset=_-O,this.redraw()},T.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},Y.exports=T},function(Y,L,D){var _,y=(_=D(8))&&_.__esModule?_:{default:_};var E=D(2),T=D(100);function A(_,O,b){if(this.groupId=_,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=O&&O.subgroupOrder,this.itemSet=b,this.isVisible=null,this.stackDirty=!0,O&&O.nestedGroups&&(this.nestedGroups=O.nestedGroups,this.showNested=0!=O.showNested),O&&O.subgroupStack)if("boolean"==typeof O.subgroupStack)this.doInnerStack=O.subgroupStack,this.subgroupStackAll=O.subgroupStack;else for(var C in O.subgroupStack)this.subgroupStack[C]=O.subgroupStack[C],this.doInnerStack=this.doInnerStack||O.subgroupStack[C];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var v=this;this.itemSet.body.emitter.on("checkRangedItems",function(){v.checkRangedItems=!0}),this._create(),this.setData(O)}A.prototype._create=function(){var _=document.createElement("div");_.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=_;var O=document.createElement("div");O.className="vis-inner",_.appendChild(O),this.dom.inner=O;var b=document.createElement("div");b.className="vis-group",b["timeline-group"]=this,this.dom.foreground=b,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},A.prototype.setData=function(_){var O,b;if((O=this.itemSet.options&&this.itemSet.options.groupTemplate?(b=this.itemSet.options.groupTemplate.bind(this))(_,this.dom.inner):_&&_.content)instanceof Element){for(this.dom.inner.appendChild(O);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(O)}else O instanceof Object?b(_,this.dom.inner):this.dom.inner.innerHTML=null!=O?O:this.groupId||"";if(this.dom.label.title=_&&_.title||"",this.dom.inner.firstChild?E.removeClassName(this.dom.inner,"vis-hidden"):E.addClassName(this.dom.inner,"vis-hidden"),_&&_.nestedGroups){(!this.nestedGroups||this.nestedGroups!=_.nestedGroups)&&(this.nestedGroups=_.nestedGroups),(void 0!==_.showNested||void 0===this.showNested)&&(this.showNested=0!=_.showNested),E.addClassName(this.dom.label,"vis-nesting-group");var C=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(E.removeClassName(this.dom.label,C),E.addClassName(this.dom.label,"expanded")):(E.removeClassName(this.dom.label,"expanded"),E.addClassName(this.dom.label,C))}else this.nestedGroups&&(this.nestedGroups=null,E.removeClassName(this.dom.label,C=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),E.removeClassName(this.dom.label,"expanded"),E.removeClassName(this.dom.label,"vis-nesting-group"));_&&_.nestedInGroup&&(E.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var v=_&&_.className||null;v!=this.className&&(this.className&&(E.removeClassName(this.dom.label,this.className),E.removeClassName(this.dom.foreground,this.className),E.removeClassName(this.dom.background,this.className),E.removeClassName(this.dom.axis,this.className)),E.addClassName(this.dom.label,v),E.addClassName(this.dom.foreground,v),E.addClassName(this.dom.background,v),E.addClassName(this.dom.axis,v),this.className=v),this.style&&(E.removeCssText(this.dom.label,this.style),this.style=null),_&&_.style&&(E.addCssText(this.dom.label,_.style),this.style=_.style)},A.prototype.getLabelWidth=function(){return this.props.label.width},A.prototype._didMarkerHeightChange=function(){var _=this.dom.marker.clientHeight;if(_!=this.lastMarkerHeight){this.lastMarkerHeight=_;var O={},b=0;if(E.forEach(this.items,function(m,h){m.dirty=!0,m.displayed&&(O[h]=m.redraw(!0),b=O[h].length)}),b>0)for(var v=0;v<b;v++)E.forEach(O,function(m){m[v]()});return!0}},A.prototype._calculateGroupSizeAndPosition=function(){var O=this.dom.foreground.offsetLeft,b=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=O,this.width=b},A.prototype._redrawItems=function(_,O,b,C){if(_||this.stackDirty||this.isVisible&&!O){var m={},h=null;if("function"==typeof this.itemSet.options.order){var S=this,f={},u=0;if(E.forEach(this.items,function(d,c){d.displayed||(f[c]=d.redraw(!0),u=f[c].length,S.visibleItems.push(d))}),u>0)for(var p=0;p<u;p++)E.forEach(f,function(d){d[p]()});if(E.forEach(this.items,function(d){d.repositionX(false)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(h in this.subgroups)m[h]=this.subgroups[h].items.slice().sort(function(d,c){return S.itemSet.options.order(d.data,c.data)});T.stackSubgroupsWithInnerStack(m,b,this.subgroups)}else{var M=this.orderedItems.byStart.slice().sort(function(d,c){return S.itemSet.options.order(d.data,c.data)});T.stack(M,b,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,C)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,C),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(h in this.subgroups)m[h]=this.subgroups[h].items;T.stackSubgroupsWithInnerStack(m,b,this.subgroups)}else T.stack(this.visibleItems,b,!0);else T.nostack(this.visibleItems,b,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},A.prototype._didResize=function(_,O){_=E.updateProperty(this,"height",O)||_;var C=this.dom.inner.clientHeight;return _=E.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||_,E.updateProperty(this.props.label,"height",C)||_},A.prototype._applyGroupHeight=function(_){this.dom.background.style.height=_+"px",this.dom.foreground.style.height=_+"px",this.dom.label.style.height=_+"px"},A.prototype._updateItemsVerticalPosition=function(_){for(var O=0,b=this.visibleItems.length;O<b;O++){var C=this.visibleItems[O];C.repositionY(_),!this.isVisible&&"__background__"!=this.groupId&&C.displayed&&C.hide()}},A.prototype.redraw=function(_,O,b,C){var h,a,v=!1,m=this.isVisible,S=[function(){b=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,O),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(_,O)}.bind(this),function(){this._redrawItems.bind(this)(b,m,O,_)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){h=this._calculateHeight.bind(this)(O)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){v=this._didResize.bind(this)(v,h)}.bind(this),function(){this._applyGroupHeight.bind(this)(h)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(O)}.bind(this),function(){return!this.isVisible&&this.height&&(v=!1),v}];return C?S:(S.forEach(function(f){a=f()}),a)},A.prototype._updateSubGroupHeights=function(_){if((0,y.default)(this.subgroups).length>0){var O=this;this.resetSubgroups(),E.forEach(this.visibleItems,function(b){void 0!==b.data.subgroup&&(O.subgroups[b.data.subgroup].height=Math.max(O.subgroups[b.data.subgroup].height,b.height+_.item.vertical),O.subgroups[b.data.subgroup].visible=!0)})}},A.prototype._isGroupVisible=function(_,O){return this.top<=_.body.domProps.centerContainer.height-_.body.domProps.scrollTop+O.axis&&this.top+this.height+O.axis>=-_.body.domProps.scrollTop},A.prototype._calculateHeight=function(_){var O,b=this.visibleItems;if(b.length>0){var C=b[0].top,v=b[0].top+b[0].height;if(E.forEach(b,function(h){C=Math.min(C,h.top),v=Math.max(v,h.top+h.height)}),C>_.axis){var m=C-_.axis;v-=m,E.forEach(b,function(h){h.top-=m})}O=v+_.item.vertical/2}else O=0;return Math.max(O,this.props.label.height)},A.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},A.prototype.hide=function(){var _=this.dom.label;_.parentNode&&_.parentNode.removeChild(_);var O=this.dom.foreground;O.parentNode&&O.parentNode.removeChild(O);var b=this.dom.background;b.parentNode&&b.parentNode.removeChild(b);var C=this.dom.axis;C.parentNode&&C.parentNode.removeChild(C)},A.prototype.add=function(_){this.items[_.id]=_,_.setParent(this),this.stackDirty=!0,void 0!==_.data.subgroup&&(this._addToSubgroup(_),this.orderSubgroups()),-1==this.visibleItems.indexOf(_)&&this._checkIfVisible(_,this.visibleItems,this.itemSet.body.range)},A.prototype._addToSubgroup=function(_,O){null!=(O=O||_.data.subgroup)&&void 0===this.subgroups[O]&&(this.subgroups[O]={height:0,top:0,start:_.data.start,end:_.data.end||_.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[O]||!1},this.subgroupIndex++),new Date(_.data.start)<new Date(this.subgroups[O].start)&&(this.subgroups[O].start=_.data.start);var b=_.data.end||_.data.start;new Date(b)>new Date(this.subgroups[O].end)&&(this.subgroups[O].end=b),this.subgroups[O].items.push(_)},A.prototype._updateSubgroupsSizes=function(){var _=this;if(_.subgroups)for(var O in _.subgroups){var C=_.subgroups[O].items[0].data.start,v=(_.subgroups[O].items[0].data.end||_.subgroups[O].items[0].data.start)-1;_.subgroups[O].items.forEach(function(m){new Date(m.data.start)<new Date(C)&&(C=m.data.start);var h=m.data.end||m.data.start;new Date(h)>new Date(v)&&(v=h)}),_.subgroups[O].start=C,_.subgroups[O].end=new Date(v-1)}},A.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var O,_=[];if("string"==typeof this.subgroupOrderer){for(O in this.subgroups)_.push({subgroup:O,sortField:this.subgroups[O].items[0].data[this.subgroupOrderer]});_.sort(function(C,v){return C.sortField-v.sortField})}else if("function"==typeof this.subgroupOrderer){for(O in this.subgroups)_.push(this.subgroups[O].items[0].data);_.sort(this.subgroupOrderer)}if(_.length>0)for(var b=0;b<_.length;b++)this.subgroups[_[b].subgroup].index=b}},A.prototype.resetSubgroups=function(){for(var _ in this.subgroups)this.subgroups.hasOwnProperty(_)&&(this.subgroups[_].visible=!1,this.subgroups[_].height=0)},A.prototype.remove=function(_){delete this.items[_.id],_.setParent(null),this.stackDirty=!0;var O=this.visibleItems.indexOf(_);-1!=O&&this.visibleItems.splice(O,1),void 0!==_.data.subgroup&&(this._removeFromSubgroup(_),this.orderSubgroups())},A.prototype._removeFromSubgroup=function(_,O){if(null!=(O=O||_.data.subgroup)){var b=this.subgroups[O];if(b){var C=b.items.indexOf(_);C>=0&&(b.items.splice(C,1),b.items.length?this._updateSubgroupsSizes():delete this.subgroups[O])}}},A.prototype.removeFromDataSet=function(_){this.itemSet.removeItem(_.id)},A.prototype.order=function(){for(var _=E.toArray(this.items),O=[],b=[],C=0;C<_.length;C++)void 0!==_[C].data.end&&b.push(_[C]),O.push(_[C]);this.orderedItems={byStart:O,byEnd:b},T.orderByStart(this.orderedItems.byStart),T.orderByEnd(this.orderedItems.byEnd)},A.prototype._updateItemsInRange=function(_,O,b){var C=[],v={},m=(b.end-b.start)/4,h=b.start-m,S=b.end+m,a=function(V){return V<h?-1:V<=S?0:1};if(O.length>0)for(var f=0;f<O.length;f++)this._checkIfVisibleWithReference(O[f],C,v,b);var u=E.binarySearchCustom(_.byStart,a,"data","start");if(this._traceVisible(u,_.byStart,C,v,function(N){return N.data.start<h||N.data.start>S}),1==this.checkRangedItems)for(this.checkRangedItems=!1,f=0;f<_.byEnd.length;f++)this._checkIfVisibleWithReference(_.byEnd[f],C,v,b);else{var l=E.binarySearchCustom(_.byEnd,a,"data","end");this._traceVisible(l,_.byEnd,C,v,function(N){return N.data.end<h||N.data.end>S})}var p={},M=0;for(f=0;f<C.length;f++){var d=C[f];d.displayed||(p[f]=d.redraw(!0),M=p[f].length)}if(M>0)for(var I=0;I<M;I++)E.forEach(p,function(N){N[I]()});for(f=0;f<C.length;f++)C[f].repositionX();return C},A.prototype._traceVisible=function(_,O,b,C,v){if(-1!=_){var m,h;for(m=_;m>=0&&!v(h=O[m]);m--)void 0===C[h.id]&&(C[h.id]=!0,b.push(h));for(m=_+1;m<O.length&&!v(h=O[m]);m++)void 0===C[h.id]&&(C[h.id]=!0,b.push(h))}},A.prototype._checkIfVisible=function(_,O,b){_.isVisible(b)?(_.displayed||_.show(),_.repositionX(),O.push(_)):_.displayed&&_.hide()},A.prototype._checkIfVisibleWithReference=function(_,O,b,C){_.isVisible(C)?void 0===b[_.id]&&(b[_.id]=!0,O.push(_)):_.displayed&&_.hide()},A.prototype.changeSubgroup=function(_,O,b){this._removeFromSubgroup(_,O),this._addToSubgroup(_,b),this.orderSubgroups()},Y.exports=A},function(Y,L,D){var A,y=(A=D(29))&&A.__esModule?A:{default:A};var E=D(68);function T(A,_,O){E.call(this,A,_,O),this.width=0,this.height=0,this.top=0,this.left=0}(T.prototype=(0,y.default)(E.prototype)).redraw=function(A,_,O){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,A),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var C=0,v=this.visibleItems.length;C<v;C++)this.visibleItems[C].repositionY(_);return!1},T.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},Y.exports=T},function(Y,L,D){var R=D(38);function y(x,E,T){if(this.props={content:{width:0}},this.overflow=!1,this.options=T,x){if(null==x.start)throw new Error('Property "start" missing in item '+x.id);if(null==x.end)throw new Error('Property "end" missing in item '+x.id)}R.call(this,x,E,T)}(y.prototype=new R(null,null,null)).baseClassName="vis-item vis-range",y.prototype.isVisible=function(x){return this.data.start<x.end&&this.data.end>x.start},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var x=this.parent.dom.foreground;if(!x)throw new Error("Cannot redraw item: parent has no foreground container element");x.appendChild(this.dom.box)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},y.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(x){this.props.content.width=x.content.width,this.height=x.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},y.prototype.redraw=function(x){var E,A,T=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(E=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(E)}.bind(this),this._repaintDomAdditionals.bind(this)];return x?T:(T.forEach(function(_){A=_()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){if(this.displayed){var x=this.dom.box;x.parentNode&&x.parentNode.removeChild(x),this.displayed=!1}},y.prototype.repositionX=function(x){var O,b,E=this.parent.width,T=this.conversion.toScreen(this.data.start),A=this.conversion.toScreen(this.data.end),_=void 0===this.data.align?this.options.align:this.data.align;!1!==this.data.limitSize&&(void 0===x||!0===x)&&(T<-E&&(T=-E),A>2*E&&(A=2*E));var C=Math.max(A-T+.5,1);switch(this.overflow?(this.options.rtl?this.right=T:this.left=T,this.width=C+this.props.content.width,b=this.props.content.width):(this.options.rtl?this.right=T:this.left=T,this.width=C,b=Math.min(A-T,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=C+"px",_){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(C-b,0)+"px":this.dom.content.style.left=Math.max(C-b,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((C-b)/2,0)+"px":this.dom.content.style.left=Math.max((C-b)/2,0)+"px";break;default:O=this.overflow?A>0?Math.max(-T,0):-b:T<0?-T:0,this.options.rtl?this.dom.content.style.right=O+"px":(this.dom.content.style.left=O+"px",this.dom.content.style.width="calc(100% - "+O+"px)")}},y.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},y.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var x=document.createElement("div");x.className="vis-drag-left",x.dragLeftItem=this,this.dom.box.appendChild(x),this.dom.dragLeft=x}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},y.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var x=document.createElement("div");x.className="vis-drag-right",x.dragRightItem=this,this.dom.box.appendChild(x),this.dom.dragRight=x}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},Y.exports=y},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=b(D(19)),E=b(D(6)),A=b(D(0)),O=b(D(1));function b(h){return h&&h.__esModule?h:{default:h}}var C=D(2),v=D(179).default,m=function(){function h(S,a,f){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,A.default)(this,h),this.parent=S,this.changedOptions=[],this.container=a,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},C.extend(this.options,this.defaultOptions),this.configureOptions=f,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new v(u),this.wrapper=void 0}return(0,O.default)(h,[{key:"setOptions",value:function(a){if(void 0!==a){this.popupHistory={},this._removePopup();var f=!0;"string"==typeof a?this.options.filter=a:a instanceof Array?this.options.filter=a.join():"object"===(void 0===a?"undefined":(0,E.default)(a))?(void 0!==a.container&&(this.options.container=a.container),void 0!==a.filter&&(this.options.filter=a.filter),void 0!==a.showButton&&(this.options.showButton=a.showButton),void 0!==a.enabled&&(f=a.enabled)):"boolean"==typeof a?(this.options.filter=!0,f=a):"function"==typeof a&&(this.options.filter=a,f=!0),!1===this.options.filter&&(f=!1),this.options.enabled=f}this._clean()}},{key:"setModuleOptions",value:function(a){this.moduleOptions=a,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var a=this;this._clean(),this.changedOptions=[];var f=this.options.filter,u=0,l=!1;for(var p in this.configureOptions)this.configureOptions.hasOwnProperty(p)&&(this.allowCreation=!1,l=!1,"function"==typeof f?l=(l=f(p,[]))||this._handleObject(this.configureOptions[p],[p],!0):(!0===f||-1!==f.indexOf(p))&&(l=!0),!1!==l&&(this.allowCreation=!0,u>0&&this._makeItem([]),this._makeHeader(p),this._handleObject(this.configureOptions[p],[p])),u++);if(!0===this.options.showButton){var M=document.createElement("div");M.className="vis-configuration vis-config-button",M.innerHTML="generate options",M.onclick=function(){a._printOptions()},M.onmouseover=function(){M.className="vis-configuration vis-config-button hover"},M.onmouseout=function(){M.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(M)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var a=0;a<this.domElements.length;a++)this.wrapper.appendChild(this.domElements[a]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var a=0;a<this.domElements.length;a++)this.wrapper.removeChild(this.domElements[a]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(a){for(var f=this.moduleOptions,u=0;u<a.length;u++){if(void 0===f[a[u]]){f=void 0;break}f=f[a[u]]}return f}},{key:"_makeItem",value:function(a){if(!0===this.allowCreation){var f=document.createElement("div");f.className="vis-configuration vis-config-item vis-config-s"+a.length;for(var u=arguments.length,l=Array(u>1?u-1:0),p=1;p<u;p++)l[p-1]=arguments[p];return l.forEach(function(M){f.appendChild(M)}),this.domElements.push(f),this.domElements.length}return 0}},{key:"_makeHeader",value:function(a){var f=document.createElement("div");f.className="vis-configuration vis-config-header",f.innerHTML=a,this._makeItem([],f)}},{key:"_makeLabel",value:function(a,f){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=document.createElement("div");return l.className="vis-configuration vis-config-label vis-config-s"+f.length,l.innerHTML=!0===u?"<i><b>"+a+":</b></i>":a+":",l}},{key:"_makeDropdown",value:function(a,f,u){var l=document.createElement("select");l.className="vis-configuration vis-config-select";var p=0;void 0!==f&&-1!==a.indexOf(f)&&(p=a.indexOf(f));for(var M=0;M<a.length;M++){var d=document.createElement("option");d.value=a[M],M===p&&(d.selected="selected"),d.innerHTML=a[M],l.appendChild(d)}var c=this;l.onchange=function(){c._update(this.value,u)};var w=this._makeLabel(u[u.length-1],u);this._makeItem(u,w,l)}},{key:"_makeRange",value:function(a,f,u){var l=a[0],p=a[1],M=a[2],d=a[3],c=document.createElement("input");c.className="vis-configuration vis-config-range";try{c.type="range",c.min=p,c.max=M}catch($){}c.step=d;var w="",I=0;if(void 0!==f){var N=1.2;f<0&&f*N<p?(c.min=Math.ceil(f*N),I=c.min,w="range increased"):f/N<p&&(c.min=Math.ceil(f/N),I=c.min,w="range increased"),f*N>M&&1!==M&&(c.max=Math.ceil(f*N),I=c.max,w="range increased"),c.value=f}else c.value=l;var V=document.createElement("input");V.className="vis-configuration vis-config-rangeinput",V.value=c.value;var H=this;c.onchange=function(){V.value=this.value,H._update(Number(this.value),u)},c.oninput=function(){V.value=this.value};var z=this._makeLabel(u[u.length-1],u),U=this._makeItem(u,z,c,V);""!==w&&this.popupHistory[U]!==I&&(this.popupHistory[U]=I,this._setupPopup(w,U))}},{key:"_setupPopup",value:function(a,f){var u=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var l=document.createElement("div");l.id="vis-configuration-popup",l.className="vis-configuration-popup",l.innerHTML=a,l.onclick=function(){u._removePopup()},this.popupCounter+=1,this.popupDiv={html:l,index:f}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var a=this;if(void 0!==this.popupDiv.html){var u=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=u.left+"px",this.popupDiv.html.style.top=u.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){a.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){a._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(a,f,u){var l=document.createElement("input");l.type="checkbox",l.className="vis-configuration vis-config-checkbox",l.checked=a,void 0!==f&&(l.checked=f,f!==a&&("object"===(void 0===a?"undefined":(0,E.default)(a))?f!==a.enabled&&this.changedOptions.push({path:u,value:f}):this.changedOptions.push({path:u,value:f})));var p=this;l.onchange=function(){p._update(this.checked,u)};var M=this._makeLabel(u[u.length-1],u);this._makeItem(u,M,l)}},{key:"_makeTextInput",value:function(a,f,u){var l=document.createElement("input");l.type="text",l.className="vis-configuration vis-config-text",l.value=f,f!==a&&this.changedOptions.push({path:u,value:f});var p=this;l.onchange=function(){p._update(this.value,u)};var M=this._makeLabel(u[u.length-1],u);this._makeItem(u,M,l)}},{key:"_makeColorField",value:function(a,f,u){var l=this,p=a[1],M=document.createElement("div");"none"!==(f=void 0===f?p:f)?(M.className="vis-configuration vis-config-colorBlock",M.style.backgroundColor=f):M.className="vis-configuration vis-config-colorBlock none",f=void 0===f?p:f,M.onclick=function(){l._showColorPicker(f,M,u)};var d=this._makeLabel(u[u.length-1],u);this._makeItem(u,d,M)}},{key:"_showColorPicker",value:function(a,f,u){var l=this;f.onclick=function(){},this.colorPicker.insertTo(f),this.colorPicker.show(),this.colorPicker.setColor(a),this.colorPicker.setUpdateCallback(function(p){var M="rgba("+p.r+","+p.g+","+p.b+","+p.a+")";f.style.backgroundColor=M,l._update(M,u)}),this.colorPicker.setCloseCallback(function(){f.onclick=function(){l._showColorPicker(a,f,u)}})}},{key:"_handleObject",value:function(a){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=!1,p=this.options.filter,M=!1;for(var d in a)if(a.hasOwnProperty(d)){l=!0;var c=a[d],w=C.copyAndExtendArray(f,d);if("function"==typeof p&&!1===(l=p(d,f))&&!(c instanceof Array)&&"string"!=typeof c&&"boolean"!=typeof c&&c instanceof Object&&(this.allowCreation=!1,l=this._handleObject(c,w,!0),this.allowCreation=!1===u),!1!==l){M=!0;var I=this._getValue(w);if(c instanceof Array)this._handleArray(c,I,w);else if("string"==typeof c)this._makeTextInput(c,I,w);else if("boolean"==typeof c)this._makeCheckbox(c,I,w);else if(c instanceof Object){var N=!0;if(-1!==f.indexOf("physics")&&this.moduleOptions.physics.solver!==d&&(N=!1),!0===N)if(void 0!==c.enabled){var V=C.copyAndExtendArray(w,"enabled"),H=this._getValue(V);if(!0===H){var z=this._makeLabel(d,w,!0);this._makeItem(w,z),M=this._handleObject(c,w)||M}else this._makeCheckbox(c,H,w)}else{var U=this._makeLabel(d,w,!0);this._makeItem(w,U),M=this._handleObject(c,w)||M}}else console.error("dont know how to handle",c,d,w)}}return M}},{key:"_handleArray",value:function(a,f,u){"string"==typeof a[0]&&"color"===a[0]?(this._makeColorField(a,f,u),a[1]!==f&&this.changedOptions.push({path:u,value:f})):"string"==typeof a[0]?(this._makeDropdown(a,f,u),a[0]!==f&&this.changedOptions.push({path:u,value:f})):"number"==typeof a[0]&&(this._makeRange(a,f,u),a[0]!==f&&this.changedOptions.push({path:u,value:Number(f)}))}},{key:"_update",value:function(a,f){var u=this._constructOptions(a,f);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",u),this.initialized=!0,this.parent.setOptions(u)}},{key:"_constructOptions",value:function(a,f){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=u;a="false"!==(a="true"===a||a)&&a;for(var p=0;p<f.length;p++)"global"!==f[p]&&(void 0===l[f[p]]&&(l[f[p]]={}),p!==f.length-1?l=l[f[p]]:l[f[p]]=a);return u}},{key:"_printOptions",value:function(){var a=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,y.default)(a,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var a={},f=0;f<this.changedOptions.length;f++)this._constructOptions(this.changedOptions[f].value,this.changedOptions[f].path,a);return a}}]),h}();L.default=m},function(Y,L,D){var O,y=(O=D(6))&&O.__esModule?O:{default:O};var E=D(14);function T(O,b){}function A(O,b){return{style:(b=void 0===b?{}:b).style||O.options.drawPoints.style,styles:b.styles||O.options.drawPoints.styles,size:b.size||O.options.drawPoints.size,className:b.className||O.className}}T.draw=function(O,b,C,v){v=v||0;for(var m=function(O,b){var C=void 0;return O.options&&O.options.drawPoints&&O.options.drawPoints.onRender&&"function"==typeof O.options.drawPoints.onRender&&(C=O.options.drawPoints.onRender),b.group.options&&b.group.options.drawPoints&&b.group.options.drawPoints.onRender&&"function"==typeof b.group.options.drawPoints.onRender&&(C=b.group.options.drawPoints.onRender),C}(C,b),h=0;h<O.length;h++)if(m){var S=m(O[h],b);(!0===S||"object"===(void 0===S?"undefined":(0,y.default)(S)))&&E.drawPoint(O[h].screen_x+v,O[h].screen_y,A(b,S),C.svgElements,C.svg,O[h].label)}else E.drawPoint(O[h].screen_x+v,O[h].screen_y,A(b),C.svgElements,C.svg,O[h].label)},T.drawIcon=function(O,b,C,v,m,h){var S=.5*m,a=E.getSVGElement("rect",h.svgElements,h.svg);a.setAttributeNS(null,"x",b),a.setAttributeNS(null,"y",C-S),a.setAttributeNS(null,"width",v),a.setAttributeNS(null,"height",2*S),a.setAttributeNS(null,"class","vis-outline"),E.drawPoint(b+.5*v,C,A(O),h.svgElements,h.svg)},Y.exports=T},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){(0,E.default)(this,f);var M=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return M.labelOffset=0,M.selected=!1,M}return(0,C.default)(f,a),(0,A.default)(f,[{key:"setOptions",value:function(l,p,M){this.options=l,void 0===p&&void 0===M||this.setImages(p,M)}},{key:"setImages",value:function(l,p){p&&this.selected?(this.imageObj=p,this.imageObjAlt=l):(this.imageObj=l,this.imageObjAlt=p)}},{key:"switchImages",value:function(l){var p=l&&!this.selected||!l&&this.selected;if(this.selected=l,void 0!==this.imageObjAlt&&p){var M=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=M}}},{key:"_resizeImage",value:function(){var l,p;if(!1===this.options.shapeProperties.useImageSize){var M=1,d=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?M=this.imageObj.width/this.imageObj.height:d=this.imageObj.height/this.imageObj.width),l=2*this.options.size*M,p=2*this.options.size*d}else l=this.imageObj.width,p=this.imageObj.height;this.width=l,this.height=p,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(l,p,M,d){this.initContextForDraw(l,d),l.circle(p,M,d.size),this.performFill(l,d)}},{key:"_drawImageAtPosition",value:function(l,p){if(0!=this.imageObj.width){l.globalAlpha=1,this.enableShadow(l,p);var M=1;!0===this.options.shapeProperties.interpolation&&(M=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(l,M,this.left,this.top,this.width,this.height),this.disableShadow(l,p)}}},{key:"_drawImageLabel",value:function(l,p,M,d,c){var w,I=0;if(void 0!==this.height){I=.5*this.height;var N=this.labelModule.getTextSize(l,d,c);N.lineCount>=1&&(I+=N.height/2)}w=M+I,this.options.label&&(this.labelOffset=I),this.labelModule.draw(l,p,w,d,c,"hanging")}}]),f}(h(D(23)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=v(D(19)),E=v(D(6)),A=v(D(29)),O=v(D(0)),C=v(D(1));function v(M){return M&&M.__esModule?M:{default:M}}var m=D(2),h=D(117).default,S=D(48).default,a=D(215).default,f=D(217).default,u=D(218).default,l=D(219).default,p=function(){function M(d,c,w,I){if((0,O.default)(this,M),void 0===c)throw new Error("No body provided");this.options=m.bridgeObject(w),this.globalOptions=w,this.defaultOptions=I,this.body=c,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new h(this.body,this.options,!0),this.setOptions(d)}return(0,C.default)(M,[{key:"setOptions",value:function(c){if(c){M.parseOptions(this.options,c,!0,this.globalOptions),void 0!==c.id&&(this.id=c.id),void 0!==c.from&&(this.fromId=c.from),void 0!==c.to&&(this.toId=c.to),void 0!==c.title&&(this.title=c.title),void 0!==c.value&&(c.value=parseFloat(c.value)),this.chooser=S.choosify("edge",[c,this.options,this.defaultOptions]),this.updateLabelModule(c);var I=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==c.hidden||void 0!==c.physics)&&(I=!0),I}}},{key:"getFormattingValues",value:function(){var N=this.options.color.inherit,V={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:N?void 0:this.options.color.color,inheritsColor:N,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var H=this.options.selectionWidth;"function"==typeof H?V.width=H(V.width):"number"==typeof H&&(V.width+=H),V.width=Math.max(V.width,.3/this.body.view.scale),V.color=this.options.color.highlight,V.shadow=this.options.shadow.enabled}else if(this.hover){var z=this.options.hoverWidth;"function"==typeof z?V.width=z(V.width):"number"==typeof z&&(V.width+=z),V.width=Math.max(V.width,.3/this.body.view.scale),V.color=this.options.color.hover,V.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(V,this.options.id,this.selected,this.hover),void 0!==V.color&&(V.inheritsColor=!1),!1===V.shadow&&(V.shadowColor!==this.options.shadow.color||V.shadowSize!==this.options.shadow.size||V.shadowX!==this.options.shadow.x||V.shadowY!==this.options.shadow.y)&&(V.shadow=!0));else V.shadow=this.options.shadow.enabled,V.width=Math.max(V.width,.3/this.body.view.scale);return V}},{key:"updateLabelModule",value:function(c){this.labelModule.update(this.options,[c,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var c=this.options.smooth,w=!1,I=!0;return void 0!==this.edgeType&&((this.edgeType instanceof f&&!0===c.enabled&&"dynamic"===c.type||this.edgeType instanceof a&&!0===c.enabled&&"cubicBezier"===c.type||this.edgeType instanceof u&&!0===c.enabled&&"dynamic"!==c.type&&"cubicBezier"!==c.type||this.edgeType instanceof l&&!1===c.type.enabled)&&(I=!1),!0===I&&(w=this.cleanup())),!0===I?!0===c.enabled?"dynamic"===c.type?(w=!0,this.edgeType=new f(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===c.type?new a(this.options,this.body,this.labelModule):new u(this.options,this.body,this.labelModule):this.edgeType=new l(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),w}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(c,w,I){if(void 0!==this.options.value){var N=this.options.scaling.customScalingFunction(c,w,I,this.options.value),V=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+N*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+N*V}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(c){var w=this.getFormattingValues();if(!w.hidden){var I=this.edgeType.getViaNode(),N={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,w.fromArrow&&(N.from=this.edgeType.getArrowData(c,"from",I,this.selected,this.hover,w),!1===w.arrowStrikethrough&&(this.edgeType.fromPoint=N.from.core)),w.toArrow&&(N.to=this.edgeType.getArrowData(c,"to",I,this.selected,this.hover,w),!1===w.arrowStrikethrough&&(this.edgeType.toPoint=N.to.core)),w.middleArrow&&(N.middle=this.edgeType.getArrowData(c,"middle",I,this.selected,this.hover,w)),this.edgeType.drawLine(c,w,this.selected,this.hover,I),this.drawArrows(c,N,w),this.drawLabel(c,I)}}},{key:"drawArrows",value:function(c,w,I){I.fromArrow&&this.edgeType.drawArrowHead(c,I,this.selected,this.hover,w.from),I.middleArrow&&this.edgeType.drawArrowHead(c,I,this.selected,this.hover,w.middle),I.toArrow&&this.edgeType.drawArrowHead(c,I,this.selected,this.hover,w.to)}},{key:"drawLabel",value:function(c,w){if(void 0!==this.options.label){var I=this.from,N=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(c,this.selected,this.hover),I.id!=N.id){this.labelModule.pointToSelf=!1;var V=this.edgeType.getPoint(.5,w);c.save();var H=this._getRotation(c);0!=H.angle&&(c.translate(H.x,H.y),c.rotate(H.angle)),this.labelModule.draw(c,V.x,V.y,this.selected,this.hover),c.restore()}else{this.labelModule.pointToSelf=!0;var z,U,$=this.options.selfReferenceSize;I.shape.width>I.shape.height?(z=I.x+.5*I.shape.width,U=I.y-$):(z=I.x+$,U=I.y-.5*I.shape.height),V=this._pointOnCircle(z,U,$,.125),this.labelModule.draw(c,V.x,V.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(c){var w=[];if(this.labelModule.visible()){var I=this._getRotation();S.pointInRect(this.labelModule.getSize(),c,I)&&w.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:c.x,top:c.y})&&w.push({edgeId:this.id}),w}},{key:"isOverlappingWith",value:function(c){if(this.connected){return this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,c.left,c.top)<10}return!1}},{key:"_getRotation",value:function(c){var w=this.edgeType.getViaNode(),I=this.edgeType.getPoint(.5,w);void 0!==c&&this.labelModule.calculateLabelSize(c,this.selected,this.hover,I.x,I.y);var N={x:I.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return N;var H=this.from.x-this.to.x,z=Math.atan2(this.from.y-this.to.y,H);return(z<-1&&H<0||z>0&&H<0)&&(z+=Math.PI),N.angle=z,N}},{key:"_pointOnCircle",value:function(c,w,I,N){var V=2*N*Math.PI;return{x:c+I*Math.cos(V),y:w-I*Math.sin(V)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(c,w){var I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},V=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],c,w,I),c.label=S.isValidLabel(w.label)?w.label:void 0,m.mergeOptions(c,w,"smooth",N),m.mergeOptions(c,w,"shadow",N),null!=w.dashes?c.dashes=w.dashes:!0===I&&null===w.dashes&&(c.dashes=(0,A.default)(N.dashes)),null!=w.scaling?(void 0!==w.scaling.min&&(c.scaling.min=w.scaling.min),void 0!==w.scaling.max&&(c.scaling.max=w.scaling.max),m.mergeOptions(c.scaling,w.scaling,"label",N.scaling)):!0===I&&null===w.scaling&&(c.scaling=(0,A.default)(N.scaling)),null!=w.arrows)if("string"==typeof w.arrows){var z=w.arrows.toLowerCase();c.arrows.to.enabled=-1!=z.indexOf("to"),c.arrows.middle.enabled=-1!=z.indexOf("middle"),c.arrows.from.enabled=-1!=z.indexOf("from")}else{if("object"!==(0,E.default)(w.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,y.default)(w.arrows));m.mergeOptions(c.arrows,w.arrows,"to",N.arrows),m.mergeOptions(c.arrows,w.arrows,"middle",N.arrows),m.mergeOptions(c.arrows,w.arrows,"from",N.arrows)}else!0===I&&null===w.arrows&&(c.arrows=(0,A.default)(N.arrows));if(null!=w.color){var U=w.color,$=c.color;if(V)m.deepExtend($,N.color,!1,I);else for(var J in $)$.hasOwnProperty(J)&&delete $[J];if(m.isString($))$.color=$,$.highlight=$,$.hover=$,$.inherit=!1,void 0===U.opacity&&($.opacity=1);else{var te=!1;void 0!==U.color&&($.color=U.color,te=!0),void 0!==U.highlight&&($.highlight=U.highlight,te=!0),void 0!==U.hover&&($.hover=U.hover,te=!0),void 0!==U.inherit&&($.inherit=U.inherit),void 0!==U.opacity&&($.opacity=Math.min(1,Math.max(0,U.opacity))),!0===te?$.inherit=!1:void 0===$.inherit&&($.inherit="from")}}else!0===I&&null===w.color&&(c.color=m.bridgeObject(N.color));!0===I&&null===w.font&&(c.font=m.bridgeObject(N.font))}}]),M}();L.default=p},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"_findBorderPositionBezier",value:function(l,p){var N,V,U,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),d=10,c=0,w=0,I=1,$=.2,J=this.to,te=!1;for(l.id===this.from.id&&(J=this.from,te=!0);w<=I&&c<d;){var ie=.5*(w+I);if(N=this.getPoint(ie,M),V=Math.atan2(J.y-N.y,J.x-N.x),U=J.distanceToBorder(p,V)-Math.sqrt(Math.pow(N.x-J.x,2)+Math.pow(N.y-J.y,2)),Math.abs(U)<$)break;U<0?!1===te?w=ie:I=ie:!1===te?I=ie:w=ie,c++}return N.t=ie,N}},{key:"_getDistanceToBezierEdge",value:function(l,p,M,d,c,w,I){var N=1e9,V=void 0,H=void 0,z=void 0,U=void 0,$=void 0,J=l,te=p;for(H=1;H<10;H++)z=.1*H,U=Math.pow(1-z,2)*l+2*z*(1-z)*I.x+Math.pow(z,2)*M,$=Math.pow(1-z,2)*p+2*z*(1-z)*I.y+Math.pow(z,2)*d,H>0&&(N=(V=this._getDistanceToLine(J,te,U,$,c,w))<N?V:N),J=U,te=$;return N}},{key:"_bezierCurve",value:function(l,p,M,d){var c=void 0!==M&&void 0!==M.x,w=void 0!==d&&void 0!==d.x;l.beginPath(),l.moveTo(this.fromPoint.x,this.fromPoint.y),c&&w?l.bezierCurveTo(M.x,M.y,d.x,d.y,this.toPoint.x,this.toPoint.y):c?l.quadraticCurveTo(M.x,M.y,this.toPoint.x,this.toPoint.y):l.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(l,p),l.stroke(),this.disableShadow(l,p)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),f}(h(D(118)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(O){return O&&O.__esModule?O:{default:O}}var A=D(2),_=function(){function O(){(0,y.default)(this,O)}return(0,E.default)(O,null,[{key:"getRange",value:function(C){var f,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=1e9,h=-1e9,S=1e9,a=-1e9;if(v.length>0)for(var u=0;u<v.length;u++)S>(f=C[v[u]]).shape.boundingBox.left&&(S=f.shape.boundingBox.left),a<f.shape.boundingBox.right&&(a=f.shape.boundingBox.right),m>f.shape.boundingBox.top&&(m=f.shape.boundingBox.top),h<f.shape.boundingBox.bottom&&(h=f.shape.boundingBox.bottom);return 1e9===S&&-1e9===a&&1e9===m&&-1e9===h&&(m=0,h=0,S=0,a=0),{minX:S,maxX:a,minY:m,maxY:h}}},{key:"getRangeCore",value:function(C){var f,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=1e9,h=-1e9,S=1e9,a=-1e9;if(v.length>0)for(var u=0;u<v.length;u++)S>(f=C[v[u]]).x&&(S=f.x),a<f.x&&(a=f.x),m>f.y&&(m=f.y),h<f.y&&(h=f.y);return 1e9===S&&-1e9===a&&1e9===m&&-1e9===h&&(m=0,h=0,S=0,a=0),{minX:S,maxX:a,minY:m,maxY:h}}},{key:"findCenter",value:function(C){return{x:.5*(C.maxX+C.minX),y:.5*(C.maxY+C.minY)}}},{key:"cloneOptions",value:function(C,v){var m={};return void 0===v||"node"===v?(A.deepExtend(m,C.options,!0),m.x=C.x,m.y=C.y,m.amountOfConnections=C.edges.length):A.deepExtend(m,C.options,!0),m}}]),O}();L.default=_},function(Y,L,D){Y.exports={default:D(124),__esModule:!0}},function(Y,L,D){var R=D(50);Y.exports=Object("z").propertyIsEnumerable(0)?Object:function(y){return"String"==R(y)?y.split(""):Object(y)}},function(Y,L,D){var R=D(52),y=D(17),x=D(83),E=D(26),T=D(22),A=D(31),_=D(129),O=D(59),b=D(85),C=D(13)("iterator"),v=!([].keys&&"next"in[].keys()),h="keys",S="values",a=function(){return this};Y.exports=function(f,u,l,p,M,d,c){_(l,u,p);var te,ie,ue,w=function(ye){if(!v&&ye in H)return H[ye];switch(ye){case h:case S:return function(){return new l(this,ye)}}return function(){return new l(this,ye)}},I=u+" Iterator",N=M==S,V=!1,H=f.prototype,z=H[C]||H["@@iterator"]||M&&H[M],U=z||w(M),$=M?N?w("entries"):U:void 0,J="Array"==u&&H.entries||z;if(J&&(ue=b(J.call(new f)))!==Object.prototype&&ue.next&&(O(ue,I,!0),!R&&!T(ue,C)&&E(ue,C,a)),N&&z&&z.name!==S&&(V=!0,U=function(){return z.call(this)}),(!R||c)&&(v||V||!H[C])&&E(H,C,U),A[u]=U,A[I]=a,M)if(te={values:N?U:w(S),keys:d?U:w(h),entries:$},c)for(ie in te)ie in H||x(H,ie,te[ie]);else y(y.P+y.F*(v||V),u,te);return te}},function(Y,L,D){var R=D(128);Y.exports=function(y,x,E){if(R(y),void 0===x)return y;switch(E){case 1:return function(T){return y.call(x,T)};case 2:return function(T,A){return y.call(x,T,A)};case 3:return function(T,A,_){return y.call(x,T,A,_)}}return function(){return y.apply(x,arguments)}}},function(Y,L,D){Y.exports=!D(21)&&!D(28)(function(){return 7!=Object.defineProperty(D(82)("div"),"a",{get:function(){return 7}}).a})},function(Y,L,D){var R=D(32),y=D(18).document,x=R(y)&&R(y.createElement);Y.exports=function(E){return x?y.createElement(E):{}}},function(Y,L,D){Y.exports=D(26)},function(Y,L,D){var R=D(22),y=D(25),x=D(131)(!1),E=D(56)("IE_PROTO");Y.exports=function(T,A){var C,_=y(T),O=0,b=[];for(C in _)C!=E&&R(_,C)&&b.push(C);for(;A.length>O;)R(_,C=A[O++])&&(~x(b,C)||b.push(C));return b}},function(Y,L,D){var R=D(22),y=D(41),x=D(56)("IE_PROTO"),E=Object.prototype;Y.exports=Object.getPrototypeOf||function(T){return T=y(T),R(T,x)?T[x]:"function"==typeof T.constructor&&T instanceof T.constructor?T.constructor.prototype:T instanceof Object?E:null}},function(Y,L,D){var R=D(50),y=D(13)("toStringTag"),x="Arguments"==R(function(){return arguments}());Y.exports=function(T){var A,_,O;return void 0===T?"Undefined":null===T?"Null":"string"==typeof(_=function(T,A){try{return T[A]}catch(_){}}(A=Object(T),y))?_:x?R(A):"Object"==(O=R(A))&&"function"==typeof A.callee?"Arguments":O}},function(Y,L,D){var R=D(17),y=D(7),x=D(28);Y.exports=function(E,T){var A=(y.Object||{})[E]||Object[E],_={};_[E]=T(A),R(R.S+R.F*x(function(){A(1)}),"Object",_)}},function(Y,L,D){var R=D(84),y=D(58).concat("length","prototype");L.f=Object.getOwnPropertyNames||function(E){return R(E,y)}},function(Y,L,D){var R=D(42),y=D(39),x=D(25),E=D(53),T=D(22),A=D(81),_=Object.getOwnPropertyDescriptor;L.f=D(21)?_:function(b,C){if(b=x(b),C=E(C,!0),A)try{return _(b,C)}catch(v){}if(T(b,C))return y(!R.f.call(b,C),b[C])}},function(Y,L,D){Y.exports={default:D(162),__esModule:!0}},function(Y,L,D){Y.exports=function(y,x){this.x=void 0!==y?y:0,this.y=void 0!==x?x:0}},function(Y,L,D){var R=D(2);function y(x,E){if(void 0===x)throw new Error("No container element defined");if(this.container=x,this.visible=!E||null==E.visible||E.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var T=this;this.frame.slide.onmousedown=function(A){T._onMouseDown(A)},this.frame.prev.onclick=function(A){T.prev(A)},this.frame.play.onclick=function(A){T.togglePlay(A)},this.frame.next.onclick=function(A){T.next(A)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}y.prototype.prev=function(){var x=this.getIndex();x>0&&(x--,this.setIndex(x))},y.prototype.next=function(){var x=this.getIndex();x<this.values.length-1&&(x++,this.setIndex(x))},y.prototype.playNext=function(){var x=new Date,E=this.getIndex();E<this.values.length-1?(E++,this.setIndex(E)):this.playLoop&&this.setIndex(E=0);var T=new Date,_=Math.max(this.playInterval-(T-x),0),O=this;this.playTimeout=setTimeout(function(){O.playNext()},_)},y.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},y.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},y.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},y.prototype.setOnChangeCallback=function(x){this.onChangeCallback=x},y.prototype.setPlayInterval=function(x){this.playInterval=x},y.prototype.getPlayInterval=function(){return this.playInterval},y.prototype.setPlayLoop=function(x){this.playLoop=x},y.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},y.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var x=this.indexToLeft(this.index);this.frame.slide.style.left=x+"px"}},y.prototype.setValues=function(x){this.values=x,this.values.length>0?this.setIndex(0):this.index=void 0},y.prototype.setIndex=function(x){if(!(x<this.values.length))throw new Error("Index out of range");this.index=x,this.redraw(),this.onChange()},y.prototype.getIndex=function(){return this.index},y.prototype.get=function(){return this.values[this.index]},y.prototype._onMouseDown=function(x){if(x.which?1===x.which:1===x.button){this.startClientX=x.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var T=this;this.onmousemove=function(A){T._onMouseMove(A)},this.onmouseup=function(A){T._onMouseUp(A)},R.addEventListener(document,"mousemove",this.onmousemove),R.addEventListener(document,"mouseup",this.onmouseup),R.preventDefault(x)}},y.prototype.leftToIndex=function(x){var E=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,A=Math.round((x-3)/E*(this.values.length-1));return A<0&&(A=0),A>this.values.length-1&&(A=this.values.length-1),A},y.prototype.indexToLeft=function(x){var E=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return x/(this.values.length-1)*E+3},y.prototype._onMouseMove=function(x){var A=this.leftToIndex(this.startSlideX+(x.clientX-this.startClientX));this.setIndex(A),R.preventDefault()},y.prototype._onMouseUp=function(x){this.frame.style.cursor="auto",R.removeEventListener(document,"mousemove",this.onmousemove),R.removeEventListener(document,"mouseup",this.onmouseup),R.preventDefault()},Y.exports=y},function(Y,L,D){function R(y,x,E,T){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(y,x,E,T)}R.prototype.isNumeric=function(y){return!isNaN(parseFloat(y))&&isFinite(y)},R.prototype.setRange=function(y,x,E,T){if(!this.isNumeric(y))throw new Error("Parameter 'start' is not numeric; value: "+y);if(!this.isNumeric(x))throw new Error("Parameter 'end' is not numeric; value: "+y);if(!this.isNumeric(E))throw new Error("Parameter 'step' is not numeric; value: "+y);this._start=y||0,this._end=x||0,this.setStep(E,T)},R.prototype.setStep=function(y,x){void 0===y||y<=0||(void 0!==x&&(this.prettyStep=x),this._step=!0===this.prettyStep?R.calculatePrettyStep(y):y)},R.calculatePrettyStep=function(y){var x=function(b){return Math.log(b)/Math.LN10},E=Math.pow(10,Math.round(x(y))),T=2*Math.pow(10,Math.round(x(y/2))),A=5*Math.pow(10,Math.round(x(y/5))),_=E;return Math.abs(T-y)<=Math.abs(_-y)&&(_=T),Math.abs(A-y)<=Math.abs(_-y)&&(_=A),_<=0&&(_=1),_},R.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},R.prototype.getStep=function(){return this._step},R.prototype.start=function(y){void 0===y&&(y=!1),this._current=this._start-this._start%this._step,y&&this.getCurrent()<this._start&&this.next()},R.prototype.next=function(){this._current+=this._step},R.prototype.end=function(){return this._current>this._end},Y.exports=R},function(Y,L,D){var H,y=(H=D(6))&&H.__esModule?H:{default:H};var E=D(2),T=D(95),A=D(34),_={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},O={dot:_.DOT,"dot-line":_.DOTLINE,"dot-color":_.DOTCOLOR,"dot-size":_.DOTSIZE,line:_.LINE,grid:_.GRID,surface:_.SURFACE,bar:_.BAR,"bar-color":_.BARCOLOR,"bar-size":_.BARSIZE},b=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],C=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],v=void 0;function m(H){for(var z in H)if(H.hasOwnProperty(z))return!1;return!0}function S(H,z){return void 0===H||""===H?z:H+function(H){return void 0===H||""===H||"string"!=typeof H?H:H.charAt(0).toUpperCase()+H.slice(1)}(z)}function a(H,z,U,$){for(var J,ie=0;ie<U.length;++ie)z[S($,J=U[ie])]=H[J]}function f(H,z,U,$){for(var J,ie=0;ie<U.length;++ie)void 0!==H[J=U[ie]]&&(z[S($,J)]=H[J])}function p(H,z){void 0!==H.backgroundColor&&function(H,z){var U="white",$="gray",J=1;if("string"==typeof H)U=H,$="none",J=0;else{if("object"!==(void 0===H?"undefined":(0,y.default)(H)))throw new Error("Unsupported type of backgroundColor");void 0!==H.fill&&(U=H.fill),void 0!==H.stroke&&($=H.stroke),void 0!==H.strokeWidth&&(J=H.strokeWidth)}z.frame.style.backgroundColor=U,z.frame.style.borderColor=$,z.frame.style.borderWidth=J+"px",z.frame.style.borderStyle="solid"}(H.backgroundColor,z),function(H,z){void 0!==H&&(void 0===z.dataColor&&(z.dataColor={}),"string"==typeof H?(z.dataColor.fill=H,z.dataColor.stroke=H):(H.fill&&(z.dataColor.fill=H.fill),H.stroke&&(z.dataColor.stroke=H.stroke),void 0!==H.strokeWidth&&(z.dataColor.strokeWidth=H.strokeWidth)))}(H.dataColor,z),function(H,z){if(void 0!==H){var U;if("string"==typeof H){if(-1===(U=function(H){var z=O[H];return void 0===z?-1:z}(H)))throw new Error("Style '"+H+"' is invalid")}else{if(!function(H){var z=!1;for(var U in _)if(_[U]===H){z=!0;break}return z}(H))throw new Error("Style '"+H+"' is invalid");U=H}z.style=U}}(H.style,z),function(H,z){void 0===H?void 0===v.showLegend&&(z.showLegend=z.style===_.DOTCOLOR||z.style===_.DOTSIZE):z.showLegend=H}(H.showLegend,z),V(H.cameraPosition,z),void 0!==H.tooltip&&(z.showTooltip=H.tooltip),null!=H.onclick&&(z.onclick_callback=H.onclick),void 0!==H.tooltipStyle&&E.selectiveDeepExtend(["tooltipStyle"],z,H)}function V(H,z){var U=H;void 0!==U&&(void 0===z.camera&&(z.camera=new T),z.camera.setArmRotation(U.horizontal,U.vertical),z.camera.setArmLength(U.distance))}Y.exports.STYLE=_,Y.exports.setDefaults=function(H,z){if(void 0===H||m(H))throw new Error("No DEFAULTS passed");if(void 0===z)throw new Error("No dst passed");v=H,a(H,z,b),a(H,z,C,"default"),p(H,z),z.margin=10,z.showGrayBottom=!1,z.showTooltip=!1,z.onclick_callback=null,z.eye=new A(0,0,-1)},Y.exports.setOptions=function(H,z){if(void 0!==H){if(void 0===z)throw new Error("No dst passed");if(void 0===v||m(v))throw new Error("DEFAULTS not set for module Settings");f(H,z,b),f(H,z,C,"default"),p(H,z)}},Y.exports.setCameraPosition=V},function(Y,L,D){var A,y=(A=D(165))&&A.__esModule?A:{default:A};var E=D(34);function T(){this.armLocation=new E,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new E,this.offsetMultiplier=.6,this.cameraLocation=new E,this.cameraRotation=new E(.5*Math.PI,0,0),this.calculateCameraOrientation()}T.prototype.setOffset=function(A,_){var O=Math.abs,b=y.default,v=this.armLength*this.offsetMultiplier;O(A)>v&&(A=b(A)*v),O(_)>v&&(_=b(_)*v),this.cameraOffset.x=A,this.cameraOffset.y=_,this.calculateCameraOrientation()},T.prototype.getOffset=function(){return this.cameraOffset},T.prototype.setArmLocation=function(A,_,O){this.armLocation.x=A,this.armLocation.y=_,this.armLocation.z=O,this.calculateCameraOrientation()},T.prototype.setArmRotation=function(A,_){void 0!==A&&(this.armRotation.horizontal=A),void 0!==_&&(this.armRotation.vertical=_,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==A||void 0!==_)&&this.calculateCameraOrientation()},T.prototype.getArmRotation=function(){var A={};return A.horizontal=this.armRotation.horizontal,A.vertical=this.armRotation.vertical,A},T.prototype.setArmLength=function(A){void 0!==A&&(this.armLength=A,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},T.prototype.getArmLength=function(){return this.armLength},T.prototype.getCameraLocation=function(){return this.cameraLocation},T.prototype.getCameraRotation=function(){return this.cameraRotation},T.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var A=this.cameraRotation.x,_=this.cameraRotation.z,O=this.cameraOffset.x,b=this.cameraOffset.y,C=Math.sin,v=Math.cos;this.cameraLocation.x=this.cameraLocation.x+O*v(_)+b*-C(_)*v(A),this.cameraLocation.y=this.cameraLocation.y+O*C(_)+b*v(_)*v(A),this.cameraLocation.z=this.cameraLocation.z+b*C(A)},Y.exports=T},function(Y,L,D){var R=D(12);function y(x,E,T){this.dataGroup=x,this.column=E,this.graph=T,this.index=void 0,this.value=void 0,this.values=x.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,T.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}y.prototype.isLoaded=function(){return this.loaded},y.prototype.getLoadedProgress=function(){for(var x=this.values.length,E=0;this.dataPoints[E];)E++;return Math.round(E/x*100)},y.prototype.getLabel=function(){return this.graph.filterLabel},y.prototype.getColumn=function(){return this.column},y.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},y.prototype.getValues=function(){return this.values},y.prototype.getValue=function(x){if(x>=this.values.length)throw new Error("Index out of range");return this.values[x]},y.prototype._getDataPoints=function(x){if(void 0===x&&(x=this.index),void 0===x)return[];var E;if(this.dataPoints[x])E=this.dataPoints[x];else{var T={};T.column=this.column,T.value=this.values[x];var A=new R(this.dataGroup.getDataSet(),{filter:function(O){return O[T.column]==T.value}}).get();E=this.dataGroup._getDataPoints(A),this.dataPoints[x]=E}return E},y.prototype.setOnLoadCallback=function(x){this.onLoadCallback=x},y.prototype.selectValue=function(x){if(x>=this.values.length)throw new Error("Index out of range");this.index=x,this.value=this.values[x]},y.prototype.loadInBackground=function(x){void 0===x&&(x=0);var E=this.graph.frame;if(x<this.values.length){void 0===E.progress&&(E.progress=document.createElement("DIV"),E.progress.style.position="absolute",E.progress.style.color="gray",E.appendChild(E.progress));var T=this.getLoadedProgress();E.progress.innerHTML="Loading animation... "+T+"%",E.progress.style.bottom="60px",E.progress.style.left="10px";var A=this;setTimeout(function(){A.loadInBackground(x+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==E.progress&&(E.removeChild(E.progress),E.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},Y.exports=y},function(Y,L,D){var R=D(35),y=D(44),x=D(10),E=D(2);function T(_){this.active=!1,this.dom={container:_},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=x(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var O=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(C){O.hammer.on(C,function(v){v.stopPropagation()})}),document&&document.body&&(this.onClick=function(C){(function(_,O){for(;_;){if(_===O)return!0;_=_.parentNode}return!1})(C.target,_)||O.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=R(),this.escListener=this.deactivate.bind(this)}y(T.prototype),T.current=null,T.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},T.prototype.activate=function(){T.current&&T.current.deactivate(),T.current=this,this.active=!0,this.dom.overlay.style.display="none",E.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},T.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",E.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},T.prototype._onTapOverlay=function(_){this.activate(),_.stopPropagation()},Y.exports=T},function(Y,L,D){L.en={current:"current",time:"time"},L.en_EN=L.en,L.en_US=L.en,L.it={current:"attuale",time:"tempo"},L.it_IT=L.it,L.it_CH=L.it,L.nl={current:"huidige",time:"tijd"},L.nl_NL=L.nl,L.nl_BE=L.nl,L.de={current:"Aktuelle",time:"Zeit"},L.de_DE=L.de,L.fr={current:"actuel",time:"heure"},L.fr_FR=L.fr,L.fr_CA=L.fr,L.fr_BE=L.fr,L.es={current:"corriente",time:"hora"},L.es_ES=L.es},function(Y,L,D){var y=T(D(29)),E=T(D(6));function T(c){return c&&c.__esModule?c:{default:c}}var A=D(10),_=D(2),O=D(11),b=D(12),C=D(66),v=D(16),m=D(68),h=D(69),S=D(101),a=D(102),f=D(70),u=D(103),l=D(104).default,p="__ungrouped__",M="__background__";function d(c,w){this.body=c,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(V,H,z){var U=H.order;H.order=V.order,V.order=U},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:C.snap,onDropObjectOnItem:function(V,H,z){z(H)},onAdd:function(V,H){H(V)},onUpdate:function(V,H){H(V)},onMove:function(V,H){H(V)},onRemove:function(V,H){H(V)},onMoving:function(V,H){H(V)},onAddGroup:function(V,H){H(V)},onMoveGroup:function(V,H){H(V)},onRemoveGroup:function(V,H){H(V)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=_.extend({},this.defaultOptions),this.options.rtl=w.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:c.util.toScreen,toTime:c.util.toTime},this.dom={},this.props={},this.hammer=null;var I=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(V,H,z){I._onAdd(H.items)},update:function(V,H,z){I._onUpdate(H.items)},remove:function(V,H,z){I._onRemove(H.items)}},this.groupListeners={add:function(V,H,z){if(I._onAddGroups(H.items),I.groupsData&&I.groupsData.length>0){var U=I.groupsData.getDataSet();U.get().forEach(function($){if($.nestedGroups){0!=$.showNested&&($.showNested=!0);var J=[];$.nestedGroups.forEach(function(te){var ie=U.get(te);!ie||(ie.nestedInGroup=$.id,0==$.showNested&&(ie.visible=!1),J=J.concat(ie))}),U.update(J,z)}})}},update:function(V,H,z){I._onUpdateGroups(H.items)},remove:function(V,H,z){I._onRemoveGroups(H.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(w)}d.prototype=new v,d.types={background:u,box:S,range:f,point:a},d.prototype._create=function(){var c=document.createElement("div");c.className="vis-itemset",c["timeline-itemset"]=this,this.dom.frame=c;var w=document.createElement("div");w.className="vis-background",c.appendChild(w),this.dom.background=w;var I=document.createElement("div");I.className="vis-foreground",c.appendChild(I),this.dom.foreground=I;var N=document.createElement("div");N.className="vis-axis",this.dom.axis=N;var V=document.createElement("div");V.className="vis-labelset",this.dom.labelSet=V,this._updateUngrouped();var H=new h(M,null,this);H.show(),this.groups[M]=H,this.hammer=new A(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(z){z.isFirst&&this._onTouch(z)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:A.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new A(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:A.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},d.prototype.setOptions=function(c){if(c){_.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,c),"itemsAlwaysDraggable"in c&&("boolean"==typeof c.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=c.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,E.default)(c.itemsAlwaysDraggable)&&(_.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,c.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in c&&("string"==typeof c.orientation?this.options.orientation.item="top"===c.orientation?"top":"bottom":"object"===(0,E.default)(c.orientation)&&"item"in c.orientation&&(this.options.orientation.item=c.orientation.item)),"margin"in c&&("number"==typeof c.margin?(this.options.margin.axis=c.margin,this.options.margin.item.horizontal=c.margin,this.options.margin.item.vertical=c.margin):"object"===(0,E.default)(c.margin)&&(_.selectiveExtend(["axis"],this.options.margin,c.margin),"item"in c.margin&&("number"==typeof c.margin.item?(this.options.margin.item.horizontal=c.margin.item,this.options.margin.item.vertical=c.margin.item):"object"===(0,E.default)(c.margin.item)&&_.selectiveExtend(["horizontal","vertical"],this.options.margin.item,c.margin.item)))),"editable"in c&&("boolean"==typeof c.editable?(this.options.editable.updateTime=c.editable,this.options.editable.updateGroup=c.editable,this.options.editable.add=c.editable,this.options.editable.remove=c.editable,this.options.editable.overrideItems=!1):"object"===(0,E.default)(c.editable)&&_.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,c.editable)),"groupEditable"in c&&("boolean"==typeof c.groupEditable?(this.options.groupEditable.order=c.groupEditable,this.options.groupEditable.add=c.groupEditable,this.options.groupEditable.remove=c.groupEditable):"object"===(0,E.default)(c.groupEditable)&&_.selectiveExtend(["order","add","remove"],this.options.groupEditable,c.groupEditable));var I=function(N){var V=c[N];if(V){if(!(V instanceof Function))throw new Error("option "+N+" must be a function "+N+"(item, callback)");this.options[N]=V}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(I),this.markDirty()}},d.prototype.markDirty=function(c){this.groupIds=[],c&&c.refreshItems&&_.forEach(this.items,function(w){w.dirty=!0,w.displayed&&w.redraw()})},d.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},d.prototype.setSelection=function(c){var w,I,N,V;for(null==c&&(c=[]),Array.isArray(c)||(c=[c]),w=0,I=this.selection.length;w<I;w++)(V=this.items[N=this.selection[w]])&&V.unselect();for(this.selection=[],w=0,I=c.length;w<I;w++)(V=this.items[N=c[w]])&&(this.selection.push(N),V.select())},d.prototype.getSelection=function(){return this.selection.concat([])},d.prototype.getVisibleItems=function(){var w,I,c=this.body.range.getRange();this.options.rtl?(w=this.body.util.toScreen(c.start),I=this.body.util.toScreen(c.end)):(I=this.body.util.toScreen(c.start),w=this.body.util.toScreen(c.end));var N=[];for(var V in this.groups)if(this.groups.hasOwnProperty(V))for(var H=this.groups[V],z=H.isVisible?H.visibleItems:[],U=0;U<z.length;U++){var $=z[U];this.options.rtl?$.right<I&&$.right+$.width>w&&N.push($.id):$.left<w&&$.left+$.width>I&&N.push($.id)}return N},d.prototype._deselect=function(c){for(var w=this.selection,I=0,N=w.length;I<N;I++)if(w[I]==c){w.splice(I,1);break}},d.prototype.redraw=function(){var c=this.options.margin,w=this.body.range,I=_.option.asSize,N=this.options,V=N.orientation.item,H=!1,z=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,z.className="vis-itemset",H=this._orderGroups()||H;var U=w.end-w.start,ue=U!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||w.start!=this.lastRangeStart||N.stack!=this.lastStack||N.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=U,this.lastRangeStart=w.start,this.lastStack=N.stack,this.lastStackSubgroups=N.stackSubgroups,this.props.lastWidth=this.props.width;var ye=this._firstGroup(),ve={item:c.item,axis:c.axis},be={item:c.item,axis:c.item.vertical/2},de=0,re=c.axis+c.item.vertical;this.groups[M].redraw(w,be,ue);var ae={},me=0;if(_.forEach(this.groups,function(Re,Fe){Fe!==M&&(ae[Fe]=Re.redraw(w,Re==ye?ve:be,ue,!0),me=ae[Fe].length)}),me>0){for(var _e={},De=0;De<me;De++)_.forEach(ae,function(Re,Fe){_e[Fe]=Re[De]()});_.forEach(this.groups,function(Re,Fe){Fe!==M&&(H=_e[Fe]||H,de+=Re.height)}),de=Math.max(de,re)}return de=Math.max(de,re),z.style.height=I(de),this.props.width=z.offsetWidth,this.props.height=de,this.dom.axis.style.top=I("top"==V?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,H=this._isResized()||H},d.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[p]||null},d.prototype._updateUngrouped=function(){var w,I,c=this.groups[p];if(this.groupsData){if(c)for(I in c.hide(),delete this.groups[p],this.items)if(this.items.hasOwnProperty(I)){(w=this.items[I]).parent&&w.parent.remove(w);var N=this._getGroupId(w.data),V=this.groups[N];V&&V.add(w)||w.hide()}}else if(!c){for(I in c=new m(null,null,this),this.groups[p]=c,this.items)this.items.hasOwnProperty(I)&&c.add(w=this.items[I]);c.show()}},d.prototype.getLabelSet=function(){return this.dom.labelSet},d.prototype.setItems=function(c){var I,w=this,N=this.itemsData;if(c){if(!(c instanceof O||c instanceof b))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=c}else this.itemsData=null;if(N&&(_.forEach(this.itemListeners,function(H,z){N.off(z,H)}),I=N.getIds(),this._onRemove(I)),this.itemsData){var V=this.id;_.forEach(this.itemListeners,function(H,z){w.itemsData.on(z,H,V)}),I=this.itemsData.getIds(),this._onAdd(I),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},d.prototype.getItems=function(){return this.itemsData},d.prototype.setGroups=function(c){var I,w=this;if(this.groupsData&&(_.forEach(this.groupListeners,function(H,z){w.groupsData.off(z,H)}),I=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(I)),c){if(!(c instanceof O||c instanceof b))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=c}else this.groupsData=null;if(this.groupsData){var N=this.groupsData;this.groupsData instanceof b&&(N=this.groupsData.getDataSet()),N.get().forEach(function(H){H.nestedGroups&&H.nestedGroups.forEach(function(z){var U=N.get(z);U.nestedInGroup=H.id,0==H.showNested&&(U.visible=!1),N.update(U)})});var V=this.id;_.forEach(this.groupListeners,function(H,z){w.groupsData.on(z,H,V)}),I=this.groupsData.getIds(),this._onAddGroups(I)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},d.prototype.getGroups=function(){return this.groupsData},d.prototype.removeItem=function(c){var w=this.itemsData.get(c),I=this.itemsData.getDataSet();w&&this.options.onRemove(w,function(N){N&&I.remove(c)})},d.prototype._getType=function(c){return c.type||this.options.type||(c.end?"range":"box")},d.prototype._getGroupId=function(c){return"background"==this._getType(c)&&null==c.group?M:this.groupsData?c.group:p},d.prototype._onAdd=d.prototype._onUpdate=function(c){var w=this;c.forEach(function(I){var U,N=w.itemsData.get(I,w.itemOptions),V=w.items[I],H=N?w._getType(N):null,z=d.types[H];if(V&&(z&&V instanceof z?w._updateItem(V,N):(U=V.selected,w._removeItem(V),V=null)),!V&&N){if(!z)throw"rangeoverflow"==H?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+H+'"');(V=new z(N,w.conversion,w.options)).id=I,w._addItem(V),U&&(this.selection.push(I),V.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},d.prototype._onRemove=function(c){var w=0,I=this;c.forEach(function(N){var V=I.items[N];V&&(w++,I._removeItem(V))}),w&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},d.prototype._order=function(){_.forEach(this.groups,function(c){c.order()})},d.prototype._onUpdateGroups=function(c){this._onAddGroups(c)},d.prototype._onAddGroups=function(c){var w=this;c.forEach(function(I){var N=w.groupsData.get(I),V=w.groups[I];if(V)V.setData(N);else{if(I==p||I==M)throw new Error("Illegal group id. "+I+" is a reserved id.");var H=(0,y.default)(w.options);for(var z in _.extend(H,{height:null}),V=new m(I,N,w),w.groups[I]=V,w.items)if(w.items.hasOwnProperty(z)){var U=w.items[z];U.data.group==I&&V.add(U)}V.order(),V.show()}}),this.body.emitter.emit("_change",{queue:!0})},d.prototype._onRemoveGroups=function(c){var w=this.groups;c.forEach(function(I){var N=w[I];N&&(N.hide(),delete w[I])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},d.prototype._orderGroups=function(){if(this.groupsData){var c=this.groupsData.getIds({order:this.options.groupOrder});c=this._orderNestedGroups(c);var w=!_.equalArray(c,this.groupIds);if(w){var I=this.groups;c.forEach(function(N){I[N].hide()}),c.forEach(function(N){I[N].show()}),this.groupIds=c}return w}return!1},d.prototype._orderNestedGroups=function(c){var w=[];return c.forEach(function(I){var N=this.groupsData.get(I);if(N.nestedInGroup||w.push(I),N.nestedGroups){var H=this.groupsData.get({filter:function(U){return U.nestedInGroup==I},order:this.options.groupOrder}).map(function(z){return z.id});w=w.concat(H)}},this),w},d.prototype._addItem=function(c){this.items[c.id]=c;var w=this._getGroupId(c.data),I=this.groups[w];I?I&&I.data&&I.data.showNested&&(c.groupShowing=!0):c.groupShowing=!1,I&&I.add(c)},d.prototype._updateItem=function(c,w){c.setData(w);var I=this._getGroupId(c.data),N=this.groups[I];N?N&&N.data&&N.data.showNested&&(c.groupShowing=!0):c.groupShowing=!1},d.prototype._removeItem=function(c){c.hide(),delete this.items[c.id];var w=this.selection.indexOf(c.id);-1!=w&&this.selection.splice(w,1),c.parent&&c.parent.remove(c)},d.prototype._constructByEndArray=function(c){for(var w=[],I=0;I<c.length;I++)c[I]instanceof f&&w.push(c[I]);return w},d.prototype._onTouch=function(c){this.touchParams.item=this.itemFromTarget(c),this.touchParams.dragLeftItem=c.target.dragLeftItem||!1,this.touchParams.dragRightItem=c.target.dragRightItem||!1,this.touchParams.itemProps=null},d.prototype._getGroupIndex=function(c){for(var w=0;w<this.groupIds.length;w++)if(c==this.groupIds[w])return w},d.prototype._onDragStart=function(c){if(!this.touchParams.itemIsDragging){var N,w=this.touchParams.item||null,I=this;if(w&&(w.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||null!=w.editable&&!w.editable.updateTime&&!w.editable.updateGroup&&!this.options.editable.overrideItems)return;var V=this.touchParams.dragLeftItem,H=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=w,V)N={item:V,initialX:c.center.x,dragLeft:!0,data:this._cloneItemData(w.data)},this.touchParams.itemProps=[N];else if(H)N={item:H,initialX:c.center.x,dragRight:!0,data:this._cloneItemData(w.data)},this.touchParams.itemProps=[N];else if(this.options.editable.add&&(c.srcEvent.ctrlKey||c.srcEvent.metaKey))this._onDragStartAddItem(c);else{this.groupIds.length<1&&this.redraw();var z=this._getGroupIndex(w.data.group),U=this.options.itemsAlwaysDraggable.item&&!w.selected?[w.id]:this.getSelection();this.touchParams.itemProps=U.map(function($){var J=I.items[$],te=I._getGroupIndex(J.data.group);return{item:J,initialX:c.center.x,groupOffset:z-te,data:this._cloneItemData(J.data)}}.bind(this))}c.stopPropagation()}else this.options.editable.add&&(c.srcEvent.ctrlKey||c.srcEvent.metaKey)&&this._onDragStartAddItem(c)}},d.prototype._onDragStartAddItem=function(c){var w,I,N=this.options.snap||null;this.options.rtl?I=(w=_.getAbsoluteRight(this.dom.frame))-c.center.x+10:(w=_.getAbsoluteLeft(this.dom.frame),I=c.center.x-w-10);var V=this.body.util.toTime(I),H=this.body.util.getScale(),z=this.body.util.getStep(),U=N?N(V,H,z):V,J={type:"range",start:U,end:U,content:"new item"},te=_.randomUUID();J[this.itemsData._fieldId]=te;var ie=this.groupFromTarget(c);ie&&(J.group=ie.groupId);var ue=new f(J,this.conversion,this.options);ue.id=te,ue.data=this._cloneItemData(J),this._addItem(ue),this.touchParams.selectedItem=ue;var ye={item:ue,initialX:c.center.x,data:ue.data};this.options.rtl?ye.dragLeft=!0:ye.dragRight=!0,this.touchParams.itemProps=[ye],c.stopPropagation()},d.prototype._onDrag=function(c){if(this.touchParams.itemProps){c.stopPropagation();var N,w=this,I=this.options.snap||null;N=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var V=this.body.util.getScale(),H=this.body.util.getStep(),z=this.touchParams.selectedItem,U=(this.options.editable.overrideItems||null==z.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=z.editable&&z.editable.updateGroup,$=null;if(U&&z&&null!=z.data.group){var J=w.groupFromTarget(c);J&&($=this._getGroupIndex(J.groupId))}this.touchParams.itemProps.forEach(function(te){var ye,ve,be,de,re,ie=w.body.util.toTime(c.center.x-N),ue=w.body.util.toTime(te.initialX-N);ye=this.options.rtl?-(ie-ue):ie-ue;var ae=this._cloneItemData(te.item.data);if(null==te.item.editable||te.item.editable.updateTime||te.item.editable.updateGroup||w.options.editable.overrideItems){if((this.options.editable.overrideItems||null==z.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=z.editable&&z.editable.updateTime)if(te.dragLeft)this.options.rtl?null!=ae.end&&(be=_.convert(te.data.end,"Date"),re=new Date(be.valueOf()+ye),ae.end=I?I(re,V,H):re):null!=ae.start&&(ve=_.convert(te.data.start,"Date"),de=new Date(ve.valueOf()+ye),ae.start=I?I(de,V,H):de);else if(te.dragRight)this.options.rtl?null!=ae.start&&(ve=_.convert(te.data.start,"Date"),de=new Date(ve.valueOf()+ye),ae.start=I?I(de,V,H):de):null!=ae.end&&(be=_.convert(te.data.end,"Date"),re=new Date(be.valueOf()+ye),ae.end=I?I(re,V,H):re);else if(null!=ae.start)if(ve=_.convert(te.data.start,"Date").valueOf(),de=new Date(ve+ye),null!=ae.end){var Se=(be=_.convert(te.data.end,"Date")).valueOf()-ve.valueOf();ae.start=I?I(de,V,H):de,ae.end=new Date(ae.start.valueOf()+Se)}else ae.start=I?I(de,V,H):de;if(U&&!te.dragLeft&&!te.dragRight&&null!=$&&null!=ae.group){var _e=$-te.groupOffset;_e=Math.max(0,_e),_e=Math.min(w.groupIds.length-1,_e),ae.group=w.groupIds[_e]}ae=this._cloneItemData(ae),w.options.onMoving(ae,function(De){De&&te.item.setData(this._cloneItemData(De,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},d.prototype._moveToGroup=function(c,w){var I=this.groups[w];if(I&&I.groupId!=c.data.group){var N=c.parent;N.remove(c),N.order(),c.data.group=I.groupId,I.add(c),I.order()}},d.prototype._onDragEnd=function(c){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){c.stopPropagation();var w=this,I=this.itemsData.getDataSet(),N=this.touchParams.itemProps;this.touchParams.itemProps=null,N.forEach(function(V){var H=V.item.id;if(null!=w.itemsData.get(H,w.itemOptions)){var U=this._cloneItemData(V.item.data);w.options.onMove(U,function($){$?($[I._fieldId]=H,I.update($)):(V.item.setData(V.data),w.body.emitter.emit("_change"))})}else w.options.onAdd(V.item.data,function($){w._removeItem(V.item),$&&w.itemsData.getDataSet().add($),w.body.emitter.emit("_change")})}.bind(this))}},d.prototype._onGroupClick=function(c){var w=this.groupFromTarget(c);if(w&&w.nestedGroups){var I=this.groupsData.getDataSet(),N=I.get(w.groupId);null==N.showNested&&(N.showNested=!0),N.showNested=!N.showNested;var V=I.get(w.nestedGroups).map(function(z){return z.visible=N.showNested,z});I.update(V.concat(N)),N.showNested?(_.removeClassName(w.dom.label,"collapsed"),_.addClassName(w.dom.label,"expanded")):(_.removeClassName(w.dom.label,"expanded"),_.addClassName(w.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},d.prototype._onGroupDragStart=function(c){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(c),this.groupTouchParams.group&&(c.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},d.prototype._onGroupDrag=function(c){if(this.options.groupEditable.order&&this.groupTouchParams.group){c.stopPropagation();var w=this.groupsData;this.groupsData instanceof b&&(w=this.groupsData.getDataSet());var I=this.groupFromTarget(c);if(I&&I.height!=this.groupTouchParams.group.height){var N=I.top<this.groupTouchParams.group.top,V=c.center?c.center.y:c.clientY,H=_.getAbsoluteTop(I.dom.foreground),z=this.groupTouchParams.group.height;if(N){if(H+z<V)return}else if(H+I.height-z>V)return}if(I&&I!=this.groupTouchParams.group){var $=w.get(I.groupId),J=w.get(this.groupTouchParams.group.groupId);J&&$&&(this.options.groupOrderSwap(J,$,w),w.update(J),w.update($));var te=w.getIds({order:this.options.groupOrder});if(!_.equalArray(te,this.groupTouchParams.originalOrder))for(var ie=this.groupTouchParams.originalOrder,ue=this.groupTouchParams.group.groupId,ye=Math.min(ie.length,te.length),ve=0,be=0,de=0;ve<ye;){for(;ve+be<ye&&ve+de<ye&&te[ve+be]==ie[ve+de];)ve++;if(ve+be>=ye)break;if(te[ve+be]==ue)be=1;else if(ie[ve+de]==ue)de=1;else{var re=te.indexOf(ie[ve+de]),ae=w.get(te[ve+be]),me=w.get(ie[ve+de]);this.options.groupOrderSwap(ae,me,w),w.update(ae),w.update(me);var Se=te[ve+be];te[ve+be]=ie[ve+de],te[re]=Se,ve++}}}}},d.prototype._onGroupDragEnd=function(c){if(this.options.groupEditable.order&&this.groupTouchParams.group){c.stopPropagation();var w=this,I=w.groupTouchParams.group.groupId,N=w.groupsData.getDataSet(),V=_.extend({},N.get(I));w.options.onMoveGroup(V,function(H){if(H)H[N._fieldId]=I,N.update(H);else{var z=N.getIds({order:w.options.groupOrder});if(!_.equalArray(z,w.groupTouchParams.originalOrder))for(var U=w.groupTouchParams.originalOrder,$=Math.min(U.length,z.length),J=0;J<$;){for(;J<$&&z[J]==U[J];)J++;if(J>=$)break;var te=z.indexOf(U[J]),ie=N.get(z[J]),ue=N.get(U[J]);w.options.groupOrderSwap(ie,ue,N),N.update(ie),N.update(ue);var ye=z[J];z[J]=U[J],z[te]=ye,J++}}}),w.body.emitter.emit("groupDragged",{groupId:I})}},d.prototype._onSelectItem=function(c){if(this.options.selectable){if(c.srcEvent&&(c.srcEvent.ctrlKey||c.srcEvent.metaKey)||c.srcEvent&&c.srcEvent.shiftKey)return void this._onMultiSelectItem(c);var N=this.getSelection(),V=this.itemFromTarget(c);this.setSelection(V?[V.id]:[]);var z=this.getSelection();(z.length>0||N.length>0)&&this.body.emitter.emit("select",{items:z,event:c})}},d.prototype._onMouseOver=function(c){var w=this.itemFromTarget(c);if(w&&w!==this.itemFromRelatedTarget(c)){var N=w.getTitle();if(this.options.showTooltips&&N){null==this.popup&&(this.popup=new l(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(N);var V=this.body.dom.centerContainer;this.popup.setPosition(c.clientX-_.getAbsoluteLeft(V)+V.offsetLeft,c.clientY-_.getAbsoluteTop(V)+V.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:w.id,event:c})}},d.prototype._onMouseOut=function(c){var w=this.itemFromTarget(c);w&&w!==this.itemFromRelatedTarget(c)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:w.id,event:c}))},d.prototype._onMouseMove=function(c){if(this.itemFromTarget(c)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var I=this.body.dom.centerContainer;this.popup.setPosition(c.clientX-_.getAbsoluteLeft(I)+I.offsetLeft,c.clientY-_.getAbsoluteTop(I)+I.offsetTop),this.popup.show()}},d.prototype._onMouseWheel=function(c){this.touchParams.itemIsDragging&&this._onDragEnd(c)},d.prototype._onUpdateItem=function(c){if(this.options.selectable&&this.options.editable.add){var w=this;if(c){var I=w.itemsData.get(c.id);this.options.onUpdate(I,function(N){N&&w.itemsData.getDataSet().update(N)})}}},d.prototype._onDropObjectOnItem=function(c){var w=this.itemFromTarget(c),I=JSON.parse(c.dataTransfer.getData("text"));this.options.onDropObjectOnItem(I,w)},d.prototype._onAddItem=function(c){if(this.options.selectable&&this.options.editable.add){var N,V,w=this,I=this.options.snap||null;this.options.rtl?V=(N=_.getAbsoluteRight(this.dom.frame))-c.center.x:(N=_.getAbsoluteLeft(this.dom.frame),V=c.center.x-N);var $,J,H=this.body.util.toTime(V),z=this.body.util.getScale(),U=this.body.util.getStep();"drop"==c.type?((J=JSON.parse(c.dataTransfer.getData("text"))).content=J.content?J.content:"new item",J.start=J.start?J.start:I?I(H,z,U):H,J.type=J.type||"box",J[this.itemsData._fieldId]=J.id||_.randomUUID(),"range"==J.type&&!J.end&&($=this.body.util.toTime(V+this.props.width/5),J.end=I?I($,z,U):$)):((J={start:I?I(H,z,U):H,content:"new item"})[this.itemsData._fieldId]=_.randomUUID(),"range"===this.options.type&&($=this.body.util.toTime(V+this.props.width/5),J.end=I?I($,z,U):$));var te=this.groupFromTarget(c);te&&(J.group=te.groupId),J=this._cloneItemData(J),this.options.onAdd(J,function(ie){ie&&(w.itemsData.getDataSet().add(ie),"drop"==c.type&&w.setSelection([ie.id]))})}},d.prototype._onMultiSelectItem=function(c){if(this.options.selectable){var w=this.itemFromTarget(c);if(w){var I=this.options.multiselect?this.getSelection():[];if(c.srcEvent&&c.srcEvent.shiftKey&&this.options.multiselect){var V=this.itemsData.get(w.id).group,H=void 0;this.options.multiselectPerGroup&&I.length>0&&(H=this.itemsData.get(I[0]).group),(!this.options.multiselectPerGroup||null==H||H==V)&&I.push(w.id);var z=d._getItemRange(this.itemsData.get(I,this.itemOptions));if(!this.options.multiselectPerGroup||H==V)for(var U in I=[],this.items)if(this.items.hasOwnProperty(U)){var $=this.items[U],J=$.data.start;J>=z.min&&(void 0!==$.data.end?$.data.end:J)<=z.max&&(!this.options.multiselectPerGroup||H==this.itemsData.get($.id).group)&&!($ instanceof u)&&I.push($.id)}}else{var ie=I.indexOf(w.id);-1==ie?I.push(w.id):I.splice(ie,1)}this.setSelection(I),this.body.emitter.emit("select",{items:this.getSelection(),event:c})}}},d._getItemRange=function(c){var w=null,I=null;return c.forEach(function(N){(null==I||N.start<I)&&(I=N.start),null!=N.end?(null==w||N.end>w)&&(w=N.end):(null==w||N.start>w)&&(w=N.start)}),{min:I,max:w}},d.prototype.itemFromElement=function(c){for(var w=c;w;){if(w.hasOwnProperty("timeline-item"))return w["timeline-item"];w=w.parentNode}return null},d.prototype.itemFromTarget=function(c){return this.itemFromElement(c.target)},d.prototype.itemFromRelatedTarget=function(c){return this.itemFromElement(c.relatedTarget)},d.prototype.groupFromTarget=function(c){var w=c.center?c.center.y:c.clientY,I=this.groupIds;I.length<=0&&this.groupsData&&(I=this.groupsData.getIds({order:this.options.groupOrder}));for(var N=0;N<I.length;N++){var H=this.groups[I[N]],z=H.dom.foreground,U=_.getAbsoluteTop(z);if(w>U&&w<U+z.offsetHeight)return H;if("top"===this.options.orientation.item){if(N===this.groupIds.length-1&&w>U)return H}else if(0===N&&w<U+z.offset)return H}return null},d.itemSetFromTarget=function(c){for(var w=c.target;w;){if(w.hasOwnProperty("timeline-itemset"))return w["timeline-itemset"];w=w.parentNode}return null},d.prototype._cloneItemData=function(c,w){var I=_.extend({},c);return w||(w=this.itemsData.getDataSet()._options.type),null!=I.start&&(I.start=_.convert(I.start,w&&w.start||"Date")),null!=I.end&&(I.end=_.convert(I.end,w&&w.end||"Date")),I},Y.exports=d},function(Y,L,D){var R=.001;L.orderByStart=function(y){y.sort(function(x,E){return x.data.start-E.data.start})},L.orderByEnd=function(y){y.sort(function(x,E){return("end"in x.data?x.data.end:x.data.start)-("end"in E.data?E.data.end:E.data.start)})},L.stack=function(y,x,E){if(E)for(var T=0;T<y.length;T++)y[T].top=null;for(T=0;T<y.length;T++){var A=y[T];if(A.stack&&null===A.top){A.top=x.axis;do{for(var _=null,O=0,b=y.length;O<b;O++){var C=y[O];if(null!==C.top&&C!==A&&C.stack&&L.collision(A,C,x.item,C.options.rtl)){_=C;break}}null!=_&&(A.top=_.top+_.height+x.item.vertical)}while(_)}}},L.substack=function(y,x,E){for(var T=0;T<y.length;T++)y[T].top=null;var A=E.height;for(T=0;T<y.length;T++){var _=y[T];if(_.stack&&null===_.top){_.top=_.baseTop;do{for(var O=null,b=0,C=y.length;b<C;b++){var v=y[b];if(null!==v.top&&v!==_&&L.collision(_,v,x.item,v.options.rtl)){O=v;break}}null!=O&&(_.top=O.top+O.height+x.item.vertical),_.top+_.height>A&&(A=_.top+_.height)}while(O)}}E.height=A-E.top+.5*x.item.vertical},L.nostack=function(y,x,E,T){for(var A=0;A<y.length;A++)if(null==y[A].data.subgroup)y[A].top=x.item.vertical;else if(void 0!==y[A].data.subgroup&&T){var _=0;for(var O in E)E.hasOwnProperty(O)&&1==E[O].visible&&E[O].index<E[y[A].data.subgroup].index&&(E[y[A].data.subgroup].top=_+=E[O].height);y[A].top=_+.5*x.item.vertical}T||L.stackSubgroups(y,x,E)},L.stackSubgroups=function(y,x,E){for(var T in E)if(E.hasOwnProperty(T)){E[T].top=0;do{var A=null;for(var _ in E)if(null!==E[_].top&&_!==T&&E[T].index>E[_].index&&L.collisionByTimes(E[T],E[_])){A=E[_];break}null!=A&&(E[T].top=A.top+A.height)}while(A)}for(var O=0;O<y.length;O++)void 0!==y[O].data.subgroup&&(y[O].top=E[y[O].data.subgroup].top+.5*x.item.vertical)},L.stackSubgroupsWithInnerStack=function(y,x,E){var T=!1,A=[];for(var _ in E)E[_].hasOwnProperty("index")?A[E[_].index]=_:A.push(_);for(var O=0;O<A.length;O++)if(E.hasOwnProperty(_=A[O])){for(var b in T=T||E[_].stack,E[_].top=0,E)E[b].visible&&E[_].index>E[b].index&&(E[_].top+=E[b].height);for(var C=y[_],v=0;v<C.length;v++)void 0!==C[v].data.subgroup&&(C[v].top=E[C[v].data.subgroup].top+.5*x.item.vertical,E[_].stack&&(C[v].baseTop=C[v].top));T&&E[_].stack&&L.substack(y[_],x,E[_])}},L.collision=function(y,x,E,T){return T?y.right-E.horizontal+R<x.right+x.width&&y.right+y.width+E.horizontal-R>x.right&&y.top-E.vertical+R<x.top+x.height&&y.top+y.height+E.vertical-R>x.top:y.left-E.horizontal+R<x.left+x.width&&y.left+y.width+E.horizontal-R>x.left&&y.top-E.vertical+R<x.top+x.height&&y.top+y.height+E.vertical-R>x.top},L.collisionByTimes=function(y,x){return y.start<=x.start&&y.end>=x.start&&y.top<x.top+x.height&&y.top+y.height>x.top||x.start<=y.start&&x.end>=y.start&&x.top<y.top+y.height&&x.top+x.height>y.top}},function(Y,L,D){var R=D(38);function y(x,E,T){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=T,x&&null==x.start)throw new Error('Property "start" missing in item '+x);R.call(this,x,E,T)}(y.prototype=new R(null,null,null)).isVisible=function(x){var T=this.options.align,A=this.width*x.getMillisecondsPerPixel();return"right"==T?this.data.start.getTime()>x.start&&this.data.start.getTime()-A<x.end:"left"==T?this.data.start.getTime()+A>x.start&&this.data.start.getTime()<x.end:this.data.start.getTime()+A/2>x.start&&this.data.start.getTime()-A/2<x.end},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var x=this.parent.dom.foreground;if(!x)throw new Error("Cannot redraw item: parent has no foreground container element");x.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var E=this.parent.dom.background;if(!E)throw new Error("Cannot redraw item: parent has no background container element");E.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var T=this.parent.dom.axis;if(!E)throw new Error("Cannot redraw item: parent has no axis container element");T.appendChild(this.dom.dot)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var E=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+E,this.dom.line.className="vis-item vis-line"+E,this.dom.dot.className="vis-item vis-dot"+E}},y.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(x){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=x.dot.height,this.props.dot.width=x.dot.width,this.props.line.width=x.line.width,this.width=x.box.width,this.height=x.box.height,this.options.rtl?this.dom.box.style.right=x.previous.right:this.dom.box.style.left=x.previous.left,this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},y.prototype.redraw=function(x){var E,A,T=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(E=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(E)}.bind(this),this._repaintDomAdditionals.bind(this)];return x?T:(T.forEach(function(_){A=_()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){if(this.displayed){var x=this.dom;x.box.parentNode&&x.box.parentNode.removeChild(x.box),x.line.parentNode&&x.line.parentNode.removeChild(x.line),x.dot.parentNode&&x.dot.parentNode.removeChild(x.dot),this.displayed=!1}},y.prototype.repositionX=function(){var x=this.conversion.toScreen(this.data.start),E=this.options.align;"right"==E?this.options.rtl?(this.right=x-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=x-this.props.line.width+"px",this.dom.dot.style.right=x-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=x-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=x-this.props.line.width+"px",this.dom.dot.style.left=x-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==E?this.options.rtl?(this.right=x,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=x+"px",this.dom.dot.style.right=x+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=x,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=x+"px",this.dom.dot.style.left=x+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=x-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=x-this.props.line.width+"px",this.dom.dot.style.right=x-this.props.dot.width/2+"px"):(this.left=x-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=x-this.props.line.width/2+"px",this.dom.dot.style.left=x-this.props.dot.width/2+"px")},y.prototype.repositionY=function(){var E=this.dom.box,T=this.dom.line,A=this.dom.dot;if("top"==this.options.orientation.item)E.style.top=(this.top||0)+"px",T.style.top="0",T.style.height=this.parent.top+this.top+1+"px",T.style.bottom="";else{var _=this.parent.itemSet.props.height,O=_-this.parent.top-this.parent.height+this.top;E.style.top=(this.parent.height-this.top-this.height||0)+"px",T.style.top=_-O+"px",T.style.bottom="0"}A.style.top=-this.props.dot.height/2+"px"},y.prototype.getWidthLeft=function(){return this.width/2},y.prototype.getWidthRight=function(){return this.width/2},Y.exports=y},function(Y,L,D){var R=D(38);function y(x,E,T){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=T,x&&null==x.start)throw new Error('Property "start" missing in item '+x);R.call(this,x,E,T)}(y.prototype=new R(null,null,null)).isVisible=function(x){var E=this.width*x.getMillisecondsPerPixel();return this.data.start.getTime()+E>x.start&&this.data.start<x.end},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var x=this.parent.dom.foreground;if(!x)throw new Error("Cannot redraw item: parent has no foreground container element");x.appendChild(this.dom.point)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var E=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+E,this.dom.dot.className="vis-item vis-dot"+E}},y.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(x){this.props.dot.width=x.dot.width,this.props.dot.height=x.dot.height,this.props.content.height=x.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=x.point.width,this.height=x.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},y.prototype.redraw=function(x){var E,A,T=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(E=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(E)}.bind(this),this._repaintDomAdditionals.bind(this)];return x?T:(T.forEach(function(_){A=_()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},y.prototype.repositionX=function(){var x=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=x-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=x-this.props.dot.width,this.dom.point.style.left=this.left+"px")},y.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},y.prototype.getWidthLeft=function(){return this.props.dot.width},y.prototype.getWidthRight=function(){return this.props.dot.width},Y.exports=y},function(Y,L,D){var R=D(38),y=D(69),x=D(70);function E(T,A,_){if(this.props={content:{width:0}},this.overflow=!1,T){if(null==T.start)throw new Error('Property "start" missing in item '+T.id);if(null==T.end)throw new Error('Property "end" missing in item '+T.id)}R.call(this,T,A,_)}(E.prototype=new R(null,null,null)).baseClassName="vis-item vis-background",E.prototype.stack=!1,E.prototype.isVisible=function(T){return this.data.start<T.end&&this.data.end>T.start},E.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},E.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var T=this.parent.dom.background;if(!T)throw new Error("Cannot redraw item: parent has no background container element");T.appendChild(this.dom.box)}this.displayed=!0},E.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},E.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},E.prototype._updateDomComponentsSizes=function(T){this.props.content.width=T.content.width,this.height=0,this.dirty=!1},E.prototype._repaintDomAdditionals=function(){},E.prototype.redraw=function(T){var A,O,_=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(A=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(A)}.bind(this),this._repaintDomAdditionals.bind(this)];return T?_:(_.forEach(function(b){O=b()}),O)},E.prototype.show=x.prototype.show,E.prototype.hide=x.prototype.hide,E.prototype.repositionX=x.prototype.repositionX,E.prototype.repositionY=function(T){var A,_=this.options.orientation.item;if(void 0!==this.data.subgroup){var O=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[O].height+"px",this.dom.box.style.top="top"==_?this.parent.top+this.parent.subgroups[O].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[O].top-this.parent.subgroups[O].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof y?(A=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==_?"0":"",this.dom.box.style.top="top"==_?"0":""):(A=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=A+"px"},Y.exports=E},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(O,b){(0,y.default)(this,_),this.container=O,this.overflowMethod=b||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,E.default)(_,[{key:"setPosition",value:function(b,C){this.x=parseInt(b),this.y=parseInt(C)}},{key:"setText",value:function(b){b instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(b)):this.frame.innerHTML=b}},{key:"show",value:function(b){if(void 0===b&&(b=!0),!0===b){var C=this.frame.clientHeight,v=this.frame.clientWidth,m=this.frame.parentNode.clientHeight,h=this.frame.parentNode.clientWidth,S=0,a=0;if("flip"==this.overflowMethod){var f=!1,u=!0;this.y-C<this.padding&&(u=!1),this.x+v>h-this.padding&&(f=!0),S=f?this.x-v:this.x,a=u?this.y-C:this.y}else(a=this.y-C)+C+this.padding>m&&(a=m-C-this.padding),a<this.padding&&(a=this.padding),(S=this.x)+v+this.padding>h&&(S=h-v-this.padding),S<this.padding&&(S=this.padding);this.frame.style.left=S+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var R="string",y="boolean",x="number",E="array",T="date",A="object",O="moment";L.allOptions={configure:{enabled:{boolean:y},filter:{boolean:y,function:"function"},container:{dom:"dom"},__type__:{object:A,boolean:y,function:"function"}},align:{string:R},rtl:{boolean:y,undefined:"undefined"},rollingMode:{follow:{boolean:y},offset:{number:x,undefined:"undefined"},__type__:{object:A}},verticalScroll:{boolean:y,undefined:"undefined"},horizontalScroll:{boolean:y,undefined:"undefined"},autoResize:{boolean:y},throttleRedraw:{number:x},clickToUse:{boolean:y},dataAttributes:{string:R,array:E},editable:{add:{boolean:y,undefined:"undefined"},remove:{boolean:y,undefined:"undefined"},updateGroup:{boolean:y,undefined:"undefined"},updateTime:{boolean:y,undefined:"undefined"},overrideItems:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},end:{number:x,date:T,string:R,moment:O},format:{minorLabels:{millisecond:{string:R,undefined:"undefined"},second:{string:R,undefined:"undefined"},minute:{string:R,undefined:"undefined"},hour:{string:R,undefined:"undefined"},weekday:{string:R,undefined:"undefined"},day:{string:R,undefined:"undefined"},week:{string:R,undefined:"undefined"},month:{string:R,undefined:"undefined"},year:{string:R,undefined:"undefined"},__type__:{object:A,function:"function"}},majorLabels:{millisecond:{string:R,undefined:"undefined"},second:{string:R,undefined:"undefined"},minute:{string:R,undefined:"undefined"},hour:{string:R,undefined:"undefined"},weekday:{string:R,undefined:"undefined"},day:{string:R,undefined:"undefined"},week:{string:R,undefined:"undefined"},month:{string:R,undefined:"undefined"},year:{string:R,undefined:"undefined"},__type__:{object:A,function:"function"}},__type__:{object:A}},moment:{function:"function"},groupOrder:{string:R,function:"function"},groupEditable:{add:{boolean:y,undefined:"undefined"},remove:{boolean:y,undefined:"undefined"},order:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},groupOrderSwap:{function:"function"},height:{string:R,number:x},hiddenDates:{start:{date:T,number:x,string:R,moment:O},end:{date:T,number:x,string:R,moment:O},repeat:{string:R},__type__:{object:A,array:E}},itemsAlwaysDraggable:{item:{boolean:y,undefined:"undefined"},range:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},limitSize:{boolean:y},locale:{string:R},locales:{__any__:{any:"any"},__type__:{object:A}},margin:{axis:{number:x},item:{horizontal:{number:x,undefined:"undefined"},vertical:{number:x,undefined:"undefined"},__type__:{object:A,number:x}},__type__:{object:A,number:x}},max:{date:T,number:x,string:R,moment:O},maxHeight:{number:x,string:R},maxMinorChars:{number:x},min:{date:T,number:x,string:R,moment:O},minHeight:{number:x,string:R},moveable:{boolean:y},multiselect:{boolean:y},multiselectPerGroup:{boolean:y},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:R,undefined:"undefined"},item:{string:R,undefined:"undefined"},__type__:{string:R,object:A}},selectable:{boolean:y},showCurrentTime:{boolean:y},showMajorLabels:{boolean:y},showMinorLabels:{boolean:y},stack:{boolean:y},stackSubgroups:{boolean:y},snap:{function:"function",null:"null"},start:{date:T,number:x,string:R,moment:O},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:R,function:"function"},showTooltips:{boolean:y},tooltip:{followMouse:{boolean:y},overflowMethod:{string:["cap","flip"]},__type__:{object:A}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:y,object:A}},timeAxis:{scale:{string:R,undefined:"undefined"},step:{number:x,undefined:"undefined"},__type__:{object:A}},type:{string:R},width:{string:R,number:x},zoomable:{boolean:y},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:x},zoomMin:{number:x},__type__:{object:A}},L.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(Y,L,D){var u,y=(u=D(6))&&u.__esModule?u:{default:u};var E=D(2),T=D(14),A=D(11),_=D(12),O=D(16),b=D(107),C=D(109),v=D(112),m=D(110),h=D(111),S=D(72),a="__ungrouped__";function f(u,l){this.id=E.randomUUID(),this.body=u,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=E.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var p=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(d,c,w){p._onAdd(c.items)},update:function(d,c,w){p._onUpdate(c.items)},remove:function(d,c,w){p._onRemove(c.items)}},this.groupListeners={add:function(d,c,w){p._onAddGroups(c.items)},update:function(d,c,w){p._onUpdateGroups(c.items)},remove:function(d,c,w){p._onRemoveGroups(c.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(l),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){p.lastStart=p.body.range.start,p.svg.style.left=E.option.asSize(-p.props.width),p.forceGraphUpdate=!0,p.redraw.call(p)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(f.prototype=new O)._create=function(){var u=document.createElement("div");u.className="vis-line-graph",this.dom.frame=u,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",u.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new b(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new b(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new v(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new v(this.body,this.options.legend,"right",this.options.groups),this.show()},f.prototype.setOptions=function(u){if(u){void 0===u.graphHeight&&void 0!==u.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==u.graphHeight&&parseInt((u.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),E.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,u),E.mergeOptions(this.options,u,"interpolation"),E.mergeOptions(this.options,u,"drawPoints"),E.mergeOptions(this.options,u,"shaded"),E.mergeOptions(this.options,u,"legend"),u.interpolation&&"object"==(0,y.default)(u.interpolation)&&u.interpolation.parametrization&&("uniform"==u.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==u.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==u.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==u.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(a)&&this.groups[a].setOptions(u)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},f.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},f.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},f.prototype.setItems=function(u){var p,l=this,M=this.itemsData;if(u){if(!(u instanceof A||u instanceof _))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=u}else this.itemsData=null;if(M&&(E.forEach(this.itemListeners,function(c,w){M.off(w,c)}),p=M.getIds(),this._onRemove(p)),this.itemsData){var d=this.id;E.forEach(this.itemListeners,function(c,w){l.itemsData.on(w,c,d)}),p=this.itemsData.getIds(),this._onAdd(p)}},f.prototype.setGroups=function(u){var p,l=this;if(this.groupsData){E.forEach(this.groupListeners,function(c,w){l.groupsData.off(w,c)}),p=this.groupsData.getIds(),this.groupsData=null;for(var M=0;M<p.length;M++)this._removeGroup(p[M])}if(u){if(!(u instanceof A||u instanceof _))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=u}else this.groupsData=null;if(this.groupsData){var d=this.id;E.forEach(this.groupListeners,function(c,w){l.groupsData.on(w,c,d)}),p=this.groupsData.getIds(),this._onAddGroups(p)}},f.prototype._onUpdate=function(u){this._updateAllGroupData(u)},f.prototype._onAdd=function(u){this._onUpdate(u)},f.prototype._onRemove=function(u){this._onUpdate(u)},f.prototype._onUpdateGroups=function(u){this._updateAllGroupData(null,u)},f.prototype._onAddGroups=function(u){this._onUpdateGroups(u)},f.prototype._onRemoveGroups=function(u){for(var l=0;l<u.length;l++)this._removeGroup(u[l]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},f.prototype._removeGroup=function(u){this.groups.hasOwnProperty(u)&&("right"==this.groups[u].options.yAxisOrientation?(this.yAxisRight.removeGroup(u),this.legendRight.removeGroup(u),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(u),this.legendLeft.removeGroup(u),this.legendLeft.redraw()),delete this.groups[u])},f.prototype._updateGroup=function(u,l){this.groups.hasOwnProperty(l)?(this.groups[l].update(u),"right"==this.groups[l].options.yAxisOrientation?(this.yAxisRight.updateGroup(l,this.groups[l]),this.legendRight.updateGroup(l,this.groups[l]),this.yAxisLeft.removeGroup(l),this.legendLeft.removeGroup(l)):(this.yAxisLeft.updateGroup(l,this.groups[l]),this.legendLeft.updateGroup(l,this.groups[l]),this.yAxisRight.removeGroup(l),this.legendRight.removeGroup(l))):(this.groups[l]=new C(u,l,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[l].options.yAxisOrientation?(this.yAxisRight.addGroup(l,this.groups[l]),this.legendRight.addGroup(l,this.groups[l])):(this.yAxisLeft.addGroup(l,this.groups[l]),this.legendLeft.addGroup(l,this.groups[l]))),this.legendLeft.redraw(),this.legendRight.redraw()},f.prototype._updateAllGroupData=function(u,l){if(null!=this.itemsData){var p={},M=this.itemsData.get(),d=this.itemsData._fieldId,c={};u&&u.map(function(ie){c[ie]=ie});for(var w={},I=0;I<M.length;I++){var N=M[I],V=N.group;null==V&&(V=a),w.hasOwnProperty(V)?w[V]++:w[V]=1}var H={};if(!l&&u)for(V in this.groups)if(this.groups.hasOwnProperty(V)){var z=(te=this.groups[V]).getItems();p[V]=z.filter(function(ie){return H[ie[d]]=ie[d],ie[d]!==c[ie[d]]});var U=w[V];w[V]-=p[V].length,p[V].length<U&&(p[V][U-1]={})}for(I=0;I<M.length;I++)if(null==(V=(N=M[I]).group)&&(V=a),l||!u||N[d]===c[N[d]]||!H.hasOwnProperty(N[d])){p.hasOwnProperty(V)||(p[V]=new Array(w[V]));var $=E.bridgeObject(N);$.x=E.convert(N.x,"Date"),$.end=E.convert(N.end,"Date"),$.orginalY=N.y,$.y=Number(N.y),$[d]=N[d];var J=p[V].length-w[V]--;p[V][J]=$}for(V in this.groups)this.groups.hasOwnProperty(V)&&(p.hasOwnProperty(V)||(p[V]=new Array(0)));for(V in p)if(p.hasOwnProperty(V))if(0==p[V].length)this.groups.hasOwnProperty(V)&&this._removeGroup(V);else{var te=void 0;null!=this.groupsData&&(te=this.groupsData.get(V)),null==te&&(te={id:V,content:this.options.defaultGroup+V}),this._updateGroup(te,V),this.groups[V].setItems(p[V])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},f.prototype.redraw=function(){var u=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,u=this._isResized()||u;var l=this.body.range.end-this.body.range.start,p=l!=this.lastVisibleInterval;return this.lastVisibleInterval=l,1==u&&(this.svg.style.width=E.option.asSize(3*this.props.width),this.svg.style.left=E.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==u||1==p||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(u=this._updateGraph()||u,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),u},f.prototype._getSortedGroupIds=function(){var u=[];for(var l in this.groups)if(this.groups.hasOwnProperty(l)){var p=this.groups[l];1==p.visible&&(void 0===this.options.groups.visibility[l]||1==this.options.groups.visibility[l])&&u.push({id:l,zIndex:p.options.zIndex})}E.insertSort(u,function(c,w){var I=c.zIndex,N=w.zIndex;return void 0===I&&(I=0),void 0===N&&(N=0),I==N?0:I<N?-1:1});for(var M=new Array(u.length),d=0;d<u.length;d++)M[d]=u[d].id;return M},f.prototype._updateGraph=function(){if(T.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var u,l,p={},d=this.body.util.toGlobalTime(-this.body.domProps.root.width),c=this.body.util.toGlobalTime(2*this.body.domProps.root.width),w=this._getSortedGroupIds();if(w.length>0){var I={};for(this._getRelevantData(w,I,d,c),this._applySampling(w,I),l=0;l<w.length;l++)this._convertXcoordinates(I[w[l]]);if(this._getYRanges(w,I,p),1==this._updateYAxis(w,p))return T.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var N=void 0;for(l=0;l<w.length;l++)u=this.groups[w[l]],!0===this.options.stack&&"line"===this.options.style&&(null==u.options.excludeFromStacking||!u.options.excludeFromStacking)&&(null!=N&&(this._stack(I[u.id],I[N.id]),1==u.options.shaded.enabled&&"group"!==u.options.shaded.orientation&&("top"==u.options.shaded.orientation&&"group"!==N.options.shaded.orientation?(N.options.shaded.orientation="group",N.options.shaded.groupId=u.id):(u.options.shaded.orientation="group",u.options.shaded.groupId=N.id))),N=u),this._convertYcoordinates(I[w[l]],u);var V={};for(l=0;l<w.length;l++)if("line"===(u=this.groups[w[l]]).options.style&&1==u.options.shaded.enabled){var H=I[w[l]];if(null==H||0==H.length)continue;if(V.hasOwnProperty(w[l])||(V[w[l]]=h.calcPath(H,u)),"group"===u.options.shaded.orientation){var z=u.options.shaded.groupId;if(-1===w.indexOf(z)){console.log(u.id+": Unknown shading group target given:"+z);continue}V.hasOwnProperty(z)||(V[z]=h.calcPath(I[z],this.groups[z])),h.drawShading(V[w[l]],u,V[z],this.framework)}else h.drawShading(V[w[l]],u,void 0,this.framework)}for(m.draw(w,I,this.framework),l=0;l<w.length;l++)if(u=this.groups[w[l]],I[w[l]].length>0)switch(u.options.style){case"line":V.hasOwnProperty(w[l])||(V[w[l]]=h.calcPath(I[w[l]],u)),h.draw(V[w[l]],u,this.framework);case"point":case"points":("point"==u.options.style||"points"==u.options.style||1==u.options.drawPoints.enabled)&&S.draw(I[w[l]],u,this.framework)}}}return T.cleanupElements(this.svgElements),!1},f.prototype._stack=function(u,l){var p,M,c,w;p=0;for(var I=0;I<u.length;I++){c=void 0,w=void 0;for(var N=p;N<l.length;N++){if(l[N].x===u[I].x){c=l[N],w=l[N],p=N;break}if(l[N].x>u[I].x){w=l[N],c=0==N?w:l[N-1],p=N;break}}void 0===w&&(c=l[l.length-1],w=l[l.length-1]),u[I].y=0==(M=w.x-c.x)?u[I].orginalY+w.y:u[I].orginalY+(w.y-c.y)/M*(u[I].x-c.x)+c.y}},f.prototype._getRelevantData=function(u,l,p,M){var d,c,w;if(u.length>0)for(c=0;c<u.length;c++){var N=(d=this.groups[u[c]]).getItems();if(1==d.options.sort){var V=function(J,te){return J.getTime()==te.getTime()?0:J<te?-1:1},H=Math.max(0,E.binarySearchValue(N,p,"x","before",V)),z=Math.min(N.length,E.binarySearchValue(N,M,"x","after",V)+1);z<=0&&(z=N.length);var U=new Array(z-H);for(w=H;w<z;w++)U[w-H]=d.itemsData[w];l[u[c]]=U}else l[u[c]]=d.itemsData}},f.prototype._applySampling=function(u,l){if(u.length>0)for(var M=0;M<u.length;M++)if(1==this.groups[u[M]].options.sampling){var d=l[u[M]];if(d.length>0){var c,w=d.length,N=w/(this.body.util.toGlobalScreen(d[d.length-1].x)-this.body.util.toGlobalScreen(d[0].x));c=Math.min(Math.ceil(.2*w),Math.max(1,Math.round(N)));for(var V=new Array(w),H=0;H<w;H+=c)V[Math.round(H/c)]=d[H];l[u[M]]=V.splice(0,Math.round(w/c))}}},f.prototype._getYRanges=function(u,l,p){var M,d,c,N,w=[],I=[];if(u.length>0){for(c=0;c<u.length;c++)N=this.groups[u[c]].options,(M=l[u[c]]).length>0&&(d=this.groups[u[c]],!0===N.stack&&"bar"===N.style?"left"===N.yAxisOrientation?w=w.concat(M):I=I.concat(M):p[u[c]]=d.getYRange(M,u[c]));m.getStackedYRange(w,p,u,"__barStackLeft","left"),m.getStackedYRange(I,p,u,"__barStackRight","right")}},f.prototype._updateYAxis=function(u,l){var V,H,p=!1,M=!1,d=!1,c=1e9,w=1e9,I=-1e9,N=-1e9;if(u.length>0){for(var z=0;z<u.length;z++){var U=this.groups[u[z]];U&&"right"!=U.options.yAxisOrientation?(M=!0,c=1e9,I=-1e9):U&&U.options.yAxisOrientation&&(d=!0,w=1e9,N=-1e9)}for(z=0;z<u.length;z++)l.hasOwnProperty(u[z])&&!0!==l[u[z]].ignore&&(V=l[u[z]].min,H=l[u[z]].max,"right"!=l[u[z]].yAxisOrientation?(M=!0,c=c>V?V:c,I=I<H?H:I):(d=!0,w=w>V?V:w,N=N<H?H:N));1==M&&this.yAxisLeft.setRange(c,I),1==d&&this.yAxisRight.setRange(w,N)}p=this._toggleAxisVisiblity(M,this.yAxisLeft)||p,p=this._toggleAxisVisiblity(d,this.yAxisRight)||p,1==d&&1==M?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!M,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==d?this.yAxisRight.width:0,p=this.yAxisLeft.redraw()||p,p=this.yAxisRight.redraw()||p):p=this.yAxisRight.redraw()||p;var $=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(z=0;z<$.length;z++)-1!=u.indexOf($[z])&&u.splice(u.indexOf($[z]),1);return p},f.prototype._toggleAxisVisiblity=function(u,l){var p=!1;return 0==u?l.dom.frame.parentNode&&0==l.hidden&&(l.hide(),p=!0):!l.dom.frame.parentNode&&1==l.hidden&&(l.show(),p=!0),p},f.prototype._convertXcoordinates=function(u){for(var l=this.body.util.toScreen,p=0;p<u.length;p++)u[p].screen_x=l(u[p].x)+this.props.width,u[p].screen_y=u[p].y,u[p].screen_end=null!=u[p].end?l(u[p].end)+this.props.width:void 0},f.prototype._convertYcoordinates=function(u,l){var p=this.yAxisLeft,M=Number(this.svg.style.height.replace("px",""));"right"==l.options.yAxisOrientation&&(p=this.yAxisRight);for(var d=0;d<u.length;d++)u[d].screen_y=Math.round(p.convertValue(u[d].y));l.setZeroPosition(Math.min(M,p.convertValue(0)))},Y.exports=f},function(Y,L,D){var b,y=(b=D(8))&&b.__esModule?b:{default:b};var E=D(2),T=D(14),A=D(16),_=D(108);function O(b,C,v,m){this.id=E.randomUUID(),this.body=b,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=m,this.linegraphSVG=v,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=E.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(C),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var h=this;this.body.emitter.on("verticalDrag",function(){h.dom.lineContainer.style.top=h.body.domProps.scrollTop+"px"})}(O.prototype=new A).addGroup=function(b,C){this.groups.hasOwnProperty(b)||(this.groups[b]=C),this.amountOfGroups+=1},O.prototype.updateGroup=function(b,C){this.groups.hasOwnProperty(b)||(this.amountOfGroups+=1),this.groups[b]=C},O.prototype.removeGroup=function(b){this.groups.hasOwnProperty(b)&&(delete this.groups[b],this.amountOfGroups-=1)},O.prototype.setOptions=function(b){if(b){var C=!1;this.options.orientation!=b.orientation&&void 0!==b.orientation&&(C=!0),E.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,b),this.minWidth=Number((""+this.options.width).replace("px","")),!0===C&&this.dom.frame&&(this.hide(),this.show())}},O.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},O.prototype._redrawGroupIcons=function(){T.prepareElements(this.svgElements);var b,C=this.options.iconWidth,h=11.5;b="left"===this.options.orientation?4:this.width-C-4;var S=(0,y.default)(this.groups);S.sort(function(u,l){return u<l?-1:1});for(var a=0;a<S.length;a++){var f=S[a];!0===this.groups[f].visible&&(void 0===this.linegraphOptions.visibility[f]||!0===this.linegraphOptions.visibility[f])&&(this.groups[f].getLegend(C,15,this.framework,b,h),h+=19)}T.cleanupElements(this.svgElements),this.iconsRemoved=!1},O.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(T.prepareElements(this.svgElements),T.cleanupElements(this.svgElements),this.iconsRemoved=!0)},O.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},O.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},O.prototype.setRange=function(b,C){this.range.start=b,this.range.end=C},O.prototype.redraw=function(){var b=!1,C=0;for(var v in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(v)&&!0===this.groups[v].visible&&(void 0===this.linegraphOptions.visibility[v]||!0===this.linegraphOptions.visibility[v])&&C++;if(0===this.amountOfGroups||0===C)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var m=this.props,h=this.dom.frame;h.className="vis-data-axis",this._calculateCharSize();var S=this.options.orientation,f=this.options.showMajorLabels;m.minorLabelHeight=this.options.showMinorLabels?m.minorCharHeight:0,m.majorLabelHeight=f?m.majorCharHeight:0,m.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,m.minorLineHeight=1,m.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,m.majorLineHeight=1,"left"===S?(h.style.top="0",h.style.left="0",h.style.bottom="",h.style.width=this.width+"px",h.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(h.style.top="",h.style.bottom="0",h.style.left="0",h.style.width=this.width+"px",h.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),b=this._redrawLabels(),b=this._isResized()||b,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(S)}return b},O.prototype._redrawLabels=function(){var b=this,C=!1;T.prepareElements(this.DOMelements.lines),T.prepareElements(this.DOMelements.labels);var v=this.options.orientation,m=null!=this.options[v].range?this.options[v].range:{},h=!0;null!=m.max&&(this.range.end=m.max,h=!1);var S=!0;null!=m.min&&(this.range.start=m.min,S=!1),this.scale=new _(this.range.start,this.range.end,S,h,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[v].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(l){var p=l.y,M=l.major;b.options.showMinorLabels&&!1===M&&b._redrawLabel(p-2,l.val,v,"vis-y-axis vis-minor",b.props.minorCharHeight),M&&p>=0&&b._redrawLabel(p-2,l.val,v,"vis-y-axis vis-major",b.props.majorCharHeight),!0===b.master&&(M?b._redrawLine(p,v,"vis-grid vis-horizontal vis-major",b.options.majorLinesOffset,b.props.majorLineWidth):b._redrawLine(p,v,"vis-grid vis-horizontal vis-minor",b.options.minorLinesOffset,b.props.minorLineWidth))});var f=0;void 0!==this.options[v].title&&void 0!==this.options[v].title.text&&(f=this.props.titleCharHeight);var u=!0===this.options.icons?Math.max(this.options.iconWidth,f)+this.options.labelOffsetX+15:f+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-u&&!0===this.options.visible?(this.width=this.maxLabelSize+u,this.options.width=this.width+"px",T.cleanupElements(this.DOMelements.lines),T.cleanupElements(this.DOMelements.labels),this.redraw(),C=!0):this.maxLabelSize<this.width-u&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+u),this.options.width=this.width+"px",T.cleanupElements(this.DOMelements.lines),T.cleanupElements(this.DOMelements.labels),this.redraw(),C=!0):(T.cleanupElements(this.DOMelements.lines),T.cleanupElements(this.DOMelements.labels),C=!1),C},O.prototype.convertValue=function(b){return this.scale.convertValue(b)},O.prototype.screenToValue=function(b){return this.scale.screenToValue(b)},O.prototype._redrawLabel=function(b,C,v,m,h){var S=T.getDOMElement("div",this.DOMelements.labels,this.dom.frame);S.className=m,S.innerHTML=C,"left"===v?(S.style.left="-"+this.options.labelOffsetX+"px",S.style.textAlign="right"):(S.style.right="-"+this.options.labelOffsetX+"px",S.style.textAlign="left"),S.style.top=b-.5*h+this.options.labelOffsetY+"px",C+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<C.length*a&&(this.maxLabelSize=C.length*a)},O.prototype._redrawLine=function(b,C,v,m,h){if(!0===this.master){var S=T.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);S.className=v,S.innerHTML="","left"===C?S.style.left=this.width-m+"px":S.style.right=this.width-m+"px",S.style.width=h+"px",S.style.top=b+"px"}},O.prototype._redrawTitle=function(b){if(T.prepareElements(this.DOMelements.title),void 0!==this.options[b].title&&void 0!==this.options[b].title.text){var C=T.getDOMElement("div",this.DOMelements.title,this.dom.frame);C.className="vis-y-axis vis-title vis-"+b,C.innerHTML=this.options[b].title.text,void 0!==this.options[b].title.style&&E.addCssText(C,this.options[b].title.style),"left"===b?C.style.left=this.props.titleCharHeight+"px":C.style.right=this.props.titleCharHeight+"px",C.style.width=this.height+"px"}T.cleanupElements(this.DOMelements.title)},O.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var b=document.createTextNode("0"),C=document.createElement("div");C.className="vis-y-axis vis-minor vis-measure",C.appendChild(b),this.dom.frame.appendChild(C),this.props.minorCharHeight=C.clientHeight,this.props.minorCharWidth=C.clientWidth,this.dom.frame.removeChild(C)}if(!("majorCharHeight"in this.props)){var v=document.createTextNode("0"),m=document.createElement("div");m.className="vis-y-axis vis-major vis-measure",m.appendChild(v),this.dom.frame.appendChild(m),this.props.majorCharHeight=m.clientHeight,this.props.majorCharWidth=m.clientWidth,this.dom.frame.removeChild(m)}if(!("titleCharHeight"in this.props)){var h=document.createTextNode("0"),S=document.createElement("div");S.className="vis-y-axis vis-title vis-measure",S.appendChild(h),this.dom.frame.appendChild(S),this.props.titleCharHeight=S.clientHeight,this.props.titleCharWidth=S.clientWidth,this.dom.frame.removeChild(S)}},Y.exports=O},function(Y,L,D){function R(y,x,E,T,A,_){var O=arguments.length>6&&void 0!==arguments[6]&&arguments[6],b=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=A,this.majorCharHeight=_,this._start=y,this._end=x,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=O,this.autoScaleStart=E,this.autoScaleEnd=T,this.formattingFunction=b,E||T){var C=this,v=function(h){var S=h-h%(C.magnitudefactor*C.minorSteps[C.minorStepIdx]);return h%(C.magnitudefactor*C.minorSteps[C.minorStepIdx])>C.magnitudefactor*C.minorSteps[C.minorStepIdx]*.5?S+C.magnitudefactor*C.minorSteps[C.minorStepIdx]:S};E&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=v(this._start)),T&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=v(this._end)),this.determineScale()}}R.prototype.setCharHeight=function(y){this.majorCharHeight=y},R.prototype.setHeight=function(y){this.containerHeight=y},R.prototype.determineScale=function(){var y=this._end-this._start;this.scale=this.containerHeight/y;var x=this.majorCharHeight/this.scale,E=y>0?Math.round(Math.log(y)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,E);var T=0;E<0&&(T=E);for(var A=!1,_=T;Math.abs(_)<=Math.abs(E);_++){this.magnitudefactor=Math.pow(10,_);for(var O=0;O<this.minorSteps.length;O++)if(this.magnitudefactor*this.minorSteps[O]>=x){A=!0,this.minorStepIdx=O;break}if(!0===A)break}},R.prototype.is_major=function(y){return y%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},R.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},R.prototype.getFirstMajor=function(){var y=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(y-this._start%y)%y)},R.prototype.formatValue=function(y){var x=y.toPrecision(5);return"function"==typeof this.formattingFunction&&(x=this.formattingFunction(y)),"number"==typeof x?""+x:"string"==typeof x?x:y.toPrecision(5)},R.prototype.getLines=function(){for(var y=[],x=this.getStep(),T=this._start+(x-this._start%x)%x;this._end-T>1e-5;T+=x)T!=this._start&&y.push({major:this.is_major(T),y:this.convertValue(T),val:this.formatValue(T)});return y},R.prototype.followScale=function(y){var x=this.minorStepIdx,E=this._start,T=this._end,A=this,_=function(){A.magnitudefactor*=2},O=function(){A.magnitudefactor/=2};y.minorStepIdx<=1&&this.minorStepIdx<=1||y.minorStepIdx>1&&this.minorStepIdx>1||(y.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==x||_(),_()):(this.minorStepIdx=2,1==x||O(),O()));for(var b=y.convertValue(0),C=y.getStep()*y.scale,v=!1,m=0;!v&&m++<5;){this.scale=C/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var h=this.containerHeight/this.scale;this._start=E,this._end=this._start+h;var S=this._end*this.scale,a=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-y.getFirstMajor();if(this.zeroAlign?(this._end+=(b-S)/this.scale,this._start=this._end-h):this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+h):(this._start+=a-f/this.scale,this._end=this._start+h),!this.autoScaleEnd&&this._end>T+1e-5)O(),v=!1;else{if(!this.autoScaleStart&&this._start<E-1e-5){if(!(this.zeroAlign&&E>=0)){O(),v=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&h<T-E?(_(),v=!1):v=!0}}},R.prototype.convertValue=function(y){return this.containerHeight-(y-this._start)*this.scale},R.prototype.screenToValue=function(y){return(this.containerHeight-y)/this.scale+this._start},Y.exports=R},function(Y,L,D){var b,y=(b=D(6))&&b.__esModule?b:{default:b};var E=D(2),T=D(110),A=D(111),_=D(72);function O(b,C,v,m){this.id=C,this.options=E.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],v),this.usingDefaultStyle=void 0===b.className,this.groupsUsingDefaultStyles=m,this.zeroPosition=0,this.update(b),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===b.visible||b.visible}O.prototype.setItems=function(b){null!=b?(this.itemsData=b,1==this.options.sort&&E.insertSort(this.itemsData,function(C,v){return C.x>v.x?1:-1})):this.itemsData=[]},O.prototype.getItems=function(){return this.itemsData},O.prototype.setZeroPosition=function(b){this.zeroPosition=b},O.prototype.setOptions=function(b){void 0!==b&&(E.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,b),"function"==typeof b.drawPoints&&(b.drawPoints={onRender:b.drawPoints}),E.mergeOptions(this.options,b,"interpolation"),E.mergeOptions(this.options,b,"drawPoints"),E.mergeOptions(this.options,b,"shaded"),b.interpolation&&"object"==(0,y.default)(b.interpolation)&&b.interpolation.parametrization&&("uniform"==b.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==b.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},O.prototype.update=function(b){this.group=b,this.content=b.content||"graph",this.className=b.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===b.visible||b.visible,this.style=b.style,this.setOptions(b.options)},O.prototype.getLegend=function(b,C,v,m,h){switch(null!=v&&null!=v||(v={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),(null==m||null==m)&&(m=0),(null==h||null==h)&&(h=.5*C),this.options.style){case"line":A.drawIcon(this,m,h,b,C,v);break;case"points":case"point":_.drawIcon(this,m,h,b,C,v);break;case"bar":T.drawIcon(this,m,h,b,C,v)}return{icon:v.svg,label:this.content,orientation:this.options.yAxisOrientation}},O.prototype.getYRange=function(b){for(var C=b[0].y,v=b[0].y,m=0;m<b.length;m++)C=C>b[m].y?b[m].y:C,v=v<b[m].y?b[m].y:v;return{min:C,max:v,yAxisOrientation:this.options.yAxisOrientation}},Y.exports=O},function(Y,L,D){var R=D(14),y=D(72);function x(E,T){}x.drawIcon=function(E,T,A,_,O,b){var C=.5*O,v=R.getSVGElement("rect",b.svgElements,b.svg);v.setAttributeNS(null,"x",T),v.setAttributeNS(null,"y",A-C),v.setAttributeNS(null,"width",_),v.setAttributeNS(null,"height",2*C),v.setAttributeNS(null,"class","vis-outline");var m=Math.round(.3*_),S=E.options.barChart.width/m,a=Math.round(.4*O),f=Math.round(.75*O),u=Math.round((_-2*m)/3);if(R.drawBar(T+.5*m+u,A+C-a-1,m,a,E.className+" vis-bar",b.svgElements,b.svg,E.style),R.drawBar(T+1.5*m+u+2,A+C-f-1,m,f,E.className+" vis-bar",b.svgElements,b.svg,E.style),1==E.options.drawPoints.enabled){var l={style:E.options.drawPoints.style,styles:E.options.drawPoints.styles,size:E.options.drawPoints.size/S,className:E.className};R.drawPoint(T+.5*m+u,A+C-a-1,l,b.svgElements,b.svg),R.drawPoint(T+1.5*m+u+2,A+C-f-1,l,b.svgElements,b.svg)}},x.draw=function(E,T,A){var b,C,v,m,h,S,_=[],O={},a=0;for(h=0;h<E.length;h++)if("bar"===(m=A.groups[E[h]]).options.style&&!0===m.visible&&(void 0===A.options.groups.visibility[E[h]]||!0===A.options.groups.visibility[E[h]]))for(S=0;S<T[E[h]].length;S++)_.push({screen_x:T[E[h]][S].screen_x,screen_end:T[E[h]][S].screen_end,screen_y:T[E[h]][S].screen_y,x:T[E[h]][S].x,end:T[E[h]][S].end,y:T[E[h]][S].y,groupId:E[h],label:T[E[h]][S].label}),a+=1;if(0!==a)for(_.sort(function(c,w){return c.screen_x===w.screen_x?c.groupId<w.groupId?-1:1:c.screen_x-w.screen_x}),x._getDataIntersections(O,_),h=0;h<_.length;h++){var f=null!=(m=A.groups[_[h].groupId]).options.barChart.minWidth?m.options.barChart.minWidth:.1*m.options.barChart.width,u=0;if(void 0===O[C=_[h].screen_x])h+1<_.length&&(b=Math.abs(_[h+1].screen_x-C)),v=x._getSafeDrawData(b,m,f);else{var l=h+(O[C].amount-O[C].resolved);l<_.length&&(b=Math.abs(_[l].screen_x-C)),v=x._getSafeDrawData(b,m,f),O[C].resolved+=1,!0===m.options.stack&&!0!==m.options.excludeFromStacking?_[h].screen_y<m.zeroPosition?(u=O[C].accumulatedNegative,O[C].accumulatedNegative+=m.zeroPosition-_[h].screen_y):(u=O[C].accumulatedPositive,O[C].accumulatedPositive+=m.zeroPosition-_[h].screen_y):!0===m.options.barChart.sideBySide&&(v.width=v.width/O[C].amount,v.offset+=O[C].resolved*v.width-.5*v.width*(O[C].amount+1))}var p=v.width,M=_[h].screen_x;M+=null!=_[h].screen_end?.5*(p=_[h].screen_end-_[h].screen_x):v.offset,R.drawBar(M,_[h].screen_y-u,p,m.zeroPosition-_[h].screen_y,m.className+" vis-bar",A.svgElements,A.svg,m.style),!0===m.options.drawPoints.enabled&&y.draw([{screen_x:_[h].screen_x,screen_y:_[h].screen_y-u,x:_[h].x,y:_[h].y,groupId:_[h].groupId,label:_[h].label}],m,A,v.offset)}},x._getDataIntersections=function(E,T){for(var A,_=0;_<T.length;_++)_+1<T.length&&(A=Math.abs(T[_+1].screen_x-T[_].screen_x)),_>0&&(A=Math.min(A,Math.abs(T[_-1].screen_x-T[_].screen_x))),0===A&&(void 0===E[T[_].screen_x]&&(E[T[_].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),E[T[_].screen_x].amount+=1)},x._getSafeDrawData=function(E,T,A){var _,O;return E<T.options.barChart.width&&E>0?(_=E<A?A:E,O=0,"left"===T.options.barChart.align?O-=.5*E:"right"===T.options.barChart.align&&(O+=.5*E)):(_=T.options.barChart.width,O=0,"left"===T.options.barChart.align?O-=.5*T.options.barChart.width:"right"===T.options.barChart.align&&(O+=.5*T.options.barChart.width)),{width:_,offset:O}},x.getStackedYRange=function(E,T,A,_,O){if(E.length>0){E.sort(function(C,v){return C.screen_x===v.screen_x?C.groupId<v.groupId?-1:1:C.screen_x-v.screen_x});var b={};x._getDataIntersections(b,E),T[_]=x._getStackedYRange(b,E),T[_].yAxisOrientation=O,A.push(_)}},x._getStackedYRange=function(E,T){for(var A,_=T[0].screen_y,O=T[0].screen_y,b=0;b<T.length;b++)void 0===E[A=T[b].screen_x]?(_=_>T[b].screen_y?T[b].screen_y:_,O=O<T[b].screen_y?T[b].screen_y:O):T[b].screen_y<0?E[A].accumulatedNegative+=T[b].screen_y:E[A].accumulatedPositive+=T[b].screen_y;for(var C in E)E.hasOwnProperty(C)&&(_=(_=_>E[C].accumulatedNegative?E[C].accumulatedNegative:_)>E[C].accumulatedPositive?E[C].accumulatedPositive:_,O=(O=O<E[C].accumulatedNegative?E[C].accumulatedNegative:O)<E[C].accumulatedPositive?E[C].accumulatedPositive:O);return{min:_,max:O}},Y.exports=x},function(Y,L,D){var R=D(14);function y(x,E){}y.calcPath=function(x,E){if(null!=x&&x.length>0)return 1==E.options.interpolation.enabled?y._catmullRom(x,E):y._linear(x)},y.drawIcon=function(x,E,T,A,_,O){var C,v,b=.5*_,m=R.getSVGElement("rect",O.svgElements,O.svg);m.setAttributeNS(null,"x",E),m.setAttributeNS(null,"y",T-b),m.setAttributeNS(null,"width",A),m.setAttributeNS(null,"height",2*b),m.setAttributeNS(null,"class","vis-outline"),(C=R.getSVGElement("path",O.svgElements,O.svg)).setAttributeNS(null,"class",x.className),void 0!==x.style&&C.setAttributeNS(null,"style",x.style),C.setAttributeNS(null,"d","M"+E+","+T+" L"+(E+A)+","+T),1==x.options.shaded.enabled&&((v=R.getSVGElement("path",O.svgElements,O.svg)).setAttributeNS(null,"d","top"==x.options.shaded.orientation?"M"+E+", "+(T-b)+"L"+E+","+T+" L"+(E+A)+","+T+" L"+(E+A)+","+(T-b):"M"+E+","+T+" L"+E+","+(T+b)+" L"+(E+A)+","+(T+b)+"L"+(E+A)+","+T),v.setAttributeNS(null,"class",x.className+" vis-icon-fill"),void 0!==x.options.shaded.style&&""!==x.options.shaded.style&&v.setAttributeNS(null,"style",x.options.shaded.style)),1==x.options.drawPoints.enabled&&R.drawPoint(E+.5*A,T,{style:x.options.drawPoints.style,styles:x.options.drawPoints.styles,size:x.options.drawPoints.size,className:x.className},O.svgElements,O.svg)},y.drawShading=function(x,E,T,A){if(1==E.options.shaded.enabled){var _=Number(A.svg.style.height.replace("px","")),O=R.getSVGElement("path",A.svgElements,A.svg),b="L";1==E.options.interpolation.enabled&&(b="C");var C,v;v="top"==E.options.shaded.orientation?0:"bottom"==E.options.shaded.orientation?_:Math.min(Math.max(0,E.zeroPosition),_),C="group"==E.options.shaded.orientation&&null!=T&&null!=T?"M"+x[0][0]+","+x[0][1]+" "+this.serializePath(x,b,!1)+" L"+T[T.length-1][0]+","+T[T.length-1][1]+" "+this.serializePath(T,b,!0)+T[0][0]+","+T[0][1]+" Z":"M"+x[0][0]+","+x[0][1]+" "+this.serializePath(x,b,!1)+" V"+v+" H"+x[0][0]+" Z",O.setAttributeNS(null,"class",E.className+" vis-fill"),void 0!==E.options.shaded.style&&O.setAttributeNS(null,"style",E.options.shaded.style),O.setAttributeNS(null,"d",C)}},y.draw=function(x,E,T){if(null!=x&&null!=x){var A=R.getSVGElement("path",T.svgElements,T.svg);A.setAttributeNS(null,"class",E.className),void 0!==E.style&&A.setAttributeNS(null,"style",E.style);var _="L";1==E.options.interpolation.enabled&&(_="C"),A.setAttributeNS(null,"d","M"+x[0][0]+","+x[0][1]+" "+this.serializePath(x,_,!1))}},y.serializePath=function(x,E,T){if(x.length<2)return"";var _,A=E;if(T)for(_=x.length-2;_>0;_--)A+=x[_][0]+","+x[_][1]+" ";else for(_=1;_<x.length;_++)A+=x[_][0]+","+x[_][1]+" ";return A},y._catmullRomUniform=function(x){var E,T,A,_,O,b,C=[];C.push([Math.round(x[0].screen_x),Math.round(x[0].screen_y)]);for(var v=1/6,m=x.length,h=0;h<m-1;h++)b={screen_x:((T=x[h]).screen_x+6*(A=x[h+1]).screen_x-(_=h+2<m?x[h+2]:A).screen_x)*v,screen_y:(T.screen_y+6*A.screen_y-_.screen_y)*v},C.push([(O={screen_x:(6*T.screen_x-(E=0==h?x[0]:x[h-1]).screen_x+A.screen_x)*v,screen_y:(6*T.screen_y-E.screen_y+A.screen_y)*v}).screen_x,O.screen_y]),C.push([b.screen_x,b.screen_y]),C.push([A.screen_x,A.screen_y]);return C},y._catmullRom=function(x,E){var T=E.options.interpolation.alpha;if(0==T||void 0===T)return this._catmullRomUniform(x);var A,_,O,b,C,v,m,h,S,a,f,u,l,p,M,d,c,w,I,N=[];N.push([Math.round(x[0].screen_x),Math.round(x[0].screen_y)]);for(var V=x.length,H=0;H<V-1;H++)A=0==H?x[0]:x[H-1],_=x[H],O=x[H+1],b=H+2<V?x[H+2]:O,m=Math.sqrt(Math.pow(A.screen_x-_.screen_x,2)+Math.pow(A.screen_y-_.screen_y,2)),h=Math.sqrt(Math.pow(_.screen_x-O.screen_x,2)+Math.pow(_.screen_y-O.screen_y,2)),S=Math.sqrt(Math.pow(O.screen_x-b.screen_x,2)+Math.pow(O.screen_y-b.screen_y,2)),p=Math.pow(S,T),d=Math.pow(S,2*T),M=Math.pow(h,T),c=Math.pow(h,2*T),I=Math.pow(m,T),w=Math.pow(m,2*T),(u=3*I*(I+M))>0&&(u=1/u),(l=3*p*(p+M))>0&&(l=1/l),0==(C={screen_x:(-c*A.screen_x+(a=2*w+3*I*M+c)*_.screen_x+w*O.screen_x)*u,screen_y:(-c*A.screen_y+a*_.screen_y+w*O.screen_y)*u}).screen_x&&0==C.screen_y&&(C=_),0==(v={screen_x:(d*_.screen_x+(f=2*d+3*p*M+c)*O.screen_x-c*b.screen_x)*l,screen_y:(d*_.screen_y+f*O.screen_y-c*b.screen_y)*l}).screen_x&&0==v.screen_y&&(v=O),N.push([C.screen_x,C.screen_y]),N.push([v.screen_x,v.screen_y]),N.push([O.screen_x,O.screen_y]);return N},y._linear=function(x){for(var E=[],T=0;T<x.length;T++)E.push([x[T].screen_x,x[T].screen_y]);return E},Y.exports=y},function(Y,L,D){var O,y=(O=D(8))&&O.__esModule?O:{default:O};var E=D(2),T=D(14),A=D(16);function _(O,b,C,v){this.body=O,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=C,this.options=E.extend({},this.defaultOptions),this.linegraphOptions=v,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(b)}(_.prototype=new A).clear=function(){this.groups={},this.amountOfGroups=0},_.prototype.addGroup=function(O,b){1!=b.options.excludeFromLegend&&(this.groups.hasOwnProperty(O)||(this.groups[O]=b),this.amountOfGroups+=1)},_.prototype.updateGroup=function(O,b){this.groups[O]=b},_.prototype.removeGroup=function(O){this.groups.hasOwnProperty(O)&&(delete this.groups[O],this.amountOfGroups-=1)},_.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},_.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},_.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},_.prototype.setOptions=function(O){E.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,O)},_.prototype.redraw=function(){var O=0,b=(0,y.default)(this.groups);b.sort(function(S,a){return S<a?-1:1});for(var C=0;C<b.length;C++){var v=b[C];1==this.groups[v].visible&&(void 0===this.linegraphOptions.visibility[v]||1==this.linegraphOptions.visibility[v])&&O++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==O)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var h="";for(C=0;C<b.length;C++)1==this.groups[v=b[C]].visible&&(void 0===this.linegraphOptions.visibility[v]||1==this.linegraphOptions.visibility[v])&&(h+=this.groups[v].content+"<br />");this.dom.textArea.innerHTML=h,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},_.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var O=(0,y.default)(this.groups);O.sort(function(u,l){return u<l?-1:1}),T.resetElements(this.svgElements);var b=window.getComputedStyle(this.dom.frame).paddingTop,C=Number(b.replace("px","")),v=C,m=this.options.iconSize,h=.75*this.options.iconSize,S=C+.5*h+3;this.svg.style.width=m+5+C+"px";for(var a=0;a<O.length;a++){var f=O[a];1==this.groups[f].visible&&(void 0===this.linegraphOptions.visibility[f]||1==this.linegraphOptions.visibility[f])&&(this.groups[f].getLegend(m,h,this.framework,v,S),S+=h+this.options.iconSpacing)}}},Y.exports=_},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var R="string",y="boolean",x="number",T="date",A="object",O="moment";L.allOptions={configure:{enabled:{boolean:y},filter:{boolean:y,function:"function"},container:{dom:"dom"},__type__:{object:A,boolean:y,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:R},sort:{boolean:y},sampling:{boolean:y},stack:{boolean:y},graphHeight:{string:R,number:x},shaded:{enabled:{boolean:y},orientation:{string:["bottom","top","zero","group"]},groupId:{object:A},__type__:{boolean:y,object:A}},style:{string:["line","bar","points"]},barChart:{width:{number:x},minWidth:{number:x},sideBySide:{boolean:y},align:{string:["left","center","right"]},__type__:{object:A}},interpolation:{enabled:{boolean:y},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:x},__type__:{object:A,boolean:y}},drawPoints:{enabled:{boolean:y},onRender:{function:"function"},size:{number:x},style:{string:["square","circle"]},__type__:{object:A,boolean:y,function:"function"}},dataAxis:{showMinorLabels:{boolean:y},showMajorLabels:{boolean:y},icons:{boolean:y},width:{string:R,number:x},visible:{boolean:y},alignZeros:{boolean:y},left:{range:{min:{number:x,undefined:"undefined"},max:{number:x,undefined:"undefined"},__type__:{object:A}},format:{function:"function"},title:{text:{string:R,number:x,undefined:"undefined"},style:{string:R,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},right:{range:{min:{number:x,undefined:"undefined"},max:{number:x,undefined:"undefined"},__type__:{object:A}},format:{function:"function"},title:{text:{string:R,number:x,undefined:"undefined"},style:{string:R,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},__type__:{object:A}},legend:{enabled:{boolean:y},icons:{boolean:y},left:{visible:{boolean:y},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:A}},right:{visible:{boolean:y},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:A}},__type__:{object:A,boolean:y}},groups:{visibility:{any:"any"},__type__:{object:A}},autoResize:{boolean:y},throttleRedraw:{number:x},clickToUse:{boolean:y},end:{number:x,date:T,string:R,moment:O},format:{minorLabels:{millisecond:{string:R,undefined:"undefined"},second:{string:R,undefined:"undefined"},minute:{string:R,undefined:"undefined"},hour:{string:R,undefined:"undefined"},weekday:{string:R,undefined:"undefined"},day:{string:R,undefined:"undefined"},month:{string:R,undefined:"undefined"},year:{string:R,undefined:"undefined"},__type__:{object:A}},majorLabels:{millisecond:{string:R,undefined:"undefined"},second:{string:R,undefined:"undefined"},minute:{string:R,undefined:"undefined"},hour:{string:R,undefined:"undefined"},weekday:{string:R,undefined:"undefined"},day:{string:R,undefined:"undefined"},month:{string:R,undefined:"undefined"},year:{string:R,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},moment:{function:"function"},height:{string:R,number:x},hiddenDates:{start:{date:T,number:x,string:R,moment:O},end:{date:T,number:x,string:R,moment:O},repeat:{string:R},__type__:{object:A,array:"array"}},locale:{string:R},locales:{__any__:{any:"any"},__type__:{object:A}},max:{date:T,number:x,string:R,moment:O},maxHeight:{number:x,string:R},maxMinorChars:{number:x},min:{date:T,number:x,string:R,moment:O},minHeight:{number:x,string:R},moveable:{boolean:y},multiselect:{boolean:y},orientation:{string:R},showCurrentTime:{boolean:y},showMajorLabels:{boolean:y},showMinorLabels:{boolean:y},start:{date:T,number:x,string:R,moment:O},timeAxis:{scale:{string:R,undefined:"undefined"},step:{number:x,undefined:"undefined"},__type__:{object:A}},width:{string:R,number:x},zoomable:{boolean:y},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:x},zoomMin:{number:x},zIndex:{number:x},__type__:{object:A}},L.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(Y,L,D){var re,y=(re=D(29))&&re.__esModule?re:{default:re};function E(re){return b=re,function(){var re={};if(C=0,v=b.charAt(0),I(),"strict"===m&&(re.strict=!0,I()),("graph"===m||"digraph"===m)&&(re.type=m,I()),h===__IDENTIFIER&&(re.id=m,I()),"{"!=m)throw ie("Angle bracket { expected");if(I(),V(re),"}"!=m)throw ie("Angle bracket } expected");if(I(),""!==m)throw ie("End of file expected");return I(),delete re.node,delete re.edge,delete re.graph,re}()}var T={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},A=(0,y.default)(T);A.color="color.color",A.style="dashes";var __NULL=0,__DELIMITER=1,__IDENTIFIER=2,__UNKNOWN=3,O={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},b="",C=0,v="",m="",h=__NULL;function a(){C++,v=b.charAt(C)}function f(){return b.charAt(C+1)}var u=/[a-zA-Z_0-9.:#]/;function l(re){return u.test(re)}function p(re,ae){if(re||(re={}),ae)for(var me in ae)ae.hasOwnProperty(me)&&(re[me]=ae[me]);return re}function M(re,ae,me){for(var Se=ae.split("."),_e=re;Se.length;){var De=Se.shift();Se.length?(_e[De]||(_e[De]={}),_e=_e[De]):_e[De]=me}}function d(re,ae){for(var me,Se,_e=null,De=[re],Re=re;Re.parent;)De.push(Re.parent),Re=Re.parent;if(Re.nodes)for(me=0,Se=Re.nodes.length;me<Se;me++)if(ae.id===Re.nodes[me].id){_e=Re.nodes[me];break}for(_e||(_e={id:ae.id},re.node&&(_e.attr=p(_e.attr,re.node))),me=De.length-1;me>=0;me--){var Fe=De[me];Fe.nodes||(Fe.nodes=[]),-1===Fe.nodes.indexOf(_e)&&Fe.nodes.push(_e)}ae.attr&&(_e.attr=p(_e.attr,ae.attr))}function c(re,ae){if(re.edges||(re.edges=[]),re.edges.push(ae),re.edge){var me=p({},re.edge);ae.attr=p(me,ae.attr)}}function w(re,ae,me,Se,_e){var De={from:ae,to:me,type:Se};return re.edge&&(De.attr=p({},re.edge)),De.attr=p(De.attr||{},_e),De}function I(){for(h=__NULL,m="";" "===v||"\t"===v||"\n"===v||"\r"===v;)a();do{var re=!1;if("#"===v){for(var ae=C-1;" "===b.charAt(ae)||"\t"===b.charAt(ae);)ae--;if("\n"===b.charAt(ae)||""===b.charAt(ae)){for(;""!=v&&"\n"!=v;)a();re=!0}}if("/"===v&&"/"===f()){for(;""!=v&&"\n"!=v;)a();re=!0}if("/"===v&&"*"===f()){for(;""!=v;){if("*"===v&&"/"===f()){a(),a();break}a()}re=!0}for(;" "===v||"\t"===v||"\n"===v||"\r"===v;)a()}while(re);if(""!==v){var me=v+f();if(O[me])return h=__DELIMITER,m=me,a(),void a();if(O[v])return h=__DELIMITER,m=v,void a();if(l(v)||"-"===v){for(m+=v,a();l(v);)m+=v,a();return"false"===m?m=!1:"true"===m?m=!0:isNaN(Number(m))||(m=Number(m)),void(h=__IDENTIFIER)}if('"'===v){for(a();""!=v&&('"'!=v||'"'===v&&'"'===f());)'"'===v?(m+=v,a()):"\\"===v&&"n"===f()?(m+="\n",a()):m+=v,a();if('"'!=v)throw ie('End of string " expected');return a(),void(h=__IDENTIFIER)}for(h=__UNKNOWN;""!=v;)m+=v,a();throw new SyntaxError('Syntax error in part "'+ue(m,30)+'"')}h=__DELIMITER}function V(re){for(;""!==m&&"}"!=m;)H(re),";"===m&&I()}function H(re){var ae=z(re);if(ae)J(re,ae);else if(!function(re){return"node"===m?(I(),re.node=te(),"node"):"edge"===m?(I(),re.edge=te(),"edge"):"graph"===m?(I(),re.graph=te(),"graph"):null}(re)){if(h!=__IDENTIFIER)throw ie("Identifier expected");var Se=m;if(I(),"="===m){if(I(),h!=__IDENTIFIER)throw ie("Identifier expected");re[Se]=m,I()}else!function(re,ae){var me={id:ae},Se=te();Se&&(me.attr=Se),d(re,me),J(re,ae)}(re,Se)}}function z(re){var ae=null;if("subgraph"===m&&((ae={}).type="subgraph",I(),h===__IDENTIFIER&&(ae.id=m,I())),"{"===m){if(I(),ae||(ae={}),ae.parent=re,ae.node=re.node,ae.edge=re.edge,ae.graph=re.graph,V(ae),"}"!=m)throw ie("Angle bracket } expected");I(),delete ae.node,delete ae.edge,delete ae.graph,delete ae.parent,re.subgraphs||(re.subgraphs=[]),re.subgraphs.push(ae)}return ae}function J(re,ae){for(;"->"===m||"--"===m;){var me,Se=m;I();var _e=z(re);if(_e)me=_e;else{if(h!=__IDENTIFIER)throw ie("Identifier or subgraph expected");d(re,{id:me=m}),I()}c(re,w(re,ae,me,Se,te())),ae=me}}function te(){for(var re=null,ae={dashed:!0,solid:!1,dotted:[1,5]};"["===m;){for(I(),re={};""!==m&&"]"!=m;){if(h!=__IDENTIFIER)throw ie("Attribute name expected");var me=m;if(I(),"="!=m)throw ie("Equal sign = expected");if(I(),h!=__IDENTIFIER)throw ie("Attribute value expected");var Se=m;"style"===me&&(Se=ae[Se]),M(re,me,Se),I(),","==m&&I()}if("]"!=m)throw ie("Bracket ] expected");I()}return re}function ie(re){return new SyntaxError(re+', got "'+ue(m,30)+'" (char '+C+")")}function ue(re,ae){return re.length<=ae?re:re.substr(0,27)+"..."}function ve(re,ae,me){for(var Se=ae.split("."),_e=Se.pop(),De=re,Re=0;Re<Se.length;Re++){var Fe=Se[Re];Fe in De||(De[Fe]={}),De=De[Fe]}return De[_e]=me,re}function be(re,ae){var me={};for(var Se in re)if(re.hasOwnProperty(Se)){var _e=ae[Se];Array.isArray(_e)?_e.forEach(function(De){ve(me,De,re[Se])}):ve(me,"string"==typeof _e?_e:Se,re[Se])}return me}L.parseDOT=E,L.DOTToGraph=function(re){var ae=E(re),me={nodes:[],edges:[],options:{}};if(ae.nodes&&ae.nodes.forEach(function(_e){var De={id:_e.id,label:String(_e.label||_e.id)};p(De,be(_e.attr,T)),De.image&&(De.shape="image"),me.nodes.push(De)}),ae.edges){var Se=function(De){var Re={from:De.from,to:De.to};return p(Re,be(De.attr,A)),Re.arrows="->"===De.type?"to":void 0,Re};ae.edges.forEach(function(_e){var De,Re;De=_e.from instanceof Object?_e.from.nodes:{id:_e.from},Re=_e.to instanceof Object?_e.to.nodes:{id:_e.to},_e.from instanceof Object&&_e.from.edges&&_e.from.edges.forEach(function(Fe){var Ke=Se(Fe);me.edges.push(Ke)}),function(re,ae,me){Array.isArray(re)?re.forEach(function(Se){Array.isArray(ae)?ae.forEach(function(_e){me(Se,_e)}):me(Se,ae)}):Array.isArray(ae)?ae.forEach(function(Se){me(re,Se)}):me(re,ae)}(De,Re,function(Fe,Ke){var Ut=w(me,Fe.id,Ke.id,_e.type,_e.attr),Qt=Se(Ut);me.edges.push(Qt)}),_e.to instanceof Object&&_e.to.edges&&_e.to.edges.forEach(function(Fe){var Ke=Se(Fe);me.edges.push(Ke)})})}return ae.attr&&(me.options=ae.attr),me}},function(Y,L,D){L.parseGephi=function(y,x){var E=[],T=[],A={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==x&&(void 0!==x.fixed&&(A.nodes.fixed=x.fixed),void 0!==x.parseColor&&(A.nodes.parseColor=x.parseColor),void 0!==x.inheritColor&&(A.edges.inheritColor=x.inheritColor));for(var _=y.edges,O=y.nodes,b=0;b<_.length;b++){var C={},v=_[b];C.id=v.id,C.from=v.source,C.to=v.target,C.attributes=v.attributes,C.label=v.label,C.title=void 0!==v.attributes?v.attributes.title:void 0,"Directed"===v.type&&(C.arrows="to"),v.color&&!1===A.inheritColor&&(C.color=v.color),E.push(C)}for(var m=0;m<O.length;m++){var h={},S=O[m];h.id=S.id,h.attributes=S.attributes,h.x=S.x,h.y=S.y,h.label=S.label,h.title=void 0!==S.attributes?S.attributes.title:S.title,h.color=!0===A.nodes.parseColor?S.color:void 0!==S.color?{background:S.color,border:S.color,highlight:{background:S.color,border:S.color},hover:{background:S.color,border:S.color}}:void 0,h.size=S.size,h.fixed=A.nodes.fixed&&void 0!==S.x&&void 0!==S.y,T.push(h)}return{nodes:T,edges:E}}},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=_(D(0)),E=_(D(1)),A=_(D(185));function _(b){return b&&b.__esModule?b:{default:b}}var O=function(){function b(C){(0,y.default)(this,b),this.images={},this.imageBroken={},this.callback=C}return(0,E.default)(b,[{key:"_tryloadBrokenUrl",value:function(v,m,h){if(void 0!==v&&void 0!==h){if(void 0===m)return void console.warn("No broken url image defined");h.onerror=function(){console.error("Could not load brokenImage:",m)},h.image.src=m}}},{key:"_redrawWithImage",value:function(v){this.callback&&this.callback(v)}},{key:"load",value:function(v,m){var h=this,S=this.images[v];if(S)return S;var a=new A.default;return this.images[v]=a,a.image.onload=function(){h._fixImageCoordinates(a.image),a.init(),h._redrawWithImage(a)},a.image.onerror=function(){console.error("Could not load image:",v),h._tryloadBrokenUrl(v,m,a)},a.image.src=v,a}},{key:"_fixImageCoordinates",value:function(v){0===v.width&&(document.body.appendChild(v),v.width=v.offsetWidth,v.height=v.offsetHeight,document.body.removeChild(v))}}]),b}();L.default=O},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=b(D(30)),E=b(D(6)),A=b(D(0)),O=b(D(1));function b(a){return a&&a.__esModule?a:{default:a}}var C=D(2),v=D(48).default,m=D(191).default,h=["bold","ital","boldital","mono"],S=function(){function a(f,u){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,A.default)(this,a),this.body=f,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(u),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=l}return(0,O.default)(a,[{key:"setOptions",value:function(u){if(this.elementOptions=u,this.initFontOptions(u.font),v.isValidLabel(u.label)?this.labelDirty=!0:u.label="",null!=u.font)if("string"==typeof u.font)this.baseSize=this.fontOptions.size;else if("object"===(0,E.default)(u.font)){var l=u.font.size;void 0!==l&&(this.baseSize=l)}}},{key:"initFontOptions",value:function(u){var l=this;C.forEach(h,function(p){l.fontOptions[p]={}}),a.parseFontString(this.fontOptions,u)?this.fontOptions.vadjust=0:C.forEach(u,function(p,M){null!=p&&"object"!==(void 0===p?"undefined":(0,E.default)(p))&&(l.fontOptions[M]=p)})}},{key:"constrain",value:function(u){var l={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},p=C.topMost(u,"widthConstraint");if("number"==typeof p)l.maxWdt=Number(p),l.minWdt=Number(p);else if("object"===(void 0===p?"undefined":(0,E.default)(p))){var M=C.topMost(u,["widthConstraint","maximum"]);"number"==typeof M&&(l.maxWdt=Number(M));var d=C.topMost(u,["widthConstraint","minimum"]);"number"==typeof d&&(l.minWdt=Number(d))}var c=C.topMost(u,"heightConstraint");if("number"==typeof c)l.minHgt=Number(c);else if("object"===(void 0===c?"undefined":(0,E.default)(c))){var w=C.topMost(u,["heightConstraint","minimum"]);"number"==typeof w&&(l.minHgt=Number(w));var I=C.topMost(u,["heightConstraint","valign"]);"string"==typeof I&&("top"===I||"bottom"===I)&&(l.valign=I)}return l}},{key:"update",value:function(u,l){this.setOptions(u,!0),this.propagateFonts(l),C.deepExtend(this.fontOptions,this.constrain(l)),this.fontOptions.chooser=v.choosify("label",l)}},{key:"adjustSizes",value:function(u){var l=u?u.right+u.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=l,this.fontOptions.minWdt-=l),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=u?u.top+u.bottom:0)}},{key:"addFontOptionsToPile",value:function(u,l){for(var p=0;p<l.length;++p)this.addFontToPile(u,l[p])}},{key:"addFontToPile",value:function(u,l){void 0!==l&&null!=l.font&&u.push(l.font)}},{key:"getBasicOptions",value:function(u){for(var l={},p=0;p<u.length;++p){var M=u[p],d={};a.parseFontString(d,M)&&(M=d),C.forEach(M,function(c,w){void 0!==c&&(l.hasOwnProperty(w)||(l[w]=-1!==h.indexOf(w)?{}:c))})}return l}},{key:"getFontOption",value:function(u,l,p){for(var M=void 0,d=0;d<u.length;++d){var c=u[d];if(c.hasOwnProperty(l)){if(null==(M=c[l]))continue;var w={};if(a.parseFontString(w,M)&&(M=w),M.hasOwnProperty(p))return M[p]}}if(this.fontOptions.hasOwnProperty(p))return this.fontOptions[p];throw new Error("Did not find value for multi-font for property: '"+p+"'")}},{key:"getFontOptions",value:function(u,l){for(var p={},M=["color","size","face","mod","vadjust"],d=0;d<M.length;++d){var c=M[d];p[c]=this.getFontOption(u,l,c)}return p}},{key:"propagateFonts",value:function(u){var l=this,p=[];this.addFontOptionsToPile(p,u),this.fontOptions=this.getBasicOptions(p);for(var M=function(w){var I=h[w],N=l.fontOptions[I],V=l.getFontOptions(p,I);C.forEach(V,function(H,z){N[z]=H}),N.size=Number(N.size),N.vadjust=Number(N.vadjust)},d=0;d<h.length;++d)M(d)}},{key:"draw",value:function(u,l,p,M,d){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var w=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&w<this.elementOptions.scaling.label.drawThreshold-1||(w>=this.elementOptions.scaling.label.maxVisible&&(w=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(u,M,d,l,p,c),this._drawBackground(u),this._drawText(u,l,this.size.yLine,c,w))}}},{key:"_drawBackground",value:function(u){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){u.fillStyle=this.fontOptions.background;var l=this.getSize();u.fillRect(l.left,l.top,l.width,l.height)}}},{key:"_drawText",value:function(u,l,p){var d=arguments[4],c=this._setAlignment(u,l,p,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),w=(0,y.default)(c,2);l=w[0],p=w[1],u.textAlign="left",l-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(p-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(p+=(this.size.height-this.size.labelHeight)/2));for(var I=0;I<this.lineCount;I++){var N=this.lines[I];if(N&&N.blocks){var V=0;this.isEdgeLabel||"center"===this.fontOptions.align?V+=(this.size.width-N.width)/2:"right"===this.fontOptions.align&&(V+=this.size.width-N.width);for(var H=0;H<N.blocks.length;H++){var z=N.blocks[H];u.font=z.font;var U=this._getColor(z.color,d,z.strokeColor),$=(0,y.default)(U,2),J=$[0],te=$[1];z.strokeWidth>0&&(u.lineWidth=z.strokeWidth,u.strokeStyle=te,u.lineJoin="round"),u.fillStyle=J,z.strokeWidth>0&&u.strokeText(z.text,l+V,p+z.vadjust),u.fillText(z.text,l+V,p+z.vadjust),V+=z.width}p+=N.height}}}},{key:"_setAlignment",value:function(u,l,p,M){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){l=0,p=0;"top"===this.fontOptions.align?(u.textBaseline="alphabetic",p-=4):"bottom"===this.fontOptions.align?(u.textBaseline="hanging",p+=4):u.textBaseline="middle"}else u.textBaseline=M;return[l,p]}},{key:"_getColor",value:function(u,l,p){var M=u||"#000000",d=p||"#ffffff";if(l<=this.elementOptions.scaling.label.drawThreshold){var c=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-l)));M=C.overrideOpacity(M,c),d=C.overrideOpacity(d,c)}return[M,d]}},{key:"getTextSize",value:function(u){return this._processLabel(u,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var l=this.size.left,p=this.size.top-1;if(this.isEdgeLabel){var M=.5*-this.size.width;switch(this.fontOptions.align){case"middle":l=M,p=.5*-this.size.height;break;case"top":l=M,p=-(this.size.height+2);break;case"bottom":l=M,p=2}}return{left:l,top:p,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(u,l,p){var M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(u,l,p),this.size.left=M-.5*this.size.width,this.size.top=d-.5*this.size.height,this.size.yLine=d+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===c&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(u,l,p,M){var d=function(N,V,H){return"normal"===V?"mod"===H?"":N[H]:void 0!==N[V][H]?N[V][H]:N[H]},c={color:d(this.fontOptions,M,"color"),size:d(this.fontOptions,M,"size"),face:d(this.fontOptions,M,"face"),mod:d(this.fontOptions,M,"mod"),vadjust:d(this.fontOptions,M,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(l||p)&&("normal"===M&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?c.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(c,this.elementOptions.id,l,p));var w="";return void 0!==c.mod&&""!==c.mod&&(w+=c.mod+" "),u.font=(w+=c.size+"px "+c.face).replace(/"/g,""),c.font=u.font,c.height=c.size,c}},{key:"differentState",value:function(u,l){return u!==this.selectedState||l!==this.hoverState}},{key:"_processLabelText",value:function(u,l,p,M){return new m(u,this,l,p).process(M)}},{key:"_processLabel",value:function(u,l,p){if(!1!==this.labelDirty||this.differentState(l,p)){var M=this._processLabelText(u,l,p,this.elementOptions.label);this.fontOptions.minWdt>0&&M.width<this.fontOptions.minWdt&&(M.width=this.fontOptions.minWdt),this.size.labelHeight=M.height,this.fontOptions.minHgt>0&&M.height<this.fontOptions.minHgt&&(M.height=this.fontOptions.minHgt),this.lines=M.lines,this.lineCount=M.lines.length,this.size.width=M.width,this.size.height=M.height,this.selectedState=l,this.hoverState=p,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(u,l){if(!l||"string"!=typeof l)return!1;var p=l.split(" ");return u.size=p[0].replace("px",""),u.face=p[1],u.color=p[2],!0}}]),a}();L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=_(D(30)),E=_(D(0)),A=_(D(1));function _(v){return v&&v.__esModule?v:{default:v}}var O=D(2),b=D(119).default,C=function(){function v(m,h,S){(0,E.default)(this,v),this.body=h,this.labelModule=S,this.options={},this.setOptions(m),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,A.default)(v,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(h){this.options=h,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(h,S,a,f,u){h.strokeStyle=this.getColor(h,S,a,f),h.lineWidth=S.width,!1!==S.dashes?this._drawDashedLine(h,S,u):this._drawLine(h,S,u)}},{key:"_drawLine",value:function(h,S,a,f,u){if(this.from!=this.to)this._line(h,S,a,f,u);else{var l=this._getCircleData(h),p=(0,y.default)(l,3);this._circle(h,S,p[0],p[1],p[2])}}},{key:"_drawDashedLine",value:function(h,S,a,f,u){h.lineCap="round";var l=[5,5];if(!0===Array.isArray(S.dashes)&&(l=S.dashes),void 0!==h.setLineDash){if(h.save(),h.setLineDash(l),h.lineDashOffset=0,this.from!=this.to)this._line(h,S,a);else{var p=this._getCircleData(h),M=(0,y.default)(p,3);this._circle(h,S,M[0],M[1],M[2])}h.setLineDash([0]),h.lineDashOffset=0,h.restore()}else{if(this.from!=this.to)h.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,l);else{var I=this._getCircleData(h),N=(0,y.default)(I,3);this._circle(h,S,N[0],N[1],N[2])}this.enableShadow(h,S),h.stroke(),this.disableShadow(h,S)}}},{key:"findBorderPosition",value:function(h,S,a){return this.from!=this.to?this._findBorderPosition(h,S,a):this._findBorderPositionCircle(h,S,a)}},{key:"findBorderPositions",value:function(h){var S={},a={};if(this.from!=this.to)S=this._findBorderPosition(this.from,h),a=this._findBorderPosition(this.to,h);else{var f=this._getCircleData(h).slice(0,2),u=(0,y.default)(f,2),l=u[0],p=u[1];S=this._findBorderPositionCircle(this.from,h,{x:l,y:p,low:.25,high:.6,direction:-1}),a=this._findBorderPositionCircle(this.from,h,{x:l,y:p,low:.6,high:.8,direction:1})}return{from:S,to:a}}},{key:"_getCircleData",value:function(h){var S=void 0,a=void 0,f=this.from,u=this.options.selfReferenceSize;return void 0!==h&&void 0===f.shape.width&&f.shape.resize(h),f.shape.width>f.shape.height?(S=f.x+.5*f.shape.width,a=f.y-u):(S=f.x+u,a=f.y-.5*f.shape.height),[S,a,u]}},{key:"_pointOnCircle",value:function(h,S,a,f){var u=2*f*Math.PI;return{x:h+a*Math.cos(u),y:S-a*Math.sin(u)}}},{key:"_findBorderPositionCircle",value:function(h,S,a){for(var f=a.x,u=a.y,l=a.low,p=a.high,M=a.direction,c=0,w=this.options.selfReferenceSize,I=void 0,N=void 0,z=void 0,$=.5*(l+p);l<=p&&c<10&&(I=this._pointOnCircle(f,u,w,$=.5*(l+p)),N=Math.atan2(h.y-I.y,h.x-I.x),z=h.distanceToBorder(S,N)-Math.sqrt(Math.pow(I.x-h.x,2)+Math.pow(I.y-h.y,2)),!(Math.abs(z)<.05));)z>0?M>0?l=$:p=$:M>0?p=$:l=$,c++;return I.t=$,I}},{key:"getLineWidth",value:function(h,S){return!0===h?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===S?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(h,S,a,f){if(!1!==S.inheritsColor){if("both"===S.inheritsColor&&this.from.id!==this.to.id){var u=h.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),l=void 0,p=void 0;return l=this.from.options.color.highlight.border,p=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(l=O.overrideOpacity(this.from.options.color.border,S.opacity),p=O.overrideOpacity(this.to.options.color.border,S.opacity)):!0===this.from.selected&&!1===this.to.selected?p=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(l=this.from.options.color.border),u.addColorStop(0,l),u.addColorStop(1,p),u}return O.overrideOpacity("to"===S.inheritsColor?this.to.options.color.border:this.from.options.color.border,S.opacity)}return O.overrideOpacity(S.color,S.opacity)}},{key:"_circle",value:function(h,S,a,f,u){this.enableShadow(h,S),h.beginPath(),h.arc(a,f,u,0,2*Math.PI,!1),h.stroke(),this.disableShadow(h,S)}},{key:"getDistanceToEdge",value:function(h,S,a,f,u,l,p,M){var d=0;if(this.from!=this.to)d=this._getDistanceToEdge(h,S,a,f,u,l,p);else{var c=this._getCircleData(void 0),w=(0,y.default)(c,3),V=w[2],H=w[0]-u,z=w[1]-l;d=Math.abs(Math.sqrt(H*H+z*z)-V)}return d}},{key:"_getDistanceToLine",value:function(h,S,a,f,u,l){var p=a-h,M=f-S,c=((u-h)*p+(l-S)*M)/(p*p+M*M);c>1?c=1:c<0&&(c=0);var N=h+c*p-u,V=S+c*M-l;return Math.sqrt(N*N+V*V)}},{key:"getArrowData",value:function(h,S,a,f,u,l){var p=void 0,M=void 0,d=void 0,c=void 0,w=void 0,I=void 0,N=void 0,V=l.width;if("from"===S?(d=this.from,c=this.to,w=.1,I=l.fromArrowScale,N=l.fromArrowType):"to"===S?(d=this.to,c=this.from,w=-.1,I=l.toArrowScale,N=l.toArrowType):(d=this.to,c=this.from,I=l.middleArrowScale,N=l.middleArrowType),d!=c)if("middle"!==S)if(!0===this.options.smooth.enabled){M=this.findBorderPosition(d,h,{via:a});var H=this.getPoint(Math.max(0,Math.min(1,M.t+w)),a);p=Math.atan2(M.y-H.y,M.x-H.x)}else p=Math.atan2(d.y-c.y,d.x-c.x),M=this.findBorderPosition(d,h);else p=Math.atan2(d.y-c.y,d.x-c.x),M=this.getPoint(.5,a);else{var z=this._getCircleData(h),U=(0,y.default)(z,3),$=U[0],J=U[1],te=U[2];"from"===S?p=-2*(M=this.findBorderPosition(this.from,h,{x:$,y:J,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===S?p=-2*(M=this.findBorderPosition(this.from,h,{x:$,y:J,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(M=this._pointOnCircle($,J,te,.175),p=3.9269908169872414)}"middle"===S&&I<0&&(V*=-1);var ie=15*I+3*V;return{point:M,core:{x:M.x-.9*ie*Math.cos(p),y:M.y-.9*ie*Math.sin(p)},angle:p,length:ie,type:N}}},{key:"drawArrowHead",value:function(h,S,a,f,u){h.strokeStyle=this.getColor(h,S,a,f),h.fillStyle=h.strokeStyle,h.lineWidth=S.width,b.draw(h,u),this.enableShadow(h,S),h.fill(),this.disableShadow(h,S)}},{key:"enableShadow",value:function(h,S){!0===S.shadow&&(h.shadowColor=S.shadowColor,h.shadowBlur=S.shadowSize,h.shadowOffsetX=S.shadowX,h.shadowOffsetY=S.shadowY)}},{key:"disableShadow",value:function(h,S){!0===S.shadow&&(h.shadowColor="rgba(0,0,0,0)",h.shadowBlur=0,h.shadowOffsetX=0,h.shadowOffsetY=0)}}]),v}();L.default=C},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=v(D(3)),E=v(D(4)),A=v(D(5)),O=v(D(0)),C=v(D(1));function v(u){return u&&u.__esModule?u:{default:u}}var m=function(){function u(){(0,O.default)(this,u)}return(0,C.default)(u,null,[{key:"transform",value:function(p,M){p instanceof Array||(p=[p]);for(var d=M.point.x,c=M.point.y,w=M.angle,I=M.length,N=0;N<p.length;++N){var V=p[N],H=V.x*Math.cos(w)-V.y*Math.sin(w),z=V.x*Math.sin(w)+V.y*Math.cos(w);V.x=d+I*H,V.y=c+I*z}}},{key:"drawPath",value:function(p,M){p.beginPath(),p.moveTo(M[0].x,M[0].y);for(var d=1;d<M.length;++d)p.lineTo(M[d].x,M[d].y);p.closePath()}}]),u}(),h=function(u){function l(){return(0,O.default)(this,l),(0,E.default)(this,(l.__proto__||(0,y.default)(l)).apply(this,arguments))}return(0,A.default)(l,u),(0,C.default)(l,null,[{key:"draw",value:function(M,d){var c=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];m.transform(c,d),m.drawPath(M,c)}}]),l}(m),S=function(){function u(){(0,O.default)(this,u)}return(0,C.default)(u,null,[{key:"draw",value:function(p,M){var d={x:-.4,y:0};m.transform(d,M),p.circle(d.x,d.y,.4*M.length)}}]),u}(),a=function(){function u(){(0,O.default)(this,u)}return(0,C.default)(u,null,[{key:"draw",value:function(p,M){var d=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];m.transform(d,M),m.drawPath(p,d)}}]),u}(),f=function(){function u(){(0,O.default)(this,u)}return(0,C.default)(u,null,[{key:"draw",value:function(p,M){var d;switch(M.type&&(d=M.type.toLowerCase()),d){case"circle":S.draw(p,M);break;case"bar":a.draw(p,M);break;case"arrow":default:h.draw(p,M)}}}]),u}();L.default=f},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(O,b,C){(0,y.default)(this,_),this.body=O,this.physicsBody=b,this.setOptions(C),this.randomSeed=5}return(0,E.default)(_,[{key:"setOptions",value:function(b){this.options=b,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var b=1e4*Math.sin(this.randomSeed++);return b-Math.floor(b)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var b=void 0,C=this.body.nodes,v=this.physicsBody.physicsNodeIndices,m=v.length,h=this._formBarnesHutTree(C,v);this.barnesHutTree=h;for(var S=0;S<m;S++)(b=C[v[S]]).options.mass>0&&this._getForceContributions(h.root,b)}}},{key:"_getForceContributions",value:function(b,C){this._getForceContribution(b.children.NW,C),this._getForceContribution(b.children.NE,C),this._getForceContribution(b.children.SW,C),this._getForceContribution(b.children.SE,C)}},{key:"_getForceContribution",value:function(b,C){if(b.childrenCount>0){var v,m,h;v=b.centerOfMass.x-C.x,m=b.centerOfMass.y-C.y,(h=Math.sqrt(v*v+m*m))*b.calcSize>this.thetaInversed?this._calculateForces(h,v,m,C,b):4===b.childrenCount?this._getForceContributions(b,C):b.children.data.id!=C.id&&this._calculateForces(h,v,m,C,b)}}},{key:"_calculateForces",value:function(b,C,v,m,h){0===b&&(C=b=.1),this.overlapAvoidanceFactor<1&&m.shape.radius&&(b=Math.max(.1+this.overlapAvoidanceFactor*m.shape.radius,b-m.shape.radius));var S=this.options.gravitationalConstant*h.mass*m.options.mass/Math.pow(b,3),f=v*S;this.physicsBody.forces[m.id].x+=C*S,this.physicsBody.forces[m.id].y+=f}},{key:"_formBarnesHutTree",value:function(b,C){for(var v=void 0,m=C.length,h=b[C[0]].x,S=b[C[0]].y,a=b[C[0]].x,f=b[C[0]].y,u=1;u<m;u++){var l=b[C[u]],p=l.x,M=l.y;l.options.mass>0&&(p<h&&(h=p),p>a&&(a=p),M<S&&(S=M),M>f&&(f=M))}var d=Math.abs(a-h)-Math.abs(f-S);d>0?(S-=.5*d,f+=.5*d):(h+=.5*d,a-=.5*d);var w=Math.max(1e-5,Math.abs(a-h)),I=.5*w,N=.5*(h+a),V=.5*(S+f),H={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:N-I,maxX:N+I,minY:V-I,maxY:V+I},size:w,calcSize:1/w,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(H.root);for(var z=0;z<m;z++)(v=b[C[z]]).options.mass>0&&this._placeInTree(H.root,v);return H}},{key:"_updateBranchMass",value:function(b,C){var v=b.centerOfMass,m=b.mass+C.options.mass,h=1/m;v.x=v.x*b.mass+C.x*C.options.mass,v.x*=h,v.y=v.y*b.mass+C.y*C.options.mass,v.y*=h,b.mass=m;var S=Math.max(Math.max(C.height,C.radius),C.width);b.maxWidth=b.maxWidth<S?S:b.maxWidth}},{key:"_placeInTree",value:function(b,C,v){(1!=v||void 0===v)&&this._updateBranchMass(b,C);var m=b.children.NW.range;this._placeInRegion(b,C,m.maxX>C.x?m.maxY>C.y?"NW":"SW":m.maxY>C.y?"NE":"SE")}},{key:"_placeInRegion",value:function(b,C,v){var m=b.children[v];switch(m.childrenCount){case 0:m.children.data=C,m.childrenCount=1,this._updateBranchMass(m,C);break;case 1:m.children.data.x===C.x&&m.children.data.y===C.y?(C.x+=this.seededRandom(),C.y+=this.seededRandom()):(this._splitBranch(m),this._placeInTree(m,C));break;case 4:this._placeInTree(m,C)}}},{key:"_splitBranch",value:function(b){var C=null;1===b.childrenCount&&(C=b.children.data,b.mass=0,b.centerOfMass.x=0,b.centerOfMass.y=0),b.childrenCount=4,b.children.data=null,this._insertRegion(b,"NW"),this._insertRegion(b,"NE"),this._insertRegion(b,"SW"),this._insertRegion(b,"SE"),null!=C&&this._placeInTree(b,C)}},{key:"_insertRegion",value:function(b,C){var v=void 0,m=void 0,h=void 0,S=void 0,a=.5*b.size;switch(C){case"NW":v=b.range.minX,m=b.range.minX+a,h=b.range.minY,S=b.range.minY+a;break;case"NE":v=b.range.minX+a,m=b.range.maxX,h=b.range.minY,S=b.range.minY+a;break;case"SW":v=b.range.minX,m=b.range.minX+a,h=b.range.minY+a,S=b.range.maxY;break;case"SE":v=b.range.minX+a,m=b.range.maxX,h=b.range.minY+a,S=b.range.maxY}b.children[C]={centerOfMass:{x:0,y:0},mass:0,range:{minX:v,maxX:m,minY:h,maxY:S},size:.5*b.size,calcSize:2*b.calcSize,children:{data:null},maxWidth:0,level:b.level+1,childrenCount:0}}},{key:"_debug",value:function(b,C){void 0!==this.barnesHutTree&&(b.lineWidth=1,this._drawBranch(this.barnesHutTree.root,b,C))}},{key:"_drawBranch",value:function(b,C,v){void 0===v&&(v="#FF0000"),4===b.childrenCount&&(this._drawBranch(b.children.NW,C),this._drawBranch(b.children.NE,C),this._drawBranch(b.children.SE,C),this._drawBranch(b.children.SW,C)),C.strokeStyle=v,C.beginPath(),C.moveTo(b.range.minX,b.range.minY),C.lineTo(b.range.maxX,b.range.minY),C.stroke(),C.beginPath(),C.moveTo(b.range.maxX,b.range.minY),C.lineTo(b.range.maxX,b.range.maxY),C.stroke(),C.beginPath(),C.moveTo(b.range.maxX,b.range.maxY),C.lineTo(b.range.minX,b.range.maxY),C.stroke(),C.beginPath(),C.moveTo(b.range.minX,b.range.maxY),C.lineTo(b.range.minX,b.range.minY),C.stroke()}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(O,b,C){(0,y.default)(this,_),this.body=O,this.physicsBody=b,this.setOptions(C)}return(0,E.default)(_,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b=void 0,C=void 0,v=void 0,m=void 0,h=this.body.nodes,S=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,f=0;f<S.length;f++)b=-(m=h[S[f]]).x,C=-m.y,v=Math.sqrt(b*b+C*C),this._calculateForces(v,b,C,a,m)}},{key:"_calculateForces",value:function(b,C,v,m,h){var S=0===b?0:this.options.centralGravity/b;m[h.id].x=C*S,m[h.id].y=v*S}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var R="string",y="boolean",x="number",E="array",T="object",O=["arrow","circle","bar"],b={configure:{enabled:{boolean:y},filter:{boolean:y,string:R,array:E,function:"function"},container:{dom:"dom"},showButton:{boolean:y},__type__:{object:T,boolean:y,string:R,array:E,function:"function"}},edges:{arrows:{to:{enabled:{boolean:y},scaleFactor:{number:x},type:{string:O},__type__:{object:T,boolean:y}},middle:{enabled:{boolean:y},scaleFactor:{number:x},type:{string:O},__type__:{object:T,boolean:y}},from:{enabled:{boolean:y},scaleFactor:{number:x},type:{string:O},__type__:{object:T,boolean:y}},__type__:{string:["from","to","middle"],object:T}},arrowStrikethrough:{boolean:y},chosen:{label:{boolean:y,function:"function"},edge:{boolean:y,function:"function"},__type__:{object:T,boolean:y}},color:{color:{string:R},highlight:{string:R},hover:{string:R},inherit:{string:["from","to","both"],boolean:y},opacity:{number:x},__type__:{object:T,string:R}},dashes:{boolean:y,array:E},font:{color:{string:R},size:{number:x},face:{string:R},background:{string:R},strokeWidth:{number:x},strokeColor:{string:R},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:x},multi:{boolean:y,string:R},bold:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},boldital:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},ital:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},mono:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},__type__:{object:T,string:R}},hidden:{boolean:y},hoverWidth:{function:"function",number:x},label:{string:R,undefined:"undefined"},labelHighlightBold:{boolean:y},length:{number:x,undefined:"undefined"},physics:{boolean:y},scaling:{min:{number:x},max:{number:x},label:{enabled:{boolean:y},min:{number:x},max:{number:x},maxVisible:{number:x},drawThreshold:{number:x},__type__:{object:T,boolean:y}},customScalingFunction:{function:"function"},__type__:{object:T}},selectionWidth:{function:"function",number:x},selfReferenceSize:{number:x},shadow:{enabled:{boolean:y},color:{string:R},size:{number:x},x:{number:x},y:{number:x},__type__:{object:T,boolean:y}},smooth:{enabled:{boolean:y},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:x},forceDirection:{string:["horizontal","vertical","none"],boolean:y},__type__:{object:T,boolean:y}},title:{string:R,undefined:"undefined"},width:{number:x},widthConstraint:{maximum:{number:x},__type__:{object:T,boolean:y,number:x}},value:{number:x,undefined:"undefined"},__type__:{object:T}},groups:{useDefaultGroups:{boolean:y},__any__:"get from nodes, will be overwritten below",__type__:{object:T}},interaction:{dragNodes:{boolean:y},dragView:{boolean:y},hideEdgesOnDrag:{boolean:y},hideNodesOnDrag:{boolean:y},hover:{boolean:y},keyboard:{enabled:{boolean:y},speed:{x:{number:x},y:{number:x},zoom:{number:x},__type__:{object:T}},bindToWindow:{boolean:y},__type__:{object:T,boolean:y}},multiselect:{boolean:y},navigationButtons:{boolean:y},selectable:{boolean:y},selectConnectedEdges:{boolean:y},hoverConnectedEdges:{boolean:y},tooltipDelay:{number:x},zoomView:{boolean:y},__type__:{object:T}},layout:{randomSeed:{undefined:"undefined",number:x},improvedLayout:{boolean:y},hierarchical:{enabled:{boolean:y},levelSeparation:{number:x},nodeSpacing:{number:x},treeSpacing:{number:x},blockShifting:{boolean:y},edgeMinimization:{boolean:y},parentCentralization:{boolean:y},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:T,boolean:y}},__type__:{object:T}},manipulation:{enabled:{boolean:y},initiallyActive:{boolean:y},addNode:{boolean:y,function:"function"},addEdge:{boolean:y,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:T,boolean:y,function:"function"}},deleteNode:{boolean:y,function:"function"},deleteEdge:{boolean:y,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:T,boolean:y}},nodes:{borderWidth:{number:x},borderWidthSelected:{number:x,undefined:"undefined"},brokenImage:{string:R,undefined:"undefined"},chosen:{label:{boolean:y,function:"function"},node:{boolean:y,function:"function"},__type__:{object:T,boolean:y}},color:{border:{string:R},background:{string:R},highlight:{border:{string:R},background:{string:R},__type__:{object:T,string:R}},hover:{border:{string:R},background:{string:R},__type__:{object:T,string:R}},__type__:{object:T,string:R}},fixed:{x:{boolean:y},y:{boolean:y},__type__:{object:T,boolean:y}},font:{align:{string:R},color:{string:R},size:{number:x},face:{string:R},background:{string:R},strokeWidth:{number:x},strokeColor:{string:R},vadjust:{number:x},multi:{boolean:y,string:R},bold:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},boldital:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},ital:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},mono:{color:{string:R},size:{number:x},face:{string:R},mod:{string:R},vadjust:{number:x},__type__:{object:T,string:R}},__type__:{object:T,string:R}},group:{string:R,number:x,undefined:"undefined"},heightConstraint:{minimum:{number:x},valign:{string:R},__type__:{object:T,boolean:y,number:x}},hidden:{boolean:y},icon:{face:{string:R},code:{string:R},size:{number:x},color:{string:R},__type__:{object:T}},id:{string:R,number:x},image:{selected:{string:R,undefined:"undefined"},unselected:{string:R,undefined:"undefined"},__type__:{object:T,string:R}},label:{string:R,undefined:"undefined"},labelHighlightBold:{boolean:y},level:{number:x,undefined:"undefined"},margin:{top:{number:x},right:{number:x},bottom:{number:x},left:{number:x},__type__:{object:T,number:x}},mass:{number:x},physics:{boolean:y},scaling:{min:{number:x},max:{number:x},label:{enabled:{boolean:y},min:{number:x},max:{number:x},maxVisible:{number:x},drawThreshold:{number:x},__type__:{object:T,boolean:y}},customScalingFunction:{function:"function"},__type__:{object:T}},shadow:{enabled:{boolean:y},color:{string:R},size:{number:x},x:{number:x},y:{number:x},__type__:{object:T,boolean:y}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:y,array:E},borderRadius:{number:x},interpolation:{boolean:y},useImageSize:{boolean:y},useBorderWithImage:{boolean:y},__type__:{object:T}},size:{number:x},title:{string:R,dom:"dom",undefined:"undefined"},value:{number:x,undefined:"undefined"},widthConstraint:{minimum:{number:x},maximum:{number:x},__type__:{object:T,boolean:y,number:x}},x:{number:x},y:{number:x},__type__:{object:T}},physics:{enabled:{boolean:y},barnesHut:{gravitationalConstant:{number:x},centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},damping:{number:x},avoidOverlap:{number:x},__type__:{object:T}},forceAtlas2Based:{gravitationalConstant:{number:x},centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},damping:{number:x},avoidOverlap:{number:x},__type__:{object:T}},repulsion:{centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},nodeDistance:{number:x},damping:{number:x},__type__:{object:T}},hierarchicalRepulsion:{centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},nodeDistance:{number:x},damping:{number:x},__type__:{object:T}},maxVelocity:{number:x},minVelocity:{number:x},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:y},iterations:{number:x},updateInterval:{number:x},onlyDynamicEdges:{boolean:y},fit:{boolean:y},__type__:{object:T,boolean:y}},timestep:{number:x},adaptiveTimestep:{boolean:y},__type__:{object:T,boolean:y}},autoResize:{boolean:y},clickToUse:{boolean:y},locale:{string:R},locales:{__any__:{any:"any"},__type__:{object:T}},height:{string:R},width:{string:R},__type__:{object:T}};b.groups.__any__=b.nodes,b.manipulation.controlNodeStyle=b.nodes;L.allOptions=b,L.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(Y,L,D){var R=D(2);R.extend(L,D(159)),R.extend(L,D(177)),R.extend(L,D(181))},function(Y,L,D){D(49),D(60),Y.exports=D(136)},function(Y,L,D){var R=D(126),y=D(127),x=D(31),E=D(25);Y.exports=D(79)(Array,"Array",function(T,A){this._t=E(T),this._i=0,this._k=A},function(){var T=this._t,A=this._k,_=this._i++;return!T||_>=T.length?(this._t=void 0,y(1)):y(0,"keys"==A?_:"values"==A?T[_]:[_,T[_]])},"values"),x.Arguments=x.Array,R("keys"),R("values"),R("entries")},function(Y,L){Y.exports=function(){}},function(Y,L){Y.exports=function(D,R){return{value:R,done:!!D}}},function(Y,L){Y.exports=function(D){if("function"!=typeof D)throw TypeError(D+" is not a function!");return D}},function(Y,L,D){var R=D(54),y=D(39),x=D(59),E={};D(26)(E,D(13)("iterator"),function(){return this}),Y.exports=function(T,A,_){T.prototype=R(E,{next:y(1,_)}),x(T,A+" Iterator")}},function(Y,L,D){var R=D(20),y=D(27),x=D(33);Y.exports=D(21)?Object.defineProperties:function(T,A){y(T);for(var C,_=x(A),O=_.length,b=0;O>b;)R.f(T,C=_[b++],A[C]);return T}},function(Y,L,D){var R=D(25),y=D(132),x=D(133);Y.exports=function(E){return function(T,A,_){var v,O=R(T),b=y(O.length),C=x(_,b);if(E&&A!=A){for(;b>C;)if((v=O[C++])!=v)return!0}else for(;b>C;C++)if((E||C in O)&&O[C]===A)return E||C||0;return!E&&-1}}},function(Y,L,D){var R=D(55),y=Math.min;Y.exports=function(x){return x>0?y(R(x),9007199254740991):0}},function(Y,L,D){var R=D(55),y=Math.max,x=Math.min;Y.exports=function(E,T){return(E=R(E))<0?y(E+T,0):x(E,T)}},function(Y,L,D){var R=D(18).document;Y.exports=R&&R.documentElement},function(Y,L,D){var R=D(55),y=D(51);Y.exports=function(x){return function(E,T){var b,C,A=String(y(E)),_=R(T),O=A.length;return _<0||_>=O?x?"":void 0:(b=A.charCodeAt(_))<55296||b>56319||_+1===O||(C=A.charCodeAt(_+1))<56320||C>57343?x?A.charAt(_):b:x?A.slice(_,_+2):C-56320+(b-55296<<10)+65536}}},function(Y,L,D){var R=D(27),y=D(137);Y.exports=D(7).getIterator=function(x){var E=y(x);if("function"!=typeof E)throw TypeError(x+" is not iterable!");return R(E.call(x))}},function(Y,L,D){var R=D(86),y=D(13)("iterator"),x=D(31);Y.exports=D(7).getIteratorMethod=function(E){if(null!=E)return E[y]||E["@@iterator"]||x[R(E)]}},function(Y,L,D){D(139);var R=D(7).Object;Y.exports=function(x,E){return R.create(x,E)}},function(Y,L,D){var R=D(17);R(R.S,"Object",{create:D(54)})},function(Y,L,D){D(141),Y.exports=D(7).Object.keys},function(Y,L,D){var R=D(41),y=D(33);D(87)("keys",function(){return function(E){return y(R(E))}})},function(Y,L,D){Y.exports={default:D(143),__esModule:!0}},function(Y,L,D){D(60),D(49),Y.exports=D(61).f("iterator")},function(Y,L,D){Y.exports={default:D(145),__esModule:!0}},function(Y,L,D){D(146),D(151),D(152),D(153),Y.exports=D(7).Symbol},function(Y,L,D){var R=D(18),y=D(22),x=D(21),E=D(17),T=D(83),A=D(147).KEY,_=D(28),O=D(57),b=D(59),C=D(40),v=D(13),m=D(61),h=D(62),S=D(148),a=D(149),f=D(27),u=D(25),l=D(53),p=D(39),M=D(54),d=D(150),c=D(89),w=D(20),I=D(33),N=c.f,V=w.f,H=d.f,z=R.Symbol,U=R.JSON,$=U&&U.stringify,J="prototype",te=v("_hidden"),ie=v("toPrimitive"),ue={}.propertyIsEnumerable,ye=O("symbol-registry"),ve=O("symbols"),be=O("op-symbols"),de=Object[J],re="function"==typeof z,ae=R.QObject,me=!ae||!ae[J]||!ae[J].findChild,Se=x&&_(function(){return 7!=M(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a})?function(ze,Oe,Pe){var Ye=N(de,Oe);Ye&&delete de[Oe],V(ze,Oe,Pe),Ye&&ze!==de&&V(de,Oe,Ye)}:V,_e=function(ze){var Oe=ve[ze]=M(z[J]);return Oe._k=ze,Oe},De=re&&"symbol"==typeof z.iterator?function(ze){return"symbol"==typeof ze}:function(ze){return ze instanceof z},Re=function(Oe,Pe,Ye){return Oe===de&&Re(be,Pe,Ye),f(Oe),Pe=l(Pe,!0),f(Ye),y(ve,Pe)?(Ye.enumerable?(y(Oe,te)&&Oe[te][Pe]&&(Oe[te][Pe]=!1),Ye=M(Ye,{enumerable:p(0,!1)})):(y(Oe,te)||V(Oe,te,p(1,{})),Oe[te][Pe]=!0),Se(Oe,Pe,Ye)):V(Oe,Pe,Ye)},Fe=function(Oe,Pe){f(Oe);for(var Be,Ye=S(Pe=u(Pe)),pt=0,kt=Ye.length;kt>pt;)Re(Oe,Be=Ye[pt++],Pe[Be]);return Oe},Ut=function(Oe){var Pe=ue.call(this,Oe=l(Oe,!0));return!(this===de&&y(ve,Oe)&&!y(be,Oe))&&(!(Pe||!y(this,Oe)||!y(ve,Oe)||y(this,te)&&this[te][Oe])||Pe)},Qt=function(Oe,Pe){if(Oe=u(Oe),Pe=l(Pe,!0),Oe!==de||!y(ve,Pe)||y(be,Pe)){var Ye=N(Oe,Pe);return Ye&&y(ve,Pe)&&!(y(Oe,te)&&Oe[te][Pe])&&(Ye.enumerable=!0),Ye}},qe=function(Oe){for(var kt,Pe=H(u(Oe)),Ye=[],pt=0;Pe.length>pt;)!y(ve,kt=Pe[pt++])&&kt!=te&&kt!=A&&Ye.push(kt);return Ye},ft=function(Oe){for(var Be,Pe=Oe===de,Ye=H(Pe?be:u(Oe)),pt=[],kt=0;Ye.length>kt;)y(ve,Be=Ye[kt++])&&(!Pe||y(de,Be))&&pt.push(ve[Be]);return pt};re||(T((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var Oe=C(arguments.length>0?arguments[0]:void 0),Pe=function(Ye){this===de&&Pe.call(be,Ye),y(this,te)&&y(this[te],Oe)&&(this[te][Oe]=!1),Se(this,Oe,p(1,Ye))};return x&&me&&Se(de,Oe,{configurable:!0,set:Pe}),_e(Oe)})[J],"toString",function(){return this._k}),c.f=Qt,w.f=Re,D(88).f=d.f=qe,D(42).f=Ut,D(63).f=ft,x&&!D(52)&&T(de,"propertyIsEnumerable",Ut,!0),m.f=function(ze){return _e(v(ze))}),E(E.G+E.W+E.F*!re,{Symbol:z});for(var Vt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Gt=0;Vt.length>Gt;)v(Vt[Gt++]);for(var tn=I(v.store),Lt=0;tn.length>Lt;)h(tn[Lt++]);E(E.S+E.F*!re,"Symbol",{for:function(ze){return y(ye,ze+="")?ye[ze]:ye[ze]=z(ze)},keyFor:function(Oe){if(!De(Oe))throw TypeError(Oe+" is not a symbol!");for(var Pe in ye)if(ye[Pe]===Oe)return Pe},useSetter:function(){me=!0},useSimple:function(){me=!1}}),E(E.S+E.F*!re,"Object",{create:function(Oe,Pe){return void 0===Pe?M(Oe):Fe(M(Oe),Pe)},defineProperty:Re,defineProperties:Fe,getOwnPropertyDescriptor:Qt,getOwnPropertyNames:qe,getOwnPropertySymbols:ft}),U&&E(E.S+E.F*(!re||_(function(){var ze=z();return"[null]"!=$([ze])||"{}"!=$({a:ze})||"{}"!=$(Object(ze))})),"JSON",{stringify:function(Oe){if(void 0!==Oe&&!De(Oe)){for(var pt,kt,Pe=[Oe],Ye=1;arguments.length>Ye;)Pe.push(arguments[Ye++]);return"function"==typeof(pt=Pe[1])&&(kt=pt),(kt||!a(pt))&&(pt=function(Be,an){if(kt&&(an=kt.call(this,Be,an)),!De(an))return an}),Pe[1]=pt,$.apply(U,Pe)}}}),z[J][ie]||D(26)(z[J],ie,z[J].valueOf),b(z,"Symbol"),b(Math,"Math",!0),b(R.JSON,"JSON",!0)},function(Y,L,D){var R=D(40)("meta"),y=D(32),x=D(22),E=D(20).f,T=0,A=Object.isExtensible||function(){return!0},_=!D(28)(function(){return A(Object.preventExtensions({}))}),O=function(h){E(h,R,{value:{i:"O"+ ++T,w:{}}})},m=Y.exports={KEY:R,NEED:!1,fastKey:function(h,S){if(!y(h))return"symbol"==typeof h?h:("string"==typeof h?"S":"P")+h;if(!x(h,R)){if(!A(h))return"F";if(!S)return"E";O(h)}return h[R].i},getWeak:function(h,S){if(!x(h,R)){if(!A(h))return!0;if(!S)return!1;O(h)}return h[R].w},onFreeze:function(h){return _&&m.NEED&&A(h)&&!x(h,R)&&O(h),h}}},function(Y,L,D){var R=D(33),y=D(63),x=D(42);Y.exports=function(E){var T=R(E),A=y.f;if(A)for(var C,_=A(E),O=x.f,b=0;_.length>b;)O.call(E,C=_[b++])&&T.push(C);return T}},function(Y,L,D){var R=D(50);Y.exports=Array.isArray||function(x){return"Array"==R(x)}},function(Y,L,D){var R=D(25),y=D(88).f,x={}.toString,E="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Y.exports.f=function(_){return E&&"[object Window]"==x.call(_)?function(A){try{return y(A)}catch(_){return E.slice()}}(_):y(R(_))}},function(Y,L){},function(Y,L,D){D(62)("asyncIterator")},function(Y,L,D){D(62)("observable")},function(Y,L,D){(function(R){R.exports=function(){var x,l;function E(){return x.apply(null,arguments)}function A(P){return P instanceof Array||"[object Array]"===Object.prototype.toString.call(P)}function _(P){return null!=P&&"[object Object]"===Object.prototype.toString.call(P)}function b(P){return void 0===P}function C(P){return"number"==typeof P||"[object Number]"===Object.prototype.toString.call(P)}function v(P){return P instanceof Date||"[object Date]"===Object.prototype.toString.call(P)}function m(P,B){var X,G=[];for(X=0;X<P.length;++X)G.push(B(P[X],X));return G}function h(P,B){return Object.prototype.hasOwnProperty.call(P,B)}function S(P,B){for(var G in B)h(B,G)&&(P[G]=B[G]);return h(B,"toString")&&(P.toString=B.toString),h(B,"valueOf")&&(P.valueOf=B.valueOf),P}function a(P,B,G,X){return rp(P,B,G,X,!0).utc()}function u(P){return null==P._pf&&(P._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),P._pf}function p(P){if(null==P._isValid){var B=u(P),G=l.call(B.parsedDateParts,function(ee){return null!=ee}),X=!isNaN(P._d.getTime())&&B.overflow<0&&!B.empty&&!B.invalidMonth&&!B.invalidWeekday&&!B.weekdayMismatch&&!B.nullInput&&!B.invalidFormat&&!B.userInvalidated&&(!B.meridiem||B.meridiem&&G);if(P._strict&&(X=X&&0===B.charsLeftOver&&0===B.unusedTokens.length&&void 0===B.bigHour),null!=Object.isFrozen&&Object.isFrozen(P))return X;P._isValid=X}return P._isValid}function M(P){var B=a(NaN);return null!=P?S(u(B),P):u(B).userInvalidated=!0,B}l=Array.prototype.some?Array.prototype.some:function(P){for(var B=Object(this),G=B.length>>>0,X=0;X<G;X++)if(X in B&&P.call(this,B[X],X,B))return!0;return!1};var d=E.momentProperties=[];function c(P,B){var G,X,ee;if(b(B._isAMomentObject)||(P._isAMomentObject=B._isAMomentObject),b(B._i)||(P._i=B._i),b(B._f)||(P._f=B._f),b(B._l)||(P._l=B._l),b(B._strict)||(P._strict=B._strict),b(B._tzm)||(P._tzm=B._tzm),b(B._isUTC)||(P._isUTC=B._isUTC),b(B._offset)||(P._offset=B._offset),b(B._pf)||(P._pf=u(B)),b(B._locale)||(P._locale=B._locale),d.length>0)for(G=0;G<d.length;G++)b(ee=B[X=d[G]])||(P[X]=ee);return P}var w=!1;function I(P){c(this,P),this._d=new Date(null!=P._d?P._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,E.updateOffset(this),w=!1)}function N(P){return P instanceof I||null!=P&&null!=P._isAMomentObject}function V(P){return P<0?Math.ceil(P)||0:Math.floor(P)}function H(P){var B=+P,G=0;return 0!==B&&isFinite(B)&&(G=V(B)),G}function z(P,B,G){var we,X=Math.min(P.length,B.length),ee=Math.abs(P.length-B.length),fe=0;for(we=0;we<X;we++)(G&&P[we]!==B[we]||!G&&H(P[we])!==H(B[we]))&&fe++;return fe+ee}function U(P){!1===E.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+P)}function $(P,B){var G=!0;return S(function(){if(null!=E.deprecationHandler&&E.deprecationHandler(null,P),G){for(var ee,X=[],fe=0;fe<arguments.length;fe++){if(ee="","object"==typeof arguments[fe]){for(var we in ee+="\n["+fe+"] ",arguments[0])ee+=we+": "+arguments[0][we]+", ";ee=ee.slice(0,-2)}else ee=arguments[fe];X.push(ee)}U(P+"\nArguments: "+Array.prototype.slice.call(X).join("")+"\n"+(new Error).stack),G=!1}return B.apply(this,arguments)},B)}var be,J={};function te(P,B){null!=E.deprecationHandler&&E.deprecationHandler(P,B),J[P]||(U(B),J[P]=!0)}function ie(P){return P instanceof Function||"[object Function]"===Object.prototype.toString.call(P)}function ye(P,B){var X,G=S({},P);for(X in B)h(B,X)&&(_(P[X])&&_(B[X])?(G[X]={},S(G[X],P[X]),S(G[X],B[X])):null!=B[X]?G[X]=B[X]:delete G[X]);for(X in P)h(P,X)&&!h(B,X)&&_(P[X])&&(G[X]=S({},G[X]));return G}function ve(P){null!=P&&this.set(P)}E.suppressDeprecationWarnings=!1,E.deprecationHandler=null,be=Object.keys?Object.keys:function(P){var B,G=[];for(B in P)h(P,B)&&G.push(B);return G};var qe={};function ft(P,B){var G=P.toLowerCase();qe[G]=qe[G+"s"]=qe[B]=P}function Vt(P){return"string"==typeof P?qe[P]||qe[P.toLowerCase()]:void 0}function Gt(P){var G,X,B={};for(X in P)h(P,X)&&(G=Vt(X))&&(B[G]=P[X]);return B}var tn={};function Lt(P,B){tn[P]=B}function Oe(P,B,G){var X=""+Math.abs(P);return(P>=0?G?"+":"":"-")+Math.pow(10,Math.max(0,B-X.length)).toString().substr(1)+X}var Pe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ye=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pt={},kt={};function Be(P,B,G,X){var ee=X;"string"==typeof X&&(ee=function(){return this[X]()}),P&&(kt[P]=ee),B&&(kt[B[0]]=function(){return Oe(ee.apply(this,arguments),B[1],B[2])}),G&&(kt[G]=function(){return this.localeData().ordinal(ee.apply(this,arguments),P)})}function an(P){return P.match(/\[[\s\S]/)?P.replace(/^\[|\]$/g,""):P.replace(/\\/g,"")}function ro(P,B){return P.isValid()?(B=so(B,P.localeData()),pt[B]=pt[B]||function(P){var G,X,B=P.match(Pe);for(G=0,X=B.length;G<X;G++)B[G]=kt[B[G]]?kt[B[G]]:an(B[G]);return function(ee){var we,fe="";for(we=0;we<X;we++)fe+=ie(B[we])?B[we].call(ee,P):B[we];return fe}}(B),pt[B](P)):P.localeData().invalidDate()}function so(P,B){var G=5;function X(ee){return B.longDateFormat(ee)||ee}for(Ye.lastIndex=0;G>=0&&Ye.test(P);)P=P.replace(Ye,X),Ye.lastIndex=0,G-=1;return P}var Vo=/\d/,Ln=/\d\d/,Bo=/\d{3}/,Ho=/\d{4}/,oo=/[+-]?\d{6}/,jt=/\d\d?/,Ia=/\d\d\d\d?/,Aa=/\d\d\d\d\d\d?/,vt=/\d{1,3}/,Os=/\d{1,4}/,st=/[+-]?\d{1,6}/,ao=/\d+/,Is=/[+-]?\d+/,Pt=/Z|[+-]\d\d:?\d\d/gi,Ue=/Z|[+-]\d\d(?::?\d\d)?/gi,lo=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ii={};function Ge(P,B,G){Ii[P]=ie(B)?B:function(X,ee){return X&&G?G:B}}function zo(P,B){return h(Ii,P)?Ii[P](B._strict,B._locale):new RegExp(function(P){return $t(P.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(B,G,X,ee,fe){return G||X||ee||fe}))}(P))}function $t(P){return P.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Uo={};function Yt(P,B){var G,X=B;for("string"==typeof P&&(P=[P]),C(B)&&(X=function(ee,fe){fe[B]=H(ee)}),G=0;G<P.length;G++)Uo[P[G]]=X}function As(P,B){Yt(P,function(G,X,ee,fe){ee._w=ee._w||{},B(G,ee._w,ee,fe)})}function es(P,B,G){null!=B&&h(Uo,P)&&Uo[P](B,G._a,G,P)}function $i(P){return Mr(P)?366:365}function Mr(P){return P%4==0&&P%100!=0||P%400==0}Be("Y",0,0,function(){var P=this.year();return P<=9999?""+P:"+"+P}),Be(0,["YY",2],0,function(){return this.year()%100}),Be(0,["YYYY",4],0,"year"),Be(0,["YYYYY",5],0,"year"),Be(0,["YYYYYY",6,!0],0,"year"),ft("year","y"),Lt("year",1),Ge("Y",Is),Ge("YY",jt,Ln),Ge("YYYY",Os,Ho),Ge("YYYYY",st,oo),Ge("YYYYYY",st,oo),Yt(["YYYYY","YYYYYY"],0),Yt("YYYY",function(P,B){B[0]=2===P.length?E.parseTwoDigitYear(P):H(P)}),Yt("YY",function(P,B){B[0]=E.parseTwoDigitYear(P)}),Yt("Y",function(P,B){B[0]=parseInt(P,10)}),E.parseTwoDigitYear=function(P){return H(P)+(H(P)>68?1900:2e3)};var Ft,ks=Sn("FullYear",!0);function Sn(P,B){return function(G){return null!=G?(uo(this,P,G),E.updateOffset(this,B),this):Nt(this,P)}}function Nt(P,B){return P.isValid()?P._d["get"+(P._isUTC?"UTC":"")+B]():NaN}function uo(P,B,G){P.isValid()&&!isNaN(G)&&("FullYear"===B&&Mr(P.year())?P._d["set"+(P._isUTC?"UTC":"")+B](G,P.month(),hn(G,P.month())):P._d["set"+(P._isUTC?"UTC":"")+B](G))}function hn(P,B){if(isNaN(P)||isNaN(B))return NaN;var G=function(P,B){return(P%B+B)%B}(B,12);return P+=(B-G)/12,1===G?Mr(P)?29:28:31-G%7%2}Ft=Array.prototype.indexOf?Array.prototype.indexOf:function(P){var B;for(B=0;B<this.length;++B)if(this[B]===P)return B;return-1},Be("M",["MM",2],"Mo",function(){return this.month()+1}),Be("MMM",0,0,function(P){return this.localeData().monthsShort(this,P)}),Be("MMMM",0,0,function(P){return this.localeData().months(this,P)}),ft("month","M"),Lt("month",8),Ge("M",jt),Ge("MM",jt,Ln),Ge("MMM",function(P,B){return B.monthsShortRegex(P)}),Ge("MMMM",function(P,B){return B.monthsRegex(P)}),Yt(["M","MM"],function(P,B){B[1]=H(P)-1}),Yt(["MMM","MMMM"],function(P,B,G,X){var ee=G._locale.monthsParse(P,X,G._strict);null!=ee?B[1]=ee:u(G).invalidMonth=P});var vn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ki="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var jo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Qn(P,B,G){var X,ee,fe,we=P.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],X=0;X<12;++X)fe=a([2e3,X]),this._shortMonthsParse[X]=this.monthsShort(fe,"").toLocaleLowerCase(),this._longMonthsParse[X]=this.months(fe,"").toLocaleLowerCase();return G?"MMM"===B?-1!==(ee=Ft.call(this._shortMonthsParse,we))?ee:null:-1!==(ee=Ft.call(this._longMonthsParse,we))?ee:null:"MMM"===B?-1!==(ee=Ft.call(this._shortMonthsParse,we))||-1!==(ee=Ft.call(this._longMonthsParse,we))?ee:null:-1!==(ee=Ft.call(this._longMonthsParse,we))||-1!==(ee=Ft.call(this._shortMonthsParse,we))?ee:null}function Ns(P,B){var G;if(!P.isValid())return P;if("string"==typeof B)if(/^\d+$/.test(B))B=H(B);else if(!C(B=P.localeData().monthsParse(B)))return P;return G=Math.min(P.date(),hn(P.year(),B)),P._d["set"+(P._isUTC?"UTC":"")+"Month"](B,G),P}function ho(P){return null!=P?(Ns(this,P),E.updateOffset(this,!0),this):Nt(this,"Month")}var Fs=lo;var Jn=lo;function La(){function P(we,ht){return ht.length-we.length}var ee,fe,B=[],G=[],X=[];for(ee=0;ee<12;ee++)fe=a([2e3,ee]),B.push(this.monthsShort(fe,"")),G.push(this.months(fe,"")),X.push(this.months(fe,"")),X.push(this.monthsShort(fe,""));for(B.sort(P),G.sort(P),X.sort(P),ee=0;ee<12;ee++)B[ee]=$t(B[ee]),G[ee]=$t(G[ee]);for(ee=0;ee<24;ee++)X[ee]=$t(X[ee]);this._monthsRegex=new RegExp("^("+X.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+G.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+B.join("|")+")","i")}function Ri(P,B,G,X,ee,fe,we){var ht=new Date(P,B,G,X,ee,fe,we);return P<100&&P>=0&&isFinite(ht.getFullYear())&&ht.setFullYear(P),ht}function In(P){var B=new Date(Date.UTC.apply(null,arguments));return P<100&&P>=0&&isFinite(B.getUTCFullYear())&&B.setUTCFullYear(P),B}function Wo(P,B,G){var X=7+B-G;return-(7+In(P,0,X).getUTCDay()-B)%7+X-1}function au(P,B,G,X,ee){var wt,Rt,ht=1+7*(B-1)+(7+G-X)%7+Wo(P,X,ee);return ht<=0?Rt=$i(wt=P-1)+ht:ht>$i(P)?(wt=P+1,Rt=ht-$i(P)):(wt=P,Rt=ht),{year:wt,dayOfYear:Rt}}function Z(P,B,G){var fe,we,X=Wo(P.year(),B,G),ee=Math.floor((P.dayOfYear()-X-1)/7)+1;return ee<1?fe=ee+q(we=P.year()-1,B,G):ee>q(P.year(),B,G)?(fe=ee-q(P.year(),B,G),we=P.year()+1):(we=P.year(),fe=ee),{week:fe,year:we}}function q(P,B,G){var X=Wo(P,B,G),ee=Wo(P+1,B,G);return($i(P)-X+ee)/7}Be("w",["ww",2],"wo","week"),Be("W",["WW",2],"Wo","isoWeek"),ft("week","w"),ft("isoWeek","W"),Lt("week",5),Lt("isoWeek",5),Ge("w",jt),Ge("ww",jt,Ln),Ge("W",jt),Ge("WW",jt,Ln),As(["w","ww","W","WW"],function(P,B,G,X){B[X.substr(0,1)]=H(P)});Be("d",0,"do","day"),Be("dd",0,0,function(P){return this.localeData().weekdaysMin(this,P)}),Be("ddd",0,0,function(P){return this.localeData().weekdaysShort(this,P)}),Be("dddd",0,0,function(P){return this.localeData().weekdays(this,P)}),Be("e",0,0,"weekday"),Be("E",0,0,"isoWeekday"),ft("day","d"),ft("weekday","e"),ft("isoWeekday","E"),Lt("day",11),Lt("weekday",11),Lt("isoWeekday",11),Ge("d",jt),Ge("e",jt),Ge("E",jt),Ge("dd",function(P,B){return B.weekdaysMinRegex(P)}),Ge("ddd",function(P,B){return B.weekdaysShortRegex(P)}),Ge("dddd",function(P,B){return B.weekdaysRegex(P)}),As(["dd","ddd","dddd"],function(P,B,G,X){var ee=G._locale.weekdaysParse(P,X,G._strict);null!=ee?B.d=ee:u(G).invalidWeekday=P}),As(["d","e","E"],function(P,B,G,X){B[X]=H(P)});var ii="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Va="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Yf="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Go(P,B,G){var X,ee,fe,we=P.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],X=0;X<7;++X)fe=a([2e3,1]).day(X),this._minWeekdaysParse[X]=this.weekdaysMin(fe,"").toLocaleLowerCase(),this._shortWeekdaysParse[X]=this.weekdaysShort(fe,"").toLocaleLowerCase(),this._weekdaysParse[X]=this.weekdays(fe,"").toLocaleLowerCase();return G?"dddd"===B?-1!==(ee=Ft.call(this._weekdaysParse,we))?ee:null:"ddd"===B?-1!==(ee=Ft.call(this._shortWeekdaysParse,we))?ee:null:-1!==(ee=Ft.call(this._minWeekdaysParse,we))?ee:null:"dddd"===B?-1!==(ee=Ft.call(this._weekdaysParse,we))||-1!==(ee=Ft.call(this._shortWeekdaysParse,we))||-1!==(ee=Ft.call(this._minWeekdaysParse,we))?ee:null:"ddd"===B?-1!==(ee=Ft.call(this._shortWeekdaysParse,we))||-1!==(ee=Ft.call(this._weekdaysParse,we))||-1!==(ee=Ft.call(this._minWeekdaysParse,we))?ee:null:-1!==(ee=Ft.call(this._minWeekdaysParse,we))||-1!==(ee=Ft.call(this._weekdaysParse,we))||-1!==(ee=Ft.call(this._shortWeekdaysParse,we))?ee:null}var sh=lo;var Yi=lo;var ah=lo;function qn(){function P(li,Rr){return Rr.length-li.length}var fe,we,ht,wt,Rt,B=[],G=[],X=[],ee=[];for(fe=0;fe<7;fe++)we=a([2e3,1]).day(fe),ht=this.weekdaysMin(we,""),wt=this.weekdaysShort(we,""),Rt=this.weekdays(we,""),B.push(ht),G.push(wt),X.push(Rt),ee.push(ht),ee.push(wt),ee.push(Rt);for(B.sort(P),G.sort(P),X.sort(P),ee.sort(P),fe=0;fe<7;fe++)G[fe]=$t(G[fe]),X[fe]=$t(X[fe]),ee[fe]=$t(ee[fe]);this._weekdaysRegex=new RegExp("^("+ee.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+G.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+B.join("|")+")","i")}function Gn(){return this.hours()%12||12}function rs(P,B){Be(P,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),B)})}function bi(P,B){return B._meridiemParse}Be("H",["HH",2],0,"hour"),Be("h",["hh",2],0,Gn),Be("k",["kk",2],0,function(){return this.hours()||24}),Be("hmm",0,0,function(){return""+Gn.apply(this)+Oe(this.minutes(),2)}),Be("hmmss",0,0,function(){return""+Gn.apply(this)+Oe(this.minutes(),2)+Oe(this.seconds(),2)}),Be("Hmm",0,0,function(){return""+this.hours()+Oe(this.minutes(),2)}),Be("Hmmss",0,0,function(){return""+this.hours()+Oe(this.minutes(),2)+Oe(this.seconds(),2)}),rs("a",!0),rs("A",!1),ft("hour","h"),Lt("hour",13),Ge("a",bi),Ge("A",bi),Ge("H",jt),Ge("h",jt),Ge("k",jt),Ge("HH",jt,Ln),Ge("hh",jt,Ln),Ge("kk",jt,Ln),Ge("hmm",Ia),Ge("hmmss",Aa),Ge("Hmm",Ia),Ge("Hmmss",Aa),Yt(["H","HH"],3),Yt(["k","kk"],function(P,B,G){var X=H(P);B[3]=24===X?0:X}),Yt(["a","A"],function(P,B,G){G._isPm=G._locale.isPM(P),G._meridiem=P}),Yt(["h","hh"],function(P,B,G){B[3]=H(P),u(G).bigHour=!0}),Yt("hmm",function(P,B,G){var X=P.length-2;B[3]=H(P.substr(0,X)),B[4]=H(P.substr(X)),u(G).bigHour=!0}),Yt("hmmss",function(P,B,G){var X=P.length-4,ee=P.length-2;B[3]=H(P.substr(0,X)),B[4]=H(P.substr(X,2)),B[5]=H(P.substr(ee)),u(G).bigHour=!0}),Yt("Hmm",function(P,B,G){var X=P.length-2;B[3]=H(P.substr(0,X)),B[4]=H(P.substr(X))}),Yt("Hmmss",function(P,B,G){var X=P.length-4,ee=P.length-2;B[3]=H(P.substr(0,X)),B[4]=H(P.substr(X,2)),B[5]=H(P.substr(ee))});var yn,Ct=Sn("Hours",!0),qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ki,monthsShort:jo,week:{dow:0,doy:6},weekdays:ii,weekdaysMin:Yf,weekdaysShort:Va,meridiemParse:/[ap]\.?m?\.?/i},At={},Ki={};function ss(P){return P&&P.toLowerCase().replace("_","-")}function fo(P){var B=null;if(!At[P]&&void 0!==R&&R&&R.exports)try{B=yn._abbr,function(){var ee=new Error('Cannot find module "./locale"');throw ee.code="MODULE_NOT_FOUND",ee}(),Xi(B)}catch(X){}return At[P]}function Xi(P,B){var G;return P&&(G=b(B)?Ci(P):lt(P,B))&&(yn=G),yn._abbr}function lt(P,B){if(null!==B){var G=qt;if(B.abbr=P,null!=At[P])te("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),G=At[P]._config;else if(null!=B.parentLocale){if(null==At[B.parentLocale])return Ki[B.parentLocale]||(Ki[B.parentLocale]=[]),Ki[B.parentLocale].push({name:P,config:B}),null;G=At[B.parentLocale]._config}return At[P]=new ve(ye(G,B)),Ki[P]&&Ki[P].forEach(function(X){lt(X.name,X.config)}),Xi(P),At[P]}return delete At[P],null}function Ci(P){var B;if(P&&P._locale&&P._locale._abbr&&(P=P._locale._abbr),!P)return yn;if(!A(P)){if(B=fo(P))return B;P=[P]}return function(P){for(var G,X,ee,fe,B=0;B<P.length;){for(G=(fe=ss(P[B]).split("-")).length,X=(X=ss(P[B+1]))?X.split("-"):null;G>0;){if(ee=fo(fe.slice(0,G).join("-")))return ee;if(X&&X.length>=G&&z(fe,X,!0)>=G-1)break;G--}B++}return null}(P)}function os(P){var B,G=P._a;return G&&-2===u(P).overflow&&(B=G[1]<0||G[1]>11?1:G[2]<1||G[2]>hn(G[0],G[1])?2:G[3]<0||G[3]>24||24===G[3]&&(0!==G[4]||0!==G[5]||0!==G[6])?3:G[4]<0||G[4]>59?4:G[5]<0||G[5]>59?5:G[6]<0||G[6]>999?6:-1,u(P)._overflowDayOfYear&&(B<0||B>2)&&(B=2),u(P)._overflowWeeks&&-1===B&&(B=7),u(P)._overflowWeekday&&-1===B&&(B=8),u(P).overflow=B),P}function kn(P,B,G){return null!=P?P:null!=B?B:G}function as(P){var B,G,ee,fe,X=[];if(!P._d){for(ee=function(P){var B=new Date(E.now());return P._useUTC?[B.getUTCFullYear(),B.getUTCMonth(),B.getUTCDate()]:[B.getFullYear(),B.getMonth(),B.getDate()]}(P),P._w&&null==P._a[2]&&null==P._a[1]&&function(P){var B,G,X,ee,fe,we,ht,wt;if(null!=(B=P._w).GG||null!=B.W||null!=B.E)fe=1,we=4,G=kn(B.GG,P._a[0],Z(cn(),1,4).year),X=kn(B.W,1),((ee=kn(B.E,1))<1||ee>7)&&(wt=!0);else{fe=P._locale._week.dow,we=P._locale._week.doy;var Rt=Z(cn(),fe,we);G=kn(B.gg,P._a[0],Rt.year),X=kn(B.w,Rt.week),null!=B.d?((ee=B.d)<0||ee>6)&&(wt=!0):null!=B.e?(ee=B.e+fe,(B.e<0||B.e>6)&&(wt=!0)):ee=fe}X<1||X>q(G,fe,we)?u(P)._overflowWeeks=!0:null!=wt?u(P)._overflowWeekday=!0:(ht=au(G,X,ee,fe,we),P._a[0]=ht.year,P._dayOfYear=ht.dayOfYear)}(P),null!=P._dayOfYear&&(fe=kn(P._a[0],ee[0]),(P._dayOfYear>$i(fe)||0===P._dayOfYear)&&(u(P)._overflowDayOfYear=!0),G=In(fe,0,P._dayOfYear),P._a[1]=G.getUTCMonth(),P._a[2]=G.getUTCDate()),B=0;B<3&&null==P._a[B];++B)P._a[B]=X[B]=ee[B];for(;B<7;B++)P._a[B]=X[B]=null==P._a[B]?2===B?1:0:P._a[B];24===P._a[3]&&0===P._a[4]&&0===P._a[5]&&0===P._a[6]&&(P._nextDay=!0,P._a[3]=0),P._d=(P._useUTC?In:Ri).apply(null,X),null!=P._tzm&&P._d.setUTCMinutes(P._d.getUTCMinutes()-P._tzm),P._nextDay&&(P._a[3]=24),P._w&&void 0!==P._w.d&&P._w.d!==P._d.getDay()&&(u(P).weekdayMismatch=!0)}}var Kt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qf=/Z|[+-]\d\d(?::?\d\d)?/,Ls=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Yo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ko=/^\/?Date\((\-?\d+)/i;function Xo(P){var B,G,fe,we,ht,wt,X=P._i,ee=Kt.exec(X)||Jf.exec(X);if(ee){for(u(P).iso=!0,B=0,G=Ls.length;B<G;B++)if(Ls[B][1].exec(ee[1])){we=Ls[B][0],fe=!1!==Ls[B][2];break}if(null==we)return void(P._isValid=!1);if(ee[3]){for(B=0,G=Yo.length;B<G;B++)if(Yo[B][1].exec(ee[3])){ht=(ee[2]||" ")+Yo[B][0];break}if(null==ht)return void(P._isValid=!1)}if(!fe&&null!=ht)return void(P._isValid=!1);if(ee[4]){if(!qf.exec(ee[4]))return void(P._isValid=!1);wt="Z"}P._f=we+(ht||"")+(wt||""),hu(P)}else P._isValid=!1}var Vs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ep(P){var B=parseInt(P,10);return B<=49?2e3+B:B<=999?1900+B:B}var du={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Zo(P){var B=Vs.exec(function(P){return P.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(P._i));if(B){var G=function(P,B,G,X,ee,fe){var we=[ep(P),jo.indexOf(B),parseInt(G,10),parseInt(X,10),parseInt(ee,10)];return fe&&we.push(parseInt(fe,10)),we}(B[4],B[3],B[2],B[5],B[6],B[7]);if(!function(P,B,G){return!P||Va.indexOf(P)===new Date(B[0],B[1],B[2]).getDay()||(u(G).weekdayMismatch=!0,G._isValid=!1,!1)}(B[1],G,P))return;P._a=G,P._tzm=function(P,B,G){if(P)return du[P];if(B)return 0;var X=parseInt(G,10),ee=X%100;return(X-ee)/100*60+ee}(B[8],B[9],B[10]),P._d=In.apply(null,P._a),P._d.setUTCMinutes(P._d.getUTCMinutes()-P._tzm),u(P).rfc2822=!0}else P._isValid=!1}function hu(P){if(P._f!==E.ISO_8601)if(P._f!==E.RFC_2822){P._a=[],u(P).empty=!0;var G,X,ee,fe,we,B=""+P._i,ht=B.length,wt=0;for(ee=so(P._f,P._locale).match(Pe)||[],G=0;G<ee.length;G++)(X=(B.match(zo(fe=ee[G],P))||[])[0])&&((we=B.substr(0,B.indexOf(X))).length>0&&u(P).unusedInput.push(we),B=B.slice(B.indexOf(X)+X.length),wt+=X.length),kt[fe]?(X?u(P).empty=!1:u(P).unusedTokens.push(fe),es(fe,X,P)):P._strict&&!X&&u(P).unusedTokens.push(fe);u(P).charsLeftOver=ht-wt,B.length>0&&u(P).unusedInput.push(B),P._a[3]<=12&&!0===u(P).bigHour&&P._a[3]>0&&(u(P).bigHour=void 0),u(P).parsedDateParts=P._a.slice(0),u(P).meridiem=P._meridiem,P._a[3]=function(P,B,G){var X;return null==G?B:null!=P.meridiemHour?P.meridiemHour(B,G):(null!=P.isPM&&((X=P.isPM(G))&&B<12&&(B+=12),!X&&12===B&&(B=0)),B)}(P._locale,P._a[3],P._meridiem),as(P),os(P)}else Zo(P);else Xo(P)}function ip(P){var B=P._i,G=P._f;return P._locale=P._locale||Ci(P._l),null===B||void 0===G&&""===B?M({nullInput:!0}):("string"==typeof B&&(P._i=B=P._locale.preparse(B)),N(B)?new I(os(B)):(v(B)?P._d=B:A(G)?function(P){var B,G,X,ee,fe;if(0===P._f.length)return u(P).invalidFormat=!0,void(P._d=new Date(NaN));for(ee=0;ee<P._f.length;ee++)fe=0,B=c({},P),null!=P._useUTC&&(B._useUTC=P._useUTC),B._f=P._f[ee],hu(B),p(B)&&(fe+=u(B).charsLeftOver,fe+=10*u(B).unusedTokens.length,u(B).score=fe,(null==X||fe<X)&&(X=fe,G=B));S(P,G||B)}(P):G?hu(P):function(P){var B=P._i;b(B)?P._d=new Date(E.now()):v(B)?P._d=new Date(B.valueOf()):"string"==typeof B?function(P){var B=Ko.exec(P._i);null===B?(Xo(P),!1===P._isValid&&(delete P._isValid,Zo(P),!1===P._isValid&&(delete P._isValid,E.createFromInputFallback(P)))):P._d=new Date(+B[1])}(P):A(B)?(P._a=m(B.slice(0),function(G){return parseInt(G,10)}),as(P)):_(B)?function(P){if(!P._d){var B=Gt(P._i);P._a=m([B.year,B.month,B.day||B.date,B.hour,B.minute,B.second,B.millisecond],function(G){return G&&parseInt(G,10)}),as(P)}}(P):C(B)?P._d=new Date(B):E.createFromInputFallback(P)}(P),p(P)||(P._d=null),P))}function rp(P,B,G,X,ee){var fe={};return(!0===G||!1===G)&&(X=G,G=void 0),(_(P)&&function(P){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(P).length;var B;for(B in P)if(P.hasOwnProperty(B))return!1;return!0}(P)||A(P)&&0===P.length)&&(P=void 0),fe._isAMomentObject=!0,fe._useUTC=fe._isUTC=ee,fe._l=G,fe._i=P,fe._f=B,fe._strict=X,function(P){var B=new I(os(ip(P)));return B._nextDay&&(B.add(1,"d"),B._nextDay=void 0),B}(fe)}function cn(P,B,G,X){return rp(P,B,G,X,!1)}E.createFromInputFallback=$("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(P){P._d=new Date(P._i+(P._useUTC?" UTC":""))}),E.ISO_8601=function(){},E.RFC_2822=function(){};var Gy=$("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var P=cn.apply(null,arguments);return this.isValid()&&P.isValid()?P<this?this:P:M()}),$y=$("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var P=cn.apply(null,arguments);return this.isValid()&&P.isValid()?P>this?this:P:M()});function sp(P,B){var G,X;if(1===B.length&&A(B[0])&&(B=B[0]),!B.length)return cn();for(G=B[0],X=1;X<B.length;++X)(!B[X].isValid()||B[X][P](G))&&(G=B[X]);return G}var za=["year","quarter","month","week","day","hour","minute","second","millisecond"];function po(P){var B=Gt(P),G=B.year||0,X=B.quarter||0,ee=B.month||0,fe=B.week||0,we=B.day||0,ht=B.hour||0,wt=B.minute||0,Rt=B.second||0,li=B.millisecond||0;this._isValid=function(P){for(var B in P)if(-1===Ft.call(za,B)||null!=P[B]&&isNaN(P[B]))return!1;for(var G=!1,X=0;X<za.length;++X)if(P[za[X]]){if(G)return!1;parseFloat(P[za[X]])!==H(P[za[X]])&&(G=!0)}return!0}(B),this._milliseconds=+li+1e3*Rt+6e4*wt+1e3*ht*60*60,this._days=+we+7*fe,this._months=+ee+3*X+12*G,this._data={},this._locale=Ci(),this._bubble()}function uh(P){return P instanceof po}function dh(P){return P<0?-1*Math.round(-1*P):Math.round(P)}function op(P,B){Be(P,0,0,function(){var G=this.utcOffset(),X="+";return G<0&&(G=-G,X="-"),X+Oe(~~(G/60),2)+B+Oe(~~G%60,2)})}op("Z",":"),op("ZZ",""),Ge("Z",Ue),Ge("ZZ",Ue),Yt(["Z","ZZ"],function(P,B,G){G._useUTC=!0,G._tzm=Ua(Ue,P)});var Bs=/([\+\-]|\d\d)/gi;function Ua(P,B){var G=(B||"").match(P);if(null===G)return null;var ee=((G[G.length-1]||[])+"").match(Bs)||["-",0,0],fe=60*ee[1]+H(ee[2]);return 0===fe?0:"+"===ee[0]?fe:-fe}function Rn(P,B){var G,X;return B._isUTC?(G=B.clone(),X=(N(P)||v(P)?P.valueOf():cn(P).valueOf())-G.valueOf(),G._d.setTime(G._d.valueOf()+X),E.updateOffset(G,!1),G):cn(P).local()}function ja(P){return 15*-Math.round(P._d.getTimezoneOffset()/15)}function Wa(){return!!this.isValid()&&this._isUTC&&0===this._offset}E.updateOffset=function(){};var hp=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,fu=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function lr(P,B){var ee,fe,we,G=P,X=null;return uh(P)?G={ms:P._milliseconds,d:P._days,M:P._months}:C(P)?(G={},B?G[B]=P:G.milliseconds=P):(X=hp.exec(P))?(ee="-"===X[1]?-1:1,G={y:0,d:H(X[2])*ee,h:H(X[3])*ee,m:H(X[4])*ee,s:H(X[5])*ee,ms:H(dh(1e3*X[6]))*ee}):(X=fu.exec(P))?G={y:Bt(X[2],ee="-"===X[1]?-1:1),M:Bt(X[3],ee),w:Bt(X[4],ee),d:Bt(X[5],ee),h:Bt(X[6],ee),m:Bt(X[7],ee),s:Bt(X[8],ee)}:null==G?G={}:"object"==typeof G&&("from"in G||"to"in G)&&(we=function(P,B){var G;return P.isValid()&&B.isValid()?(B=Rn(B,P),P.isBefore(B)?G=cp(P,B):((G=cp(B,P)).milliseconds=-G.milliseconds,G.months=-G.months),G):{milliseconds:0,months:0}}(cn(G.from),cn(G.to)),(G={}).ms=we.milliseconds,G.M=we.months),fe=new po(G),uh(P)&&h(P,"_locale")&&(fe._locale=P._locale),fe}function Bt(P,B){var G=P&&parseFloat(P.replace(",","."));return(isNaN(G)?0:G)*B}function cp(P,B){var G={milliseconds:0,months:0};return G.months=B.month()-P.month()+12*(B.year()-P.year()),P.clone().add(G.months,"M").isAfter(B)&&--G.months,G.milliseconds=+B-+P.clone().add(G.months,"M"),G}function mh(P,B){return function(G,X){var fe;return null!==X&&!isNaN(+X)&&(te(B,"moment()."+B+"(period, number) is deprecated. Please use moment()."+B+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),fe=G,G=X,X=fe),Cn(this,lr(G="string"==typeof G?+G:G,X),P),this}}function Cn(P,B,G,X){var ee=B._milliseconds,fe=dh(B._days),we=dh(B._months);!P.isValid()||(X=null==X||X,we&&Ns(P,Nt(P,"Month")+we*G),fe&&uo(P,"Date",Nt(P,"Date")+fe*G),ee&&P._d.setTime(P._d.valueOf()+ee*G),X&&E.updateOffset(P,fe||we))}lr.fn=po.prototype,lr.invalid=function(){return lr(NaN)};var fp=mh(1,"add"),Jy=mh(-1,"subtract");function $a(P,B){var G=12*(B.year()-P.year())+(B.month()-P.month()),X=P.clone().add(G,"months");return-(G+(B-X<0?(B-X)/(X-P.clone().add(G-1,"months")):(B-X)/(P.clone().add(G+1,"months")-X)))||0}function bh(P){var B;return void 0===P?this._locale._abbr:(null!=(B=Ci(P))&&(this._locale=B),this)}E.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",E.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ee=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(P){return void 0===P?this.localeData():this.locale(P)});function _t(){return this._locale}function Di(P,B){Be(0,[P,P.length],0,B)}function bu(P,B,G,X,ee){var fe;return null==P?Z(this,X,ee).year:(B>(fe=q(P,X,ee))&&(B=fe),Dp.call(this,P,B,G,X,ee))}function Dp(P,B,G,X,ee){var fe=au(P,B,G,X,ee),we=In(fe.year,0,fe.dayOfYear);return this.year(we.getUTCFullYear()),this.month(we.getUTCMonth()),this.date(we.getUTCDate()),this}Be(0,["gg",2],0,function(){return this.weekYear()%100}),Be(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Di("gggg","weekYear"),Di("ggggg","weekYear"),Di("GGGG","isoWeekYear"),Di("GGGGG","isoWeekYear"),ft("weekYear","gg"),ft("isoWeekYear","GG"),Lt("weekYear",1),Lt("isoWeekYear",1),Ge("G",Is),Ge("g",Is),Ge("GG",jt,Ln),Ge("gg",jt,Ln),Ge("GGGG",Os,Ho),Ge("gggg",Os,Ho),Ge("GGGGG",st,oo),Ge("ggggg",st,oo),As(["gggg","ggggg","GGGG","GGGGG"],function(P,B,G,X){B[X.substr(0,2)]=H(P)}),As(["gg","GG"],function(P,B,G,X){B[X]=E.parseTwoDigitYear(P)}),Be("Q",0,"Qo","quarter"),ft("quarter","Q"),Lt("quarter",7),Ge("Q",Vo),Yt("Q",function(P,B){B[1]=3*(H(P)-1)}),Be("D",["DD",2],"Do","date"),ft("date","D"),Lt("date",9),Ge("D",jt),Ge("DD",jt,Ln),Ge("Do",function(P,B){return P?B._dayOfMonthOrdinalParse||B._ordinalParse:B._dayOfMonthOrdinalParseLenient}),Yt(["D","DD"],2),Yt("Do",function(P,B){B[2]=H(P.match(jt)[0])});var Xa=Sn("Date",!0);Be("DDD",["DDDD",3],"DDDo","dayOfYear"),ft("dayOfYear","DDD"),Lt("dayOfYear",4),Ge("DDD",vt),Ge("DDDD",Bo),Yt(["DDD","DDDD"],function(P,B,G){G._dayOfYear=H(P)}),Be("m",["mm",2],0,"minute"),ft("minute","m"),Lt("minute",14),Ge("m",jt),Ge("mm",jt,Ln),Yt(["m","mm"],4);var Dh=Sn("Minutes",!1);Be("s",["ss",2],0,"second"),ft("second","s"),Lt("second",15),Ge("s",jt),Ge("ss",jt,Ln),Yt(["s","ss"],5);var us,wu=Sn("Seconds",!1);for(Be("S",0,0,function(){return~~(this.millisecond()/100)}),Be(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Be(0,["SSS",3],0,"millisecond"),Be(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Be(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Be(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Be(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Be(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Be(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),ft("millisecond","ms"),Lt("millisecond",16),Ge("S",vt,Vo),Ge("SS",vt,Ln),Ge("SSS",vt,Bo),us="SSSS";us.length<=9;us+="S")Ge(us,ao);function Eh(P,B){B[6]=H(1e3*("0."+P))}for(us="S";us.length<=9;us+="S")Yt(us,Eh);var Za=Sn("Milliseconds",!1);Be("z",0,0,"zoneAbbr"),Be("zz",0,0,"zoneName");var Ie=I.prototype;function Mh(P){return P}Ie.add=fp,Ie.calendar=function(P,B){var G=P||cn(),X=Rn(G,this).startOf("day"),ee=E.calendarFormat(this,X)||"sameElse",fe=B&&(ie(B[ee])?B[ee].call(this,G):B[ee]);return this.format(fe||this.localeData().calendar(ee,this,cn(G)))},Ie.clone=function(){return new I(this)},Ie.diff=function(P,B,G){var X,ee,we;if(!this.isValid())return NaN;if(!(X=Rn(P,this)).isValid())return NaN;switch(ee=6e4*(X.utcOffset()-this.utcOffset()),B=Vt(B)){case"year":we=$a(this,X)/12;break;case"month":we=$a(this,X);break;case"quarter":we=$a(this,X)/3;break;case"second":we=(this-X)/1e3;break;case"minute":we=(this-X)/6e4;break;case"hour":we=(this-X)/36e5;break;case"day":we=(this-X-ee)/864e5;break;case"week":we=(this-X-ee)/6048e5;break;default:we=this-X}return G?we:V(we)},Ie.endOf=function(P){return void 0===(P=Vt(P))||"millisecond"===P?this:("date"===P&&(P="day"),this.startOf(P).add(1,"isoWeek"===P?"week":P).subtract(1,"ms"))},Ie.format=function(P){P||(P=this.isUtc()?E.defaultFormatUtc:E.defaultFormat);var B=ro(this,P);return this.localeData().postformat(B)},Ie.from=function(P,B){return this.isValid()&&(N(P)&&P.isValid()||cn(P).isValid())?lr({to:this,from:P}).locale(this.locale()).humanize(!B):this.localeData().invalidDate()},Ie.fromNow=function(P){return this.from(cn(),P)},Ie.to=function(P,B){return this.isValid()&&(N(P)&&P.isValid()||cn(P).isValid())?lr({from:this,to:P}).locale(this.locale()).humanize(!B):this.localeData().invalidDate()},Ie.toNow=function(P){return this.to(cn(),P)},Ie.get=function(P){return ie(this[P=Vt(P)])?this[P]():this},Ie.invalidAt=function(){return u(this).overflow},Ie.isAfter=function(P,B){var G=N(P)?P:cn(P);return!(!this.isValid()||!G.isValid())&&("millisecond"===(B=Vt(b(B)?"millisecond":B))?this.valueOf()>G.valueOf():G.valueOf()<this.clone().startOf(B).valueOf())},Ie.isBefore=function(P,B){var G=N(P)?P:cn(P);return!(!this.isValid()||!G.isValid())&&("millisecond"===(B=Vt(b(B)?"millisecond":B))?this.valueOf()<G.valueOf():this.clone().endOf(B).valueOf()<G.valueOf())},Ie.isBetween=function(P,B,G,X){return("("===(X=X||"()")[0]?this.isAfter(P,G):!this.isBefore(P,G))&&(")"===X[1]?this.isBefore(B,G):!this.isAfter(B,G))},Ie.isSame=function(P,B){var X,G=N(P)?P:cn(P);return!(!this.isValid()||!G.isValid())&&("millisecond"===(B=Vt(B||"millisecond"))?this.valueOf()===G.valueOf():(X=G.valueOf(),this.clone().startOf(B).valueOf()<=X&&X<=this.clone().endOf(B).valueOf()))},Ie.isSameOrAfter=function(P,B){return this.isSame(P,B)||this.isAfter(P,B)},Ie.isSameOrBefore=function(P,B){return this.isSame(P,B)||this.isBefore(P,B)},Ie.isValid=function(){return p(this)},Ie.lang=Ee,Ie.locale=bh,Ie.localeData=_t,Ie.max=$y,Ie.min=Gy,Ie.parsingFlags=function(){return S({},u(this))},Ie.set=function(P,B){if("object"==typeof P)for(var G=function(P){var B=[];for(var G in P)B.push({unit:G,priority:tn[G]});return B.sort(function(X,ee){return X.priority-ee.priority}),B}(P=Gt(P)),X=0;X<G.length;X++)this[G[X].unit](P[G[X].unit]);else if(ie(this[P=Vt(P)]))return this[P](B);return this},Ie.startOf=function(P){switch(P=Vt(P)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===P&&this.weekday(0),"isoWeek"===P&&this.isoWeekday(1),"quarter"===P&&this.month(3*Math.floor(this.month()/3)),this},Ie.subtract=Jy,Ie.toArray=function(){var P=this;return[P.year(),P.month(),P.date(),P.hour(),P.minute(),P.second(),P.millisecond()]},Ie.toObject=function(){var P=this;return{years:P.year(),months:P.month(),date:P.date(),hours:P.hours(),minutes:P.minutes(),seconds:P.seconds(),milliseconds:P.milliseconds()}},Ie.toDate=function(){return new Date(this.valueOf())},Ie.toISOString=function(){if(!this.isValid())return null;var P=this.clone().utc();return P.year()<0||P.year()>9999?ro(P,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ie(Date.prototype.toISOString)?this.toDate().toISOString():ro(P,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Ie.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var P="moment",B="";this.isLocal()||(P=0===this.utcOffset()?"moment.utc":"moment.parseZone",B="Z");var G="["+P+'("]',X=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(G+X+"-MM-DD[T]HH:mm:ss.SSS"+B+'[")]')},Ie.toJSON=function(){return this.isValid()?this.toISOString():null},Ie.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ie.unix=function(){return Math.floor(this.valueOf()/1e3)},Ie.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ie.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ie.year=ks,Ie.isLeapYear=function(){return Mr(this.year())},Ie.weekYear=function(P){return bu.call(this,P,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ie.isoWeekYear=function(P){return bu.call(this,P,this.isoWeek(),this.isoWeekday(),1,4)},Ie.quarter=Ie.quarters=function(P){return null==P?Math.ceil((this.month()+1)/3):this.month(3*(P-1)+this.month()%3)},Ie.month=ho,Ie.daysInMonth=function(){return hn(this.year(),this.month())},Ie.week=Ie.weeks=function(P){var B=this.localeData().week(this);return null==P?B:this.add(7*(P-B),"d")},Ie.isoWeek=Ie.isoWeeks=function(P){var B=Z(this,1,4).week;return null==P?B:this.add(7*(P-B),"d")},Ie.weeksInYear=function(){var P=this.localeData()._week;return q(this.year(),P.dow,P.doy)},Ie.isoWeeksInYear=function(){return q(this.year(),1,4)},Ie.date=Xa,Ie.day=Ie.days=function(P){if(!this.isValid())return null!=P?this:NaN;var B=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=P?(P=function(P,B){return"string"!=typeof P?P:isNaN(P)?"number"==typeof(P=B.weekdaysParse(P))?P:null:parseInt(P,10)}(P,this.localeData()),this.add(P-B,"d")):B},Ie.weekday=function(P){if(!this.isValid())return null!=P?this:NaN;var B=(this.day()+7-this.localeData()._week.dow)%7;return null==P?B:this.add(P-B,"d")},Ie.isoWeekday=function(P){if(!this.isValid())return null!=P?this:NaN;if(null!=P){var B=function(P,B){return"string"==typeof P?B.weekdaysParse(P)%7||7:isNaN(P)?null:P}(P,this.localeData());return this.day(this.day()%7?B:B-7)}return this.day()||7},Ie.dayOfYear=function(P){var B=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==P?B:this.add(P-B,"d")},Ie.hour=Ie.hours=Ct,Ie.minute=Ie.minutes=Dh,Ie.second=Ie.seconds=wu,Ie.millisecond=Ie.milliseconds=Za,Ie.utcOffset=function(P,B,G){var ee,X=this._offset||0;if(!this.isValid())return null!=P?this:NaN;if(null!=P){if("string"==typeof P){if(null===(P=Ua(Ue,P)))return this}else Math.abs(P)<16&&!G&&(P*=60);return!this._isUTC&&B&&(ee=ja(this)),this._offset=P,this._isUTC=!0,null!=ee&&this.add(ee,"m"),X!==P&&(!B||this._changeInProgress?Cn(this,lr(P-X,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,E.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?X:ja(this)},Ie.utc=function(P){return this.utcOffset(0,P)},Ie.local=function(P){return this._isUTC&&(this.utcOffset(0,P),this._isUTC=!1,P&&this.subtract(ja(this),"m")),this},Ie.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var P=Ua(Pt,this._i);null!=P?this.utcOffset(P):this.utcOffset(0,!0)}return this},Ie.hasAlignedHourOffset=function(P){return!!this.isValid()&&(P=P?cn(P).utcOffset():0,(this.utcOffset()-P)%60==0)},Ie.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ie.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ie.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ie.isUtc=Wa,Ie.isUTC=Wa,Ie.zoneAbbr=function(){return this._isUTC?"UTC":""},Ie.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ie.dates=$("dates accessor is deprecated. Use date instead.",Xa),Ie.months=$("months accessor is deprecated. Use month instead",ho),Ie.years=$("years accessor is deprecated. Use year instead",ks),Ie.zone=$("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(P,B){return null!=P?("string"!=typeof P&&(P=-P),this.utcOffset(P,B),this):-this.utcOffset()}),Ie.isDSTShifted=$("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!b(this._isDSTShifted))return this._isDSTShifted;var P={};if(c(P,this),(P=ip(P))._a){var B=P._isUTC?a(P._a):cn(P._a);this._isDSTShifted=this.isValid()&&z(P._a,B.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var Xt=ve.prototype;function Vn(P,B,G,X){var ee=Ci(),fe=a().set(X,B);return ee[G](fe,P)}function Ir(P,B,G){if(C(P)&&(B=P,P=void 0),P=P||"",null!=B)return Vn(P,B,G,"month");var X,ee=[];for(X=0;X<12;X++)ee[X]=Vn(P,X,G,"month");return ee}function rn(P,B,G,X){"boolean"==typeof P?(C(B)&&(G=B,B=void 0),B=B||""):(G=B=P,P=!1,C(B)&&(G=B,B=void 0),B=B||"");var ee=Ci(),fe=P?ee._week.dow:0;if(null!=G)return Vn(B,(G+fe)%7,X,"day");var we,ht=[];for(we=0;we<7;we++)ht[we]=Vn(B,(we+fe)%7,X,"day");return ht}Xt.calendar=function(P,B,G){var X=this._calendar[P]||this._calendar.sameElse;return ie(X)?X.call(B,G):X},Xt.longDateFormat=function(P){var B=this._longDateFormat[P],G=this._longDateFormat[P.toUpperCase()];return B||!G?B:(this._longDateFormat[P]=G.replace(/MMMM|MM|DD|dddd/g,function(X){return X.slice(1)}),this._longDateFormat[P])},Xt.invalidDate=function(){return this._invalidDate},Xt.ordinal=function(P){return this._ordinal.replace("%d",P)},Xt.preparse=Mh,Xt.postformat=Mh,Xt.relativeTime=function(P,B,G,X){var ee=this._relativeTime[G];return ie(ee)?ee(P,B,G,X):ee.replace(/%d/i,P)},Xt.pastFuture=function(P,B){var G=this._relativeTime[P>0?"future":"past"];return ie(G)?G(B):G.replace(/%s/i,B)},Xt.set=function(P){var B,G;for(G in P)ie(B=P[G])?this[G]=B:this["_"+G]=B;this._config=P,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Xt.months=function(P,B){return P?A(this._months)?this._months[P.month()]:this._months[(this._months.isFormat||vn).test(B)?"format":"standalone"][P.month()]:A(this._months)?this._months:this._months.standalone},Xt.monthsShort=function(P,B){return P?A(this._monthsShort)?this._monthsShort[P.month()]:this._monthsShort[vn.test(B)?"format":"standalone"][P.month()]:A(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Xt.monthsParse=function(P,B,G){var X,ee,fe;if(this._monthsParseExact)return Qn.call(this,P,B,G);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),X=0;X<12;X++){if(ee=a([2e3,X]),G&&!this._longMonthsParse[X]&&(this._longMonthsParse[X]=new RegExp("^"+this.months(ee,"").replace(".","")+"$","i"),this._shortMonthsParse[X]=new RegExp("^"+this.monthsShort(ee,"").replace(".","")+"$","i")),!G&&!this._monthsParse[X]&&(fe="^"+this.months(ee,"")+"|^"+this.monthsShort(ee,""),this._monthsParse[X]=new RegExp(fe.replace(".",""),"i")),G&&"MMMM"===B&&this._longMonthsParse[X].test(P))return X;if(G&&"MMM"===B&&this._shortMonthsParse[X].test(P))return X;if(!G&&this._monthsParse[X].test(P))return X}},Xt.monthsRegex=function(P){return this._monthsParseExact?(h(this,"_monthsRegex")||La.call(this),P?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Jn),this._monthsStrictRegex&&P?this._monthsStrictRegex:this._monthsRegex)},Xt.monthsShortRegex=function(P){return this._monthsParseExact?(h(this,"_monthsRegex")||La.call(this),P?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Fs),this._monthsShortStrictRegex&&P?this._monthsShortStrictRegex:this._monthsShortRegex)},Xt.week=function(P){return Z(P,this._week.dow,this._week.doy).week},Xt.firstDayOfYear=function(){return this._week.doy},Xt.firstDayOfWeek=function(){return this._week.dow},Xt.weekdays=function(P,B){return P?A(this._weekdays)?this._weekdays[P.day()]:this._weekdays[this._weekdays.isFormat.test(B)?"format":"standalone"][P.day()]:A(this._weekdays)?this._weekdays:this._weekdays.standalone},Xt.weekdaysMin=function(P){return P?this._weekdaysMin[P.day()]:this._weekdaysMin},Xt.weekdaysShort=function(P){return P?this._weekdaysShort[P.day()]:this._weekdaysShort},Xt.weekdaysParse=function(P,B,G){var X,ee,fe;if(this._weekdaysParseExact)return Go.call(this,P,B,G);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),X=0;X<7;X++){if(ee=a([2e3,1]).day(X),G&&!this._fullWeekdaysParse[X]&&(this._fullWeekdaysParse[X]=new RegExp("^"+this.weekdays(ee,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[X]=new RegExp("^"+this.weekdaysShort(ee,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[X]=new RegExp("^"+this.weekdaysMin(ee,"").replace(".",".?")+"$","i")),this._weekdaysParse[X]||(fe="^"+this.weekdays(ee,"")+"|^"+this.weekdaysShort(ee,"")+"|^"+this.weekdaysMin(ee,""),this._weekdaysParse[X]=new RegExp(fe.replace(".",""),"i")),G&&"dddd"===B&&this._fullWeekdaysParse[X].test(P))return X;if(G&&"ddd"===B&&this._shortWeekdaysParse[X].test(P))return X;if(G&&"dd"===B&&this._minWeekdaysParse[X].test(P))return X;if(!G&&this._weekdaysParse[X].test(P))return X}},Xt.weekdaysRegex=function(P){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qn.call(this),P?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=sh),this._weekdaysStrictRegex&&P?this._weekdaysStrictRegex:this._weekdaysRegex)},Xt.weekdaysShortRegex=function(P){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qn.call(this),P?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Yi),this._weekdaysShortStrictRegex&&P?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Xt.weekdaysMinRegex=function(P){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qn.call(this),P?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ah),this._weekdaysMinStrictRegex&&P?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Xt.isPM=function(P){return"p"===(P+"").toLowerCase().charAt(0)},Xt.meridiem=function(P,B,G){return P>11?G?"pm":"PM":G?"am":"AM"},Xi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(P){var B=P%10;return P+(1===H(P%100/10)?"th":1===B?"st":2===B?"nd":3===B?"rd":"th")}}),E.lang=$("moment.lang is deprecated. Use moment.locale instead.",Xi),E.langData=$("moment.langData is deprecated. Use moment.localeData instead.",Ci);var Ar=Math.abs;function Jo(P,B,G,X){var ee=lr(B,G);return P._milliseconds+=X*ee._milliseconds,P._days+=X*ee._days,P._months+=X*ee._months,P._bubble()}function Eu(P){return P<0?Math.floor(P):Math.ceil(P)}function kr(P){return 4800*P/146097}function Hs(P){return 146097*P/4800}function Li(P){return function(){return this.as(P)}}var xu=Li("ms"),kp=Li("s"),Rp=Li("m"),tb=Li("h"),nb=Li("d"),el=Li("w"),Th=Li("M"),Su=Li("y");function ds(P){return function(){return this.isValid()?this._data[P]:NaN}}var vo=ds("milliseconds"),Pp=ds("seconds"),yo=ds("minutes"),_u=ds("hours"),nl=ds("days"),ib=ds("months"),Ih=ds("years");var hs=Math.round,hr={ss:44,s:45,m:45,h:22,d:26,M:11};function qo(P,B,G,X,ee){return ee.relativeTime(B||1,!!G,P,X)}var Ou=Math.abs;function zs(P){return(P>0)-(P<0)||+P}function ea(){if(!this.isValid())return this.localeData().invalidDate();var X,ee,P=Ou(this._milliseconds)/1e3,B=Ou(this._days),G=Ou(this._months);X=V(P/60),ee=V(X/60),P%=60,X%=60;var we=V(G/12),ht=G%=12,wt=B,Rt=ee,li=X,Rr=P?P.toFixed(3).replace(/\.?0+$/,""):"",cr=this.asSeconds();if(!cr)return"P0D";var bo=cr<0?"-":"",Us=zs(this._months)!==zs(cr)?"-":"",ta=zs(this._days)!==zs(cr)?"-":"",na=zs(this._milliseconds)!==zs(cr)?"-":"";return bo+"P"+(we?Us+we+"Y":"")+(ht?Us+ht+"M":"")+(wt?ta+wt+"D":"")+(Rt||li||Rr?"T":"")+(Rt?na+Rt+"H":"")+(li?na+li+"M":"")+(Rr?na+Rr+"S":"")}var Tt=po.prototype;return Tt.isValid=function(){return this._isValid},Tt.abs=function(){var P=this._data;return this._milliseconds=Ar(this._milliseconds),this._days=Ar(this._days),this._months=Ar(this._months),P.milliseconds=Ar(P.milliseconds),P.seconds=Ar(P.seconds),P.minutes=Ar(P.minutes),P.hours=Ar(P.hours),P.months=Ar(P.months),P.years=Ar(P.years),this},Tt.add=function(P,B){return Jo(this,P,B,1)},Tt.subtract=function(P,B){return Jo(this,P,B,-1)},Tt.as=function(P){if(!this.isValid())return NaN;var B,G,X=this._milliseconds;if("month"===(P=Vt(P))||"year"===P)return G=this._months+kr(B=this._days+X/864e5),"month"===P?G:G/12;switch(B=this._days+Math.round(Hs(this._months)),P){case"week":return B/7+X/6048e5;case"day":return B+X/864e5;case"hour":return 24*B+X/36e5;case"minute":return 1440*B+X/6e4;case"second":return 86400*B+X/1e3;case"millisecond":return Math.floor(864e5*B)+X;default:throw new Error("Unknown unit "+P)}},Tt.asMilliseconds=xu,Tt.asSeconds=kp,Tt.asMinutes=Rp,Tt.asHours=tb,Tt.asDays=nb,Tt.asWeeks=el,Tt.asMonths=Th,Tt.asYears=Su,Tt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*H(this._months/12):NaN},Tt._bubble=function(){var ee,fe,we,ht,wt,P=this._milliseconds,B=this._days,G=this._months,X=this._data;return P>=0&&B>=0&&G>=0||P<=0&&B<=0&&G<=0||(P+=864e5*Eu(Hs(G)+B),B=0,G=0),X.milliseconds=P%1e3,ee=V(P/1e3),X.seconds=ee%60,fe=V(ee/60),X.minutes=fe%60,we=V(fe/60),X.hours=we%24,B+=V(we/24),G+=wt=V(kr(B)),B-=Eu(Hs(wt)),ht=V(G/12),G%=12,X.days=B,X.months=G,X.years=ht,this},Tt.clone=function(){return lr(this)},Tt.get=function(P){return P=Vt(P),this.isValid()?this[P+"s"]():NaN},Tt.milliseconds=vo,Tt.seconds=Pp,Tt.minutes=yo,Tt.hours=_u,Tt.days=nl,Tt.weeks=function(){return V(this.days()/7)},Tt.months=ib,Tt.years=Ih,Tt.humanize=function(P){if(!this.isValid())return this.localeData().invalidDate();var B=this.localeData(),G=function(P,B,G){var X=lr(P).abs(),ee=hs(X.as("s")),fe=hs(X.as("m")),we=hs(X.as("h")),ht=hs(X.as("d")),wt=hs(X.as("M")),Rt=hs(X.as("y")),li=ee<=hr.ss&&["s",ee]||ee<hr.s&&["ss",ee]||fe<=1&&["m"]||fe<hr.m&&["mm",fe]||we<=1&&["h"]||we<hr.h&&["hh",we]||ht<=1&&["d"]||ht<hr.d&&["dd",ht]||wt<=1&&["M"]||wt<hr.M&&["MM",wt]||Rt<=1&&["y"]||["yy",Rt];return li[2]=B,li[3]=+P>0,li[4]=G,qo.apply(null,li)}(this,!P,B);return P&&(G=B.pastFuture(+this,G)),B.postformat(G)},Tt.toISOString=ea,Tt.toString=ea,Tt.toJSON=ea,Tt.locale=bh,Tt.localeData=_t,Tt.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ea),Tt.lang=Ee,Be("X",0,0,"unix"),Be("x",0,0,"valueOf"),Ge("x",Is),Ge("X",/[+-]?\d+(\.\d{1,3})?/),Yt("X",function(P,B,G){G._d=new Date(1e3*parseFloat(P,10))}),Yt("x",function(P,B,G){G._d=new Date(H(P))}),E.version="2.19.1",x=cn,E.fn=Ie,E.min=function(){return sp("isBefore",[].slice.call(arguments,0))},E.max=function(){return sp("isAfter",[].slice.call(arguments,0))},E.now=function(){return Date.now?Date.now():+new Date},E.utc=a,E.unix=function(P){return cn(1e3*P)},E.months=function(P,B){return Ir(P,B,"months")},E.isDate=v,E.locale=Xi,E.invalid=M,E.duration=lr,E.isMoment=N,E.weekdays=function(P,B,G){return rn(P,B,G,"weekdays")},E.parseZone=function(){return cn.apply(null,arguments).parseZone()},E.localeData=Ci,E.isDuration=uh,E.monthsShort=function(P,B){return Ir(P,B,"monthsShort")},E.weekdaysMin=function(P,B,G){return rn(P,B,G,"weekdaysMin")},E.defineLocale=lt,E.updateLocale=function(P,B){if(null!=B){var G,X=qt;null!=At[P]&&(X=At[P]._config),(G=new ve(B=ye(X,B))).parentLocale=At[P],At[P]=G,Xi(P)}else null!=At[P]&&(null!=At[P].parentLocale?At[P]=At[P].parentLocale:null!=At[P]&&delete At[P]);return At[P]},E.locales=function(){return be(At)},E.weekdaysShort=function(P,B,G){return rn(P,B,G,"weekdaysShort")},E.normalizeUnits=Vt,E.relativeTimeRounding=function(P){return void 0===P?hs:"function"==typeof P&&(hs=P,!0)},E.relativeTimeThreshold=function(P,B){return void 0!==hr[P]&&(void 0===B?hr[P]:(hr[P]=B,"s"===P&&(hr.ss=B-1),!0))},E.calendarFormat=function(P,B){var G=P.diff(B,"days",!0);return G<-6?"sameElse":G<-1?"lastWeek":G<0?"lastDay":G<1?"sameDay":G<2?"nextDay":G<7?"nextWeek":"sameElse"},E.prototype=Ie,E}()}).call(L,D(155)(Y))},function(Y,L){Y.exports=function(D){return D.webpackPolyfill||(D.deprecate=function(){},D.paths=[],D.children||(D.children=[]),Object.defineProperty(D,"loaded",{enumerable:!0,get:function(){return D.l}}),Object.defineProperty(D,"id",{enumerable:!0,get:function(){return D.i}}),D.webpackPolyfill=1),D}},function(Y,L){function D(R){throw new Error("Cannot find module '"+R+"'.")}D.keys=function(){return[]},D.resolve=D,Y.exports=D,D.id=156},function(Y,L,D){(function(R){var y,x="undefined"!=typeof window?window:void 0!==R?R:null;if(x&&x.crypto&&crypto.getRandomValues){var E=new Uint8Array(16);y=function(){return crypto.getRandomValues(E),E}}if(!y){var T=new Array(16);y=function(){for(var d,M=0;M<16;M++)0==(3&M)&&(d=4294967296*Math.random()),T[M]=d>>>((3&M)<<3)&255;return T}}for(var A=[],_={},O=0;O<256;O++)A[O]=(O+256).toString(16).substr(1),_[A[O]]=O;function C(p,M){var d=M||0;return A[p[d++]]+A[p[d++]]+A[p[d++]]+A[p[d++]]+"-"+A[p[d++]]+A[p[d++]]+"-"+A[p[d++]]+A[p[d++]]+"-"+A[p[d++]]+A[p[d++]]+"-"+A[p[d++]]+A[p[d++]]+A[p[d++]]+A[p[d++]]+A[p[d++]]+A[p[d++]]}var v=y(),m=[1|v[0],v[1],v[2],v[3],v[4],v[5]],h=16383&(v[6]<<8|v[7]),S=0,a=0;function u(p,M,d){var c=M&&d||0;"string"==typeof p&&(M="binary"==p?new Array(16):null,p=null);var w=(p=p||{}).random||(p.rng||y)();if(w[6]=15&w[6]|64,w[8]=63&w[8]|128,M)for(var I=0;I<16;I++)M[c+I]=w[I];return M||C(w)}var l=u;l.v1=function(p,M,d){var c=M&&d||0,w=M||[],I=void 0!==(p=p||{}).clockseq?p.clockseq:h,N=void 0!==p.msecs?p.msecs:(new Date).getTime(),V=void 0!==p.nsecs?p.nsecs:a+1,H=N-S+(V-a)/1e4;if(H<0&&void 0===p.clockseq&&(I=I+1&16383),(H<0||N>S)&&void 0===p.nsecs&&(V=0),V>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");S=N,a=V,h=I;var z=(1e4*(268435455&(N+=122192928e5))+V)%4294967296;w[c++]=z>>>24&255,w[c++]=z>>>16&255,w[c++]=z>>>8&255,w[c++]=255&z;var U=N/4294967296*1e4&268435455;w[c++]=U>>>8&255,w[c++]=255&U,w[c++]=U>>>24&15|16,w[c++]=U>>>16&255,w[c++]=I>>>8|128,w[c++]=255&I;for(var $=p.node||m,J=0;J<6;J++)w[c+J]=$[J];return M||C(w)},l.v4=u,l.parse=function(p,M,d){var c=M&&d||0,w=0;for(M=M||[],p.toLowerCase().replace(/[0-9a-f]{2}/g,function(I){w<16&&(M[c+w++]=_[I])});w<16;)M[c+w++]=0;return M},l.unparse=C,Y.exports=l}).call(L,D(158))},function(Y,L){var D;D=function(){return this}();try{D=D||Function("return this")()||(0,eval)("this")}catch(R){"object"==typeof window&&(D=window)}Y.exports=D},function(Y,L,D){L.util=D(2),L.DOMutil=D(14),L.DataSet=D(11),L.DataView=D(12),L.Queue=D(43),L.Graph3d=D(161),L.graph3d={Camera:D(95),Filter:D(96),Point2d:D(91),Point3d:D(34),Slider:D(92),StepNumber:D(93)},L.moment=D(9),L.Hammer=D(10),L.keycharm=D(35)},function(Y,L,D){var R=D(7),y=R.JSON||(R.JSON={stringify:JSON.stringify});Y.exports=function(E){return y.stringify.apply(y,arguments)}},function(Y,L,D){var d,y=(d=D(90))&&d.__esModule?d:{default:d};var E=D(44),T=D(2),A=D(34),_=D(91),O=D(92),b=D(93),C=D(94),v=D(15).default,h=D(15).printStyle,a=D(172).allOptions,f=D(173),u=void 0;function l(d,c,w){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=d,this.dataGroup=new f,this.dataPoints=null,this.create(),C.setDefaults(l.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(w),this.setData(c)}function p(d){return"clientX"in d?d.clientX:d.targetTouches[0]&&d.targetTouches[0].clientX||0}function M(d){return"clientY"in d?d.clientY:d.targetTouches[0]&&d.targetTouches[0].clientY||0}l.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(c){return c},yValueLabel:function(c){return c},zValueLabel:function(c){return c},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:u,animationInterval:1e3,animationPreload:!1,animationAutoStart:u,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(l.STYLE=C.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:u,backgroundColor:u,xBarWidth:u,yBarWidth:u,valueMin:u,valueMax:u,xMin:u,xMax:u,xStep:u,yMin:u,yMax:u,yStep:u,zMin:u,zMax:u,zStep:u},E(l.prototype),l.prototype._setScale=function(){this.scale=new A(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var d=this.xRange.center()*this.scale.x,c=this.yRange.center()*this.scale.y,w=this.zRange.center()*this.scale.z;this.camera.setArmLocation(d,c,w)},l.prototype._convert3Dto2D=function(d){var c=this._convertPointToTranslation(d);return this._convertTranslationToScreen(c)},l.prototype._convertPointToTranslation=function(d){var c=this.camera.getCameraLocation(),w=this.camera.getCameraRotation(),I=d.x*this.scale.x,N=d.y*this.scale.y,V=d.z*this.scale.z,H=c.x,z=c.y,U=c.z,$=Math.sin(w.x),J=Math.cos(w.x),te=Math.sin(w.y),ie=Math.cos(w.y),ue=Math.sin(w.z),ye=Math.cos(w.z);return new A(ie*(ue*(N-z)+ye*(I-H))-te*(V-U),$*(ie*(V-U)+te*(ue*(N-z)+ye*(I-H)))+J*(ye*(N-z)-ue*(I-H)),J*(ie*(V-U)+te*(ue*(N-z)+ye*(I-H)))-$*(ye*(N-z)-ue*(I-H)))},l.prototype._convertTranslationToScreen=function(d){var z,U,I=this.eye.z,N=d.x,V=d.y,H=d.z;return this.showPerspective?(z=I/H*(N-this.eye.x),U=I/H*(V-this.eye.y)):(z=N*(-I/this.camera.getArmLength()),U=V*(-I/this.camera.getArmLength())),new _(this.currentXCenter+z*this.frame.canvas.clientWidth,this.currentYCenter-U*this.frame.canvas.clientWidth)},l.prototype._calcTranslations=function(d){for(var c=0;c<d.length;c++){var w=d[c];w.trans=this._convertPointToTranslation(w.point),w.screen=this._convertTranslationToScreen(w.trans);var I=this._convertPointToTranslation(w.bottom);w.dist=this.showPerspective?I.length():-I.z}d.sort(function(H,z){return z.dist-H.dist})},l.prototype._initializeRanges=function(){var d=this.dataGroup;this.xRange=d.xRange,this.yRange=d.yRange,this.zRange=d.zRange,this.valueRange=d.valueRange,this.xStep=d.xStep,this.yStep=d.yStep,this.zStep=d.zStep,this.xBarWidth=d.xBarWidth,this.yBarWidth=d.yBarWidth,this.colX=d.colX,this.colY=d.colY,this.colZ=d.colZ,this.colValue=d.colValue,this._setScale()},l.prototype.getDataPoints=function(d){for(var c=[],w=0;w<d.length;w++){var I=new A;I.x=d[w][this.colX]||0,I.y=d[w][this.colY]||0,I.z=d[w][this.colZ]||0,I.data=d[w],void 0!==this.colValue&&(I.value=d[w][this.colValue]||0);var N={};N.point=I,N.bottom=new A(I.x,I.y,this.zRange.min),N.trans=void 0,N.screen=void 0,c.push(N)}return c},l.prototype._getDataPoints=function(d){var c,w,I,N,V=[];if(this.style===l.STYLE.GRID||this.style===l.STYLE.SURFACE){var H=this.dataGroup.getDistinctValues(this.colX,d),z=this.dataGroup.getDistinctValues(this.colY,d);V=this.getDataPoints(d);var U=[];for(I=0;I<V.length;I++){var $=H.indexOf((N=V[I]).point.x),J=z.indexOf(N.point.y);void 0===U[$]&&(U[$]=[]),U[$][J]=N}for(c=0;c<U.length;c++)for(w=0;w<U[c].length;w++)U[c][w]&&(U[c][w].pointRight=c<U.length-1?U[c+1][w]:void 0,U[c][w].pointTop=w<U[c].length-1?U[c][w+1]:void 0,U[c][w].pointCross=c<U.length-1&&w<U[c].length-1?U[c+1][w+1]:void 0)}else if(this._checkValueField(d),V=this.getDataPoints(d),this.style===l.STYLE.LINE)for(I=0;I<V.length;I++)I>0&&(V[I-1].pointNext=V[I]);return V},l.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var d=document.createElement("DIV");d.style.color="red",d.style.fontWeight="bold",d.style.padding="10px",d.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(d),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var c=this;T.addEventListener(this.frame.canvas,"mousedown",function(U){c._onMouseDown(U)}),T.addEventListener(this.frame.canvas,"touchstart",function(U){c._onTouchStart(U)}),T.addEventListener(this.frame.canvas,"mousewheel",function(U){c._onWheel(U)}),T.addEventListener(this.frame.canvas,"mousemove",function(U){c._onTooltip(U)}),T.addEventListener(this.frame.canvas,"click",function(U){c._onClick(U)}),this.containerElement.appendChild(this.frame)},l.prototype._setSize=function(d,c){this.frame.style.width=d,this.frame.style.height=c,this._resizeCanvas()},l.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},l.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},l.prototype.animationStop=function(){!this.frame.filter||!this.frame.filter.slider||this.frame.filter.slider.stop()},l.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},l.prototype.getCameraPosition=function(){var d=this.camera.getArmRotation();return d.distance=this.camera.getArmLength(),d},l.prototype._readData=function(d){this.dataPoints=this.dataGroup.initializeData(this,d,this.style),this._initializeRanges(),this._redrawFilter()},l.prototype.setData=function(d){null!=d&&(this._readData(d),this.redraw(),this.animationStart())},l.prototype.setOptions=function(d){void 0!==d&&(!0===v.validate(d,a)&&console.log("%cErrors have been found in the supplied options object.",h),this.animationStop(),C.setOptions(d,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},l.prototype.setPointDrawingMethod=function(){var d=void 0;switch(this.style){case l.STYLE.BAR:d=l.prototype._redrawBarGraphPoint;break;case l.STYLE.BARCOLOR:d=l.prototype._redrawBarColorGraphPoint;break;case l.STYLE.BARSIZE:d=l.prototype._redrawBarSizeGraphPoint;break;case l.STYLE.DOT:d=l.prototype._redrawDotGraphPoint;break;case l.STYLE.DOTLINE:d=l.prototype._redrawDotLineGraphPoint;break;case l.STYLE.DOTCOLOR:d=l.prototype._redrawDotColorGraphPoint;break;case l.STYLE.DOTSIZE:d=l.prototype._redrawDotSizeGraphPoint;break;case l.STYLE.SURFACE:d=l.prototype._redrawSurfaceGraphPoint;break;case l.STYLE.GRID:d=l.prototype._redrawGridGraphPoint;break;case l.STYLE.LINE:d=l.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=d},l.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},l.prototype._getContext=function(){var c=this.frame.canvas.getContext("2d");return c.lineJoin="round",c.lineCap="round",c},l.prototype._redrawClear=function(){var d=this.frame.canvas;d.getContext("2d").clearRect(0,0,d.width,d.height)},l.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},l.prototype._getLegendWidth=function(){return this.style===l.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===l.STYLE.BARSIZE?this.xBarWidth:20},l.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==l.STYLE.LINE&&this.style!==l.STYLE.BARSIZE){var d=this.style===l.STYLE.BARSIZE||this.style===l.STYLE.DOTSIZE,c=this.style===l.STYLE.DOTSIZE||this.style===l.STYLE.DOTCOLOR||this.style===l.STYLE.BARCOLOR,w=Math.max(.25*this.frame.clientHeight,100),I=this.margin,N=this._getLegendWidth(),V=this.frame.clientWidth-this.margin,H=V-N,z=I+w,U=this._getContext();if(U.lineWidth=1,U.font="14px arial",!1===d){var te,J=w;for(te=0;te<J;te++){var ye=this._hsv2rgb((te-0)/(J-0)*240,1,1);U.strokeStyle=ye,U.beginPath(),U.moveTo(H,I+te),U.lineTo(V,I+te),U.stroke()}U.strokeStyle=this.axisColor,U.strokeRect(H,I,N,w)}else{var ve;this.style===l.STYLE.DOTSIZE&&(ve=N*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),U.strokeStyle=this.axisColor,U.fillStyle=this.dataColor.fill,U.beginPath(),U.moveTo(H,I),U.lineTo(V,I),U.lineTo(H+ve,z),U.lineTo(H,z),U.closePath(),U.fill(),U.stroke()}var me,Se,de=c?this.valueRange.min:this.zRange.min,re=c?this.valueRange.max:this.zRange.max,ae=new b(de,re,(re-de)/5,!0);for(ae.start(!0);!ae.end();)te=z-(ae.getCurrent()-de)/(re-de)*w,me=new _(H-5,te),Se=new _(H,te),this._line(U,me,Se),U.textAlign="right",U.textBaseline="middle",U.fillStyle=this.axisColor,U.fillText(ae.getCurrent(),H-10,te),ae.next();U.textAlign="right",U.textBaseline="top",U.fillText(this.legendLabel,V,z+this.margin)}},l.prototype._redrawFilter=function(){var d=this.dataGroup.dataFilter,c=this.frame.filter;if(c.innerHTML="",d){var I=new O(c,{visible:this.showAnimationControls});c.slider=I,c.style.padding="10px",I.setValues(d.values),I.setPlayInterval(this.animationInterval);var N=this;I.setOnChangeCallback(function(){var z=N.dataGroup.dataFilter,U=I.getIndex();z.selectValue(U),N.dataPoints=z._getDataPoints(),N.redraw()})}else c.slider=void 0},l.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},l.prototype._redrawInfo=function(){var d=this.dataGroup.getInfo();if(void 0!==d){var c=this._getContext();c.font="14px arial",c.lineStyle="gray",c.fillStyle="gray",c.textAlign="left",c.textBaseline="top",c.fillText(d,this.margin,this.margin)}},l.prototype._line=function(d,c,w,I){void 0!==I&&(d.strokeStyle=I),d.beginPath(),d.moveTo(c.x,c.y),d.lineTo(w.x,w.y),d.stroke()},l.prototype.drawAxisLabelX=function(d,c,w,I,N){void 0===N&&(N=0);var V=this._convert3Dto2D(c);Math.cos(2*I)>0?(d.textAlign="center",d.textBaseline="top",V.y+=N):Math.sin(2*I)<0?(d.textAlign="right",d.textBaseline="middle"):(d.textAlign="left",d.textBaseline="middle"),d.fillStyle=this.axisColor,d.fillText(w,V.x,V.y)},l.prototype.drawAxisLabelY=function(d,c,w,I,N){void 0===N&&(N=0);var V=this._convert3Dto2D(c);Math.cos(2*I)<0?(d.textAlign="center",d.textBaseline="top",V.y+=N):Math.sin(2*I)>0?(d.textAlign="right",d.textBaseline="middle"):(d.textAlign="left",d.textBaseline="middle"),d.fillStyle=this.axisColor,d.fillText(w,V.x,V.y)},l.prototype.drawAxisLabelZ=function(d,c,w,I){void 0===I&&(I=0);var N=this._convert3Dto2D(c);d.textAlign="right",d.textBaseline="middle",d.fillStyle=this.axisColor,d.fillText(w,N.x-I,N.y)},l.prototype._line3d=function(d,c,w,I){var N=this._convert3Dto2D(c),V=this._convert3Dto2D(w);this._line(d,N,V,I)},l.prototype._redrawAxis=function(){var c,w,I,V,H,z,J,te,d=this._getContext();d.font=24/this.camera.getArmLength()+"px arial";var me,qe,ft,ie=.025/this.scale.x,ue=.025/this.scale.y,ye=5/this.camera.getArmLength(),ve=this.camera.getArmRotation().horizontal,be=new _(Math.cos(ve),Math.sin(ve)),de=this.xRange,re=this.yRange,ae=this.zRange;for(d.lineWidth=1,(I=new b(de.min,de.max,this.xStep,void 0===this.defaultXStep)).start(!0);!I.end();){var Se=I.getCurrent();if(this.showGrid?(c=new A(Se,re.min,ae.min),w=new A(Se,re.max,ae.min),this._line3d(d,c,w,this.gridColor)):this.showXAxis&&(c=new A(Se,re.min,ae.min),w=new A(Se,re.min+ie,ae.min),this._line3d(d,c,w,this.axisColor),c=new A(Se,re.max,ae.min),w=new A(Se,re.max-ie,ae.min),this._line3d(d,c,w,this.axisColor)),this.showXAxis){me=new A(Se,z=be.x>0?re.min:re.max,ae.min);var _e="  "+this.xValueLabel(Se)+"  ";this.drawAxisLabelX(d,me,_e,ve,ye)}I.next()}for(d.lineWidth=1,(I=new b(re.min,re.max,this.yStep,void 0===this.defaultYStep)).start(!0);!I.end();){var De=I.getCurrent();if(this.showGrid?(c=new A(de.min,De,ae.min),w=new A(de.max,De,ae.min),this._line3d(d,c,w,this.gridColor)):this.showYAxis&&(c=new A(de.min,De,ae.min),w=new A(de.min+ue,De,ae.min),this._line3d(d,c,w,this.axisColor),c=new A(de.max,De,ae.min),w=new A(de.max-ue,De,ae.min),this._line3d(d,c,w,this.axisColor)),this.showYAxis){me=new A(H=be.y>0?de.min:de.max,De,ae.min);var Re="  "+this.yValueLabel(De)+"  ";this.drawAxisLabelY(d,me,Re,ve,ye)}I.next()}if(this.showZAxis){for(d.lineWidth=1,(I=new b(ae.min,ae.max,this.zStep,void 0===this.defaultZStep)).start(!0),H=be.x>0?de.min:de.max,z=be.y<0?re.min:re.max;!I.end();){var Fe=I.getCurrent(),Ke=new A(H,z,Fe),Ut=this._convert3Dto2D(Ke);w=new _(Ut.x-ye,Ut.y),this._line(d,Ut,w,this.axisColor);var Qt=this.zValueLabel(Fe)+" ";this.drawAxisLabelZ(d,Ke,Qt,5),I.next()}d.lineWidth=1,c=new A(H,z,ae.min),w=new A(H,z,ae.max),this._line3d(d,c,w,this.axisColor)}this.showXAxis&&(d.lineWidth=1,qe=new A(de.min,re.min,ae.min),ft=new A(de.max,re.min,ae.min),this._line3d(d,qe,ft,this.axisColor),qe=new A(de.min,re.max,ae.min),ft=new A(de.max,re.max,ae.min),this._line3d(d,qe,ft,this.axisColor)),this.showYAxis&&(d.lineWidth=1,c=new A(de.min,re.min,ae.min),w=new A(de.min,re.max,ae.min),this._line3d(d,c,w,this.axisColor),c=new A(de.max,re.min,ae.min),w=new A(de.max,re.max,ae.min),this._line3d(d,c,w,this.axisColor));var Vt=this.xLabel;Vt.length>0&&this.showXAxis&&(te=.1/this.scale.y,V=new A(H=(de.max+3*de.min)/4,z=be.x>0?re.min-te:re.max+te,ae.min),this.drawAxisLabelX(d,V,Vt,ve));var Gt=this.yLabel;Gt.length>0&&this.showYAxis&&(J=.1/this.scale.x,V=new A(H=be.y>0?de.min-J:de.max+J,z=(re.max+3*re.min)/4,ae.min),this.drawAxisLabelY(d,V,Gt,ve));var tn=this.zLabel;tn.length>0&&this.showZAxis&&(30,V=new A(H=be.x>0?de.min:de.max,z=be.y<0?re.min:re.max,(ae.max+3*ae.min)/4),this.drawAxisLabelZ(d,V,tn,30))},l.prototype._hsv2rgb=function(d,c,w){var I,N,V,H,z,U;switch(H=w*c,z=Math.floor(d/60),U=H*(1-Math.abs(d/60%2-1)),z){case 0:I=H,N=U,V=0;break;case 1:I=U,N=H,V=0;break;case 2:I=0,N=H,V=U;break;case 3:I=0,N=U,V=H;break;case 4:I=U,N=0,V=H;break;case 5:I=H,N=0,V=U;break;default:I=0,N=0,V=0}return"RGB("+parseInt(255*I)+","+parseInt(255*N)+","+parseInt(255*V)+")"},l.prototype._getStrokeWidth=function(d){return void 0!==d?this.showPerspective?1/-d.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},l.prototype._redrawBar=function(d,c,w,I,N,V){var H,z=this,U=c.point,$=this.zRange.min,J=[{point:new A(U.x-w,U.y-I,U.z)},{point:new A(U.x+w,U.y-I,U.z)},{point:new A(U.x+w,U.y+I,U.z)},{point:new A(U.x-w,U.y+I,U.z)}],te=[{point:new A(U.x-w,U.y-I,$)},{point:new A(U.x+w,U.y-I,$)},{point:new A(U.x+w,U.y+I,$)},{point:new A(U.x-w,U.y+I,$)}];J.forEach(function(be){be.screen=z._convert3Dto2D(be.point)}),te.forEach(function(be){be.screen=z._convert3Dto2D(be.point)});var ie=[{corners:J,center:A.avg(te[0].point,te[2].point)},{corners:[J[0],J[1],te[1],te[0]],center:A.avg(te[1].point,te[0].point)},{corners:[J[1],J[2],te[2],te[1]],center:A.avg(te[2].point,te[1].point)},{corners:[J[2],J[3],te[3],te[2]],center:A.avg(te[3].point,te[2].point)},{corners:[J[3],J[0],te[0],te[3]],center:A.avg(te[0].point,te[3].point)}];c.surfaces=ie;for(var ue=0;ue<ie.length;ue++){var ye=this._convertPointToTranslation((H=ie[ue]).center);H.dist=this.showPerspective?ye.length():-ye.z}ie.sort(function(be,de){return de.dist-be.dist||(be.corners===J?1:de.corners===J?-1:0)}),d.lineWidth=this._getStrokeWidth(c),d.strokeStyle=V,d.fillStyle=N;for(var ve=2;ve<ie.length;ve++)this._polygon(d,(H=ie[ve]).corners)},l.prototype._polygon=function(d,c,w,I){if(!(c.length<2)){void 0!==w&&(d.fillStyle=w),void 0!==I&&(d.strokeStyle=I),d.beginPath(),d.moveTo(c[0].screen.x,c[0].screen.y);for(var N=1;N<c.length;++N){var V=c[N];d.lineTo(V.screen.x,V.screen.y)}d.closePath(),d.fill(),d.stroke()}},l.prototype._drawCircle=function(d,c,w,I,N){var V=this._calcRadius(c,N);d.lineWidth=this._getStrokeWidth(c),d.strokeStyle=I,d.fillStyle=w,d.beginPath(),d.arc(c.screen.x,c.screen.y,V,0,2*Math.PI,!0),d.fill(),d.stroke()},l.prototype._getColorsRegular=function(d){var c=240*(1-(d.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(c,1,1),border:this._hsv2rgb(c,1,.8)}},l.prototype._getColorsColor=function(d){var c,w;if("string"==typeof d.point.value)c=d.point.value,w=d.point.value;else{var I=240*(1-(d.point.value-this.valueRange.min)*this.scale.value);c=this._hsv2rgb(I,1,1),w=this._hsv2rgb(I,1,.8)}return{fill:c,border:w}},l.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},l.prototype._calcRadius=function(d,c){var w;return void 0===c&&(c=this._dotSize()),(w=this.showPerspective?c/-d.trans.z:c*(-this.eye.z/this.camera.getArmLength()))<0&&(w=0),w},l.prototype._redrawBarGraphPoint=function(d,c){var w=this.xBarWidth/2,I=this.yBarWidth/2,N=this._getColorsRegular(c);this._redrawBar(d,c,w,I,N.fill,N.border)},l.prototype._redrawBarColorGraphPoint=function(d,c){var w=this.xBarWidth/2,I=this.yBarWidth/2,N=this._getColorsColor(c);this._redrawBar(d,c,w,I,N.fill,N.border)},l.prototype._redrawBarSizeGraphPoint=function(d,c){var w=(c.point.value-this.valueRange.min)/this.valueRange.range(),I=this.xBarWidth/2*(.8*w+.2),N=this.yBarWidth/2*(.8*w+.2),V=this._getColorsSize();this._redrawBar(d,c,I,N,V.fill,V.border)},l.prototype._redrawDotGraphPoint=function(d,c){var w=this._getColorsRegular(c);this._drawCircle(d,c,w.fill,w.border)},l.prototype._redrawDotLineGraphPoint=function(d,c){var w=this._convert3Dto2D(c.bottom);d.lineWidth=1,this._line(d,w,c.screen,this.gridColor),this._redrawDotGraphPoint(d,c)},l.prototype._redrawDotColorGraphPoint=function(d,c){var w=this._getColorsColor(c);this._drawCircle(d,c,w.fill,w.border)},l.prototype._redrawDotSizeGraphPoint=function(d,c){var w=this._dotSize(),I=(c.point.value-this.valueRange.min)/this.valueRange.range(),N=w*this.dotSizeMinFraction,H=N+(w*this.dotSizeMaxFraction-N)*I,z=this._getColorsSize();this._drawCircle(d,c,z.fill,z.border,H)},l.prototype._redrawSurfaceGraphPoint=function(d,c){var w=c.pointRight,I=c.pointTop,N=c.pointCross;if(void 0!==c&&void 0!==w&&void 0!==I&&void 0!==N){var H,z,V=!0;if(this.showGrayBottom||this.showShadow){var U=A.subtract(N.trans,c.trans),$=A.subtract(I.trans,w.trans),J=A.crossProduct(U,$),te=J.length();V=J.z>0}if(V){var ve,ue=240*(1-((c.point.z+w.point.z+I.point.z+N.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(ve=Math.min(1+J.x/te/2,1),z=H=this._hsv2rgb(ue,1,ve)):(H=this._hsv2rgb(ue,1,ve=1),z=this.axisColor)}else H="gray",z=this.axisColor;d.lineWidth=this._getStrokeWidth(c),this._polygon(d,[c,w,N,I],H,z)}},l.prototype._drawGridLine=function(d,c,w){if(void 0!==c&&void 0!==w){var N=240*(1-((c.point.z+w.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);d.lineWidth=2*this._getStrokeWidth(c),d.strokeStyle=this._hsv2rgb(N,1,1),this._line(d,c.screen,w.screen)}},l.prototype._redrawGridGraphPoint=function(d,c){this._drawGridLine(d,c,c.pointRight),this._drawGridLine(d,c,c.pointTop)},l.prototype._redrawLineGraphPoint=function(d,c){void 0!==c.pointNext&&(d.lineWidth=this._getStrokeWidth(c),d.strokeStyle=this.dataColor.stroke,this._line(d,c.screen,c.pointNext.screen))},l.prototype._redrawDataGraph=function(){var c,d=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),c=0;c<this.dataPoints.length;c++)this._pointDrawingMethod.call(this,d,this.dataPoints[c])},l.prototype._storeMousePosition=function(d){this.startMouseX=p(d),this.startMouseY=M(d),this._startCameraOffset=this.camera.getOffset()},l.prototype._onMouseDown=function(d){if(d=d||window.event,this.leftButtonDown&&this._onMouseUp(d),this.leftButtonDown=d.which?1===d.which:1===d.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(d),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var c=this;this.onmousemove=function(w){c._onMouseMove(w)},this.onmouseup=function(w){c._onMouseUp(w)},T.addEventListener(document,"mousemove",c.onmousemove),T.addEventListener(document,"mouseup",c.onmouseup),T.preventDefault(d)}},l.prototype._onMouseMove=function(d){this.moving=!0,d=d||window.event;var c=parseFloat(p(d))-this.startMouseX,w=parseFloat(M(d))-this.startMouseY;if(d&&!0===d.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-c/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+w/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(d);else{var z=this.startArmRotation.horizontal+c/200,U=this.startArmRotation.vertical+w/200,J=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(z))<J&&(z=Math.round(z/Math.PI)*Math.PI-.001),Math.abs(Math.cos(z))<J&&(z=(Math.round(z/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(U))<J&&(U=Math.round(U/Math.PI)*Math.PI),Math.abs(Math.cos(U))<J&&(U=(Math.round(U/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(z,U)}this.redraw();var te=this.getCameraPosition();this.emit("cameraPositionChange",te),T.preventDefault(d)},l.prototype._onMouseUp=function(d){this.frame.style.cursor="auto",this.leftButtonDown=!1,T.removeEventListener(document,"mousemove",this.onmousemove),T.removeEventListener(document,"mouseup",this.onmouseup),T.preventDefault(d)},l.prototype._onClick=function(d){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var c=this.frame.getBoundingClientRect(),w=p(d)-c.left,I=M(d)-c.top,N=this._dataPointFromXY(w,I);N&&this.onclick_callback(N.point.data)}T.preventDefault(d)}},l.prototype._onTooltip=function(d){var w=this.frame.getBoundingClientRect(),I=p(d)-w.left,N=M(d)-w.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var V=this._dataPointFromXY(I,N);V!==this.tooltip.dataPoint&&(V?this._showTooltip(V):this._hideTooltip())}else{var H=this;this.tooltipTimeout=setTimeout(function(){H.tooltipTimeout=null;var z=H._dataPointFromXY(I,N);z&&H._showTooltip(z)},300)}}},l.prototype._onTouchStart=function(d){this.touchDown=!0;var c=this;this.ontouchmove=function(w){c._onTouchMove(w)},this.ontouchend=function(w){c._onTouchEnd(w)},T.addEventListener(document,"touchmove",c.ontouchmove),T.addEventListener(document,"touchend",c.ontouchend),this._onMouseDown(d)},l.prototype._onTouchMove=function(d){this._onMouseMove(d)},l.prototype._onTouchEnd=function(d){this.touchDown=!1,T.removeEventListener(document,"touchmove",this.ontouchmove),T.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(d)},l.prototype._onWheel=function(d){d||(d=window.event);var c=0;if(d.wheelDelta?c=d.wheelDelta/120:d.detail&&(c=-d.detail/3),c){var w=this.camera.getArmLength();this.camera.setArmLength(w*(1-c/10)),this.redraw(),this._hideTooltip()}var N=this.getCameraPosition();this.emit("cameraPositionChange",N),T.preventDefault(d)},l.prototype._insideTriangle=function(d,c){var w=c[0],I=c[1],N=c[2];function V($){return $>0?1:$<0?-1:0}var H=V((I.x-w.x)*(d.y-w.y)-(I.y-w.y)*(d.x-w.x)),z=V((N.x-I.x)*(d.y-I.y)-(N.y-I.y)*(d.x-I.x)),U=V((w.x-N.x)*(d.y-N.y)-(w.y-N.y)*(d.x-N.x));return!(0!=H&&0!=z&&H!=z||0!=z&&0!=U&&z!=U||0!=H&&0!=U&&H!=U)},l.prototype._dataPointFromXY=function(d,c){var w,N=null,V=null,H=null,z=new _(d,c);if(this.style===l.STYLE.BAR||this.style===l.STYLE.BARCOLOR||this.style===l.STYLE.BARSIZE)for(w=this.dataPoints.length-1;w>=0;w--){var U=(N=this.dataPoints[w]).surfaces;if(U)for(var $=U.length-1;$>=0;$--){var te=U[$].corners,ue=[te[2].screen,te[3].screen,te[0].screen];if(this._insideTriangle(z,[te[0].screen,te[1].screen,te[2].screen])||this._insideTriangle(z,ue))return N}}else for(w=0;w<this.dataPoints.length;w++){var ye=(N=this.dataPoints[w]).screen;if(ye){var ve=Math.abs(d-ye.x),be=Math.abs(c-ye.y),de=Math.sqrt(ve*ve+be*be);(null===H||de<H)&&de<100&&(H=de,V=N)}}return V},l.prototype.hasBars=function(d){return d==l.STYLE.BAR||d==l.STYLE.BARCOLOR||d==l.STYLE.BARSIZE},l.prototype._showTooltip=function(d){var c,w,I;this.tooltip?(c=this.tooltip.dom.content,w=this.tooltip.dom.line,I=this.tooltip.dom.dot):(c=document.createElement("div"),(0,y.default)(c.style,{},this.tooltipStyle.content),c.style.position="absolute",w=document.createElement("div"),(0,y.default)(w.style,{},this.tooltipStyle.line),w.style.position="absolute",I=document.createElement("div"),(0,y.default)(I.style,{},this.tooltipStyle.dot),I.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:c,line:w,dot:I}}),this._hideTooltip(),this.tooltip.dataPoint=d,c.innerHTML="function"==typeof this.showTooltip?this.showTooltip(d.point):"<table><tr><td>"+this.xLabel+":</td><td>"+d.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+d.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+d.point.z+"</td></tr></table>",c.style.left="0",c.style.top="0",this.frame.appendChild(c),this.frame.appendChild(w),this.frame.appendChild(I);var N=c.offsetWidth,V=c.offsetHeight,H=w.offsetHeight,z=I.offsetWidth,U=I.offsetHeight,$=d.screen.x-N/2;$=Math.min(Math.max($,10),this.frame.clientWidth-10-N),w.style.left=d.screen.x+"px",w.style.top=d.screen.y-H+"px",c.style.left=$+"px",c.style.top=d.screen.y-H-V+"px",I.style.left=d.screen.x-z/2+"px",I.style.top=d.screen.y-U/2+"px"},l.prototype._hideTooltip=function(){if(this.tooltip)for(var d in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(d)){var c=this.tooltip.dom[d];c&&c.parentNode&&c.parentNode.removeChild(c)}},l.prototype.setCameraPosition=function(d){C.setCameraPosition(d,this),this.redraw()},l.prototype.setSize=function(d,c){this._setSize(d,c),this.redraw()},Y.exports=l},function(Y,L,D){D(163),Y.exports=D(7).Object.assign},function(Y,L,D){var R=D(17);R(R.S+R.F,"Object",{assign:D(164)})},function(Y,L,D){var R=D(33),y=D(63),x=D(42),E=D(41),T=D(78),A=Object.assign;Y.exports=!A||D(28)(function(){var _={},O={},b=Symbol(),C="abcdefghijklmnopqrst";return _[b]=7,C.split("").forEach(function(v){O[v]=v}),7!=A({},_)[b]||Object.keys(A({},O)).join("")!=C})?function(O,b){for(var C=E(O),v=arguments.length,m=1,h=y.f,S=x.f;v>m;)for(var p,a=T(arguments[m++]),f=h?R(a).concat(h(a)):R(a),u=f.length,l=0;u>l;)S.call(a,p=f[l++])&&(C[p]=a[p]);return C}:A},function(Y,L,D){Y.exports={default:D(166),__esModule:!0}},function(Y,L,D){D(167),Y.exports=D(7).Math.sign},function(Y,L,D){var R=D(17);R(R.S,"Math",{sign:D(168)})},function(Y,L){Y.exports=Math.sign||function(R){return 0==(R=+R)||R!=R?R:R<0?-1:1}},function(Y,L,D){Y.exports={default:D(170),__esModule:!0}},function(Y,L,D){D(171);var R=D(7).Object;Y.exports=function(x,E,T){return R.defineProperty(x,E,T)}},function(Y,L,D){var R=D(17);R(R.S+R.F*!D(21),"Object",{defineProperty:D(20).f})},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var R="string",y="boolean",x="number",E="object",T={fill:{string:R},stroke:{string:R},strokeWidth:{number:x},__type__:{string:R,object:E,undefined:"undefined"}};L.allOptions={animationAutoStart:{boolean:y,undefined:"undefined"},animationInterval:{number:x},animationPreload:{boolean:y},axisColor:{string:R},backgroundColor:T,xBarWidth:{number:x,undefined:"undefined"},yBarWidth:{number:x,undefined:"undefined"},cameraPosition:{distance:{number:x},horizontal:{number:x},vertical:{number:x},__type__:{object:E}},xCenter:{string:R},yCenter:{string:R},dataColor:T,dotSizeMinFraction:{number:x},dotSizeMaxFraction:{number:x},dotSizeRatio:{number:x},filterLabel:{string:R},gridColor:{string:R},onclick:{function:"function"},keepAspectRatio:{boolean:y},xLabel:{string:R},yLabel:{string:R},zLabel:{string:R},legendLabel:{string:R},xMin:{number:x,undefined:"undefined"},yMin:{number:x,undefined:"undefined"},zMin:{number:x,undefined:"undefined"},xMax:{number:x,undefined:"undefined"},yMax:{number:x,undefined:"undefined"},zMax:{number:x,undefined:"undefined"},showAnimationControls:{boolean:y,undefined:"undefined"},showGrid:{boolean:y},showLegend:{boolean:y,undefined:"undefined"},showPerspective:{boolean:y},showShadow:{boolean:y},showXAxis:{boolean:y},showYAxis:{boolean:y},showZAxis:{boolean:y},xStep:{number:x,undefined:"undefined"},yStep:{number:x,undefined:"undefined"},zStep:{number:x,undefined:"undefined"},style:{number:x,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:y,function:"function"},tooltipStyle:{content:{color:{string:R},background:{string:R},border:{string:R},borderRadius:{string:R},boxShadow:{string:R},padding:{string:R},__type__:{object:E}},line:{borderLeft:{string:R},height:{string:R},width:{string:R},__type__:{object:E}},dot:{border:{string:R},borderRadius:{string:R},height:{string:R},width:{string:R},__type__:{object:E}},__type__:{object:E}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:x,undefined:"undefined"},valueMin:{number:x,undefined:"undefined"},verticalRatio:{number:x},height:{string:R},width:{string:R},__type__:{object:E}}},function(Y,L,D){var R=D(11),y=D(12),x=D(174),E=D(96),T=D(94),A=D(34);function _(){this.dataTable=null}_.prototype.initializeData=function(O,b,C){if(void 0!==b){var v;if(Array.isArray(b)&&(b=new R(b)),!(b instanceof R||b instanceof y))throw new Error("Array, DataSet, or DataView expected");if(0!=(v=b.get()).length){this.style=C,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=b,this.dataTable=v;var m=this;this._onChange=function(){O.setData(m.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var h=O.hasBars(C);if(h&&(this.xBarWidth=void 0!==O.defaultXBarWidth?O.defaultXBarWidth:this.getSmallestDifference(v,this.colX)||1,this.yBarWidth=void 0!==O.defaultYBarWidth?O.defaultYBarWidth:this.getSmallestDifference(v,this.colY)||1),this._initializeRange(v,this.colX,O,h),this._initializeRange(v,this.colY,O,h),this._initializeRange(v,this.colZ,O,!1),v[0].hasOwnProperty("style")){this.colValue="style";var S=this.getColumnRange(v,this.colValue);this._setRangeDefaults(S,O.defaultValueMin,O.defaultValueMax),this.valueRange=S}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new E(this,"filter",O),this.dataFilter.setOnLoadCallback(function(){O.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},_.prototype._collectRangeSettings=function(O,b){if(-1==["x","y","z"].indexOf(O))throw new Error("Column '"+O+"' invalid");var v=O.toUpperCase();return{barWidth:this[O+"BarWidth"],min:b["default"+v+"Min"],max:b["default"+v+"Max"],step:b["default"+v+"Step"],range_label:O+"Range",step_label:O+"Step"}},_.prototype._initializeRange=function(O,b,C,v){var h=this._collectRangeSettings(b,C),S=this.getColumnRange(O,b);v&&"z"!=b&&S.expand(h.barWidth/2),this._setRangeDefaults(S,h.min,h.max),this[h.range_label]=S,this[h.step_label]=void 0!==h.step?h.step:S.range()/5},_.prototype.getDistinctValues=function(O,b){void 0===b&&(b=this.dataTable);for(var C=[],v=0;v<b.length;v++){var m=b[v][O]||0;-1===C.indexOf(m)&&C.push(m)}return C.sort(function(h,S){return h-S})},_.prototype.getSmallestDifference=function(O,b){for(var C=this.getDistinctValues(O,b),v=null,m=1;m<C.length;m++){var h=C[m]-C[m-1];(null==v||v>h)&&(v=h)}return v},_.prototype.getColumnRange=function(O,b){for(var C=new x,v=0;v<O.length;v++)C.adjust(O[v][b]);return C},_.prototype.getNumberOfRows=function(){return this.dataTable.length},_.prototype._setRangeDefaults=function(O,b,C){void 0!==b&&(O.min=b),void 0!==C&&(O.max=C),O.max<=O.min&&(O.max=O.min+1)},_.prototype.getDataTable=function(){return this.dataTable},_.prototype.getDataSet=function(){return this.dataSet},_.prototype.getDataPoints=function(O){for(var b=[],C=0;C<O.length;C++){var v=new A;v.x=O[C][this.colX]||0,v.y=O[C][this.colY]||0,v.z=O[C][this.colZ]||0,v.data=O[C],void 0!==this.colValue&&(v.value=O[C][this.colValue]||0);var m={};m.point=v,m.bottom=new A(v.x,v.y,this.zRange.min),m.trans=void 0,m.screen=void 0,b.push(m)}return b},_.prototype.initDataAsMatrix=function(O){var b,C,v,m,h=this.getDistinctValues(this.colX,O),S=this.getDistinctValues(this.colY,O),a=this.getDataPoints(O),f=[];for(v=0;v<a.length;v++){var u=h.indexOf((m=a[v]).point.x),l=S.indexOf(m.point.y);void 0===f[u]&&(f[u]=[]),f[u][l]=m}for(b=0;b<f.length;b++)for(C=0;C<f[b].length;C++)f[b][C]&&(f[b][C].pointRight=b<f.length-1?f[b+1][C]:void 0,f[b][C].pointTop=C<f[b].length-1?f[b][C+1]:void 0,f[b][C].pointCross=b<f.length-1&&C<f[b].length-1?f[b+1][C+1]:void 0);return a},_.prototype.getInfo=function(){var O=this.dataFilter;if(O)return O.getLabel()+": "+O.getSelectedValue()},_.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},_.prototype._getDataPoints=function(O){var b=[];if(this.style===T.STYLE.GRID||this.style===T.STYLE.SURFACE)b=this.initDataAsMatrix(O);else if(this._checkValueField(O),b=this.getDataPoints(O),this.style===T.STYLE.LINE)for(var C=0;C<b.length;C++)C>0&&(b[C-1].pointNext=b[C]);return b},_.prototype._checkValueField=function(O){if(this.style===T.STYLE.BARCOLOR||this.style===T.STYLE.BARSIZE||this.style===T.STYLE.DOTCOLOR||this.style===T.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===O[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},Y.exports=_},function(Y,L,D){function R(){this.min=void 0,this.max=void 0}R.prototype.adjust=function(y){void 0!==y&&((void 0===this.min||this.min>y)&&(this.min=y),(void 0===this.max||this.max<y)&&(this.max=y))},R.prototype.combine=function(y){this.add(y.min),this.add(y.max)},R.prototype.expand=function(y){if(void 0!==y){var x=this.min-y,E=this.max+y;if(x>E)throw new Error("Passed expansion value makes range invalid");this.min=x,this.max=E}},R.prototype.range=function(){return this.max-this.min},R.prototype.center=function(){return(this.min+this.max)/2},Y.exports=R},function(Y,L,D){var R,x;void 0!==(x="function"==typeof(R=function(){var E=null;return function T(A,_){var O=_||{preventDefault:!1};if(A.Manager){var b=A,C=function(a,f){var u=Object.create(O);return f&&b.assign(u,f),T(new b(a,u),u)};return b.assign(C,b),C.Manager=function(a,f){var u=Object.create(O);return f&&b.assign(u,f),T(new b.Manager(a,u),u)},C}var v=Object.create(A),m=A.element;function h(a){return a.match(/[^ ]+/g)}function S(a){if("hammer.input"!==a.type){if(a.srcEvent._handled||(a.srcEvent._handled={}),a.srcEvent._handled[a.type])return;a.srcEvent._handled[a.type]=!0}var f=!1;a.stopPropagation=function(){f=!0};var u=a.srcEvent.stopPropagation.bind(a.srcEvent);"function"==typeof u&&(a.srcEvent.stopPropagation=function(){u(),a.stopPropagation()}),a.firstTarget=E;for(var l=E;l&&!f;){var p=l.hammer;if(p)for(var M,d=0;d<p.length;d++)if(M=p[d]._handlers[a.type])for(var c=0;c<M.length&&!f;c++)M[c](a);l=l.parentNode}}return m.hammer||(m.hammer=[]),m.hammer.push(v),A.on("hammer.input",function(a){(!0===O.preventDefault||O.preventDefault===a.pointerType)&&a.preventDefault(),a.isFirst&&(E=a.target)}),v._handlers={},v.on=function(a,f){return h(a).forEach(function(u){var l=v._handlers[u];l||(v._handlers[u]=l=[],A.on(u,S)),l.push(f)}),v},v.off=function(a,f){return h(a).forEach(function(u){var l=v._handlers[u];l&&((l=f?l.filter(function(p){return p!==f}):[]).length>0?v._handlers[u]=l:(A.off(u,S),delete v._handlers[u]))}),v},v.emit=function(a,f){E=f.target,A.emit(a,f)},v.destroy=function(){var a=A.element.hammer,f=a.indexOf(v);-1!==f&&a.splice(f,1),a.length||delete A.element.hammer,v._handlers={},A.destroy()},v}})?R.apply(L,[]):R)&&(Y.exports=x)},function(Y,L,D){var R;!function(y,x,E,T){var f,A=["","webkit","Moz","MS","ms","o"],_=x.createElement("div"),b=Math.round,C=Math.abs,v=Date.now;function m(Z,q,se){return setTimeout(M(Z,se),q)}function h(Z,q,se){return!!Array.isArray(Z)&&(S(Z,se[q],se),!0)}function S(Z,q,se){var ge;if(Z)if(Z.forEach)Z.forEach(q,se);else if(Z.length!==T)for(ge=0;ge<Z.length;)q.call(se,Z[ge],ge,Z),ge++;else for(ge in Z)Z.hasOwnProperty(ge)&&q.call(se,Z[ge],ge,Z)}function a(Z,q,se){var ge="DEPRECATED METHOD: "+q+"\n"+se+" AT \n";return function(){var Me=new Error("get-stack-trace"),Te=Me&&Me.stack?Me.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",bt=y.console&&(y.console.warn||y.console.log);return bt&&bt.call(y.console,ge,Te),Z.apply(this,arguments)}}f="function"!=typeof Object.assign?function(q){if(q===T||null===q)throw new TypeError("Cannot convert undefined or null to object");for(var se=Object(q),ge=1;ge<arguments.length;ge++){var Me=arguments[ge];if(Me!==T&&null!==Me)for(var Te in Me)Me.hasOwnProperty(Te)&&(se[Te]=Me[Te])}return se}:Object.assign;var u=a(function(q,se,ge){for(var Me=Object.keys(se),Te=0;Te<Me.length;)(!ge||ge&&q[Me[Te]]===T)&&(q[Me[Te]]=se[Me[Te]]),Te++;return q},"extend","Use `assign`."),l=a(function(q,se){return u(q,se,!0)},"merge","Use `assign`.");function p(Z,q,se){var Me,ge=q.prototype;(Me=Z.prototype=Object.create(ge)).constructor=Z,Me._super=ge,se&&f(Me,se)}function M(Z,q){return function(){return Z.apply(q,arguments)}}function d(Z,q){return"function"==typeof Z?Z.apply(q&&q[0]||T,q):Z}function c(Z,q){return Z===T?q:Z}function w(Z,q,se){S(H(q),function(ge){Z.addEventListener(ge,se,!1)})}function I(Z,q,se){S(H(q),function(ge){Z.removeEventListener(ge,se,!1)})}function N(Z,q){for(;Z;){if(Z==q)return!0;Z=Z.parentNode}return!1}function V(Z,q){return Z.indexOf(q)>-1}function H(Z){return Z.trim().split(/\s+/g)}function z(Z,q,se){if(Z.indexOf&&!se)return Z.indexOf(q);for(var ge=0;ge<Z.length;){if(se&&Z[ge][se]==q||!se&&Z[ge]===q)return ge;ge++}return-1}function U(Z){return Array.prototype.slice.call(Z,0)}function $(Z,q,se){for(var ge=[],Me=[],Te=0;Te<Z.length;){var bt=q?Z[Te][q]:Z[Te];z(Me,bt)<0&&ge.push(Z[Te]),Me[Te]=bt,Te++}return se&&(ge=q?ge.sort(function(nn,ot){return nn[q]>ot[q]}):ge.sort()),ge}function J(Z,q){for(var se,ge,Me=q[0].toUpperCase()+q.slice(1),Te=0;Te<A.length;){if((ge=(se=A[Te])?se+Me:q)in Z)return ge;Te++}return T}var te=1;function ue(Z){var q=Z.ownerDocument||Z;return q.defaultView||q.parentWindow||y}var ve="ontouchstart"in y,be=J(y,"PointerEvent")!==T,de=ve&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),re="touch",me="mouse",ze=["x","y"],Oe=["clientX","clientY"];function Pe(Z,q){var se=this;this.manager=Z,this.callback=q,this.element=Z.element,this.target=Z.options.inputTarget,this.domHandler=function(ge){d(Z.options.enable,[Z])&&se.handler(ge)},this.init()}function pt(Z,q,se){var ge=se.pointers.length,Me=se.changedPointers.length,Te=1&q&&ge-Me==0,bt=12&q&&ge-Me==0;se.isFirst=!!Te,se.isFinal=!!bt,Te&&(Z.session={}),se.eventType=q,function(Z,q){var se=Z.session,ge=q.pointers,Me=ge.length;se.firstInput||(se.firstInput=io(q)),Me>1&&!se.firstMultiple?se.firstMultiple=io(q):1===Me&&(se.firstMultiple=!1);var Te=se.firstInput,bt=se.firstMultiple,An=bt?bt.center:Te.center,nn=q.center=ro(ge);q.timeStamp=v(),q.deltaTime=q.timeStamp-Te.timeStamp,q.angle=Bo(An,nn),q.distance=Ln(An,nn),function(Z,q){var se=q.center,ge=Z.offsetDelta||{},Me=Z.prevDelta||{},Te=Z.prevInput||{};(1===q.eventType||4===Te.eventType)&&(Me=Z.prevDelta={x:Te.deltaX||0,y:Te.deltaY||0},ge=Z.offsetDelta={x:se.x,y:se.y}),q.deltaX=Me.x+(se.x-ge.x),q.deltaY=Me.y+(se.y-ge.y)}(se,q),q.offsetDirection=Vo(q.deltaX,q.deltaY);var ot=so(q.deltaTime,q.deltaX,q.deltaY);q.overallVelocityX=ot.x,q.overallVelocityY=ot.y,q.overallVelocity=C(ot.x)>C(ot.y)?ot.x:ot.y,q.scale=bt?function(Z,q){return Ln(q[0],q[1],Oe)/Ln(Z[0],Z[1],Oe)}(bt.pointers,ge):1,q.rotation=bt?function(Z,q){return Bo(q[1],q[0],Oe)+Bo(Z[1],Z[0],Oe)}(bt.pointers,ge):0,q.maxPointers=se.prevInput?q.pointers.length>se.prevInput.maxPointers?q.pointers.length:se.prevInput.maxPointers:q.pointers.length,function(Z,q){var Me,Te,bt,An,se=Z.lastInterval||q,ge=q.timeStamp-se.timeStamp;if(8!=q.eventType&&(ge>25||se.velocity===T)){var nn=q.deltaX-se.deltaX,ot=q.deltaY-se.deltaY,ii=so(ge,nn,ot);Te=ii.x,bt=ii.y,Me=C(ii.x)>C(ii.y)?ii.x:ii.y,An=Vo(nn,ot),Z.lastInterval=q}else Me=se.velocity,Te=se.velocityX,bt=se.velocityY,An=se.direction;q.velocity=Me,q.velocityX=Te,q.velocityY=bt,q.direction=An}(se,q);var ii=Z.element;N(q.srcEvent.target,ii)&&(ii=q.srcEvent.target),q.target=ii}(Z,se),Z.emit("hammer.input",se),Z.recognize(se),Z.session.prevInput=se}function io(Z){for(var q=[],se=0;se<Z.pointers.length;)q[se]={clientX:b(Z.pointers[se].clientX),clientY:b(Z.pointers[se].clientY)},se++;return{timeStamp:v(),pointers:q,center:ro(q),deltaX:Z.deltaX,deltaY:Z.deltaY}}function ro(Z){var q=Z.length;if(1===q)return{x:b(Z[0].clientX),y:b(Z[0].clientY)};for(var se=0,ge=0,Me=0;Me<q;)se+=Z[Me].clientX,ge+=Z[Me].clientY,Me++;return{x:b(se/q),y:b(ge/q)}}function so(Z,q,se){return{x:q/Z||0,y:se/Z||0}}function Vo(Z,q){return Z===q?1:C(Z)>=C(q)?Z<0?2:4:q<0?8:16}function Ln(Z,q,se){se||(se=ze);var ge=q[se[0]]-Z[se[0]],Me=q[se[1]]-Z[se[1]];return Math.sqrt(ge*ge+Me*Me)}function Bo(Z,q,se){return se||(se=ze),180*Math.atan2(q[se[1]]-Z[se[1]],q[se[0]]-Z[se[0]])/Math.PI}Pe.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(ue(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(ue(this.element),this.evWin,this.domHandler)}};var jt={mousedown:1,mousemove:2,mouseup:4},Ia="mousedown",Aa="mousemove mouseup";function vt(){this.evEl=Ia,this.evWin=Aa,this.pressed=!1,Pe.apply(this,arguments)}p(vt,Pe,{handler:function(q){var se=jt[q.type];1&se&&0===q.button&&(this.pressed=!0),2&se&&1!==q.which&&(se=4),this.pressed&&(4&se&&(this.pressed=!1),this.callback(this.manager,se,{pointers:[q],changedPointers:[q],pointerType:me,srcEvent:q}))}});var Os={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},st={2:re,3:"pen",4:me,5:"kinect"},ao="pointerdown",Is="pointermove pointerup pointercancel";function Pt(){this.evEl=ao,this.evWin=Is,Pe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y.MSPointerEvent&&!y.PointerEvent&&(ao="MSPointerDown",Is="MSPointerMove MSPointerUp MSPointerCancel"),p(Pt,Pe,{handler:function(q){var se=this.store,ge=!1,Me=q.type.toLowerCase().replace("ms",""),Te=Os[Me],bt=st[q.pointerType]||q.pointerType,An=bt==re,nn=z(se,q.pointerId,"pointerId");1&Te&&(0===q.button||An)?nn<0&&(se.push(q),nn=se.length-1):12&Te&&(ge=!0),!(nn<0)&&(se[nn]=q,this.callback(this.manager,Te,{pointers:se,changedPointers:[q],pointerType:bt,srcEvent:q}),ge&&se.splice(nn,1))}});var Ue={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ka="touchstart",lo="touchstart touchmove touchend touchcancel";function Ii(){this.evTarget=ka,this.evWin=lo,this.started=!1,Pe.apply(this,arguments)}function Ge(Z,q){var se=U(Z.touches),ge=U(Z.changedTouches);return 12&q&&(se=$(se.concat(ge),"identifier",!0)),[se,ge]}p(Ii,Pe,{handler:function(q){var se=Ue[q.type];if(1===se&&(this.started=!0),this.started){var ge=Ge.call(this,q,se);12&se&&ge[0].length-ge[1].length==0&&(this.started=!1),this.callback(this.manager,se,{pointers:ge[0],changedPointers:ge[1],pointerType:re,srcEvent:q})}}});var zo={touchstart:1,touchmove:2,touchend:4,touchcancel:8},nt="touchstart touchmove touchend touchcancel";function $t(){this.evTarget=nt,this.targetIds={},Pe.apply(this,arguments)}function Uo(Z,q){var se=U(Z.touches),ge=this.targetIds;if(3&q&&1===se.length)return ge[se[0].identifier]=!0,[se,se];var Me,Te,bt=U(Z.changedTouches),An=[],nn=this.target;if(Te=se.filter(function(ot){return N(ot.target,nn)}),1===q)for(Me=0;Me<Te.length;)ge[Te[Me].identifier]=!0,Me++;for(Me=0;Me<bt.length;)ge[bt[Me].identifier]&&An.push(bt[Me]),12&q&&delete ge[bt[Me].identifier],Me++;return An.length?[$(Te.concat(An),"identifier",!0),An]:void 0}p($t,Pe,{handler:function(q){var se=zo[q.type],ge=Uo.call(this,q,se);!ge||this.callback(this.manager,se,{pointers:ge[0],changedPointers:ge[1],pointerType:re,srcEvent:q})}});function es(){Pe.apply(this,arguments);var Z=M(this.handler,this);this.touch=new $t(this.manager,Z),this.mouse=new vt(this.manager,Z),this.primaryTouch=null,this.lastTouches=[]}function Jt(Z,q){1&Z?(this.primaryTouch=q.changedPointers[0].identifier,Wi.call(this,q)):12&Z&&Wi.call(this,q)}function Wi(Z){var q=Z.changedPointers[0];if(q.identifier===this.primaryTouch){var se={x:q.clientX,y:q.clientY};this.lastTouches.push(se);var ge=this.lastTouches;setTimeout(function(){var Te=ge.indexOf(se);Te>-1&&ge.splice(Te,1)},2500)}}function Ai(Z){for(var q=Z.srcEvent.clientX,se=Z.srcEvent.clientY,ge=0;ge<this.lastTouches.length;ge++){var Me=this.lastTouches[ge],Te=Math.abs(q-Me.x),bt=Math.abs(se-Me.y);if(Te<=25&&bt<=25)return!0}return!1}p(es,Pe,{handler:function(q,se,ge){var Te=ge.pointerType==me;if(!(Te&&ge.sourceCapabilities&&ge.sourceCapabilities.firesTouchEvents)){if(ge.pointerType==re)Jt.call(this,se,ge);else if(Te&&Ai.call(this,ge))return;this.callback(q,se,ge)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var mn=J(_.style,"touchAction"),dn=mn!==T,Gi="compute",Ra="manipulation",ts="none",$i="pan-x",Mr="pan-y",ks=function(){if(!dn)return!1;var Z={},q=y.CSS&&y.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(se){Z[se]=!q||y.CSS.supports("touch-action",se)}),Z}();function Pa(Z,q){this.manager=Z,this.set(q)}Pa.prototype={set:function(Z){Z==Gi&&(Z=this.compute()),dn&&this.manager.element.style&&ks[Z]&&(this.manager.element.style[mn]=Z),this.actions=Z.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Z=[];return S(this.manager.recognizers,function(q){d(q.options.enable,[q])&&(Z=Z.concat(q.getTouchAction()))}),function(Z){if(V(Z,ts))return ts;var q=V(Z,$i),se=V(Z,Mr);return q&&se?ts:q||se?q?$i:Mr:V(Z,Ra)?Ra:"auto"}(Z.join(" "))},preventDefaults:function(Z){var q=Z.srcEvent,se=Z.offsetDirection;if(!this.manager.session.prevented){var ge=this.actions,Me=V(ge,ts)&&!ks[ts],Te=V(ge,Mr)&&!ks[Mr],bt=V(ge,$i)&&!ks[$i];if(Me&&1===Z.pointers.length&&Z.distance<2&&Z.deltaTime<250)return;return bt&&Te||!(Me||Te&&6&se||bt&&24&se)?void 0:this.preventSrc(q)}q.preventDefault()},preventSrc:function(Z){this.manager.session.prevented=!0,Z.preventDefault()}};function ki(Z){this.options=f({},this.defaults,Z||{}),this.id=te++,this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Na(Z){return 16&Z?"cancel":8&Z?"end":4&Z?"move":2&Z?"start":""}function jo(Z){return 16==Z?"down":8==Z?"up":2==Z?"left":4==Z?"right":""}function Ps(Z,q){var se=q.manager;return se?se.get(Z):Z}function Qn(){ki.apply(this,arguments)}function ns(){Qn.apply(this,arguments),this.pX=null,this.pY=null}function Ns(){Qn.apply(this,arguments)}function ho(){ki.apply(this,arguments),this._timer=null,this._input=null}function $e(){Qn.apply(this,arguments)}function Fs(){Qn.apply(this,arguments)}function co(){ki.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Jn(Z,q){return(q=q||{}).recognizers=c(q.recognizers,Jn.defaults.preset),new Ri(Z,q)}ki.prototype={defaults:{},set:function(Z){return f(this.options,Z),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Z){if(h(Z,"recognizeWith",this))return this;var q=this.simultaneous;return q[(Z=Ps(Z,this)).id]||(q[Z.id]=Z,Z.recognizeWith(this)),this},dropRecognizeWith:function(Z){return h(Z,"dropRecognizeWith",this)||(Z=Ps(Z,this),delete this.simultaneous[Z.id]),this},requireFailure:function(Z){if(h(Z,"requireFailure",this))return this;var q=this.requireFail;return-1===z(q,Z=Ps(Z,this))&&(q.push(Z),Z.requireFailure(this)),this},dropRequireFailure:function(Z){if(h(Z,"dropRequireFailure",this))return this;Z=Ps(Z,this);var q=z(this.requireFail,Z);return q>-1&&this.requireFail.splice(q,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Z){return!!this.simultaneous[Z.id]},emit:function(Z){var q=this,se=this.state;function ge(Me){q.manager.emit(Me,Z)}se<8&&ge(q.options.event+Na(se)),ge(q.options.event),Z.additionalEvent&&ge(Z.additionalEvent),se>=8&&ge(q.options.event+Na(se))},tryEmit:function(Z){if(this.canEmit())return this.emit(Z);this.state=32},canEmit:function(){for(var Z=0;Z<this.requireFail.length;){if(!(33&this.requireFail[Z].state))return!1;Z++}return!0},recognize:function(Z){var q=f({},Z);if(!d(this.options.enable,[this,q]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(q),30&this.state&&this.tryEmit(q)},process:function(Z){},getTouchAction:function(){},reset:function(){}},p(Qn,ki,{defaults:{pointers:1},attrTest:function(Z){var q=this.options.pointers;return 0===q||Z.pointers.length===q},process:function(Z){var q=this.state,se=Z.eventType,ge=6&q,Me=this.attrTest(Z);return ge&&(8&se||!Me)?16|q:ge||Me?4&se?8|q:2&q?4|q:2:32}}),p(ns,Qn,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var Z=this.options.direction,q=[];return 6&Z&&q.push(Mr),24&Z&&q.push($i),q},directionTest:function(Z){var q=this.options,se=!0,ge=Z.distance,Me=Z.direction,Te=Z.deltaX,bt=Z.deltaY;return Me&q.direction||(6&q.direction?(Me=0===Te?1:Te<0?2:4,se=Te!=this.pX,ge=Math.abs(Z.deltaX)):(Me=0===bt?1:bt<0?8:16,se=bt!=this.pY,ge=Math.abs(Z.deltaY))),Z.direction=Me,se&&ge>q.threshold&&Me&q.direction},attrTest:function(Z){return Qn.prototype.attrTest.call(this,Z)&&(2&this.state||!(2&this.state)&&this.directionTest(Z))},emit:function(Z){this.pX=Z.deltaX,this.pY=Z.deltaY;var q=jo(Z.direction);q&&(Z.additionalEvent=this.options.event+q),this._super.emit.call(this,Z)}}),p(Ns,Qn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ts]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.scale-1)>this.options.threshold||2&this.state)},emit:function(Z){1!==Z.scale&&(Z.additionalEvent=this.options.event+(Z.scale<1?"in":"out")),this._super.emit.call(this,Z)}}),p(ho,ki,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Z){var q=this.options,se=Z.pointers.length===q.pointers,ge=Z.distance<q.threshold,Me=Z.deltaTime>q.time;if(this._input=Z,!ge||!se||12&Z.eventType&&!Me)this.reset();else if(1&Z.eventType)this.reset(),this._timer=m(function(){this.state=8,this.tryEmit()},q.time,this);else if(4&Z.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Z){8===this.state&&(Z&&4&Z.eventType?this.manager.emit(this.options.event+"up",Z):(this._input.timeStamp=v(),this.manager.emit(this.options.event,this._input)))}}),p($e,Qn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ts]},attrTest:function(Z){return this._super.attrTest.call(this,Z)&&(Math.abs(Z.rotation)>this.options.threshold||2&this.state)}}),p(Fs,Qn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return ns.prototype.getTouchAction.call(this)},attrTest:function(Z){var se,q=this.options.direction;return 30&q?se=Z.overallVelocity:6&q?se=Z.overallVelocityX:24&q&&(se=Z.overallVelocityY),this._super.attrTest.call(this,Z)&&q&Z.offsetDirection&&Z.distance>this.options.threshold&&Z.maxPointers==this.options.pointers&&C(se)>this.options.velocity&&4&Z.eventType},emit:function(Z){var q=jo(Z.offsetDirection);q&&this.manager.emit(this.options.event+q,Z),this.manager.emit(this.options.event,Z)}}),p(co,ki,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ra]},process:function(Z){var q=this.options,se=Z.pointers.length===q.pointers,ge=Z.distance<q.threshold,Me=Z.deltaTime<q.time;if(this.reset(),1&Z.eventType&&0===this.count)return this.failTimeout();if(ge&&Me&&se){if(4!=Z.eventType)return this.failTimeout();var Te=!this.pTime||Z.timeStamp-this.pTime<q.interval,bt=!this.pCenter||Ln(this.pCenter,Z.center)<q.posThreshold;if(this.pTime=Z.timeStamp,this.pCenter=Z.center,bt&&Te?this.count+=1:this.count=1,this._input=Z,0==this.count%q.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=8,this.tryEmit()},q.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Jn.VERSION="2.0.7",Jn.defaults={domEvents:!1,touchAction:Gi,enable:!0,inputTarget:null,inputClass:null,preset:[[$e,{enable:!1}],[Ns,{enable:!1},["rotate"]],[Fs,{direction:6}],[ns,{direction:6},["swipe"]],[co],[co,{event:"doubletap",taps:2},["tap"]],[ho]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ri(Z,q){this.options=f({},Jn.defaults,q||{}),this.options.inputTarget=this.options.inputTarget||Z,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Z,this.input=function(Z){return new(Z.options.inputClass||(be?Pt:de?$t:ve?es:vt))(Z,pt)}(this),this.touchAction=new Pa(this,this.options.touchAction),In(this,!0),S(this.options.recognizers,function(se){var ge=this.add(new se[0](se[1]));se[2]&&ge.recognizeWith(se[2]),se[3]&&ge.requireFailure(se[3])},this)}function In(Z,q){var ge,se=Z.element;se.style&&(S(Z.options.cssProps,function(Me,Te){ge=J(se.style,Te),q?(Z.oldCssProps[ge]=se.style[ge],se.style[ge]=Me):se.style[ge]=Z.oldCssProps[ge]||""}),q||(Z.oldCssProps={}))}Ri.prototype={set:function(Z){return f(this.options,Z),Z.touchAction&&this.touchAction.update(),Z.inputTarget&&(this.input.destroy(),this.input.target=Z.inputTarget,this.input.init()),this},stop:function(Z){this.session.stopped=Z?2:1},recognize:function(Z){var q=this.session;if(!q.stopped){this.touchAction.preventDefaults(Z);var se,ge=this.recognizers,Me=q.curRecognizer;(!Me||Me&&8&Me.state)&&(Me=q.curRecognizer=null);for(var Te=0;Te<ge.length;)se=ge[Te],2===q.stopped||Me&&se!=Me&&!se.canRecognizeWith(Me)?se.reset():se.recognize(Z),!Me&&14&se.state&&(Me=q.curRecognizer=se),Te++}},get:function(Z){if(Z instanceof ki)return Z;for(var q=this.recognizers,se=0;se<q.length;se++)if(q[se].options.event==Z)return q[se];return null},add:function(Z){if(h(Z,"add",this))return this;var q=this.get(Z.options.event);return q&&this.remove(q),this.recognizers.push(Z),Z.manager=this,this.touchAction.update(),Z},remove:function(Z){if(h(Z,"remove",this))return this;if(Z=this.get(Z)){var q=this.recognizers,se=z(q,Z);-1!==se&&(q.splice(se,1),this.touchAction.update())}return this},on:function(Z,q){if(Z!==T&&q!==T){var se=this.handlers;return S(H(Z),function(ge){se[ge]=se[ge]||[],se[ge].push(q)}),this}},off:function(Z,q){if(Z!==T){var se=this.handlers;return S(H(Z),function(ge){q?se[ge]&&se[ge].splice(z(se[ge],q),1):delete se[ge]}),this}},emit:function(Z,q){this.options.domEvents&&function(Z,q){var se=x.createEvent("Event");se.initEvent(Z,!0,!0),se.gesture=q,q.target.dispatchEvent(se)}(Z,q);var se=this.handlers[Z]&&this.handlers[Z].slice();if(se&&se.length){q.type=Z,q.preventDefault=function(){q.srcEvent.preventDefault()};for(var ge=0;ge<se.length;)se[ge](q),ge++}},destroy:function(){this.element&&In(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},f(Jn,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ri,Input:Pe,TouchAction:Pa,TouchInput:$t,MouseInput:vt,PointerEventInput:Pt,TouchMouseInput:es,SingleTouchInput:Ii,Recognizer:ki,AttrRecognizer:Qn,Tap:co,Pan:ns,Swipe:Fs,Pinch:Ns,Rotate:$e,Press:ho,on:w,off:I,each:S,merge:l,extend:u,assign:f,inherit:p,bindFn:M,prefixed:J}),(void 0!==y?y:"undefined"!=typeof self?self:{}).Hammer=Jn,(R=function(){return Jn}.call(L,D,L,Y))!==T&&(Y.exports=R)}(window,document)},function(Y,L,D){L.util=D(2),L.DOMutil=D(14),L.DataSet=D(11),L.DataView=D(12),L.Queue=D(43),L.Timeline=D(178),L.Graph2d=D(180),L.timeline={Core:D(65),DateUtil:D(36),Range:D(64),stack:D(100),TimeStep:D(66),components:{items:{Item:D(38),BackgroundItem:D(103),BoxItem:D(101),PointItem:D(102),RangeItem:D(70)},BackgroundGroup:D(69),Component:D(16),CurrentTime:D(67),CustomTime:D(46),DataAxis:D(107),DataScale:D(108),GraphGroup:D(109),Group:D(68),ItemSet:D(99),Legend:D(112),LineGraph:D(106),TimeAxis:D(45)}},L.moment=D(9),L.Hammer=D(10),L.keycharm=D(35)},function(Y,L,D){var R=D(9),y=D(2),x=D(11),E=D(12),T=D(64),A=D(65),_=D(45),O=D(67),b=D(46),C=D(99),v=D(15).printStyle,m=D(105).allOptions,h=D(105).configureOptions,S=D(71).default,a=D(15).default;function f(M,d,c,w){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(c)||c instanceof x||c instanceof E)&&c instanceof Object){var I=w;w=c,c=I}w&&w.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var N=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:R,width:null,height:null,maxHeight:null,minHeight:null},this.options=y.deepExtend({},this.defaultOptions),this._create(M),!w||w&&void 0===w.rtl){this.dom.root.style.visibility="hidden";for(var V,H=this.dom.root;!V&&H;)V=window.getComputedStyle(H,null).direction,H=H.parentElement;this.options.rtl=V&&"rtl"==V.toLowerCase()}else this.options.rtl=w.rtl;this.options.rollingMode=w&&w.rollingMode,this.options.onInitialDrawComplete=w&&w.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return N.timeAxis.step.scale},getStep:function(){return N.timeAxis.step.step},toScreen:N._toScreen.bind(N),toGlobalScreen:N._toGlobalScreen.bind(N),toTime:N._toTime.bind(N),toGlobalTime:N._toGlobalTime.bind(N)}},this.range=new T(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new _(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new O(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new C(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(z){N.emit("click",N.getEventProperties(z))},this.dom.root.ondblclick=function(z){N.emit("doubleClick",N.getEventProperties(z))},this.dom.root.oncontextmenu=function(z){N.emit("contextmenu",N.getEventProperties(z))},this.dom.root.onmouseover=function(z){N.emit("mouseOver",N.getEventProperties(z))},window.PointerEvent?(this.dom.root.onpointerdown=function(z){N.emit("mouseDown",N.getEventProperties(z))},this.dom.root.onpointermove=function(z){N.emit("mouseMove",N.getEventProperties(z))},this.dom.root.onpointerup=function(z){N.emit("mouseUp",N.getEventProperties(z))}):(this.dom.root.onmousemove=function(z){N.emit("mouseMove",N.getEventProperties(z))},this.dom.root.onmousedown=function(z){N.emit("mouseDown",N.getEventProperties(z))},this.dom.root.onmouseup=function(z){N.emit("mouseUp",N.getEventProperties(z))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!N.initialFitDone)if(N.initialFitDone=!0,null!=N.options.start||null!=N.options.end){if(null==N.options.start||null==N.options.end)var z=N.getItemRange();N.setWindow(null!=N.options.start?N.options.start:z.min,null!=N.options.end?N.options.end:z.max,{animation:!1})}else N.fit({animation:!1});!N.initialDrawDone&&N.initialRangeChangeDone&&(N.initialDrawDone=!0,N.dom.root.style.visibility="visible",N.options.onInitialDrawComplete&&setTimeout(function(){return N.options.onInitialDrawComplete()},0))}}),w&&this.setOptions(w),c&&this.setGroups(c),d&&this.setItems(d),this._redraw()}function u(M){return y.convert(M.data.start,"Date").valueOf()}function l(M){return y.convert(null!=M.data.end?M.data.end:M.data.start,"Date").valueOf()}function p(M,d){var c=M.props.leftContainer.height,w=M.props.left.height,I=d.parent,N=I.top,V=!0,H=M.timeAxis.options.orientation.axis,z=function(){return"bottom"==H?I.height-d.top-d.height:d.top},U=-1*M._getScrollTop(),$=N+z(),J=d.height;return $<U?N+c<=N+z()+J&&(N+=z()-M.itemSet.options.margin.item.vertical):$+J>U+c?N+=z()+J-c+M.itemSet.options.margin.item.vertical:V=!1,{shouldScroll:V,scrollOffset:N=Math.min(N,w-c),itemTop:$}}(f.prototype=new A)._createConfigurator=function(){return new S(this,this.dom.container,h)},f.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},f.prototype.setOptions=function(M){if(!0===a.validate(M,m)&&console.log("%cErrors have been found in the supplied options object.",v),A.prototype.setOptions.call(this,M),"type"in M&&M.type!==this.options.type){this.options.type=M.type;var c=this.itemsData;if(c){var w=this.getSelection();this.setItems(null),this.setItems(c),this.setSelection(w)}}},f.prototype.setItems=function(M){var d;d=M?M instanceof x||M instanceof E?M:new x(M,{type:{start:"Date",end:"Date"}}):null,this.itemsData=d,this.itemSet&&this.itemSet.setItems(d)},f.prototype.setGroups=function(M){var d;if(M){var c=function(I){return!1!==I.visible};d=M instanceof x||M instanceof E?new E(M,{filter:c}):new x(M.filter(c))}else d=null;this.groupsData=d,this.itemSet.setGroups(d)},f.prototype.setData=function(M){M&&M.groups&&this.setGroups(M.groups),M&&M.items&&this.setItems(M.items)},f.prototype.setSelection=function(M,d){this.itemSet&&this.itemSet.setSelection(M),d&&d.focus&&this.focus(M,d)},f.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},f.prototype.focus=function(M,d){if(this.itemsData&&null!=M){var c=Array.isArray(M)?M:[M],w=this.itemsData.getDataSet().get(c,{type:{start:"Date",end:"Date"}}),I=null,N=null;if(w.forEach(function(ve){var be=ve.start.valueOf(),de="end"in ve?ve.end.valueOf():ve.start.valueOf();(null===I||be<I)&&(I=be),(null===N||de>N)&&(N=de)}),null!==I&&null!==N){var V=this,H=this.itemSet.items[c[0]],z=-1*this._getScrollTop(),U=null,J=function(){var be=p(V,H);be.shouldScroll&&be.itemTop!=U.itemTop&&(V._setScrollTop(-be.scrollOffset),V._redraw())},ie=(I+N)/2,ue=Math.max(this.range.end-this.range.start,1.1*(N-I)),ye=!d||void 0===d.animation||d.animation;ye||(U={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(ie-ue/2,ie+ue/2,{animation:ye},function(){J(),setTimeout(J,100)},function(be,de,re){var ae=p(V,H);if(U||(U=ae),U.itemTop!=ae.itemTop||U.shouldScroll){U.itemTop!=ae.itemTop&&ae.shouldScroll&&(U=ae,z=-1*V._getScrollTop());var Se=U.scrollOffset;V._setScrollTop(-(re?Se:z+(Se-z)*be)),de||V._redraw()}})}}},f.prototype.fit=function(M,d){var w,c=!M||void 0===M.animation||M.animation,I=this.itemsData&&this.itemsData.getDataSet();1===I.length&&void 0===I.get()[0].end?(w=this.getDataRange(),this.moveTo(w.min.valueOf(),{animation:c},d)):(w=this.getItemRange(),this.range.setRange(w.min,w.max,{animation:c},d))},f.prototype.getItemRange=function(){var M=this.getDataRange(),d=null!==M.min?M.min.valueOf():null,c=null!==M.max?M.max.valueOf():null,w=null,I=null;if(null!=d&&null!=c){var N=c-d;N<=0&&(N=10);var V=N/this.props.center.width,H={},z=0;if(y.forEach(this.itemSet.items,function(ue,ye){ue.groupShowing&&(H[ye]=ue.redraw(!0),z=H[ye].length)}),z>0)for(var $=0;$<z;$++)y.forEach(H,function(ue){ue[$]()});if(y.forEach(this.itemSet.items,function(ue){var be,de,ye=u(ue),ve=l(ue);this.options.rtl?(be=ye-(ue.getWidthRight()+10)*V,de=ve+(ue.getWidthLeft()+10)*V):(be=ye-(ue.getWidthLeft()+10)*V,de=ve+(ue.getWidthRight()+10)*V),be<d&&(d=be,w=ue),de>c&&(c=de,I=ue)}.bind(this)),w&&I){var J=w.getWidthLeft()+10,te=I.getWidthRight()+10,ie=this.props.center.width-J-te;ie>0&&(this.options.rtl?(d=u(w)-te*N/ie,c=l(I)+J*N/ie):(d=u(w)-J*N/ie,c=l(I)+te*N/ie))}}return{min:null!=d?new Date(d):null,max:null!=c?new Date(c):null}},f.prototype.getDataRange=function(){var M=null,d=null,c=this.itemsData&&this.itemsData.getDataSet();return c&&c.forEach(function(w){var I=y.convert(w.start,"Date").valueOf(),N=y.convert(null!=w.end?w.end:w.start,"Date").valueOf();(null===M||I<M)&&(M=I),(null===d||N>d)&&(d=N)}),{min:null!=M?new Date(M):null,max:null!=d?new Date(d):null}},f.prototype.getEventProperties=function(M){var w,d=M.center?M.center.x:M.clientX,c=M.center?M.center.y:M.clientY;w=this.options.rtl?y.getAbsoluteRight(this.dom.centerContainer)-d:d-y.getAbsoluteLeft(this.dom.centerContainer);var I=c-y.getAbsoluteTop(this.dom.centerContainer),N=this.itemSet.itemFromTarget(M),V=this.itemSet.groupFromTarget(M),H=b.customTimeFromTarget(M),z=this.itemSet.options.snap||null,U=this.body.util.getScale(),$=this.body.util.getStep(),J=this._toTime(w),te=z?z(J,U,$):J,ie=y.getTarget(M),ue=null;return null!=N?ue="item":null!=H?ue="custom-time":y.hasParent(ie,this.timeAxis.dom.foreground)||this.timeAxis2&&y.hasParent(ie,this.timeAxis2.dom.foreground)?ue="axis":y.hasParent(ie,this.itemSet.dom.labelSet)?ue="group-label":y.hasParent(ie,this.currentTime.bar)?ue="current-time":y.hasParent(ie,this.dom.center)&&(ue="background"),{event:M,item:N?N.id:null,group:V?V.groupId:null,what:ue,pageX:M.srcEvent?M.srcEvent.pageX:M.pageX,pageY:M.srcEvent?M.srcEvent.pageY:M.pageY,x:w,y:I,time:J,snappedTime:te}},f.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},Y.exports=f},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=_(D(19)),E=_(D(0)),A=_(D(1));function _(m){return m&&m.__esModule?m:{default:m}}var O=D(10),b=D(37),C=D(2),v=function(){function m(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,E.default)(this,m),this.pixelRatio=h,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,A.default)(m,[{key:"insertTo",value:function(S){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=S,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(S){if("function"!=typeof S)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=S}},{key:"setCloseCallback",value:function(S){if("function"!=typeof S)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=S}},{key:"_isColorString",value:function(S){if("string"==typeof S)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[S]}},{key:"setColor",value:function(S){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==S){var f=void 0,u=this._isColorString(S);if(void 0!==u&&(S=u),!0===C.isString(S)){if(!0===C.isValidRGB(S)){var l=S.substr(4).substr(0,S.length-5).split(",");f={r:l[0],g:l[1],b:l[2],a:1}}else if(!0===C.isValidRGBA(S)){var p=S.substr(5).substr(0,S.length-6).split(",");f={r:p[0],g:p[1],b:p[2],a:p[3]}}else if(!0===C.isValidHex(S)){var M=C.hexToRGB(S);f={r:M.r,g:M.g,b:M.b,a:1}}}else S instanceof Object&&void 0!==S.r&&void 0!==S.g&&void 0!==S.b&&(f={r:S.r,g:S.g,b:S.b,a:void 0!==S.a?S.a:"1.0"});if(void 0===f)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,y.default)(S));this._setColor(f,a)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var S=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=C.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==S.closeCallback&&(S.closeCallback(),S.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(S){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=C.extend({},S)),this.color=S;var f=C.RGBToHSV(S.r,S.g,S.b),u=2*Math.PI,l=this.r*f.s,p=this.centerCoordinates.x+l*Math.sin(u*f.h),M=this.centerCoordinates.y+l*Math.cos(u*f.h);this.colorPickerSelector.style.left=p-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=M-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(S)}},{key:"_setOpacity",value:function(S){this.color.a=S/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(S){var a=C.RGBToHSV(this.color.r,this.color.g,this.color.b);a.v=S/100;var f=C.HSVToRGB(a.h,a.s,a.v);f.a=this.color.a,this.color=f,this._updatePicker()}},{key:"_updatePicker",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,a=C.RGBToHSV(S.r,S.g,S.b),f=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1)),f.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),f.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),f.putImageData(this.hueCircle,0,0),f.fillStyle="rgba(0,0,0,"+(1-a.v)+")",f.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),f.fill(),this.brightnessRange.value=100*a.v,this.opacityRange.value=100*S.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var S=document.createElement("DIV");S.style.color="red",S.style.fontWeight="bold",S.style.padding="10px",S.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(S)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(u){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(u){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var f=this;this.opacityRange.onchange=function(){f._setOpacity(this.value)},this.opacityRange.oninput=function(){f._setOpacity(this.value)},this.brightnessRange.onchange=function(){f._setBrightness(this.value)},this.brightnessRange.oninput=function(){f._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var S=this;this.drag={},this.pinch={},this.hammer=new O(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),b.onTouch(this.hammer,function(a){S._moveSelector(a)}),this.hammer.on("tap",function(a){S._moveSelector(a)}),this.hammer.on("panstart",function(a){S._moveSelector(a)}),this.hammer.on("panmove",function(a){S._moveSelector(a)}),this.hammer.on("panend",function(a){S._moveSelector(a)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var S=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1)),S.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,f=this.colorPickerCanvas.clientHeight;S.clearRect(0,0,a,f);var u=void 0,l=void 0,p=void 0,M=void 0;this.centerCoordinates={x:.5*a,y:.5*f},this.r=.49*a;var d=2*Math.PI/360,w=1/this.r,I=void 0;for(p=0;p<360;p++)for(M=0;M<this.r;M++)u=this.centerCoordinates.x+M*Math.sin(d*p),l=this.centerCoordinates.y+M*Math.cos(d*p),I=C.HSVToRGB(.002777777777777778*p,M*w,1),S.fillStyle="rgb("+I.r+","+I.g+","+I.b+")",S.fillRect(u-.5,l-.5,2,2);S.strokeStyle="rgba(0,0,0,1)",S.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),S.stroke(),this.hueCircle=S.getImageData(0,0,a,f)}this.generated=!0}},{key:"_moveSelector",value:function(S){var a=this.colorPickerDiv.getBoundingClientRect(),l=.5*this.colorPickerDiv.clientHeight,p=.5*this.colorPickerDiv.clientWidth,M=S.center.x-a.left-p,d=S.center.y-a.top-l,c=Math.atan2(M,d),w=.98*Math.min(Math.sqrt(M*M+d*d),p),I=Math.cos(c)*w+l,N=Math.sin(c)*w+p;this.colorPickerSelector.style.top=I-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=N-.5*this.colorPickerSelector.clientWidth+"px";var V=c/(2*Math.PI);V=V<0?V+1:V;var H=w/this.r,z=C.RGBToHSV(this.color.r,this.color.g,this.color.b);z.h=V,z.s=H;var U=C.HSVToRGB(z.h,z.s,z.v);U.a=this.color.a,this.color=U,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),m}();L.default=v},function(Y,L,D){var R=D(9),y=D(2),x=D(11),E=D(12),T=D(64),A=D(65),_=D(45),O=D(67),b=D(46),C=D(106),v=D(15).printStyle,m=D(113).allOptions,h=D(113).configureOptions,S=D(71).default,a=D(15).default;function f(u,l,p,M){if(!(Array.isArray(p)||p instanceof x||p instanceof E)&&p instanceof Object){var d=M;M=p,p=d}M&&M.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var c=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:R,width:null,height:null,maxHeight:null,minHeight:null},this.options=y.deepExtend({},this.defaultOptions),this._create(u),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:c._toScreen.bind(c),toGlobalScreen:c._toGlobalScreen.bind(c),toTime:c._toTime.bind(c),toGlobalTime:c._toGlobalTime.bind(c)}},this.range=new T(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new _(this.body),this.components.push(this.timeAxis),this.currentTime=new O(this.body),this.components.push(this.currentTime),this.linegraph=new C(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(w){c.emit("click",c.getEventProperties(w))}),this.on("doubletap",function(w){c.emit("doubleClick",c.getEventProperties(w))}),this.dom.root.oncontextmenu=function(w){c.emit("contextmenu",c.getEventProperties(w))},M&&this.setOptions(M),p&&this.setGroups(p),l&&this.setItems(l),this._redraw()}(f.prototype=new A).setOptions=function(u){!0===a.validate(u,m)&&console.log("%cErrors have been found in the supplied options object.",v),A.prototype.setOptions.call(this,u)},f.prototype.setItems=function(u){var p,l=null==this.itemsData;p=u?u instanceof x||u instanceof E?u:new x(u,{type:{start:"Date",end:"Date"}}):null,this.itemsData=p,this.linegraph&&this.linegraph.setItems(p),l&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},f.prototype.setGroups=function(u){var l;l=u?u instanceof x||u instanceof E?u:new x(u):null,this.groupsData=l,this.linegraph.setGroups(l)},f.prototype.getLegend=function(u,l,p){return void 0===l&&(l=15),void 0===p&&(p=15),void 0!==this.linegraph.groups[u]?this.linegraph.groups[u].getLegend(l,p):"cannot find group:'"+u+"'"},f.prototype.isGroupVisible=function(u){return void 0!==this.linegraph.groups[u]&&this.linegraph.groups[u].visible&&(void 0===this.linegraph.options.groups.visibility[u]||1==this.linegraph.options.groups.visibility[u])},f.prototype.getDataRange=function(){var u=null,l=null;for(var p in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(p)&&1==this.linegraph.groups[p].visible)for(var M=0;M<this.linegraph.groups[p].itemsData.length;M++){var c=y.convert(this.linegraph.groups[p].itemsData[M].x,"Date").valueOf();u=null==u||u>c?c:u,l=null==l||l<c?c:l}return{min:null!=u?new Date(u):null,max:null!=l?new Date(l):null}},f.prototype.getEventProperties=function(u){var p=u.center?u.center.y:u.clientY,M=(u.center?u.center.x:u.clientX)-y.getAbsoluteLeft(this.dom.centerContainer),d=p-y.getAbsoluteTop(this.dom.centerContainer),c=this._toTime(M),w=b.customTimeFromTarget(u),I=y.getTarget(u),N=null;y.hasParent(I,this.timeAxis.dom.foreground)||this.timeAxis2&&y.hasParent(I,this.timeAxis2.dom.foreground)?N="axis":y.hasParent(I,this.linegraph.yAxisLeft.dom.frame)||y.hasParent(I,this.linegraph.yAxisRight.dom.frame)?N="data-axis":y.hasParent(I,this.linegraph.legendLeft.dom.frame)||y.hasParent(I,this.linegraph.legendRight.dom.frame)?N="legend":null!=w?N="custom-time":y.hasParent(I,this.currentTime.bar)?N="current-time":y.hasParent(I,this.dom.center)&&(N="background");var V=[],H=this.linegraph.yAxisLeft,z=this.linegraph.yAxisRight;return!H.hidden&&this.itemsData.length>0&&V.push(H.screenToValue(d)),!z.hidden&&this.itemsData.length>0&&V.push(z.screenToValue(d)),{event:u,what:N,pageX:u.srcEvent?u.srcEvent.pageX:u.pageX,pageY:u.srcEvent?u.srcEvent.pageY:u.pageY,x:M,y:d,time:c,value:V}},f.prototype._createConfigurator=function(){return new S(this,this.dom.container,h)},Y.exports=f},function(Y,L,D){L.util=D(2),L.DOMutil=D(14),L.DataSet=D(11),L.DataView=D(12),L.Queue=D(43),L.Network=D(182),L.network={Images:D(116),dotparser:D(114),gephiParser:D(115),allOptions:D(122)},L.network.convertDot=function(R){return L.network.dotparser.DOTToGraph(R)},L.network.convertGephi=function(R,y){return L.network.gephiParser.parseGephi(R,y)},L.moment=D(9),L.Hammer=D(10),L.keycharm=D(35)},function(Y,L,D){D(183);var R=D(44),y=D(2),x=D(114),E=D(115),T=D(97),A=D(184),_=D(116).default,O=D(186).default,b=D(187).default,C=D(214).default,v=D(220).default,m=D(227).default,h=D(229).default,S=D(230).default,a=D(231).default,f=D(232).default,u=D(234).default,l=D(235).default,p=D(237).default,M=D(71).default,d=D(15).default,w=D(15).printStyle,I=D(122),N=I.allOptions,V=I.configureOptions,H=D(238).default;function z(U,$,J){var te=this;if(!(this instanceof z))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:A,clickToUse:!1},y.extend(this.options,this.defaultOptions),this.body={container:U,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new _(function(){return te.body.emitter.emit("_requestRedraw")}),this.groups=new O,this.canvas=new S(this.body),this.selectionHandler=new u(this.body,this.canvas),this.interactionHandler=new f(this.body,this.canvas,this.selectionHandler),this.view=new a(this.body,this.canvas),this.renderer=new h(this.body,this.canvas),this.physics=new v(this.body),this.layoutEngine=new l(this.body),this.clustering=new m(this.body),this.manipulation=new p(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new b(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new C(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new H(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(J),this.setData($)}R(z.prototype),z.prototype.setOptions=function(U){var $=this;if(void 0!==U){if(!0===d.validate(U,N)&&console.log("%cErrors have been found in the supplied options object.",w),y.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,U),U=this.layoutEngine.setOptions(U.layout,U),this.canvas.setOptions(U),this.groups.setOptions(U.groups),this.nodesHandler.setOptions(U.nodes),this.edgesHandler.setOptions(U.edges),this.physics.setOptions(U.physics),this.manipulation.setOptions(U.manipulation,U,this.options),this.interactionHandler.setOptions(U.interaction),this.renderer.setOptions(U.interaction),this.selectionHandler.setOptions(U.interaction),void 0!==U.groups&&this.body.emitter.emit("refreshNodes"),"configure"in U&&(this.configurator||(this.configurator=new M(this,this.body.container,V,this.canvas.pixelRatio)),this.configurator.setOptions(U.configure)),this.configurator&&!0===this.configurator.options.enabled){var ie={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};y.deepExtend(ie.nodes,this.nodesHandler.options),y.deepExtend(ie.edges,this.edgesHandler.options),y.deepExtend(ie.layout,this.layoutEngine.options),y.deepExtend(ie.interaction,this.selectionHandler.options),y.deepExtend(ie.interaction,this.renderer.options),y.deepExtend(ie.interaction,this.interactionHandler.options),y.deepExtend(ie.manipulation,this.manipulation.options),y.deepExtend(ie.physics,this.physics.options),y.deepExtend(ie.global,this.canvas.options),y.deepExtend(ie.global,this.options),this.configurator.setModuleOptions(ie)}void 0!==U.clickToUse?!0===U.clickToUse?void 0===this.activator&&(this.activator=new T(this.canvas.frame),this.activator.on("change",function(){$.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},z.prototype._updateVisibleIndices=function(){var U=this.body.nodes,$=this.body.edges;for(var J in this.body.nodeIndices=[],this.body.edgeIndices=[],U)U.hasOwnProperty(J)&&!this.clustering._isClusteredNode(J)&&!1===U[J].options.hidden&&this.body.nodeIndices.push(U[J].id);for(var te in $)if($.hasOwnProperty(te)){var ie=$[te],ue=U[ie.fromId],ye=U[ie.toId],ve=void 0!==ue&&void 0!==ye;!this.clustering._isClusteredEdge(te)&&!1===ie.options.hidden&&ve&&!1===ue.options.hidden&&!1===ye.options.hidden&&this.body.edgeIndices.push(ie.id)}},z.prototype.bindEventListeners=function(){var U=this;this.body.emitter.on("_dataChanged",function(){U.edgesHandler._updateState(),U.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){U.clustering._updateState(),U._updateVisibleIndices(),U._updateValueRange(U.body.nodes),U._updateValueRange(U.body.edges),U.body.emitter.emit("startSimulation"),U.body.emitter.emit("_requestRedraw")})},z.prototype.setData=function(U){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),U&&U.dot&&(U.nodes||U.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(U&&U.options),U&&U.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var $=x.DOTToGraph(U.dot);this.setData($)}else if(U&&U.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var J=E.parseGephi(U.gephi);this.setData(J)}else this.nodesHandler.setData(U&&U.nodes,!0),this.edgesHandler.setData(U&&U.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},z.prototype.destroy=function(){for(var U in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)!this.body.nodes.hasOwnProperty(U)||delete this.body.nodes[U];for(var $ in this.body.edges)!this.body.edges.hasOwnProperty($)||delete this.body.edges[$];y.recursiveDOMDelete(this.body.container)},z.prototype._updateValueRange=function(U){var $,J=void 0,te=void 0,ie=0;for($ in U)if(U.hasOwnProperty($)){var ue=U[$].getValue();void 0!==ue&&(J=void 0===J?ue:Math.min(ue,J),te=void 0===te?ue:Math.max(ue,te),ie+=ue)}if(void 0!==J&&void 0!==te)for($ in U)U.hasOwnProperty($)&&U[$].setValueRange(J,te,ie)},z.prototype.isActive=function(){return!this.activator||this.activator.active},z.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},z.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},z.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},z.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},z.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},z.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},z.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},z.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},z.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},z.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},z.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},z.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},z.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},z.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},z.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},z.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},z.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},z.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},z.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},z.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},z.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},z.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},z.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},z.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},z.prototype.getConnectedNodes=function(U){return void 0!==this.body.nodes[U]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},z.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},z.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},z.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},z.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},z.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},z.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},z.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},z.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},z.prototype.getNodeAt=function(){var U=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==U&&void 0!==U.id?U.id:U},z.prototype.getEdgeAt=function(){var U=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==U&&void 0!==U.id?U.id:U},z.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},z.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},z.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},z.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},z.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},z.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},z.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},z.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},z.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},z.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},z.prototype.getOptionsFromConfigurator=function(){var U={};return this.configurator&&(U=this.configurator.getOptions.apply(this.configurator)),U},Y.exports=z},function(Y,L,D){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(R,y,x){this.beginPath(),this.arc(R,y,x,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(R,y,x){this.beginPath(),this.rect(R-x,y-x,2*x,2*x),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(R,y,x){this.beginPath(),y+=.275*(x*=1.15);var E=2*x,T=E/2,A=Math.sqrt(3)/6*E,_=Math.sqrt(E*E-T*T);this.moveTo(R,y-(_-A)),this.lineTo(R+T,y+A),this.lineTo(R-T,y+A),this.lineTo(R,y-(_-A)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(R,y,x){this.beginPath(),y-=.275*(x*=1.15);var E=2*x,T=E/2,A=Math.sqrt(3)/6*E,_=Math.sqrt(E*E-T*T);this.moveTo(R,y+(_-A)),this.lineTo(R+T,y-A),this.lineTo(R-T,y-A),this.lineTo(R,y+(_-A)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(R,y,x){this.beginPath(),y+=.1*(x*=.82);for(var E=0;E<10;E++){var T=E%2==0?1.3*x:.5*x;this.lineTo(R+T*Math.sin(2*E*Math.PI/10),y-T*Math.cos(2*E*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(R,y,x){this.beginPath(),this.lineTo(R,y+x),this.lineTo(R+x,y),this.lineTo(R,y-x),this.lineTo(R-x,y),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(R,y,x,E,T){var A=Math.PI/180;x-2*T<0&&(T=x/2),E-2*T<0&&(T=E/2),this.beginPath(),this.moveTo(R+T,y),this.lineTo(R+x-T,y),this.arc(R+x-T,y+T,T,270*A,360*A,!1),this.lineTo(R+x,y+E-T),this.arc(R+x-T,y+E-T,T,0,90*A,!1),this.lineTo(R+T,y+E),this.arc(R+T,y+E-T,T,90*A,180*A,!1),this.lineTo(R,y+T),this.arc(R+T,y+T,T,180*A,270*A,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(R,y,x,E){var T=.5522848,A=x/2*T,_=E/2*T,O=R+x,b=y+E,C=R+x/2,v=y+E/2;this.beginPath(),this.moveTo(R,v),this.bezierCurveTo(R,v-_,C-A,y,C,y),this.bezierCurveTo(C+A,y,O,v-_,O,v),this.bezierCurveTo(O,v+_,C+A,b,C,b),this.bezierCurveTo(C-A,b,R,v+_,R,v),this.closePath()},CanvasRenderingContext2D.prototype.database=function(R,y,x,E){var _=E*(1/3),O=.5522848,b=x/2*O,C=_/2*O,v=R+x,m=y+_,h=R+x/2,S=y+_/2,a=y+(E-_/2),f=y+E;this.beginPath(),this.moveTo(v,S),this.bezierCurveTo(v,S+C,h+b,m,h,m),this.bezierCurveTo(h-b,m,R,S+C,R,S),this.bezierCurveTo(R,S-C,h-b,y,h,y),this.bezierCurveTo(h+b,y,v,S-C,v,S),this.lineTo(v,a),this.bezierCurveTo(v,a+C,h+b,f,h,f),this.bezierCurveTo(h-b,f,R,a+C,R,a),this.lineTo(R,S)},CanvasRenderingContext2D.prototype.dashedLine=function(R,y,x,E,T){this.beginPath(),this.moveTo(R,y);for(var A=T.length,_=x-R,O=E-y,b=O/_,C=Math.sqrt(_*_+O*O),v=0,m=!0,h=0,S=T[0];C>=.1;)(S=T[v++%A])>C&&(S=C),h=Math.sqrt(S*S/(1+b*b)),R+=h=_<0?-h:h,y+=b*h,!0===m?this.lineTo(R,y):this.moveTo(R,y),C-=S,m=!m},CanvasRenderingContext2D.prototype.hexagon=function(R,y,x){this.beginPath();var T=2*Math.PI/6;this.moveTo(R+x,y);for(var A=1;A<6;A++)this.lineTo(R+x*Math.cos(T*A),y+x*Math.sin(T*A));this.closePath()})},function(Y,L,D){L.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},L.en_EN=L.en,L.en_US=L.en,L.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},L.de_DE=L.de,L.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},L.es_ES=L.es,L.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},L.it_IT=L.it,L.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},L.nl_NL=L.nl,L.nl_BE=L.nl,L["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},L["pt-BR"]=L["pt-br"],L.pt_BR=L["pt-br"],L.pt_br=L["pt-br"],L.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},L.ru_RU=L.ru,L.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},L.zh_CN=L.cn},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(){(0,y.default)(this,_),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,E.default)(_,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var b=this.image.width,C=this.image.height;this.width=b,this.height=C;var v=Math.floor(C/2),m=Math.floor(C/4),h=Math.floor(C/8),S=Math.floor(C/16),a=Math.floor(b/2),f=Math.floor(b/4),u=Math.floor(b/8),l=Math.floor(b/16);this.canvas.width=3*f,this.canvas.height=v,this.coordinates=[[0,0,a,v],[a,0,f,m],[a,m,u,h],[5*u,m,l,S]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var b=this.canvas.getContext("2d"),C=this.coordinates[0];b.drawImage(this.image,C[0],C[1],C[2],C[3]);for(var v=1;v<this.NUM_ITERATIONS;v++){var m=this.coordinates[v-1],h=this.coordinates[v];b.drawImage(this.canvas,m[0],m[1],m[2],m[3],h[0],h[1],h[2],h[3])}}},{key:"drawImageAtPosition",value:function(b,C,v,m,h,S){if(this.initialized())if(C>2){C*=.5;for(var a=0;C>2&&a<this.NUM_ITERATIONS;)C*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var f=this.coordinates[a];b.drawImage(this.canvas,f[0],f[1],f[2],f[3],v,m,h,S)}else b.drawImage(this.image,v,m,h,S)}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(O){return O&&O.__esModule?O:{default:O}}var A=D(2),_=function(){function O(){(0,y.default)(this,O),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},A.extend(this.options,this.defaultOptions)}return(0,E.default)(O,[{key:"setOptions",value:function(C){var v=["useDefaultGroups"];if(void 0!==C)for(var m in C)C.hasOwnProperty(m)&&-1===v.indexOf(m)&&this.add(m,C[m])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(C){var m=this.groups[C];if(void 0===m&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var h=this.groupIndex%this.groupsArray.length;this.groupIndex++,(m={}).color=this.groups[this.groupsArray[h]],this.groups[C]=m}else{var S=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(m={}).color=this.defaultGroups[S],this.groups[C]=m}return m}},{key:"add",value:function(C,v){return this.groups[C]=v,this.groupsArray.push(C),v}}]),O}();L.default=_},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(v){return v&&v.__esModule?v:{default:v}}var A=D(2),_=D(11),O=D(12),b=D(47).default,C=function(){function v(m,h,S,a){var f=this;if((0,y.default)(this,v),this.body=m,this.images=h,this.groups=S,this.layoutEngine=a,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(l,p){f.add(p.items)},update:function(l,p){f.update(p.items,p.data,p.oldData)},remove:function(l,p){f.remove(p.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,p,M,d){return p===l?.5:Math.max(0,1/(p-l)*(d-l))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=A.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,E.default)(v,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){A.forEach(h.nodesListeners,function(S,a){h.body.data.nodes&&h.body.data.nodes.off(a,S)}),delete h.body.functions.createNode,delete h.nodesListeners.add,delete h.nodesListeners.update,delete h.nodesListeners.remove,delete h.nodesListeners})}},{key:"setOptions",value:function(h){if(void 0!==h){if(b.parseOptions(this.options,h),void 0!==h.shape)for(var S in this.body.nodes)this.body.nodes.hasOwnProperty(S)&&this.body.nodes[S].updateShape();if(void 0!==h.font)for(var a in this.body.nodes)this.body.nodes.hasOwnProperty(a)&&(this.body.nodes[a].updateLabelModule(),this.body.nodes[a].needsRefresh());if(void 0!==h.size)for(var f in this.body.nodes)this.body.nodes.hasOwnProperty(f)&&this.body.nodes[f].needsRefresh();(void 0!==h.hidden||void 0!==h.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(h){var S=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.body.data.nodes;if(h instanceof _||h instanceof O)this.body.data.nodes=h;else if(Array.isArray(h))this.body.data.nodes=new _,this.body.data.nodes.add(h);else{if(h)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new _}if(a&&A.forEach(this.nodesListeners,function(l,p){a.off(p,l)}),this.body.nodes={},this.body.data.nodes){var f=this;A.forEach(this.nodesListeners,function(l,p){f.body.data.nodes.on(p,l)});var u=this.body.data.nodes.getIds();this.add(u,!0)}!1===S&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(h){for(var S=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=void 0,f=[],u=0;u<h.length;u++){var l=this.body.data.nodes.get(a=h[u]),p=this.create(l);f.push(p),this.body.nodes[a]=p}this.layoutEngine.positionInitially(f),!1===S&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(h,S,a){for(var f=this.body.nodes,u=!1,l=0;l<h.length;l++){var p=h[l],M=f[p],d=S[l];void 0!==M?M.setOptions(d)&&(u=!0):(u=!0,M=this.create(d),f[p]=M)}!u&&void 0!==a&&(u=S.some(function(c,w){var I=a[w];return I&&I.level!==c.level})),this.body.emitter.emit(!0===u?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(h){for(var S=this.body.nodes,a=0;a<h.length;a++)delete S[h[a]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(h){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b)(h,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var h=this,S=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A.forEach(this.body.nodes,function(a,f){var u=h.body.data.nodes.get(f);void 0!==u&&(!0===S&&a.setOptions({x:null,y:null}),a.setOptions({fixed:!1}),a.setOptions(u))})}},{key:"getPositions",value:function(h){var S={};if(void 0!==h){if(!0===Array.isArray(h)){for(var a=0;a<h.length;a++)if(void 0!==this.body.nodes[h[a]]){var f=this.body.nodes[h[a]];S[h[a]]={x:Math.round(f.x),y:Math.round(f.y)}}}else if(void 0!==this.body.nodes[h]){var u=this.body.nodes[h];S[h]={x:Math.round(u.x),y:Math.round(u.y)}}}else for(var l=0;l<this.body.nodeIndices.length;l++){var p=this.body.nodes[this.body.nodeIndices[l]];S[this.body.nodeIndices[l]]={x:Math.round(p.x),y:Math.round(p.y)}}return S}},{key:"storePositions",value:function(){var h=[],S=this.body.data.nodes.getDataSet();for(var a in S._data)if(S._data.hasOwnProperty(a)){var f=this.body.nodes[a];(S._data[a].x!=Math.round(f.x)||S._data[a].y!=Math.round(f.y))&&h.push({id:f.id,x:Math.round(f.x),y:Math.round(f.y)})}S.update(h)}},{key:"getBoundingBox",value:function(h){if(void 0!==this.body.nodes[h])return this.body.nodes[h].shape.boundingBox}},{key:"getConnectedNodes",value:function(h,S){var a=[];if(void 0!==this.body.nodes[h])for(var f=this.body.nodes[h],u={},l=0;l<f.edges.length;l++){var p=f.edges[l];"to"!==S&&p.toId==f.id?void 0===u[p.fromId]&&(a.push(p.fromId),u[p.fromId]=!0):"from"!==S&&p.fromId==f.id&&void 0===u[p.toId]&&(a.push(p.toId),u[p.toId]=!0)}return a}},{key:"getConnectedEdges",value:function(h){var S=[];if(void 0!==this.body.nodes[h])for(var a=this.body.nodes[h],f=0;f<a.edges.length;f++)S.push(a.edges[f].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",h);return S}},{key:"moveNode",value:function(h,S,a){var f=this;void 0!==this.body.nodes[h]?(this.body.nodes[h].x=Number(S),this.body.nodes[h].y=Number(a),setTimeout(function(){f.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",h)}}]),v}();L.default=C},function(Y,L,D){Y.exports={default:D(189),__esModule:!0}},function(Y,L,D){D(49),D(60),Y.exports=D(190)},function(Y,L,D){var R=D(86),y=D(13)("iterator"),x=D(31);Y.exports=D(7).isIterable=function(E){var T=Object(E);return void 0!==T[y]||"@@iterator"in T||x.hasOwnProperty(R(T))}},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(b){return b&&b.__esModule?b:{default:b}}var A=D(192).default,_=D(48).default,O=function(){function b(C,v,m,h){var S=this;(0,y.default)(this,b),this.ctx=C,this.parent=v,this.lines=new A(function(u,l){if(void 0===u)return 0;var p=S.parent.getFormattingValues(C,m,h,l),M=0;return""!==u&&(M=S.ctx.measureText(u).width),{width:M,values:p}})}return(0,E.default)(b,[{key:"process",value:function(v){if(!_.isValidLabel(v))return this.lines.finalize();var m=this.parent.fontOptions;v=(v=v.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var h=String(v).split("\n"),S=h.length;if(m.multi)for(var a=0;a<S;a++){var f=this.splitBlocks(h[a],m.multi);if(void 0!==f){if(0===f.length){this.lines.newLine("");continue}if(m.maxWdt>0)for(var u=0;u<f.length;u++)this.splitStringIntoLines(f[u].text,f[u].mod,!0);else for(var M=0;M<f.length;M++)this.lines.append(f[M].text,f[M].mod);this.lines.newLine()}}else if(m.maxWdt>0)for(var w=0;w<S;w++)this.splitStringIntoLines(h[w]);else for(var I=0;I<S;I++)this.lines.newLine(h[I]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(v){var m="none";return"markdown"===v||"md"===v?m="markdown":(!0===v||"html"===v)&&(m="html"),m}},{key:"splitHtmlBlocks",value:function(v){for(var m=[],h={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":h.bold&&h.ital?"boldital":h.bold?"bold":h.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(m.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(h.spacing=!0),h.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=a&&(this.buffer+=a)}};h.position<v.length;){var S=v.charAt(h.position);/[ \t]/.test(S)?h.mono?h.add(S):h.spacing=!0:/</.test(S)?h.mono||h.bold||!/<b>/.test(v.substr(h.position,3))?h.mono||h.ital||!/<i>/.test(v.substr(h.position,3))?!h.mono&&/<code>/.test(v.substr(h.position,6))?(h.emitBlock(),h.mono=!0,h.modStack.unshift("mono"),h.position+=5):!h.mono&&"bold"===h.mod()&&/<\/b>/.test(v.substr(h.position,4))?(h.emitBlock(),h.bold=!1,h.modStack.shift(),h.position+=3):!h.mono&&"ital"===h.mod()&&/<\/i>/.test(v.substr(h.position,4))?(h.emitBlock(),h.ital=!1,h.modStack.shift(),h.position+=3):"mono"===h.mod()&&/<\/code>/.test(v.substr(h.position,7))?(h.emitBlock(),h.mono=!1,h.modStack.shift(),h.position+=6):h.add(S):(h.emitBlock(),h.ital=!0,h.modStack.unshift("ital"),h.position+=2):(h.emitBlock(),h.bold=!0,h.modStack.unshift("bold"),h.position+=2):/&/.test(S)?/&lt;/.test(v.substr(h.position,4))?(h.add("<"),h.position+=3):/&amp;/.test(v.substr(h.position,5))?(h.add("&"),h.position+=4):h.add("&"):h.add(S),h.position++}return h.emitBlock(),m}},{key:"splitMarkdownBlocks",value:function(v){for(var m=[],h={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":h.bold&&h.ital?"boldital":h.bold?"bold":h.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(m.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(h.spacing=!0),h.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=a&&(this.buffer+=a)}};h.position<v.length;){var S=v.charAt(h.position);/[ \t]/.test(S)?(h.mono?h.add(S):h.spacing=!0,h.beginable=!0):/\\/.test(S)?h.position<v.length+1&&(h.position++,S=v.charAt(h.position),/ \t/.test(S)?h.spacing=!0:(h.add(S),h.beginable=!1)):h.mono||h.bold||!h.beginable&&!h.spacing||!/\*/.test(S)?h.mono||h.ital||!h.beginable&&!h.spacing||!/\_/.test(S)?!h.mono&&(h.beginable||h.spacing)&&/`/.test(S)?(h.emitBlock(),h.mono=!0,h.modStack.unshift("mono")):!h.mono&&"bold"===h.mod()&&/\*/.test(S)?h.position===v.length-1||/[.,_` \t\n]/.test(v.charAt(h.position+1))?(h.emitBlock(),h.bold=!1,h.modStack.shift()):h.add(S):!h.mono&&"ital"===h.mod()&&/\_/.test(S)?h.position===v.length-1||/[.,*` \t\n]/.test(v.charAt(h.position+1))?(h.emitBlock(),h.ital=!1,h.modStack.shift()):h.add(S):h.mono&&"mono"===h.mod()&&/`/.test(S)?h.position===v.length-1||/[.,*_ \t\n]/.test(v.charAt(h.position+1))?(h.emitBlock(),h.mono=!1,h.modStack.shift()):h.add(S):(h.add(S),h.beginable=!1):(h.emitBlock(),h.ital=!0,h.modStack.unshift("ital")):(h.emitBlock(),h.bold=!0,h.modStack.unshift("bold")),h.position++}return h.emitBlock(),m}},{key:"splitBlocks",value:function(v,m){var h=this.decodeMarkupSystem(m);return"none"===h?[{text:v,mod:"normal"}]:"markdown"===h?this.splitMarkdownBlocks(v):"html"===h?this.splitHtmlBlocks(v):void 0}},{key:"overMaxWidth",value:function(v){var m=this.ctx.measureText(v).width;return this.lines.curWidth()+m>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(v){for(var m="",h=0;h<v.length;){var a=m+(""===m?"":" ")+v[h];if(this.overMaxWidth(a))break;m=a,h++}return h}},{key:"getLongestFitWord",value:function(v){for(var m=0;m<v.length&&!this.overMaxWidth(v.slice(0,m));)m++;return m}},{key:"splitStringIntoLines",value:function(v){for(var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],S=(v=(v=v.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");S.length>0;){var a=this.getLongestFit(S);if(0===a){var f=S[0],u=this.getLongestFitWord(f);this.lines.newLine(f.slice(0,u),m),S[0]=f.slice(u)}else{var l=a;" "===S[a-1]?a--:" "===S[l]&&l++;var p=S.slice(0,a).join("");a==S.length&&h?this.lines.append(p,m):this.lines.newLine(p,m),S=S.slice(l)}}}}]),b}();L.default=O},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=_(D(90)),E=_(D(0)),A=_(D(1));function _(b){return b&&b.__esModule?b:{default:b}}var O=function(){function b(C){(0,E.default)(this,b),this.measureText=C,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,A.default)(b,[{key:"_add",value:function(v,m){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[v]&&(this.lines[v]={width:0,height:0,blocks:[]});var S=m;(void 0===m||""===m)&&(S=" ");var a=this.measureText(S,h),f=(0,y.default)({},a.values);f.text=m,f.width=a.width,f.mod=h,(void 0===m||""===m)&&(f.width=0),this.lines[v].blocks.push(f),this.lines[v].width+=f.width}},{key:"curWidth",value:function(){var v=this.lines[this.current];return void 0===v?0:v.width}},{key:"append",value:function(v){this._add(this.current,v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(v){this._add(this.current,v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var v=0;v<this.lines.length;v++){var m=this.lines[v],h=0;if(void 0!==m.blocks)for(var S=0;S<m.blocks.length;S++){var a=m.blocks[S];h<a.height&&(h=a.height)}m.height=h}}},{key:"determineLabelSize",value:function(){for(var v=0,m=0,h=0;h<this.lines.length;h++){var S=this.lines[h];S.width>v&&(v=S.width),m+=S.height}this.width=v,this.height=m}},{key:"removeEmptyBlocks",value:function(){for(var v=[],m=0;m<this.lines.length;m++){var h=this.lines[m];if(0!==h.blocks.length&&(m!==this.lines.length-1||0!==h.width)){var S={};(0,y.default)(S,h),S.blocks=[];for(var a=void 0,f=[],u=0;u<h.blocks.length;u++){var l=h.blocks[u];0!==l.width?f.push(l):void 0===a&&(a=l)}0===f.length&&void 0!==a&&f.push(a),S.blocks=f,v.push(S)}}return v}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var v=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:v}}}]),b}();L.default=O},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){(0,E.default)(this,f);var M=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return M._setMargins(p),M}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(p,M)){var d=this.getDimensionsFromLabel(l,p,M);this.width=d.width+this.margin.right+this.margin.left,this.height=d.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(l,p,M,d,c,w){this.resize(l,d,c),this.left=p-this.width/2,this.top=M-this.height/2,this.initContextForDraw(l,w),l.roundRect(this.left,this.top,this.width,this.height,w.borderRadius),this.performFill(l,w),this.updateBoundingBox(p,M,l,d,c),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,d,c)}},{key:"updateBoundingBox",value:function(l,p,M,d,c){this._updateBoundingBox(l,p,M,d,c),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(l,p){this.resize(l);var M=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(p)),Math.abs(this.height/2/Math.sin(p)))+M}}]),f}(h(D(23)).default);L.default=S},function(Y,L,D){D(195),Y.exports=D(7).Object.getPrototypeOf},function(Y,L,D){var R=D(41),y=D(85);D(87)("getPrototypeOf",function(){return function(E){return y(R(E))}})},function(Y,L,D){Y.exports={default:D(197),__esModule:!0}},function(Y,L,D){D(198),Y.exports=D(7).Object.setPrototypeOf},function(Y,L,D){var R=D(17);R(R.S,"Object",{setPrototypeOf:D(199).set})},function(Y,L,D){var R=D(32),y=D(27),x=function(E,T){if(y(E),!R(T)&&null!==T)throw TypeError(T+": can't set as prototype!")};Y.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(E,T,A){try{(A=D(80)(Function.call,D(89).f(Object.prototype,"__proto__").set,2))(E,[]),T=!(E instanceof Array)}catch(_){T=!0}return function(O,b){return x(O,b),T?O.__proto__=b:A(O,b),O}}({},!1):void 0),check:x}},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){(0,E.default)(this,f);var M=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return M._setMargins(p),M}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(p,M)){var d=this.getDimensionsFromLabel(l,p,M),c=Math.max(d.width+this.margin.right+this.margin.left,d.height+this.margin.top+this.margin.bottom);this.options.size=c/2,this.width=c,this.height=c,this.radius=this.width/2}}},{key:"draw",value:function(l,p,M,d,c,w){this.resize(l,d,c),this.left=p-this.width/2,this.top=M-this.height/2,this._drawRawCircle(l,p,M,w),this.updateBoundingBox(p,M),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,M,d,c)}},{key:"updateBoundingBox",value:function(l,p){this.boundingBox.top=p-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=p+this.options.size}},{key:"distanceToBorder",value:function(l,p){return this.resize(l),.5*this.width}}]),f}(h(D(73)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p,M,d){(0,E.default)(this,f);var c=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return c.setImages(M,d),c}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var c=2*this.options.size;return this.width=c,this.height=c,void(this.radius=.5*this.width)}this.needsRefresh(p,M)&&this._resizeImage()}},{key:"draw",value:function(l,p,M,d,c,w){this.switchImages(d),this.resize(),this.left=p-this.width/2,this.top=M-this.height/2,this._drawRawCircle(l,p,M,w),l.save(),l.clip(),this._drawImageAtPosition(l,w),l.restore(),this._drawImageLabel(l,p,M,d,c),this.updateBoundingBox(p,M)}},{key:"updateBoundingBox",value:function(l,p){this.boundingBox.top=p-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=p+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(l,p){return this.resize(l),.5*this.width}}]),f}(h(D(73)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){(0,E.default)(this,f);var M=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return M._setMargins(p),M}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l,p,M){if(this.needsRefresh(p,M)){var c=this.getDimensionsFromLabel(l,p,M).width+this.margin.right+this.margin.left;this.width=c,this.height=c,this.radius=this.width/2}}},{key:"draw",value:function(l,p,M,d,c,w){this.resize(l,d,c),this.left=p-this.width/2,this.top=M-this.height/2,this.initContextForDraw(l,w),l.database(p-this.width/2,M-this.height/2,this.width,this.height),this.performFill(l,w),this.updateBoundingBox(p,M,l,d,c),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,d,c)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(23)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"draw",value:function(l,p,M,d,c,w){this._drawShape(l,"diamond",4,p,M,d,c,w)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(24)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"draw",value:function(l,p,M,d,c,w){this._drawShape(l,"circle",2,p,M,d,c,w)}},{key:"distanceToBorder",value:function(l,p){return this.resize(l),this.options.size}}]),f}(h(D(24)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(p,M)){var d=this.getDimensionsFromLabel(l,p,M);this.height=2*d.height,this.width=d.width+d.height,this.radius=.5*this.width}}},{key:"draw",value:function(l,p,M,d,c,w){this.resize(l,d,c),this.left=p-.5*this.width,this.top=M-.5*this.height,this.initContextForDraw(l,w),l.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(l,w),this.updateBoundingBox(p,M,l,d,c),this.labelModule.draw(l,p,M,d,c)}},{key:"distanceToBorder",value:function(l,p){this.resize(l);var M=.5*this.width,d=.5*this.height,c=Math.sin(p)*M,w=Math.cos(p)*d;return M*d/Math.sqrt(c*c+w*w)}}]),f}(h(D(23)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){(0,E.default)(this,f);var M=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return M._setMargins(p),M}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l,p,M){this.needsRefresh(p,M)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(l,p,M,d,c,w){this.resize(l,d,c),this.options.icon.size=this.options.icon.size||50,this.left=p-this.width/2,this.top=M-this.height/2,this._icon(l,p,M,d,c,w),void 0!==this.options.label&&this.labelModule.draw(l,this.left+this.iconSize.width/2+this.margin.left,M+this.height/2+5,d),this.updateBoundingBox(p,M)}},{key:"updateBoundingBox",value:function(l,p){if(this.boundingBox.top=p-.5*this.options.icon.size,this.boundingBox.left=l-.5*this.options.icon.size,this.boundingBox.right=l+.5*this.options.icon.size,this.boundingBox.bottom=p+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(l,p,M,d,c,w){var I=Number(this.options.icon.size);void 0!==this.options.icon.code?(l.font=(d?"bold ":"")+I+"px "+this.options.icon.face,l.fillStyle=this.options.icon.color||"black",l.textAlign="center",l.textBaseline="middle",this.enableShadow(l,w),l.fillText(this.options.icon.code,p,M),this.disableShadow(l,w)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(23)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p,M,d){(0,E.default)(this,f);var c=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return c.setImages(M,d),c}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var c=2*this.options.size;return this.width=c,void(this.height=c)}this.needsRefresh(p,M)&&this._resizeImage()}},{key:"draw",value:function(l,p,M,d,c,w){this.switchImages(d),this.resize(),this.left=p-this.width/2,this.top=M-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(l.lineWidth=Math.min(this.width,(d?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),l.beginPath(),l.strokeStyle=d?this.options.color.highlight.border:c?this.options.color.hover.border:this.options.color.border,l.fillStyle=d?this.options.color.highlight.background:c?this.options.color.hover.background:this.options.color.background,l.rect(this.left-.5*l.lineWidth,this.top-.5*l.lineWidth,this.width+l.lineWidth,this.height+l.lineWidth),l.fill(),this.performStroke(l,w),l.closePath()),this._drawImageAtPosition(l,w),this._drawImageLabel(l,p,M,d,c),this.updateBoundingBox(p,M)}},{key:"updateBoundingBox",value:function(l,p){this.resize(),this._updateBoundingBox(l,p),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(73)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"draw",value:function(l,p,M,d,c,w){this._drawShape(l,"square",2,p,M,d,c,w)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(24)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"draw",value:function(l,p,M,d,c,w){this._drawShape(l,"hexagon",4,p,M,d,c,w)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(24)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"draw",value:function(l,p,M,d,c,w){this._drawShape(l,"star",4,p,M,d,c,w)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(24)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){(0,E.default)(this,f);var M=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p));return M._setMargins(p),M}return(0,C.default)(f,a),(0,A.default)(f,[{key:"resize",value:function(l,p,M){this.needsRefresh(p,M)&&(this.textSize=this.labelModule.getTextSize(l,p,M),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(l,p,M,d,c,w){this.resize(l,d,c),this.left=p-this.width/2,this.top=M-this.height/2,this.enableShadow(l,w),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,d,c),this.disableShadow(l,w),this.updateBoundingBox(p,M,l,d,c)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(23)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"draw",value:function(l,p,M,d,c,w){this._drawShape(l,"triangle",3,p,M,d,c,w)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(24)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"draw",value:function(l,p,M,d,c,w){this._drawShape(l,"triangleDown",3,p,M,d,c,w)}},{key:"distanceToBorder",value:function(l,p){return this._distanceToBorder(l,p)}}]),f}(h(D(24)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(v){return v&&v.__esModule?v:{default:v}}var A=D(2),_=D(11),O=D(12),b=D(74).default,C=function(){function v(m,h,S){var a=this;(0,y.default)(this,v),this.body=m,this.images=h,this.groups=S,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(u,l){a.add(l.items)},update:function(u,l){a.update(l.items)},remove:function(u,l){a.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,l,p,M){return l===u?.5:Math.max(0,1/(l-u)*(M-u))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},A.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,E.default)(v,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.on("_forceDisableDynamicCurves",function(S){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===S&&(S="continuous");var f=!1;for(var u in h.body.edges)if(h.body.edges.hasOwnProperty(u)){var l=h.body.edges[u],p=h.body.data.edges._data[u];if(void 0!==p){var M=p.smooth;void 0!==M&&!0===M.enabled&&"dynamic"===M.type&&(l.setOptions(void 0===S?{smooth:!1}:{smooth:{type:S}}),f=!0)}}!0===a&&!0===f&&h.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){h.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){A.forEach(h.edgesListeners,function(S,a){h.body.data.edges&&h.body.data.edges.off(a,S)}),delete h.body.functions.createEdge,delete h.edgesListeners.add,delete h.edgesListeners.update,delete h.edgesListeners.remove,delete h.edgesListeners})}},{key:"setOptions",value:function(h){if(void 0!==h){b.parseOptions(this.options,h,!0,this.defaultOptions,!0);var S=!1;if(void 0!==h.smooth)for(var a in this.body.edges)this.body.edges.hasOwnProperty(a)&&(S=this.body.edges[a].updateEdgeType()||S);if(void 0!==h.font)for(var f in this.body.edges)this.body.edges.hasOwnProperty(f)&&this.body.edges[f].updateLabelModule();(void 0!==h.hidden||void 0!==h.physics||!0===S)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(h){var S=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=this.body.data.edges;if(h instanceof _||h instanceof O)this.body.data.edges=h;else if(Array.isArray(h))this.body.data.edges=new _,this.body.data.edges.add(h);else{if(h)throw new TypeError("Array or DataSet expected");this.body.data.edges=new _}if(f&&A.forEach(this.edgesListeners,function(l,p){f.off(p,l)}),this.body.edges={},this.body.data.edges){A.forEach(this.edgesListeners,function(l,p){S.body.data.edges.on(p,l)});var u=this.body.data.edges.getIds();this.add(u,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===a&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(h){for(var S=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.body.edges,f=this.body.data.edges,u=0;u<h.length;u++){var l=h[u],p=a[l];p&&p.disconnect();var M=f.get(l,{showInternalIds:!0});a[l]=this.create(M)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===S&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(h){for(var S=this.body.edges,a=this.body.data.edges,f=!1,u=0;u<h.length;u++){var l=h[u],p=a.get(l),M=S[l];void 0!==M?(M.disconnect(),f=M.setOptions(p)||f,M.connect()):(this.body.edges[l]=this.create(p),f=!0)}!0===f?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(h){var S=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==h.length){var a=this.body.edges;A.forEach(h,function(f){var u=a[f];void 0!==u&&u.remove()}),S&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var h=this;A.forEach(this.body.edges,function(S,a){var f=h.body.data.edges._data[a];void 0!==f&&S.setOptions(f)})}},{key:"create",value:function(h){return new b(h,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var h,S=this.body.nodes,a=this.body.edges;for(h in S)S.hasOwnProperty(h)&&(S[h].edges=[]);for(h in a)if(a.hasOwnProperty(h)){var f=a[h];f.from=null,f.to=null,f.connect()}}},{key:"getConnectedNodes",value:function(h){var S=[];if(void 0!==this.body.edges[h]){var a=this.body.edges[h];void 0!==a.fromId&&S.push(a.fromId),void 0!==a.toId&&S.push(a.toId)}return S}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var h=this,S=[];A.forEach(this.body.edges,function(a,f){var u=h.body.nodes[a.toId],l=h.body.nodes[a.fromId];void 0!==u&&!0===u.isCluster||void 0!==l&&!0===l.isCluster||(void 0===u||void 0===l)&&S.push(f)}),this.remove(S,!1)}},{key:"_addMissingEdges",value:function(){var h=this.body.edges,a=[];this.body.data.edges.forEach(function(f,u){void 0===h[u]&&a.push(u)}),this.add(a,!0)}}]),v}();L.default=C},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=a(D(30)),E=a(D(3)),A=a(D(0)),O=a(D(1)),C=a(D(4)),m=a(D(5));function a(u){return u&&u.__esModule?u:{default:u}}var f=function(u){function l(p,M,d){return(0,A.default)(this,l),(0,C.default)(this,(l.__proto__||(0,E.default)(l)).call(this,p,M,d))}return(0,m.default)(l,u),(0,O.default)(l,[{key:"_line",value:function(M,d,c){this._bezierCurve(M,d,c[0],c[1])}},{key:"_getViaCoordinates",value:function(){var M=this.from.x-this.to.x,d=this.from.y-this.to.y,c=void 0,w=void 0,I=void 0,N=void 0,V=this.options.smooth.roundness;return(Math.abs(M)>Math.abs(d)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(w=this.from.y,N=this.to.y,c=this.from.x-V*M,I=this.to.x+V*M):(w=this.from.y-V*d,N=this.to.y+V*d,c=this.from.x,I=this.to.x),[{x:c,y:w},{x:I,y:N}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(M,d){return this._findBorderPositionBezier(M,d)}},{key:"_getDistanceToEdge",value:function(M,d,c,w,I,N){var V=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),H=(0,y.default)(V,2);return this._getDistanceToBezierEdge(M,d,c,w,I,N,H[0],H[1])}},{key:"getPoint",value:function(M){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),c=(0,y.default)(d,2),w=c[0],I=c[1],N=M,V=[];return V[0]=Math.pow(1-N,3),V[1]=3*N*Math.pow(1-N,2),V[2]=3*Math.pow(N,2)*(1-N),V[3]=Math.pow(N,3),{x:V[0]*this.fromPoint.x+V[1]*w.x+V[2]*I.x+V[3]*this.toPoint.x,y:V[0]*this.fromPoint.y+V[1]*w.y+V[2]*I.y+V[3]*this.toPoint.y}}}]),l}(a(D(216)).default);L.default=f},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"_getDistanceToBezierEdge",value:function(l,p,M,d,c,w,I,N){var V=1e9,H=void 0,z=void 0,U=void 0,$=void 0,J=void 0,te=l,ie=p,ue=[0,0,0,0];for(z=1;z<10;z++)U=.1*z,ue[0]=Math.pow(1-U,3),ue[1]=3*U*Math.pow(1-U,2),ue[2]=3*Math.pow(U,2)*(1-U),ue[3]=Math.pow(U,3),$=ue[0]*l+ue[1]*I.x+ue[2]*N.x+ue[3]*M,J=ue[0]*p+ue[1]*I.y+ue[2]*N.y+ue[3]*d,z>0&&(V=(H=this._getDistanceToLine(te,ie,$,J,c,w))<V?H:V),te=$,ie=J;return V}}]),f}(h(D(75)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=a(D(30)),E=a(D(3)),A=a(D(0)),O=a(D(1)),C=a(D(4)),m=a(D(5));function a(u){return u&&u.__esModule?u:{default:u}}var f=function(u){function l(p,M,d){(0,A.default)(this,l);var c=(0,C.default)(this,(l.__proto__||(0,E.default)(l)).call(this,p,M,d));return c._boundFunction=function(){c.positionBezierNode()},c.body.emitter.on("_repositionBezierNodes",c._boundFunction),c}return(0,m.default)(l,u),(0,O.default)(l,[{key:"setOptions",value:function(M){var d=!1;this.options.physics!==M.physics&&(d=!0),this.options=M,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===d&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var M="edgeId:"+this.id,d=this.body.functions.createNode({id:M,shape:"circle",physics:!0,hidden:!0});this.body.nodes[M]=d,this.via=d,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(M,d,c){this._bezierCurve(M,d,c)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(M){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,c=M,w=void 0,I=void 0;if(this.from===this.to){var N=this._getCircleData(this.from),V=(0,y.default)(N,3),z=V[1],U=V[2],$=2*Math.PI*(1-c);w=V[0]+U*Math.sin($),I=z+U-U*(1-Math.cos($))}else w=Math.pow(1-c,2)*this.fromPoint.x+2*c*(1-c)*d.x+Math.pow(c,2)*this.toPoint.x,I=Math.pow(1-c,2)*this.fromPoint.y+2*c*(1-c)*d.y+Math.pow(c,2)*this.toPoint.y;return{x:w,y:I}}},{key:"_findBorderPosition",value:function(M,d){return this._findBorderPositionBezier(M,d,this.via)}},{key:"_getDistanceToEdge",value:function(M,d,c,w,I,N){return this._getDistanceToBezierEdge(M,d,c,w,I,N,this.via)}}]),l}(a(D(75)).default);L.default=f},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"_line",value:function(l,p,M){this._bezierCurve(l,p,M)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var l=void 0,p=void 0,M=this.options.smooth.roundness,d=this.options.smooth.type,c=Math.abs(this.from.x-this.to.x),w=Math.abs(this.from.y-this.to.y);if("discrete"===d||"diagonalCross"===d){var I=void 0,N=void 0;I=N=c<=w?M*w:M*c,this.from.x>this.to.x&&(I=-I),this.from.y>=this.to.y&&(N=-N),l=this.from.x+I,p=this.from.y+N,"discrete"===d&&(c<=w?l=c<M*w?this.from.x:l:p=w<M*c?this.from.y:p)}else if("straightCross"===d){var V=(1-M)*c,H=(1-M)*w;c<=w?(V=0,this.from.y<this.to.y&&(H=-H)):(this.from.x<this.to.x&&(V=-V),H=0),l=this.to.x+V,p=this.to.y+H}else if("horizontal"===d){var z=(1-M)*c;this.from.x<this.to.x&&(z=-z),l=this.to.x+z,p=this.from.y}else if("vertical"===d){var U=(1-M)*w;this.from.y<this.to.y&&(U=-U),l=this.from.x,p=this.to.y+U}else if("curvedCW"===d){c=this.to.x-this.from.x,w=this.from.y-this.to.y;var $=Math.sqrt(c*c+w*w),J=Math.PI,ie=(Math.atan2(w,c)+(.5*M+.5)*J)%(2*J);l=this.from.x+(.5*M+.5)*$*Math.sin(ie),p=this.from.y+(.5*M+.5)*$*Math.cos(ie)}else if("curvedCCW"===d){c=this.to.x-this.from.x,w=this.from.y-this.to.y;var ue=Math.sqrt(c*c+w*w),ye=Math.PI,be=(Math.atan2(w,c)+(.5*-M+.5)*ye)%(2*ye);l=this.from.x+(.5*M+.5)*ue*Math.sin(be),p=this.from.y+(.5*M+.5)*ue*Math.cos(be)}else{var de=void 0,re=void 0;de=re=c<=w?M*w:M*c,this.from.x>this.to.x&&(de=-de),this.from.y>=this.to.y&&(re=-re),l=this.from.x+de,p=this.from.y+re,c<=w?l=this.from.x<=this.to.x?this.to.x<l?this.to.x:l:this.to.x>l?this.to.x:l:p=this.from.y>=this.to.y?this.to.y>p?this.to.y:p:this.to.y<p?this.to.y:p}return{x:l,y:p}}},{key:"_findBorderPosition",value:function(l,p){return this._findBorderPositionBezier(l,p,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(l,p,M,d,c,w){var I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(l,p,M,d,c,w,I)}},{key:"getPoint",value:function(l){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),M=l;return{x:Math.pow(1-M,2)*this.fromPoint.x+2*M*(1-M)*p.x+Math.pow(M,2)*this.toPoint.x,y:Math.pow(1-M,2)*this.fromPoint.y+2*M*(1-M)*p.y+Math.pow(M,2)*this.toPoint.y}}}]),f}(h(D(75)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"_line",value:function(l,p){l.beginPath(),l.moveTo(this.fromPoint.x,this.fromPoint.y),l.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(l,p),l.stroke(),this.disableShadow(l,p)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(l){return{x:(1-l)*this.fromPoint.x+l*this.toPoint.x,y:(1-l)*this.fromPoint.y+l*this.toPoint.y}}},{key:"_findBorderPosition",value:function(l,p){var M=this.to,d=this.from;l.id===this.from.id&&(M=this.from,d=this.to);var c=Math.atan2(M.y-d.y,M.x-d.x),w=M.x-d.x,I=M.y-d.y,N=Math.sqrt(w*w+I*I),H=(N-l.distanceToBorder(p,c))/N,z={};return z.x=(1-H)*d.x+H*M.x,z.y=(1-H)*d.y+H*M.y,z}},{key:"_getDistanceToEdge",value:function(l,p,M,d,c,w){return this._getDistanceToLine(l,p,M,d,c,w)}}]),f}(h(D(118)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=_(D(8)),E=_(D(0)),A=_(D(1));function _(p){return p&&p.__esModule?p:{default:p}}var O=D(120).default,b=D(221).default,C=D(222).default,v=D(223).default,m=D(224).default,h=D(121).default,S=D(225).default,a=D(226).default,f=D(2),u=D(119).default,l=function(){function p(M){(0,E.default)(this,p),this.body=M,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},f.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,A.default)(p,[{key:"bindEventListeners",value:function(){var d=this;this.body.emitter.on("initPhysics",function(){d.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){d.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){d.stopSimulation(),d.ready=!1}),this.body.emitter.on("disablePhysics",function(){d.physicsEnabled=!1,d.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){d.setOptions(d.options),!0===d.ready&&d.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===d.ready&&d.startSimulation()}),this.body.emitter.on("stopSimulation",function(){d.stopSimulation()}),this.body.emitter.on("destroy",function(){d.stopSimulation(!1),d.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){d.updatePhysicsData()})}},{key:"setOptions",value:function(d){void 0!==d&&(!1===d?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===d?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,f.selectiveNotDeepExtend(["stabilization"],this.options,d),f.mergeOptions(this.options,d,"stabilization"),void 0===d.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var d;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new S(this.body,this.physicsBody,d=this.options.forceAtlas2Based),this.edgesSolver=new v(this.body,this.physicsBody,d),this.gravitySolver=new a(this.body,this.physicsBody,d)):"repulsion"===this.options.solver?(this.nodesSolver=new b(this.body,this.physicsBody,d=this.options.repulsion),this.edgesSolver=new v(this.body,this.physicsBody,d),this.gravitySolver=new h(this.body,this.physicsBody,d)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new C(this.body,this.physicsBody,d=this.options.hierarchicalRepulsion),this.edgesSolver=new m(this.body,this.physicsBody,d),this.gravitySolver=new h(this.body,this.physicsBody,d)):(this.nodesSolver=new O(this.body,this.physicsBody,d=this.options.barnesHut),this.edgesSolver=new v(this.body,this.physicsBody,d),this.gravitySolver=new h(this.body,this.physicsBody,d)),this.modelOptions=d}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var d=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===d&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===d&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var d=Date.now();this.physicsTick(),(Date.now()-d<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var d=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){d.body.emitter.emit("stabilized",{iterations:c}),d.startedStabilization=!1,d.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var d=this.body.nodes,c=this.body.edges;for(var w in d)d.hasOwnProperty(w)&&!0===d[w].options.physics&&this.physicsBody.physicsNodeIndices.push(d[w].id);for(var I in c)c.hasOwnProperty(I)&&!0===c[I].options.physics&&this.physicsBody.physicsEdgeIndices.push(c[I].id);for(var N=0;N<this.physicsBody.physicsNodeIndices.length;N++){var V=this.physicsBody.physicsNodeIndices[N];this.physicsBody.forces[V]={x:0,y:0},void 0===this.physicsBody.velocities[V]&&(this.physicsBody.velocities[V]={x:0,y:0})}for(var H in this.physicsBody.velocities)void 0===d[H]&&delete this.physicsBody.velocities[H]}},{key:"revert",value:function(){var d=(0,y.default)(this.previousStates),c=this.body.nodes,w=this.physicsBody.velocities;this.referenceState={};for(var I=0;I<d.length;I++){var N=d[I];void 0!==c[N]?!0===c[N].options.physics&&(this.referenceState[N]={positions:{x:c[N].x,y:c[N].y}},w[N].x=this.previousStates[N].vx,w[N].y=this.previousStates[N].vy,c[N].x=this.previousStates[N].x,c[N].y=this.previousStates[N].y):delete this.previousStates[N]}}},{key:"_evaluateStepQuality",value:function(){var c=void 0,I=this.body.nodes,N=this.referenceState;for(var H in this.referenceState)if(this.referenceState.hasOwnProperty(H)&&void 0!==I[H]&&(c=I[H].y-N[H].positions.y,Math.sqrt(Math.pow(I[H].x-N[H].positions.x,2)+Math.pow(c,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var d=this.physicsBody.physicsNodeIndices,c=0,w=0,N=0;N<d.length;N++){var H=this._performStep(d[N]);c=Math.max(c,H),w+=H}this.adaptiveTimestepEnabled=w/d.length<5,this.stabilized=c<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(d,c,w){d+=(c-this.modelOptions.damping*d)/w*this.timestep;var V=this.options.maxVelocity||1e9;return Math.abs(d)>V&&(d=d>0?V:-V),d}},{key:"_performStep",value:function(d){var c=this.body.nodes[d],w=this.physicsBody.forces[d],I=this.physicsBody.velocities[d];return this.previousStates[d]={x:c.x,y:c.y,vx:I.x,vy:I.y},!1===c.options.fixed.x?(I.x=this.calculateComponentVelocity(I.x,w.x,c.options.mass),c.x+=I.x*this.timestep):(w.x=0,I.x=0),!1===c.options.fixed.y?(I.y=this.calculateComponentVelocity(I.y,w.y,c.options.mass),c.y+=I.y*this.timestep):(w.y=0,I.y=0),Math.sqrt(Math.pow(I.x,2)+Math.pow(I.y,2))}},{key:"_freezeNodes",value:function(){var d=this.body.nodes;for(var c in d)if(d.hasOwnProperty(c)&&d[c].x&&d[c].y){var w=d[c].options.fixed;this.freezeCache[c]={x:w.x,y:w.y},w.x=!0,w.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var d=this.body.nodes;for(var c in d)d.hasOwnProperty(c)&&void 0!==this.freezeCache[c]&&(d[c].options.fixed.x=this.freezeCache[c].x,d[c].options.fixed.y=this.freezeCache[c].y);this.freezeCache={}}},{key:"stabilize",value:function(){var d=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof c&&(c=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",c)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=c,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return d._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var d=this,c=function(){return!1===d.stabilized&&d.stabilizationIterations<d.targetIterations},w=function(){d.body.emitter.emit("stabilizationProgress",{iterations:d.stabilizationIterations,total:d.targetIterations})};this._startStabilizing()&&w();for(var I=0;c()&&I<this.options.stabilization.updateInterval;)this.physicsTick(),I++;w(),c()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(d){for(var c=0;c<this.physicsBody.physicsNodeIndices.length;c++){var w=this.physicsBody.physicsNodeIndices[c],I=this.body.nodes[w],N=this.physicsBody.forces[w],z=Math.sqrt(Math.pow(N.x,2)+Math.pow(N.x,2)),U=Math.min(Math.max(5,z),15),$=3*U,J=f.HSVToHex((180-180*Math.min(1,Math.max(0,.03*z)))/360,1,1),te={x:I.x+20*N.x,y:I.y+20*N.y};d.lineWidth=U,d.strokeStyle=J,d.beginPath(),d.moveTo(I.x,I.y),d.lineTo(te.x,te.y),d.stroke();var ie=Math.atan2(N.y,N.x);d.fillStyle=J,u.draw(d,{type:"arrow",point:te,angle:ie,length:$}),d.fill()}}}]),p}();L.default=l},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(O,b,C){(0,y.default)(this,_),this.body=O,this.physicsBody=b,this.setOptions(C)}return(0,E.default)(_,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b,C,v,m,h,S,a,f,u=this.body.nodes,l=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,M=this.options.nodeDistance,d=-2/3/M,w=0;w<l.length-1;w++){a=u[l[w]];for(var I=w+1;I<l.length;I++)b=(f=u[l[I]]).x-a.x,C=f.y-a.y,0===(v=Math.sqrt(b*b+C*C))&&(b=v=.1*Math.random()),v<2*M&&(S=v<.5*M?1:d*v+1.3333333333333333,h=C*(S/=v),p[a.id].x-=m=b*S,p[a.id].y-=h,p[f.id].x+=m,p[f.id].y+=h)}}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(O,b,C){(0,y.default)(this,_),this.body=O,this.physicsBody=b,this.setOptions(C)}return(0,E.default)(_,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){var b,C,v,m,h,S,a,f,u,l,p=this.body.nodes,M=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,c=this.options.nodeDistance;for(u=0;u<M.length-1;u++)for(a=p[M[u]],l=u+1;l<M.length;l++)if(a.level===(f=p[M[l]]).level){b=f.x-a.x,C=f.y-a.y;S=(v=Math.sqrt(b*b+C*C))<c?-Math.pow(.05*v,2)+Math.pow(.05*c,2):0,0===v?v=.01:S/=v,h=C*S,d[a.id].x-=m=b*S,d[a.id].y-=h,d[f.id].x+=m,d[f.id].y+=h}}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(O,b,C){(0,y.default)(this,_),this.body=O,this.physicsBody=b,this.setOptions(C)}return(0,E.default)(_,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b=void 0,C=void 0,v=this.physicsBody.physicsEdgeIndices,m=this.body.edges,S=void 0,a=void 0,f=0;f<v.length;f++)!0===(C=m[v[f]]).connected&&C.toId!==C.fromId&&void 0!==this.body.nodes[C.toId]&&void 0!==this.body.nodes[C.fromId]&&(void 0!==C.edgeType.via?(a=C.from,this._calculateSpringForce(C.to,S=C.edgeType.via,.5*(b=void 0===C.options.length?this.options.springLength:C.options.length)),this._calculateSpringForce(S,a,.5*b)):this._calculateSpringForce(C.from,C.to,b=void 0===C.options.length?1.5*this.options.springLength:C.options.length))}},{key:"_calculateSpringForce",value:function(b,C,v){var m=b.x-C.x,h=b.y-C.y,S=Math.max(Math.sqrt(m*m+h*h),.01),a=this.options.springConstant*(v-S)/S,f=m*a,u=h*a;void 0!==this.physicsBody.forces[b.id]&&(this.physicsBody.forces[b.id].x+=f,this.physicsBody.forces[b.id].y+=u),void 0!==this.physicsBody.forces[C.id]&&(this.physicsBody.forces[C.id].x-=f,this.physicsBody.forces[C.id].y-=u)}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(O,b,C){(0,y.default)(this,_),this.body=O,this.physicsBody=b,this.setOptions(C)}return(0,E.default)(_,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b,C,v,m,h,S,a,f,u=this.body.edges,l=.5,p=this.physicsBody.physicsEdgeIndices,M=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,c=0;c<M.length;c++){var w=M[c];d[w].springFx=0,d[w].springFy=0}for(var I=0;I<p.length;I++)!0===(C=u[p[I]]).connected&&(b=void 0===C.options.length?this.options.springLength:C.options.length,v=C.from.x-C.to.x,m=C.from.y-C.to.y,f=Math.sqrt(v*v+m*m),h=v*(a=this.options.springConstant*(b-(f=0===f?.01:f))/f),S=m*a,C.to.level!=C.from.level?(void 0!==d[C.toId]&&(d[C.toId].springFx-=h,d[C.toId].springFy-=S),void 0!==d[C.fromId]&&(d[C.fromId].springFx+=h,d[C.fromId].springFy+=S)):(void 0!==d[C.toId]&&(d[C.toId].x-=l*h,d[C.toId].y-=l*S),void 0!==d[C.fromId]&&(d[C.fromId].x+=l*h,d[C.fromId].y+=l*S)));a=1;for(var N,V,H=0;H<M.length;H++){var z=M[H];N=Math.min(a,Math.max(-a,d[z].springFx)),V=Math.min(a,Math.max(-a,d[z].springFy)),d[z].x+=N,d[z].y+=V}for(var U=0,$=0,J=0;J<M.length;J++){var te=M[J];U+=d[te].x,$+=d[te].y}for(var ie=U/M.length,ue=$/M.length,ye=0;ye<M.length;ye++){var ve=M[ye];d[ve].x-=ie,d[ve].y-=ue}}}]),_}();L.default=A},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"_calculateForces",value:function(l,p,M,d,c){0===l&&(p=l=.1*Math.random()),this.overlapAvoidanceFactor<1&&d.shape.radius&&(l=Math.max(.1+this.overlapAvoidanceFactor*d.shape.radius,l-d.shape.radius));var I=this.options.gravitationalConstant*c.mass*d.options.mass*(d.edges.length+1)/Math.pow(l,2),V=M*I;this.physicsBody.forces[d.id].x+=p*I,this.physicsBody.forces[d.id].y+=V}}]),f}(h(D(120)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=h(D(3)),E=h(D(0)),A=h(D(1)),O=h(D(4)),C=h(D(5));function h(a){return a&&a.__esModule?a:{default:a}}var S=function(a){function f(u,l,p){return(0,E.default)(this,f),(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p))}return(0,C.default)(f,a),(0,A.default)(f,[{key:"_calculateForces",value:function(l,p,M,d,c){if(l>0){var I=this.options.centralGravity*(c.edges.length+1)*c.options.mass;d[c.id].x=p*I,d[c.id].y=M*I}}}]),f}(h(D(121)).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=b(D(8)),E=b(D(6)),A=b(D(0)),O=b(D(1));function b(f){return f&&f.__esModule?f:{default:f}}var C=D(2),v=D(76).default,m=D(228).default,h=D(74).default,S=D(47).default,a=function(){function f(u){var l=this;(0,A.default)(this,f),this.body=u,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},C.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){l.clusteredNodes={},l.clusteredEdges={}})}return(0,O.default)(f,[{key:"clusterByHubsize",value:function(l,p){void 0===l?l=this._getHubSize():"object"===(void 0===l?"undefined":(0,E.default)(l))&&(p=this._checkOptions(l),l=this._getHubSize());for(var M=[],d=0;d<this.body.nodeIndices.length;d++){var c=this.body.nodes[this.body.nodeIndices[d]];c.edges.length>=l&&M.push(c.id)}for(var w=0;w<M.length;w++)this.clusterByConnection(M[w],p,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var l=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===p.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");p=this._checkOptions(p);var d={},c={};C.forEach(this.body.nodes,function(w,I){var N=v.cloneOptions(w);!0===p.joinCondition(N)&&(d[I]=w,C.forEach(w.edges,function(V){void 0===l.clusteredEdges[V.id]&&(c[V.id]=V)}))}),this._cluster(d,c,p,M)}},{key:"clusterByEdgeCount",value:function(l,p){var M=this,d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];p=this._checkOptions(p);for(var c=[],w={},I=void 0,N=void 0,V=void 0,H=function(ie){var ue={},ye={},ve=M.body.nodeIndices[ie],be=M.body.nodes[ve];if(void 0===w[ve]){V=0,N=[];for(var de=0;de<be.edges.length;de++)void 0===M.clusteredEdges[(I=be.edges[de]).id]&&(I.toId!==I.fromId&&V++,N.push(I));if(V===l){U=function(Re){if(null==p.joinCondition)return!0;var Fe=v.cloneOptions(Re);return p.joinCondition(Fe)};for(var re=!0,ae=0;ae<N.length;ae++){var me=M._getConnectedId(I=N[ae],ve);if(!U(be)){re=!1;break}ye[I.id]=I,ue[ve]=be,ue[me]=M.body.nodes[me],w[ve]=!0}if((0,y.default)(ue).length>0&&(0,y.default)(ye).length>0&&!0===re)if(void 0!==(J=function(){for(var Re=0;Re<c.length;++Re)for(var Fe in ue)if(void 0!==c[Re].nodes[Fe])return c[Re]}())){for(var Se in ue)void 0===J.nodes[Se]&&(J.nodes[Se]=ue[Se]);for(var _e in ye)void 0===J.edges[_e]&&(J.edges[_e]=ye[_e])}else c.push({nodes:ue,edges:ye})}}},z=0;z<this.body.nodeIndices.length;z++){var U,J;H(z)}for(z=0;z<c.length;z++)this._cluster(c[z].nodes,c[z].edges,p,!1);!0===d&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(l){this.clusterByEdgeCount(1,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(l){this.clusterByEdgeCount(2,l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(l,p){var M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===l)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[l])throw new Error("The nodeId given to clusterByConnection does not exist!");var d=this.body.nodes[l];void 0===(p=this._checkOptions(p,d)).clusterNodeProperties.x&&(p.clusterNodeProperties.x=d.x),void 0===p.clusterNodeProperties.y&&(p.clusterNodeProperties.y=d.y),void 0===p.clusterNodeProperties.fixed&&(p.clusterNodeProperties.fixed={},p.clusterNodeProperties.fixed.x=d.options.fixed.x,p.clusterNodeProperties.fixed.y=d.options.fixed.y);var c={},w={},I=d.id,N=v.cloneOptions(d);c[I]=d;for(var V=0;V<d.edges.length;V++){var H=d.edges[V];if(void 0===this.clusteredEdges[H.id]){var z=this._getConnectedId(H,I);if(void 0===this.clusteredNodes[z])if(z!==I)if(void 0===p.joinCondition)w[H.id]=H,c[z]=this.body.nodes[z];else{var U=v.cloneOptions(this.body.nodes[z]);!0===p.joinCondition(N,U)&&(w[H.id]=H,c[z]=this.body.nodes[z])}else w[H.id]=H}}var $=(0,y.default)(c).map(function(ue){return c[ue].id});for(J in c)if(c.hasOwnProperty(J))for(var J=c[J],te=0;te<J.edges.length;te++){var ie=J.edges[te];$.indexOf(this._getConnectedId(ie,J.id))>-1&&(w[ie.id]=ie)}this._cluster(c,w,p,M)}},{key:"_createClusterEdges",value:function(l,p,M,d){for(var c=void 0,w=void 0,I=void 0,N=void 0,V=void 0,H=void 0,z=(0,y.default)(l),U=[],$=0;$<z.length;$++){I=l[w=z[$]];for(var J=0;J<I.edges.length;J++)void 0===this.clusteredEdges[(c=I.edges[J]).id]&&(c.toId==c.fromId?p[c.id]=c:c.toId==w?(N=M.id,H=V=c.fromId):(V=M.id,H=N=c.toId),void 0===l[H]&&U.push({edge:c,fromId:V,toId:N}))}for(var te=[],ie=function(re){for(var ae=0;ae<te.length;ae++){var me=te[ae];if(re.fromId===me.fromId&&re.toId===me.toId||re.fromId===me.toId&&re.toId===me.fromId)return me}return null},ue=0;ue<U.length;ue++){var ye=U[ue],ve=ye.edge,be=ie(ye);null===be?(be=this._createClusteredEdge(ye.fromId,ye.toId,ve,d),te.push(be)):be.clusteringEdgeReplacingIds.push(ve.id),this.body.edges[ve.id].edgeReplacedById=be.id,this._backupEdgeOptions(ve),ve.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===l.clusterEdgeProperties&&(l.clusterEdgeProperties={}),void 0===l.clusterNodeProperties&&(l.clusterNodeProperties={}),l}},{key:"_cluster",value:function(l,p,M){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=[];for(var w in l)l.hasOwnProperty(w)&&void 0!==this.clusteredNodes[w]&&c.push(w);for(var I=0;I<c.length;++I)delete l[c[I]];if(0!=(0,y.default)(l).length&&(1!=(0,y.default)(l).length||1==M.clusterNodeProperties.allowSingleNodeCluster)){var N=C.deepExtend({},M.clusterNodeProperties);if(void 0!==M.processProperties){var V=[];for(var H in l)if(l.hasOwnProperty(H)){var z=v.cloneOptions(l[H]);V.push(z)}var U=[];for(var $ in p)if(p.hasOwnProperty($)&&"clusterEdge:"!==$.substr(0,12)){var J=v.cloneOptions(p[$],"edge");U.push(J)}if(!(N=M.processProperties(N,V,U)))throw new Error("The processProperties function does not return properties!")}void 0===N.id&&(N.id="cluster:"+C.randomUUID());var te=N.id;void 0===N.label&&(N.label="cluster");var ie=void 0;void 0===N.x&&(ie=this._getClusterPosition(l),N.x=ie.x),void 0===N.y&&(void 0===ie&&(ie=this._getClusterPosition(l)),N.y=ie.y),N.id=te;var ue=this.body.functions.createNode(N,m);ue.containedNodes=l,ue.containedEdges=p,ue.clusterEdgeProperties=M.clusterEdgeProperties,this.body.nodes[N.id]=ue,this._clusterEdges(l,p,N,M.clusterEdgeProperties),N.id=void 0,!0===d&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(l){void 0===this.clusteredEdges[l.id]&&(this.clusteredEdges[l.id]={physics:l.options.physics})}},{key:"_restoreEdge",value:function(l){var p=this.clusteredEdges[l.id];void 0!==p&&(l.setOptions({physics:p.physics}),delete this.clusteredEdges[l.id])}},{key:"isCluster",value:function(l){return void 0!==this.body.nodes[l]?!0===this.body.nodes[l].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(l){for(var p=(0,y.default)(l),M=l[p[0]].x,d=l[p[0]].x,c=l[p[0]].y,w=l[p[0]].y,I=void 0,N=1;N<p.length;N++)M=(I=l[p[N]]).x<M?I.x:M,d=I.x>d?I.x:d,c=I.y<c?I.y:c,w=I.y>w?I.y:w;return{x:.5*(M+d),y:.5*(c+w)}}},{key:"openCluster",value:function(l,p){var M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===l)throw new Error("No clusterNodeId supplied to openCluster.");var d=this.body.nodes[l];if(void 0===d)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==d.isCluster||void 0===d.containedNodes||void 0===d.containedEdges)throw new Error("The node:"+l+" is not a valid cluster.");var c=this.findNode(l),w=c.indexOf(l)-1;if(w>=0)return this.body.nodes[c[w]]._openChildCluster(l),delete this.body.nodes[l],void(!0===M&&this.body.emitter.emit("_dataChanged"));var V=d.containedNodes,H=d.containedEdges;if(void 0!==p&&void 0!==p.releaseFunction&&"function"==typeof p.releaseFunction){var z={},U={x:d.x,y:d.y};for(var $ in V)if(V.hasOwnProperty($)){var J=this.body.nodes[$];z[$]={x:J.x,y:J.y}}var te=p.releaseFunction(U,z);for(var ie in V)if(V.hasOwnProperty(ie)){var ue=this.body.nodes[ie];void 0!==te[ie]&&(ue.x=void 0===te[ie].x?d.x:te[ie].x,ue.y=void 0===te[ie].y?d.y:te[ie].y)}}else C.forEach(V,function(qe){!1===qe.options.fixed.x&&(qe.x=d.x),!1===qe.options.fixed.y&&(qe.y=d.y)});for(var ye in V)if(V.hasOwnProperty(ye)){var ve=this.body.nodes[ye];ve.vx=d.vx,ve.vy=d.vy,ve.setOptions({physics:!0}),delete this.clusteredNodes[ye]}for(var be=[],de=0;de<d.edges.length;de++)be.push(d.edges[de]);for(var re=0;re<be.length;re++){for(var ae=be[re],me=this._getConnectedId(ae,l),Se=this.clusteredNodes[me],_e=0;_e<ae.clusteringEdgeReplacingIds.length;_e++){var Re=this.body.edges[ae.clusteringEdgeReplacingIds[_e]];if(void 0!==Re)if(void 0!==Se){var Fe=this.body.nodes[Se.clusterId];Fe.containedEdges[Re.id]=Re,delete H[Re.id];var Ke=Re.fromId,Ut=Re.toId;Re.toId==me?Ut=Se.clusterId:Ke=Se.clusterId,this._createClusteredEdge(Ke,Ut,Re,Fe.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Re)}ae.remove()}for(var Qt in H)H.hasOwnProperty(Qt)&&this._restoreEdge(H[Qt]);delete this.body.nodes[l],!0===M&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(l){var p=[];if(!0===this.isCluster(l)){var M=this.body.nodes[l].containedNodes;for(var d in M)M.hasOwnProperty(d)&&p.push(this.body.nodes[d].id)}return p}},{key:"findNode",value:function(l){for(var p=[],d=0,c=void 0;void 0!==this.clusteredNodes[l]&&d<100;){if(void 0===(c=this.body.nodes[l]))return[];p.push(c.id),l=this.clusteredNodes[l].clusterId,d++}return void 0===(c=this.body.nodes[l])?[]:(p.push(c.id),p.reverse(),p)}},{key:"updateClusteredNode",value:function(l,p){if(void 0===l)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===p)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[l])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[l].setOptions(p),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(l,p){if(void 0===l)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===p)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[l])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var M=this.getClusteredEdges(l),d=0;d<M.length;d++)this.body.edges[M[d]].setOptions(p);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(l){for(var p=[],d=0;void 0!==l&&void 0!==this.body.edges[l]&&d<100;)p.push(this.body.edges[l].id),l=this.body.edges[l].edgeReplacedById,d++;return p.reverse(),p}},{key:"getBaseEdge",value:function(l){return this.getBaseEdges(l)[0]}},{key:"getBaseEdges",value:function(l){for(var p=[l],M=[],d=[],w=0;p.length>0&&w<100;){var I=p.pop();if(void 0!==I){var N=this.body.edges[I];if(void 0!==N){w++;var V=N.clusteringEdgeReplacingIds;if(void 0===V)d.push(I);else for(var H=0;H<V.length;++H){var z=V[H];-1!==p.indexOf(V)||-1!==M.indexOf(V)||p.push(z)}M.push(I)}}}return d}},{key:"_getConnectedId",value:function(l,p){return l.toId!=p?l.toId:l.fromId}},{key:"_getHubSize",value:function(){for(var l=0,p=0,M=0,d=0,c=0;c<this.body.nodeIndices.length;c++){var w=this.body.nodes[this.body.nodeIndices[c]];w.edges.length>d&&(d=w.edges.length),l+=w.edges.length,p+=Math.pow(w.edges.length,2),M+=1}l/=M;var I=(p/=M)-Math.pow(l,2),N=Math.sqrt(I),V=Math.floor(l+2*N);return V>d&&(V=d),V}},{key:"_createClusteredEdge",value:function(l,p,M,d,c){var w=v.cloneOptions(M,"edge");C.deepExtend(w,d),w.from=l,w.to=p,w.id="clusterEdge:"+C.randomUUID(),void 0!==c&&C.deepExtend(w,c);var I=this.body.functions.createEdge(w);return I.clusteringEdgeReplacingIds=[M.id],I.connect(),this.body.edges[I.id]=I,I}},{key:"_clusterEdges",value:function(l,p,M,d){if(p instanceof h){var w={};w[p.id]=p,p=w}if(l instanceof S){var N={};N[l.id]=l,l=N}if(null==M)throw new Error("_clusterEdges: parameter clusterNode required");for(var V in void 0===d&&(d=M.clusterEdgeProperties),this._createClusterEdges(l,p,M,d),p)if(p.hasOwnProperty(V)&&void 0!==this.body.edges[V]){var H=this.body.edges[V];this._backupEdgeOptions(H),H.setOptions({physics:!1})}for(var z in l)l.hasOwnProperty(z)&&(this.clusteredNodes[z]={clusterId:M.id,node:this.body.nodes[z]},this.body.nodes[z].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(l){if(void 0!==l){var p=this.clusteredNodes[l];if(void 0!==p){var M=p.clusterId;if(void 0!==M)return this.body.nodes[M]}}}},{key:"_filter",value:function(l,p){var M=[];return C.forEach(l,function(d){p(d)&&M.push(d)}),M}},{key:"_updateState",value:function(){var l=this,p=void 0,M=[],d=[],c=function($){C.forEach(l.body.nodes,function(J){!0===J.isCluster&&$(J)})};for(p in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(p)&&void 0===this.body.nodes[p]&&M.push(p);c(function(U){for(var $=0;$<M.length;$++)delete U.containedNodes[M[$]]});for(var I=0;I<M.length;I++)delete this.clusteredNodes[M[I]];C.forEach(this.clusteredEdges,function(U){var $=l.body.edges[U];(void 0===$||!$.endPointsValid())&&d.push(U)}),c(function(U){C.forEach(U.containedEdges,function($,J){!$.endPointsValid()&&-1===d.indexOf(J)&&d.push(J)})}),C.forEach(this.body.edges,function(U,$){var J=!0,te=U.clusteringEdgeReplacingIds;if(void 0!==te){var ie=0;C.forEach(te,function(ue){var ye=l.body.edges[ue];void 0!==ye&&ye.endPointsValid()&&(ie+=1)}),J=ie>0}(!U.endPointsValid()||!J)&&d.push($)}),c(function(U){C.forEach(d,function($){delete U.containedEdges[$],C.forEach(U.edges,function(J,te){J.id!==$?J.clusteringEdgeReplacingIds=l._filter(J.clusteringEdgeReplacingIds,function(ie){return-1===d.indexOf(ie)}):U.edges[te]=null}),U.edges=l._filter(U.edges,function(J){return null!==J})})}),C.forEach(d,function(U){delete l.clusteredEdges[U]}),C.forEach(d,function(U){delete l.body.edges[U]});var N=(0,y.default)(this.body.edges);C.forEach(N,function(U){var $=l.body.edges[U],J=l._isClusteredNode($.fromId)||l._isClusteredNode($.toId);if(J!==l._isClusteredEdge($.id)){if(!J)throw new Error("remove edge from clustering not implemented!");var te=l._getClusterNodeForNode($.fromId);void 0!==te&&l._clusterEdges(l.body.nodes[$.fromId],$,te);var ie=l._getClusterNodeForNode($.toId);void 0!==ie&&l._clusterEdges(l.body.nodes[$.toId],$,ie)}});for(var V=!1,H=!0,z=function(){var $=[];c(function(te){var ie=(0,y.default)(te.containedNodes).length,ue=!0===te.options.allowSingleNodeCluster;(ue&&ie<1||!ue&&ie<2)&&$.push(te.id)});for(var J=0;J<$.length;++J)l.openCluster($[J],{},!1);H=$.length>0,V=V||H};H;)z();V&&this._updateState()}},{key:"_isClusteredNode",value:function(l){return void 0!==this.clusteredNodes[l]}},{key:"_isClusteredEdge",value:function(l){return void 0!==this.clusteredEdges[l]}}]),f}();L.default=a},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=v(D(3)),E=v(D(0)),A=v(D(1)),O=v(D(4)),C=v(D(5));function v(a){return a&&a.__esModule?a:{default:a}}var m=D(2),S=function(a){function f(u,l,p,M,d,c){(0,E.default)(this,f);var w=(0,O.default)(this,(f.__proto__||(0,y.default)(f)).call(this,u,l,p,M,d,c));return w.isCluster=!0,w.containedNodes={},w.containedEdges={},w}return(0,C.default)(f,a),(0,A.default)(f,[{key:"_openChildCluster",value:function(l){var p=this,M=this.body.nodes[l];if(void 0===this.containedNodes[l])throw new Error("node with id: "+l+" not in current cluster");if(!M.isCluster)throw new Error("node with id: "+l+" is not a cluster");delete this.containedNodes[l],m.forEach(M.edges,function(d){delete p.containedEdges[d.id]}),m.forEach(M.containedNodes,function(d,c){p.containedNodes[c]=d}),M.containedNodes={},m.forEach(M.containedEdges,function(d,c){p.containedEdges[c]=d}),M.containedEdges={},m.forEach(M.edges,function(d){m.forEach(p.edges,function(c){var w=c.clusteringEdgeReplacingIds.indexOf(d.id);-1!==w&&(m.forEach(d.clusteringEdgeReplacingIds,function(I){c.clusteringEdgeReplacingIds.push(I),p.body.edges[I].edgeReplacedById=c.id}),c.clusteringEdgeReplacingIds.splice(w,1))})}),M.edges=[]}}]),f}(D(47).default);L.default=S},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(b){return b&&b.__esModule?b:{default:b}}var _=D(2),O=function(){function b(C,v){(0,y.default)(this,b),function(){var b;void 0!==window&&(b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===b?function(C){C()}:b}(),this.body=C,this.canvas=v,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},_.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,E.default)(b,[{key:"bindEventListeners",value:function(){var v=this;this.body.emitter.on("dragStart",function(){v.dragging=!0}),this.body.emitter.on("dragEnd",function(){v.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){v._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===v.renderingActive&&v._redraw()}),this.body.emitter.on("_blockRedraw",function(){v.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){v.allowRedraw=!0,v.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){v.renderRequests+=1,v.renderingActive=!0,v._startRendering()}),this.body.emitter.on("_stopRendering",function(){v.renderRequests-=1,v.renderingActive=v.renderRequests>0,v.renderTimer=void 0}),this.body.emitter.on("destroy",function(){v.renderRequests=0,v.allowRedraw=!1,v.renderingActive=!1,!0===v.requiresTimeout?clearTimeout(v.renderTimer):window.cancelAnimationFrame(v.renderTimer),v.body.emitter.off()})}},{key:"setOptions",value:function(v){void 0!==v&&_.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,v)}},{key:"_requestNextFrame",value:function(v,m){if("undefined"!=typeof window){var h=void 0,S=window;return!0===this.requiresTimeout?h=S.setTimeout(v,m):S.requestAnimationFrame&&(h=S.requestAnimationFrame(v)),h}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var v=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){v._redraw(!1)},0))}},{key:"_redraw",value:function(){var v=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var m=this.canvas.getContext(),h=this.canvas.frame.canvas.clientWidth,S=this.canvas.frame.canvas.clientHeight;if(m.clearRect(0,0,h,S),0===this.canvas.frame.clientWidth)return;m.save(),m.translate(this.body.view.translation.x,this.body.view.translation.y),m.scale(this.body.view.scale,this.body.view.scale),m.beginPath(),this.body.emitter.emit("beforeDrawing",m),m.closePath(),!1===v&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(m),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(m,v),m.beginPath(),this.body.emitter.emit("afterDrawing",m),m.closePath(),m.restore(),!0===v&&m.clearRect(0,0,h,S)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var v=this.canvas.getContext();v.save(),v.translate(this.body.view.translation.x,this.body.view.translation.y),v.scale(this.body.view.scale,this.body.view.scale);var m=this.body.nodes,h=void 0;for(var S in m)m.hasOwnProperty(S)&&((h=m[S]).resize(v),h.updateBoundingBox(v,h.selected));v.restore()}},{key:"_drawNodes",value:function(v){for(var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=this.body.nodes,S=this.body.nodeIndices,a=void 0,f=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),p=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),M={top:l.y,left:l.x,bottom:p.y,right:p.x},d=0;d<S.length;d++)(a=h[S[d]]).isSelected()?f.push(S[d]):!0===m||!0===a.isBoundingBoxOverlappingWith(M)?a.draw(v):a.updateBoundingBox(v,a.selected);for(var c=0;c<f.length;c++)(a=h[f[c]]).draw(v)}},{key:"_drawEdges",value:function(v){for(var m=this.body.edges,h=this.body.edgeIndices,S=void 0,a=0;a<h.length;a++)!0===(S=m[h[a]]).connected&&S.draw(v)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var v=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=v.indexOf("msie 9.0")||-1!=v.indexOf("safari")&&v.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),b}();L.default=O},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(C){return C&&C.__esModule?C:{default:C}}var A=D(10),_=D(37),O=D(2),b=function(){function C(v){(0,y.default)(this,C),this.body=v,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},O.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,E.default)(C,[{key:"bindEventListeners",value:function(){var m=this;this.body.emitter.once("resize",function(h){0!==h.width&&(m.body.view.translation.x=.5*h.width),0!==h.height&&(m.body.view.translation.y=.5*h.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){m.hammerFrame.destroy(),m.hammer.destroy(),m._cleanUp()})}},{key:"setOptions",value:function(m){var h=this;void 0!==m&&O.selectiveDeepExtend(["width","height","autoResize"],this.options,m),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===h.setSize()&&h.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),O.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),O.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/m,this.cameraState.previousHeight=this.frame.canvas.height/m,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/m,y:.5*this.frame.canvas.height/m}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var m=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,h=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,S=this.cameraState.scale;1!=m&&1!=h?S=.5*this.cameraState.scale*(m+h):1!=m?S=this.cameraState.scale*m:1!=h&&(S=this.cameraState.scale*h),this.body.view.scale=S;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),f={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=f.x*this.body.view.scale,this.body.view.translation.y+=f.y*this.body.view.scale}}},{key:"_prepareValue",value:function(m){if("number"==typeof m)return m+"px";if("string"==typeof m){if(-1!==m.indexOf("%")||-1!==m.indexOf("px"))return m;if(-1===m.indexOf("%"))return m+"px"}throw new Error("Could not use the value supplied for width or height:"+m)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var m=document.createElement("DIV");m.style.color="red",m.style.fontWeight="bold",m.style.padding="10px",m.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(m)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var m=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new A(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:A.DIRECTION_ALL}),_.onTouch(this.hammer,function(h){m.body.eventListeners.onTouch(h)}),this.hammer.on("tap",function(h){m.body.eventListeners.onTap(h)}),this.hammer.on("doubletap",function(h){m.body.eventListeners.onDoubleTap(h)}),this.hammer.on("press",function(h){m.body.eventListeners.onHold(h)}),this.hammer.on("panstart",function(h){m.body.eventListeners.onDragStart(h)}),this.hammer.on("panmove",function(h){m.body.eventListeners.onDrag(h)}),this.hammer.on("panend",function(h){m.body.eventListeners.onDragEnd(h)}),this.hammer.on("pinch",function(h){m.body.eventListeners.onPinch(h)}),this.frame.canvas.addEventListener("mousewheel",function(h){m.body.eventListeners.onMouseWheel(h)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(h){m.body.eventListeners.onMouseWheel(h)}),this.frame.canvas.addEventListener("mousemove",function(h){m.body.eventListeners.onMouseMove(h)}),this.frame.canvas.addEventListener("contextmenu",function(h){m.body.eventListeners.onContext(h)}),this.hammerFrame=new A(this.frame),_.onRelease(this.hammerFrame,function(h){m.body.eventListeners.onRelease(h)})}},{key:"setSize",value:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;m=this._prepareValue(m),h=this._prepareValue(h);var S=!1,a=this.frame.canvas.width,f=this.frame.canvas.height,u=this.pixelRatio;if(this._setPixelRatio(),m!=this.options.width||h!=this.options.height||this.frame.style.width!=m||this.frame.style.height!=h)this._getCameraState(u),this.frame.style.width=m,this.frame.style.height=h,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=m,this.options.height=h,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},S=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),p=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==l||this.frame.canvas.height!==p)&&this._getCameraState(u),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,S=!0),this.frame.canvas.height!==p&&(this.frame.canvas.height=p,S=!0)}return!0===S&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(f/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,S}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var m=this.getContext();if(void 0===m)throw new Error("Could not get canvax context");var h=1;return"undefined"!=typeof window&&(h=window.devicePixelRatio||1),h/(m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var m=this.getContext();if(void 0===m)throw new Error("Could not get canvax context");m.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(m){return(m-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(m){return m*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(m){return(m-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(m){return m*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(m){return{x:this._XconvertCanvasToDOM(m.x),y:this._YconvertCanvasToDOM(m.y)}}},{key:"DOMtoCanvas",value:function(m){return{x:this._XconvertDOMtoCanvas(m.x),y:this._YconvertDOMtoCanvas(m.y)}}}]),C}();L.default=b},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(b){return b&&b.__esModule?b:{default:b}}var A=D(2),_=D(76).default,O=function(){function b(C,v){var m=this;(0,y.default)(this,b),this.body=C,this.canvas=v,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){m.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,E.default)(b,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=void 0,S=void 0;if((void 0===v.nodes||0===v.nodes.length)&&(v.nodes=this.body.nodeIndices),!0===m){var a=0;for(var f in this.body.nodes)this.body.nodes.hasOwnProperty(f)&&!0===this.body.nodes[f].predefinedPosition&&(a+=1);if(a>.5*this.body.nodeIndices.length)return void this.fit(v,!1);h=_.getRange(this.body.nodes,v.nodes),S=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,S*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),h=_.getRange(this.body.nodes,v.nodes);var M=1.1*Math.abs(h.maxX-h.minX),d=1.1*Math.abs(h.maxY-h.minY),c=this.canvas.frame.canvas.clientWidth/M,w=this.canvas.frame.canvas.clientHeight/d;S=c<=w?c:w}(S>1||0===S)&&(S=1);var I=_.findCenter(h);this.moveTo({position:I,scale:S,animation:v.animation})}},{key:"focus",value:function(v){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[v]?(m.position={x:this.body.nodes[v].x,y:this.body.nodes[v].y},m.lockedOnNode=v,this.moveTo(m)):console.log("Node: "+v+" cannot be found.")}},{key:"moveTo",value:function(v){void 0!==v?(void 0===v.offset&&(v.offset={x:0,y:0}),void 0===v.offset.x&&(v.offset.x=0),void 0===v.offset.y&&(v.offset.y=0),void 0===v.scale&&(v.scale=this.body.view.scale),void 0===v.position&&(v.position=this.getViewPosition()),void 0===v.animation&&(v.animation={duration:0}),!1===v.animation&&(v.animation={duration:0}),!0===v.animation&&(v.animation={}),void 0===v.animation.duration&&(v.animation.duration=1e3),void 0===v.animation.easingFunction&&(v.animation.easingFunction="easeInOutQuad"),this.animateView(v)):v={}}},{key:"animateView",value:function(v){if(void 0!==v){this.animationEasingFunction=v.animation.easingFunction,this.releaseNode(),!0===v.locked&&(this.lockedOnNodeId=v.lockedOnNode,this.lockedOnNodeOffset=v.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=v.scale,this.body.view.scale=this.targetScale;var m=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),h={x:m.x-v.position.x,y:m.y-v.position.y};this.targetTranslation={x:this.sourceTranslation.x+h.x*this.targetScale+v.offset.x,y:this.sourceTranslation.y+h.y*this.targetScale+v.offset.y},0===v.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*v.animation.duration*.001)||1/60,this.animationEasingFunction=v.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var v_x=this.body.nodes[this.lockedOnNodeId].x,v_y=this.body.nodes[this.lockedOnNodeId].y,m=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),S=this.body.view.translation;this.body.view.translation={x:S.x+(m.x-v_x)*this.body.view.scale+this.lockedOnNodeOffset.x,y:S.y+(m.y-v_y)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var v=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===v?1:this.easingTime;var m=A.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*m,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*m,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*m},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),b}();L.default=O},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(C){return C&&C.__esModule?C:{default:C}}var A=D(2),_=D(233).default,O=D(104).default,b=function(){function C(v,m,h){(0,y.default)(this,C),this.body=v,this.canvas=m,this.selectionHandler=h,this.navigationHandler=new _(v,m),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},A.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,E.default)(C,[{key:"bindEventListeners",value:function(){var m=this;this.body.emitter.on("destroy",function(){clearTimeout(m.popupTimer),delete m.body.functions.getPointer})}},{key:"setOptions",value:function(m){void 0!==m&&(A.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,m),A.mergeOptions(this.options,m,"keyboard"),m.tooltip&&(A.extend(this.options.tooltip,m.tooltip),m.tooltip.color&&(this.options.tooltip.color=A.parseColor(m.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(m){return{x:m.x-A.getAbsoluteLeft(this.canvas.frame.canvas),y:m.y-A.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(m){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(m.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(m){var h=this.getPointer(m.center);this.checkSelectionChanges(h,m,this.selectionHandler.options.multiselect&&(m.changedPointers[0].ctrlKey||m.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",m,h)}},{key:"onDoubleTap",value:function(m){var h=this.getPointer(m.center);this.selectionHandler._generateClickEvent("doubleClick",m,h)}},{key:"onHold",value:function(m){var h=this.getPointer(m.center);this.checkSelectionChanges(h,m,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",m,h),this.selectionHandler._generateClickEvent("hold",m,h)}},{key:"onRelease",value:function(m){if((new Date).valueOf()-this.touchTime>10){var h=this.getPointer(m.center);this.selectionHandler._generateClickEvent("release",m,h),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(m){var h=this.getPointer({x:m.clientX,y:m.clientY});this.selectionHandler._generateClickEvent("oncontext",m,h)}},{key:"checkSelectionChanges",value:function(m,h){var S=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.selectionHandler.getSelection(),f=!1;f=!0===S?this.selectionHandler.selectAdditionalOnPoint(m):this.selectionHandler.selectOnPoint(m);var u=this.selectionHandler.getSelection(),l=this._determineDifference(a,u),p=this._determineDifference(u,a);l.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",h,m,a),f=!0),l.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",h,m,a),f=!0),p.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",h,m),f=!0),p.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",h,m),f=!0),!0===f&&this.selectionHandler._generateClickEvent("select",h,m)}},{key:"_determineDifference",value:function(m,h){var S=function(f,u){for(var l=[],p=0;p<f.length;p++){var M=f[p];-1===u.indexOf(M)&&l.push(M)}return l};return{nodes:S(m.nodes,h.nodes),edges:S(m.edges,h.edges)}}},{key:"onDragStart",value:function(m){void 0===this.drag.pointer&&this.onTouch(m);var h=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=A.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==h&&!0===this.options.dragNodes){this.drag.nodeId=h.id,!1===h.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(h)),this.selectionHandler._generateClickEvent("dragStart",m,this.drag.pointer);var S=this.selectionHandler.selectionObj.nodes;for(var a in S)if(S.hasOwnProperty(a)){var f=S[a],u={id:f.id,node:f,x:f.x,y:f.y,xFixed:f.options.fixed.x,yFixed:f.options.fixed.y};f.options.fixed.x=!0,f.options.fixed.y=!0,this.drag.selection.push(u)}}else this.selectionHandler._generateClickEvent("dragStart",m,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(m){var h=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var S=this.getPointer(m.center),a=this.drag.selection;if(a&&a.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",m,S);var f=S.x-this.drag.pointer.x,u=S.y-this.drag.pointer.y;a.forEach(function(M){var d=M.node;!1===M.xFixed&&(d.x=h.canvas._XconvertDOMtoCanvas(h.canvas._XconvertCanvasToDOM(M.x)+f)),!1===M.yFixed&&(d.y=h.canvas._YconvertDOMtoCanvas(h.canvas._YconvertCanvasToDOM(M.y)+u))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",m,S,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(m);this.body.view.translation={x:this.drag.translation.x+(S.x-this.drag.pointer.x),y:this.drag.translation.y+(S.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(m){this.drag.dragging=!1;var h=this.drag.selection;h&&h.length?(h.forEach(function(S){S.node.options.fixed.x=S.xFixed,S.node.options.fixed.y=S.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",m,this.getPointer(m.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",m,this.getPointer(m.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(m){var h=this.getPointer(m.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*m.scale,h)}},{key:"zoom",value:function(m,h){if(!0===this.options.zoomView){var S=this.body.view.scale;m<1e-5&&(m=1e-5),m>10&&(m=10);var a=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var f=this.body.view.translation,u=m/S,l=(1-u)*h.x+f.x*u,p=(1-u)*h.y+f.y*u;if(this.body.view.scale=m,this.body.view.translation={x:l,y:p},null!=a){var M=this.canvas.canvasToDOM(a);this.drag.pointer.x=M.x,this.drag.pointer.y=M.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",S<m?{direction:"+",scale:this.body.view.scale,pointer:h}:{direction:"-",scale:this.body.view.scale,pointer:h})}}},{key:"onMouseWheel",value:function(m){if(!0===this.options.zoomView){var h=0;if(m.wheelDelta?h=m.wheelDelta/120:m.detail&&(h=-m.detail/3),0!==h){var S=this.body.view.scale,a=h/10;h<0&&(a/=1-a),S*=1+a;var f=this.getPointer({x:m.clientX,y:m.clientY});this.zoom(S,f)}m.preventDefault()}}},{key:"onMouseMove",value:function(m){var h=this,S=this.getPointer({x:m.clientX,y:m.clientY}),a=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(S),!1===this.popup.hidden&&(a=!0,this.popup.setPosition(S.x+3,S.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===a&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return h._checkShowPopup(S)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(m,S)}},{key:"_checkShowPopup",value:function(m){var h=this.canvas._XconvertDOMtoCanvas(m.x),S=this.canvas._YconvertDOMtoCanvas(m.y),a={left:h,top:S,right:h,bottom:S},f=void 0===this.popupObj?void 0:this.popupObj.id,u=!1,l="node";if(void 0===this.popupObj){for(var p=this.body.nodeIndices,M=this.body.nodes,d=void 0,c=[],w=0;w<p.length;w++)!0===(d=M[p[w]]).isOverlappingWith(a)&&void 0!==d.getTitle()&&c.push(p[w]);c.length>0&&(this.popupObj=M[c[c.length-1]],u=!0)}if(void 0===this.popupObj&&!1===u){for(var I=this.body.edgeIndices,N=this.body.edges,V=void 0,H=[],z=0;z<I.length;z++)!0===(V=N[I[z]]).isOverlappingWith(a)&&!0===V.connected&&void 0!==V.getTitle()&&H.push(I[z]);H.length>0&&(this.popupObj=N[H[H.length-1]],l="edge")}void 0!==this.popupObj?this.popupObj.id!==f&&(void 0===this.popup&&(this.popup=new O(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(m.x+3,m.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(m){var h=this.selectionHandler._pointerToPositionObject(m),S=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(S=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(h))){var a=this.selectionHandler.getNodeAt(m);S=void 0!==a&&a.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(m)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(S=this.body.edges[this.popup.popupTargetId].isOverlappingWith(h));!1===S&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),C}();L.default=b},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(C){return C&&C.__esModule?C:{default:C}}var A=D(10),_=D(37),O=D(35),b=function(){function C(v,m){var h=this;(0,y.default)(this,C),this.body=v,this.canvas=m,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){h.activated=!0,h.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){h.activated=!1,h.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==h.keycharm&&h.keycharm.destroy()}),this.options={}}return(0,E.default)(C,[{key:"setOptions",value:function(m){void 0!==m&&(this.options=m,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var m=0;m<this.navigationHammers.length;m++)this.navigationHammers[m].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var m=this;this.cleanNavigation(),this.navigationDOM={};var h=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],S=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<h.length;a++){this.navigationDOM[h[a]]=document.createElement("div"),this.navigationDOM[h[a]].className="vis-button vis-"+h[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[h[a]]);var f=new A(this.navigationDOM[h[a]]);_.onTouch(f,"_fit"===S[a]?this._fit.bind(this):this.bindToRedraw.bind(this,S[a])),this.navigationHammers.push(f)}var u=new A(this.canvas.frame);_.onRelease(u,function(){m._stopMovement()}),this.navigationHammers.push(u),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(m){void 0===this.boundFunctions[m]&&(this.boundFunctions[m]=this[m].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(m){void 0!==this.boundFunctions[m]&&(this.body.emitter.off("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[m])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var m in this.boundFunctions)this.boundFunctions.hasOwnProperty(m)&&(this.body.emitter.off("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var h=this.body.view.scale*(1+this.options.keyboard.speed.zoom),S=this.body.view.translation,a=h/this.body.view.scale,f=(1-a)*this.canvas.canvasViewCenter.x+S.x*a,u=(1-a)*this.canvas.canvasViewCenter.y+S.y*a;this.body.view.scale=h,this.body.view.translation={x:f,y:u},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var h=this.body.view.scale/(1+this.options.keyboard.speed.zoom),S=this.body.view.translation,a=h/this.body.view.scale,f=(1-a)*this.canvas.canvasViewCenter.x+S.x*a,u=(1-a)*this.canvas.canvasViewCenter.y+S.y*a;this.body.view.scale=h,this.body.view.translation={x:f,y:u},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var m=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=O(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){m.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){m.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){m.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){m.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){m.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){m.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){m.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){m.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){m.unbindFromRedraw("_zoomOut")},"keyup")))}}]),C}();L.default=b},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(C){return C&&C.__esModule?C:{default:C}}var A=D(47).default,_=D(74).default,O=D(2),b=function(){function C(v,m){var h=this;(0,y.default)(this,C),this.body=v,this.canvas=m,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},O.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){h.updateSelection()})}return(0,E.default)(C,[{key:"setOptions",value:function(m){void 0!==m&&O.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,m)}},{key:"selectOnPoint",value:function(m){var h=!1;if(!0===this.options.selectable){var S=this.getNodeAt(m)||this.getEdgeAt(m);this.unselectAll(),void 0!==S&&(h=this.selectObject(S)),this.body.emitter.emit("_requestRedraw")}return h}},{key:"selectAdditionalOnPoint",value:function(m){var h=!1;if(!0===this.options.selectable){var S=this.getNodeAt(m)||this.getEdgeAt(m);void 0!==S&&(h=!0,!0===S.isSelected()?this.deselectObject(S):this.selectObject(S),this.body.emitter.emit("_requestRedraw"))}return h}},{key:"_initBaseEvent",value:function(m,h){var S={};return S.pointer={DOM:{x:h.x,y:h.y},canvas:this.canvas.DOMtoCanvas(h)},S.event=m,S}},{key:"_generateClickEvent",value:function(m,h,S,a){var f=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=this._initBaseEvent(h,S);if(!0===f)u.nodes=[],u.edges=[];else{var l=this.getSelection();u.nodes=l.nodes,u.edges=l.edges}void 0!==a&&(u.previousSelection=a),"click"==m&&(u.items=this.getClickedItems(S)),this.body.emitter.emit(m,u)}},{key:"selectObject",value:function(m){return void 0!==m&&(m instanceof A&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&this._selectConnectedEdges(m),m.select(),this._addToSelection(m),!0)}},{key:"deselectObject",value:function(m){!0===m.isSelected()&&(m.selected=!1,this._removeFromSelection(m))}},{key:"_getAllNodesOverlappingWith",value:function(m){for(var h=[],S=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var f=this.body.nodeIndices[a];S[f].isOverlappingWith(m)&&h.push(f)}return h}},{key:"_pointerToPositionObject",value:function(m){var h=this.canvas.DOMtoCanvas(m);return{left:h.x-1,top:h.y+1,right:h.x+1,bottom:h.y-1}}},{key:"getNodeAt",value:function(m){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],S=this._pointerToPositionObject(m),a=this._getAllNodesOverlappingWith(S);if(a.length>0)return!0===h?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(m,h){for(var S=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var f=this.body.edgeIndices[a];S[f].isOverlappingWith(m)&&h.push(f)}}},{key:"_getAllEdgesOverlappingWith",value:function(m){var h=[];return this._getEdgesOverlappingWith(m,h),h}},{key:"getEdgeAt",value:function(m){for(var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],S=this.canvas.DOMtoCanvas(m),a=10,f=null,u=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var p=this.body.edgeIndices[l],M=u[p];if(M.connected){var N=M.edgeType.getDistanceToEdge(M.from.x,M.from.y,M.to.x,M.to.y,S.x,S.y);N<a&&(f=p,a=N)}}if(null!==f)return!0===h?this.body.edges[f]:f}},{key:"_addToSelection",value:function(m){m instanceof A?this.selectionObj.nodes[m.id]=m:this.selectionObj.edges[m.id]=m}},{key:"_addToHover",value:function(m){m instanceof A?this.hoverObj.nodes[m.id]=m:this.hoverObj.edges[m.id]=m}},{key:"_removeFromSelection",value:function(m){m instanceof A?(delete this.selectionObj.nodes[m.id],this._unselectConnectedEdges(m)):delete this.selectionObj.edges[m.id]}},{key:"unselectAll",value:function(){for(var m in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(m)&&this.selectionObj.nodes[m].unselect();for(var h in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(h)&&this.selectionObj.edges[h].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var m=0;for(var h in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(h)&&(m+=1);return m}},{key:"_getSelectedNode",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m))return this.selectionObj.nodes[m]}},{key:"_getSelectedEdge",value:function(){for(var m in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(m))return this.selectionObj.edges[m]}},{key:"_getSelectedEdgeCount",value:function(){var m=0;for(var h in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(h)&&(m+=1);return m}},{key:"_getSelectedObjectCount",value:function(){var m=0;for(var h in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(h)&&(m+=1);for(var S in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(S)&&(m+=1);return m}},{key:"_selectionIsEmpty",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m))return!1;for(var h in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(h))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m)&&this.selectionObj.nodes[m].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(m){for(var h=0;h<m.edges.length;h++){var S=m.edges[h];S.select(),this._addToSelection(S)}}},{key:"_hoverConnectedEdges",value:function(m){for(var h=0;h<m.edges.length;h++){var S=m.edges[h];S.hover=!0,this._addToHover(S)}}},{key:"_unselectConnectedEdges",value:function(m){for(var h=0;h<m.edges.length;h++){var S=m.edges[h];S.unselect(),this._removeFromSelection(S)}}},{key:"emitBlurEvent",value:function(m,h,S){var a=this._initBaseEvent(m,h);!0===S.hover&&(S.hover=!1,S instanceof A?(a.node=S.id,this.body.emitter.emit("blurNode",a)):(a.edge=S.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(m,h,S){var a=this._initBaseEvent(m,h),f=!1;return!1===S.hover&&(S.hover=!0,this._addToHover(S),f=!0,S instanceof A?(a.node=S.id,this.body.emitter.emit("hoverNode",a)):(a.edge=S.id,this.body.emitter.emit("hoverEdge",a))),f}},{key:"hoverObject",value:function(m,h){var S=this.getNodeAt(h);void 0===S&&(S=this.getEdgeAt(h));var a=!1;for(var f in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(f)&&(void 0===S||S instanceof A&&S.id!=f||S instanceof _)&&(this.emitBlurEvent(m,h,this.hoverObj.nodes[f]),delete this.hoverObj.nodes[f],a=!0);for(var u in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(u)&&(!0===a?(this.hoverObj.edges[u].hover=!1,delete this.hoverObj.edges[u]):(void 0===S||S instanceof _&&S.id!=u||S instanceof A&&!S.hover)&&(this.emitBlurEvent(m,h,this.hoverObj.edges[u]),delete this.hoverObj.edges[u],a=!0));void 0!==S&&(a=a||this.emitHoverEvent(m,h,S),S instanceof A&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(S)),!0===a&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var m=[];if(!0===this.options.selectable)for(var h in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(h)&&m.push(this.selectionObj.nodes[h].id);return m}},{key:"getSelectedEdges",value:function(){var m=[];if(!0===this.options.selectable)for(var h in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(h)&&m.push(this.selectionObj.edges[h].id);return m}},{key:"setSelection",value:function(m){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=void 0,a=void 0;if(!m||!m.nodes&&!m.edges)throw"Selection must be an object with nodes and/or edges properties";if((h.unselectAll||void 0===h.unselectAll)&&this.unselectAll(),m.nodes)for(S=0;S<m.nodes.length;S++){var f=this.body.nodes[a=m.nodes[S]];if(!f)throw new RangeError('Node with id "'+a+'" not found');this.selectObject(f,h.highlightEdges)}if(m.edges)for(S=0;S<m.edges.length;S++){var u=this.body.edges[a=m.edges[S]];if(!u)throw new RangeError('Edge with id "'+a+'" not found');this.selectObject(u)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(m){if(!m||void 0===m.length)throw"Selection must be an array with ids";this.setSelection({nodes:m},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(m){if(!m||void 0===m.length)throw"Selection must be an array with ids";this.setSelection({edges:m})}},{key:"updateSelection",value:function(){for(var m in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(m)&&(this.body.nodes.hasOwnProperty(m)||delete this.selectionObj.nodes[m]);for(var h in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(h)&&(this.body.edges.hasOwnProperty(h)||delete this.selectionObj.edges[h])}},{key:"getClickedItems",value:function(m){for(var h=this.canvas.DOMtoCanvas(m),S=[],a=this.body.nodeIndices,f=this.body.nodes,u=a.length-1;u>=0;u--){var p=f[a[u]].getItemsOnPoint(h);S.push.apply(S,p)}for(var M=this.body.edgeIndices,d=this.body.edges,c=M.length-1;c>=0;c--){var I=d[M[c]].getItemsOnPoint(h);S.push.apply(S,I)}return S}}]),C}();L.default=b},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=v(D(30)),E=v(D(6)),A=v(D(8)),O=v(D(0)),C=v(D(1));function v(p){return p&&p.__esModule?p:{default:p}}var m=D(2),h=D(76).default,S=D(236),a=S.HorizontalStrategy,f=S.VerticalStrategy,u=function(){function p(){(0,O.default)(this,p),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,C.default)(p,[{key:"addRelation",value:function(d,c){void 0===this.childrenReference[d]&&(this.childrenReference[d]=[]),this.childrenReference[d].push(c),void 0===this.parentReference[c]&&(this.parentReference[c]=[]),this.parentReference[c].push(d)}},{key:"checkIfTree",value:function(){for(var d in this.parentReference)if(this.parentReference[d].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(d,c){void 0!==c&&void 0===this.trees[d.id]&&(this.trees[d.id]=c,this.treeIndex=Math.max(c,this.treeIndex))}},{key:"ensureLevel",value:function(d){void 0===this.levels[d]&&(this.levels[d]=0)}},{key:"getMaxLevel",value:function(d){var c=this,w={};return function N(V){if(void 0!==w[V])return w[V];var H=c.levels[V];if(c.childrenReference[V]){var z=c.childrenReference[V];if(z.length>0)for(var U=0;U<z.length;U++)H=Math.max(H,N(z[U]))}return w[V]=H,H}(d)}},{key:"levelDownstream",value:function(d,c){void 0===this.levels[c.id]&&(void 0===this.levels[d.id]&&(this.levels[d.id]=0),this.levels[c.id]=this.levels[d.id]+1)}},{key:"setMinLevelToZero",value:function(d){var c=1e9;for(var w in d)d.hasOwnProperty(w)&&void 0!==this.levels[w]&&(c=Math.min(this.levels[w],c));for(var I in d)d.hasOwnProperty(I)&&void 0!==this.levels[I]&&(this.levels[I]-=c)}},{key:"getTreeSize",value:function(d,c){var w=1e9,I=-1e9,N=1e9,V=-1e9;for(var H in this.trees)if(this.trees.hasOwnProperty(H)&&this.trees[H]===c){var z=d[H];w=Math.min(z.x,w),I=Math.max(z.x,I),N=Math.min(z.y,N),V=Math.max(z.y,V)}return{min_x:w,max_x:I,min_y:N,max_y:V}}},{key:"hasSameParent",value:function(d,c){var w=this.parentReference[d.id],I=this.parentReference[c.id];if(void 0===w||void 0===I)return!1;for(var N=0;N<w.length;N++)for(var V=0;V<I.length;V++)if(w[N]==I[V])return!0;return!1}},{key:"inSameSubNetwork",value:function(d,c){return this.trees[d.id]===this.trees[c.id]}},{key:"getLevels",value:function(){return(0,A.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(d,c){void 0===this.distributionOrdering[c]&&(this.distributionOrdering[c]=[]);var w=!1,I=this.distributionOrdering[c];for(var N in I)if(I[N]===d){w=!0;break}w||(this.distributionOrdering[c].push(d),this.distributionIndex[d.id]=this.distributionOrdering[c].length-1)}}]),p}(),l=function(){function p(M){(0,O.default)(this,p),this.body=M,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},m.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,C.default)(p,[{key:"bindEventListeners",value:function(){var d=this;this.body.emitter.on("_dataChanged",function(){d.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){d.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){d.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===d.options.hierarchical.enabled){var c=d.direction.curveType();d.body.emitter.emit("_forceDisableDynamicCurves",c,!1)}})}},{key:"setOptions",value:function(d,c){if(void 0!==d){var w=this.options.hierarchical,I=w.enabled;if(m.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,d),m.mergeOptions(this.options,d,"hierarchical"),void 0!==d.randomSeed&&(this.initialRandomSeed=d.randomSeed),!0===w.enabled)return!0===I&&this.body.emitter.emit("refresh",!0),"RL"===w.direction||"DU"===w.direction?w.levelSeparation>0&&(w.levelSeparation*=-1):w.levelSeparation<0&&(w.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(c);if(!0===I)return this.body.emitter.emit("refresh"),m.deepExtend(c,this.optionsBackup)}return c}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(d){if(!0===this.options.hierarchical.enabled){var c=this.optionsBackup.physics;void 0===d.physics||!0===d.physics?(d.physics={enabled:void 0===c.enabled||c.enabled,solver:"hierarchicalRepulsion"},c.enabled=void 0===c.enabled||c.enabled,c.solver=c.solver||"barnesHut"):"object"===(0,E.default)(d.physics)?(c.enabled=void 0===d.physics.enabled||d.physics.enabled,c.solver=d.physics.solver||"barnesHut",d.physics.solver="hierarchicalRepulsion"):!1!==d.physics&&(c.solver="barnesHut",d.physics={solver:"hierarchicalRepulsion"});var w=this.direction.curveType();if(void 0===d.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},d.edges={smooth:!1};else if(void 0===d.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},d.edges.smooth=!1;else if("boolean"==typeof d.edges.smooth)this.optionsBackup.edges={smooth:d.edges.smooth},d.edges.smooth={enabled:d.edges.smooth,type:w};else{var I=d.edges.smooth;void 0!==I.type&&"dynamic"!==I.type&&(w=I.type),this.optionsBackup.edges={smooth:void 0===I.enabled||I.enabled,type:void 0===I.type?"dynamic":I.type,roundness:void 0===I.roundness?.5:I.roundness,forceDirection:void 0!==I.forceDirection&&I.forceDirection},d.edges.smooth={enabled:void 0===I.enabled||I.enabled,type:w,roundness:void 0===I.roundness?.5:I.roundness,forceDirection:void 0!==I.forceDirection&&I.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",w)}return d}},{key:"seededRandom",value:function(){var d=1e4*Math.sin(this.randomSeed++);return d-Math.floor(d)}},{key:"positionInitially",value:function(d){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var c=d.length+50,w=0;w<d.length;w++){var I=d[w],N=2*Math.PI*this.seededRandom();void 0===I.x&&(I.x=c*Math.cos(N)),void 0===I.y&&(I.y=c*Math.sin(N))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var d=this.body.nodeIndices,c=0,w=0;w<d.length;w++)!0===this.body.nodes[d[w]].predefinedPosition&&(c+=1);if(c<.5*d.length){var V=0,z={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(d.length>150){for(var U=d.length;d.length>150&&V<=10;){var $=d.length;if((V+=1)%3==0?this.body.modules.clustering.clusterBridges(z):this.body.modules.clustering.clusterOutliers(z),$==d.length&&V%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*U)})}V>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(d,this.body.edgeIndices,!0),this._shiftToCenter();for(var ie=0;ie<d.length;ie++){var ue=this.body.nodes[d[ie]];!1===ue.predefinedPosition&&(ue.x+=70*(.5-this.seededRandom()),ue.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var d=h.getRangeCore(this.body.nodes,this.body.nodeIndices),c=h.findCenter(d),w=0;w<this.body.nodeIndices.length;w++){var I=this.body.nodes[this.body.nodeIndices[w]];I.x-=c.x,I.y-=c.y}}},{key:"_declusterAll",value:function(){for(var d=!0;!0===d;){d=!1;for(var c=0;c<this.body.nodeIndices.length;c++)!0===this.body.nodes[this.body.nodeIndices[c]].isCluster&&(d=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[c],{},!1));!0===d&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var d=void 0,c=void 0,w=!1,I=!1;for(c in this.lastNodeOnLevel={},this.hierarchical=new u,this.body.nodes)this.body.nodes.hasOwnProperty(c)&&(void 0!==(d=this.body.nodes[c]).options.level?(w=!0,this.hierarchical.levels[c]=d.options.level):I=!0);if(!0===I&&!0===w)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===I){var N=this.options.hierarchical.sortMethod;"hubsize"===N?this._determineLevelsByHubsize():"directed"===N?this._determineLevelsDirected():"custom"===N&&this._determineLevelsCustomCallback()}for(var V in this.body.nodes)this.body.nodes.hasOwnProperty(V)&&this.hierarchical.ensureLevel(V);var H=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(H),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var d=this,c=!1,w={},N=function(de,re){var ae=d.hierarchical.trees;for(var me in ae)ae.hasOwnProperty(me)&&ae[me]===de&&d.direction.shift(me,re)},V=function(){for(var de=[],re=0;re<d.hierarchical.numTrees();re++)de.push(d.direction.getTreeSize(re));return de},H=function be(de,re){if(!re[de.id]&&(re[de.id]=!0,d.hierarchical.childrenReference[de.id])){var ae=d.hierarchical.childrenReference[de.id];if(ae.length>0)for(var me=0;me<ae.length;me++)be(d.body.nodes[ae[me]],re)}},z=function(de){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,ae=1e9,me=1e9,Se=1e9,_e=-1e9;for(var De in de)if(de.hasOwnProperty(De)){var Re=d.body.nodes[De],Fe=d.hierarchical.levels[Re.id],Ke=d.direction.getPosition(Re),Ut=d._getSpaceAroundNode(Re,de),Qt=(0,y.default)(Ut,2),ft=Qt[1];ae=Math.min(Qt[0],ae),me=Math.min(ft,me),Fe<=re&&(Se=Math.min(Ke,Se),_e=Math.max(Ke,_e))}return[Se,_e,ae,me]},U=function(de,re){var ae=d.hierarchical.getMaxLevel(de.id),me=d.hierarchical.getMaxLevel(re.id);return Math.min(ae,me)},$=function(de,re,ae){for(var me=d.hierarchical,Se=0;Se<re.length;Se++){var De=me.distributionOrdering[re[Se]];if(De.length>1)for(var Re=0;Re<De.length-1;Re++){var Fe=De[Re],Ke=De[Re+1];me.hasSameParent(Fe,Ke)&&me.inSameSubNetwork(Fe,Ke)&&de(Fe,Ke,ae)}}},J=function(de,re){var ae=arguments.length>2&&void 0!==arguments[2]&&arguments[2],me=d.direction.getPosition(de),Se=d.direction.getPosition(re),_e=Math.abs(Se-me),De=d.options.hierarchical.nodeSpacing;if(_e>De){var Re={},Fe={};H(de,Re),H(re,Fe);var Ke=U(de,re),Ut=z(Re,Ke),Qt=z(Fe,Ke),qe=Ut[1],ft=Qt[0],Vt=Qt[2];if(Math.abs(qe-ft)>De){var tn=qe-ft+De;tn<-Vt+De&&(tn=-Vt+De),tn<0&&(d._shiftBlock(re.id,tn),c=!0,!0===ae&&d._centerParent(re))}}},te=function(de,re){for(var ae=re.id,me=re.edges,Se=d.hierarchical.levels[re.id],_e=d.options.hierarchical.levelSeparation*d.options.hierarchical.levelSeparation,De={},Re=[],Fe=0;Fe<me.length;Fe++){var Ke=me[Fe];if(Ke.toId!=Ke.fromId){var Ut=Ke.toId==ae?Ke.from:Ke.to;De[me[Fe].id]=Ut,d.hierarchical.levels[Ut.id]<Se&&Re.push(Ke)}}var ze,Oe,Pe,Ye,pt,Be,an,Qt=function(ze,Oe){for(var Pe=0,Ye=0;Ye<Oe.length;Ye++)if(void 0!==De[Oe[Ye].id]){var pt=d.direction.getPosition(De[Oe[Ye].id])-ze;Pe+=pt/Math.sqrt(pt*pt+_e)}return Pe},qe=function(ze,Oe){for(var Pe=0,Ye=0;Ye<Oe.length;Ye++)if(void 0!==De[Oe[Ye].id]){var pt=d.direction.getPosition(De[Oe[Ye].id])-ze;Pe-=_e*Math.pow(pt*pt+_e,-1.5)}return Pe},ft=function(ze,Oe){for(var Pe=d.direction.getPosition(re),Ye={},pt=0;pt<ze;pt++){var kt=Qt(Pe,Oe),Be=qe(Pe,Oe);if(void 0!==Ye[Pe-=Math.max(-40,Math.min(40,Math.round(kt/Be)))])break;Ye[Pe]=pt}return Pe},tn=ft(de,Re);(function(ze){var Oe=d.direction.getPosition(re);if(void 0===w[re.id]){var Pe={};H(re,Pe),w[re.id]=Pe}var Ye=z(w[re.id]),pt=Ye[2],Be=ze-Oe,an=0;Be>0?an=Math.min(Be,Ye[3]-d.options.hierarchical.nodeSpacing):Be<0&&(an=-Math.min(-Be,pt-d.options.hierarchical.nodeSpacing)),0!=an&&(d._shiftBlock(re.id,an),c=!0)})(tn),ze=tn=ft(de,me),Oe=d.direction.getPosition(re),Pe=d._getSpaceAroundNode(re),Ye=(0,y.default)(Pe,2),pt=Ye[0],an=Oe,(Be=ze-Oe)>0?an=Math.min(Oe+(Ye[1]-d.options.hierarchical.nodeSpacing),ze):Be<0&&(an=Math.max(Oe-(pt-d.options.hierarchical.nodeSpacing),ze)),an!==Oe&&(d.direction.setPosition(re,an),c=!0)};!0===this.options.hierarchical.blockShifting&&(function(de){var re=d.hierarchical.getLevels();re=re.reverse();for(var ae=0;ae<5&&(c=!1,$(J,re,!0),!0===c);ae++);}(),function(){for(var de in d.body.nodes)d.body.nodes.hasOwnProperty(de)&&d._centerParent(d.body.nodes[de])}()),!0===this.options.hierarchical.edgeMinimization&&function(de){var re=d.hierarchical.getLevels();re=re.reverse();for(var ae=0;ae<de;ae++){c=!1;for(var me=0;me<re.length;me++)for(var _e=d.hierarchical.distributionOrdering[re[me]],De=0;De<_e.length;De++)te(1e3,_e[De]);if(!0!==c)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var de=d.hierarchical.getLevels();de=de.reverse();for(var re=0;re<de.length;re++)for(var me=d.hierarchical.distributionOrdering[de[re]],Se=0;Se<me.length;Se++)d._centerParent(me[Se])}(),function(){for(var de=V(),re=0,ae=0;ae<de.length-1;ae++)N(ae+1,re+=de[ae].max-de[ae+1].min+d.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(d,c){var w=!0;void 0===c&&(w=!1);var I=this.hierarchical.levels[d.id];if(void 0!==I){var N=this.hierarchical.distributionIndex[d.id],V=this.direction.getPosition(d),H=this.hierarchical.distributionOrdering[I],z=1e9,U=1e9;if(0!==N){var $=H[N-1];(!0===w&&void 0===c[$.id]||!1===w)&&(z=V-this.direction.getPosition($))}if(N!=H.length-1){var te=H[N+1];if(!0===w&&void 0===c[te.id]||!1===w){var ie=this.direction.getPosition(te);U=Math.min(U,ie-V)}}return[z,U]}return[0,0]}},{key:"_centerParent",value:function(d){if(this.hierarchical.parentReference[d.id])for(var c=this.hierarchical.parentReference[d.id],w=0;w<c.length;w++){var I=c[w],N=this.body.nodes[I],V=this.hierarchical.childrenReference[I];if(void 0!==V){var H=this._getCenterPosition(V),z=this.direction.getPosition(N),U=this._getSpaceAroundNode(N),$=(0,y.default)(U,2),J=$[0],te=$[1],ie=z-H;(ie<0&&Math.abs(ie)<te-this.options.hierarchical.nodeSpacing||ie>0&&Math.abs(ie)<J-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(N,H)}}}},{key:"_placeNodesByHierarchy",value:function(d){for(var c in this.positionedNodes={},d)if(d.hasOwnProperty(c)){var w=(0,A.default)(d[c]);w=this._indexArrayToNodes(w),this.direction.sort(w);for(var I=0,N=0;N<w.length;N++){var V=w[N];if(void 0===this.positionedNodes[V.id]){var H=this.options.hierarchical.nodeSpacing,z=H*I;I>0&&(z=this.direction.getPosition(w[N-1])+H),this.direction.setPosition(V,z,c),this._validatePositionAndContinue(V,c,z),I++}}}}},{key:"_placeBranchNodes",value:function(d,c){var w=this.hierarchical.childrenReference[d];if(void 0!==w){for(var I=[],N=0;N<w.length;N++)I.push(this.body.nodes[w[N]]);this.direction.sort(I);for(var V=0;V<I.length;V++){var H=I[V],z=this.hierarchical.levels[H.id];if(!(z>c&&void 0===this.positionedNodes[H.id]))return;var $,U=this.options.hierarchical.nodeSpacing;$=0===V?this.direction.getPosition(this.body.nodes[d]):this.direction.getPosition(I[V-1])+U,this.direction.setPosition(H,$,z),this._validatePositionAndContinue(H,z,$)}var J=this._getCenterPosition(I);this.direction.setPosition(this.body.nodes[d],J,c)}}},{key:"_validatePositionAndContinue",value:function(d,c,w){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[c]){var I=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[c]]);if(w-I<this.options.hierarchical.nodeSpacing){var N=I+this.options.hierarchical.nodeSpacing-w,V=this._findCommonParent(this.lastNodeOnLevel[c],d.id);this._shiftBlock(V.withChild,N)}}this.lastNodeOnLevel[c]=d.id,this.positionedNodes[d.id]=!0,this._placeBranchNodes(d.id,c)}}},{key:"_indexArrayToNodes",value:function(d){for(var c=[],w=0;w<d.length;w++)c.push(this.body.nodes[d[w]]);return c}},{key:"_getDistribution",value:function(){var d={},c=void 0,w=void 0;for(c in this.body.nodes)if(this.body.nodes.hasOwnProperty(c)){var I=void 0===this.hierarchical.levels[c]?0:this.hierarchical.levels[c];this.direction.fix(w=this.body.nodes[c],I),void 0===d[I]&&(d[I]={}),d[I][c]=w}return d}},{key:"_getActiveEdges",value:function(d){var c=this,w=[];return m.forEach(d.edges,function(I){-1!==c.body.edgeIndices.indexOf(I.id)&&w.push(I)}),w}},{key:"_getHubSizes",value:function(){var d=this,c={};m.forEach(this.body.nodeIndices,function(N){var H=d._getActiveEdges(d.body.nodes[N]).length;c[H]=!0});var I=[];return m.forEach(c,function(N){I.push(Number(N))}),I.sort(function(N,V){return V-N}),I}},{key:"_determineLevelsByHubsize",value:function(){for(var d=this,c=function(z,U){d.hierarchical.levelDownstream(z,U)},w=this._getHubSizes(),I=function(z){var U=w[z];if(0===U)return"break";m.forEach(d.body.nodeIndices,function($){U===d._getActiveEdges(d.body.nodes[$]).length&&d._crawlNetwork(c,$)})},N=0;N<w.length&&"break"!==I(N);++N);}},{key:"_determineLevelsCustomCallback",value:function(){var d=this;this._crawlNetwork(function(V,H,z){var U=d.hierarchical.levels[V.id];void 0===U&&(U=d.hierarchical.levels[V.id]=1e5);var $=(h.cloneOptions(V,"node"),h.cloneOptions(H,"node"),void h.cloneOptions(z,"edge"));d.hierarchical.levels[H.id]=U+$}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var d=this;this._crawlNetwork(function(V,H,z){var U=d.hierarchical.levels[V.id],$=d.hierarchical.levels[H.id];(function(V){return m.forEach(d.body.edges,function(H){if(H.toId===V.fromId&&H.fromId===V.toId)return!0}),!1})(z)&&void 0!==U&&void 0!==$||(void 0===U&&(U=d.hierarchical.levels[V.id]=1e4),d.hierarchical.levels[H.id]=z.toId==H.id?U+1:U-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var d=this;this._crawlNetwork(function(I,N){d.hierarchical.levels[N.id]>d.hierarchical.levels[I.id]&&d.hierarchical.addRelation(I.id,N.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var d=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},w=arguments[1],I={},N=function J(te,ie){if(void 0===I[te.id]){d.hierarchical.setTreeIndex(te,ie),I[te.id]=!0;for(var ue=void 0,ye=d._getActiveEdges(te),ve=0;ve<ye.length;ve++){var be=ye[ve];!0===be.connected&&te.id!=(ue=be.toId==te.id?be.from:be.to).id&&(c(te,ue,be),J(ue,ie))}}};if(void 0===w)for(var V=0,H=0;H<this.body.nodeIndices.length;H++){var z=this.body.nodeIndices[H];void 0===I[z]&&(N(this.body.nodes[z],V),V+=1)}else{var $=this.body.nodes[w];if(void 0===$)return void console.error("Node not found:",w);N($)}}},{key:"_shiftBlock",value:function(d,c){var w=this,I={};!function V(H){if(!I[H]){I[H]=!0,w.direction.shift(H,c);var z=w.hierarchical.childrenReference[H];if(void 0!==z)for(var U=0;U<z.length;U++)V(z[U])}}(d)}},{key:"_findCommonParent",value:function(d,c){var w=this,I={};return function H(z,U){var $=w.hierarchical.parentReference[U];if(void 0!==$)for(var J=0;J<$.length;J++){var te=$[J];z[te]=!0,H(z,te)}}(I,d),function H(z,U){var $=w.hierarchical.parentReference[U];if(void 0!==$)for(var J=0;J<$.length;J++){var te=$[J];if(void 0!==z[te])return{foundParent:te,withChild:U};var ie=H(z,te);if(null!==ie.foundParent)return ie}return{foundParent:null,withChild:U}}(I,c)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new f(this):new a(this)}},{key:"_getCenterPosition",value:function(d){for(var c=1e9,w=-1e9,I=0;I<d.length;I++){var H=this.direction.getPosition(void 0!==d[I].id?d[I]:this.body.nodes[d[I]]);c=Math.min(c,H),w=Math.max(w,H)}return.5*(c+w)}}]),p}();L.default=l},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0}),L.VerticalStrategy=L.HorizontalStrategy=void 0;var y=v(D(3)),E=v(D(4)),A=v(D(5)),O=v(D(0)),C=v(D(1));function v(a){return a&&a.__esModule?a:{default:a}}var m=function(){function a(){(0,O.default)(this,a)}return(0,C.default)(a,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(u){return this.fake_use(u),this.abstract()}},{key:"setPosition",value:function(u,l){this.fake_use(u,l,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(u){return this.fake_use(u),this.abstract()}},{key:"sort",value:function(u){this.fake_use(u),this.abstract()}},{key:"fix",value:function(u,l){this.fake_use(u,l),this.abstract()}},{key:"shift",value:function(u,l){this.fake_use(u,l),this.abstract()}}]),a}(),h=function(a){function f(u){(0,O.default)(this,f);var l=(0,E.default)(this,(f.__proto__||(0,y.default)(f)).call(this));return l.layout=u,l}return(0,A.default)(f,a),(0,C.default)(f,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(l){return l.x}},{key:"setPosition",value:function(l,p){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==M&&this.layout.hierarchical.addToOrdering(l,M),l.x=p}},{key:"getTreeSize",value:function(l){var p=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,l);return{min:p.min_x,max:p.max_x}}},{key:"sort",value:function(l){l.sort(function(p,M){return void 0===p.x||void 0===M.x?0:p.x-M.x})}},{key:"fix",value:function(l,p){l.y=this.layout.options.hierarchical.levelSeparation*p,l.options.fixed.y=!0}},{key:"shift",value:function(l,p){this.layout.body.nodes[l].x+=p}}]),f}(m),S=function(a){function f(u){(0,O.default)(this,f);var l=(0,E.default)(this,(f.__proto__||(0,y.default)(f)).call(this));return l.layout=u,l}return(0,A.default)(f,a),(0,C.default)(f,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(l){return l.y}},{key:"setPosition",value:function(l,p){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==M&&this.layout.hierarchical.addToOrdering(l,M),l.y=p}},{key:"getTreeSize",value:function(l){var p=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,l);return{min:p.min_y,max:p.max_y}}},{key:"sort",value:function(l){l.sort(function(p,M){return void 0===p.y||void 0===M.y?0:p.y-M.y})}},{key:"fix",value:function(l,p){l.x=this.layout.options.hierarchical.levelSeparation*p,l.options.fixed.x=!0}},{key:"shift",value:function(l,p){this.layout.body.nodes[l].y+=p}}]),f}(m);L.HorizontalStrategy=S,L.VerticalStrategy=h},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=v(D(8)),E=v(D(19)),A=v(D(6)),O=v(D(0)),C=v(D(1));function v(f){return f&&f.__esModule?f:{default:f}}var m=D(2),h=D(10),S=D(37),a=function(){function f(u,l,p){var M=this;(0,O.default)(this,f),this.body=u,this.canvas=l,this.selectionHandler=p,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},m.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){M._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,C.default)(f,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(l,p,M){void 0!==p&&(this.options.locale=void 0!==p.locale?p.locale:M.locale,this.options.locales=void 0!==p.locales?p.locales:M.locales),void 0!==l&&("boolean"==typeof l?this.options.enabled=l:(this.options.enabled=!0,m.deepExtend(this.options,l)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var l=this.selectionHandler._getSelectedNodeCount(),p=this.selectionHandler._getSelectedEdgeCount(),M=l+p,d=this.options.locales[this.options.locale],c=!1;!1!==this.options.addNode&&(this._createAddNodeButton(d),c=!0),!1!==this.options.addEdge&&(!0===c?this._createSeperator(1):c=!0,this._createAddEdgeButton(d)),1===l&&"function"==typeof this.options.editNode?(!0===c?this._createSeperator(2):c=!0,this._createEditNodeButton(d)):1===p&&0===l&&!1!==this.options.editEdge&&(!0===c?this._createSeperator(3):c=!0,this._createEditEdgeButton(d)),0!==M&&(l>0&&!1!==this.options.deleteNode||0===l&&!1!==this.options.deleteEdge)&&(!0===c&&this._createSeperator(4),this._createDeleteButton(d)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var l=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var p=this.selectionHandler._getSelectedNode();if(void 0!==p){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==p.isCluster){var M=m.deepExtend({},p.options,!1);if(M.x=p.x,M.y=p.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(M,function(d){null!=d&&"editNode"===l.inMode&&l.body.data.nodes.getDataSet().update(d),l.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,A.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var p=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(p),this._createSeperator(),this._createDescription(p.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var M=this.body.edges[this.edgeBeingEditedId],d=this._getNewTargetNode(M.from.x,M.from.y),c=this._getNewTargetNode(M.to.x,M.to.y);this.temporaryIds.nodes.push(d.id),this.temporaryIds.nodes.push(c.id),this.body.nodes[d.id]=d,this.body.nodeIndices.push(d.id),this.body.nodes[c.id]=c,this.body.nodeIndices.push(c.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(w){var I=M.edgeType.findBorderPositions(w);!1===d.selected&&(d.x=I.from.x,d.y=I.from.y),!1===c.selected&&(c.x=I.to.x,c.y=I.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var l=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(l.from,l.to)}}},{key:"deleteSelected",value:function(){var l=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var p=this.selectionHandler.getSelectedNodes(),M=this.selectionHandler.getSelectedEdges(),d=void 0;if(p.length>0){for(var c=0;c<p.length;c++)if(!0===this.body.nodes[p[c]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(d=this.options.deleteNode)}else M.length>0&&"function"==typeof this.options.deleteEdge&&(d=this.options.deleteEdge);if("function"==typeof d){var w={nodes:p,edges:M};if(2!==d.length)throw new Error("The function for delete does not support two arguments (data, callback)");d(w,function(I){null!=I&&"delete"===l.inMode?(l.body.data.edges.getDataSet().remove(I.edges),l.body.data.nodes.getDataSet().remove(I.nodes),l.body.emitter.emit("startSimulation"),l.showManipulatorToolbar()):(l.body.emitter.emit("startSimulation"),l.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(M),this.body.data.nodes.getDataSet().remove(p),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(l,p){var M=m.deepExtend({},this.options.controlNodeStyle);M.id="targetNode"+m.randomUUID(),M.hidden=!1,M.physics=!1,M.x=l,M.y=p;var d=this.body.functions.createNode(M);return d.shape.boundingBox={left:l,right:l,top:p,bottom:p},d}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},m.recursiveDOMDelete(this.editModeDiv);var p=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(p),this._bindHammerToDiv(p,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(m.recursiveDOMDelete(this.editModeDiv),m.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var l=0;l<this.manipulationHammers.length;l++)this.manipulationHammers[l].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),m.recursiveDOMDelete(this.manipulationDiv),m.recursiveDOMDelete(this.editModeDiv),m.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+l]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+l].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+l])}},{key:"_createAddNodeButton",value:function(l){var p=this._createButton("addNode","vis-button vis-add",l.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(p),this._bindHammerToDiv(p,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(l){var p=this._createButton("addEdge","vis-button vis-connect",l.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(p),this._bindHammerToDiv(p,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(l){var p=this._createButton("editNode","vis-button vis-edit",l.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(p),this._bindHammerToDiv(p,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(l){var p=this._createButton("editEdge","vis-button vis-edit",l.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(p),this._bindHammerToDiv(p,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(l){var M=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",l.del||this.options.locales.en.del);this.manipulationDiv.appendChild(M),this._bindHammerToDiv(M,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(l){var p=this._createButton("back","vis-button vis-back",l.back||this.options.locales.en.back);this.manipulationDiv.appendChild(p),this._bindHammerToDiv(p,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(l,p,M){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[l+"Div"]=document.createElement("div"),this.manipulationDOM[l+"Div"].className=p,this.manipulationDOM[l+"Label"]=document.createElement("div"),this.manipulationDOM[l+"Label"].className=d,this.manipulationDOM[l+"Label"].innerHTML=M,this.manipulationDOM[l+"Div"].appendChild(this.manipulationDOM[l+"Label"]),this.manipulationDOM[l+"Div"]}},{key:"_createDescription",value:function(l){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",l))}},{key:"_temporaryBindEvent",value:function(l,p){this.temporaryEventFunctions.push({event:l,boundFunction:p}),this.body.emitter.on(l,p)}},{key:"_temporaryBindUI",value:function(l,p){if(void 0===this.body.eventListeners[l])throw new Error("This UI function does not exist. Typo? You tried: "+l+" possible are: "+(0,E.default)((0,y.default)(this.body.eventListeners)));this.temporaryUIFunctions[l]=this.body.eventListeners[l],this.body.eventListeners[l]=p}},{key:"_unbindTemporaryUIs",value:function(){for(var l in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(l)&&(this.body.eventListeners[l]=this.temporaryUIFunctions[l],delete this.temporaryUIFunctions[l]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var l=0;l<this.temporaryEventFunctions.length;l++)this.body.emitter.off(this.temporaryEventFunctions[l].event,this.temporaryEventFunctions[l].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(l,p){var M=new h(l,{});S.onTouch(M,p),this.manipulationHammers.push(M)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var l=0;l<this.temporaryIds.edges.length;l++){this.body.edges[this.temporaryIds.edges[l]].disconnect(),delete this.body.edges[this.temporaryIds.edges[l]];var p=this.body.edgeIndices.indexOf(this.temporaryIds.edges[l]);-1!==p&&this.body.edgeIndices.splice(p,1)}for(var M=0;M<this.temporaryIds.nodes.length;M++){delete this.body.nodes[this.temporaryIds.nodes[M]];var d=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[M]);-1!==d&&this.body.nodeIndices.splice(d,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(l){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(l.center),this.lastTouch.translation=m.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(l){var M=this.selectionHandler._pointerToPositionObject(this.lastTouch),d=this.body.nodes[this.temporaryIds.nodes[0]],c=this.body.nodes[this.temporaryIds.nodes[1]],w=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var I=d.isOverlappingWith(M),N=c.isOverlappingWith(M);!0===I?(this.selectedControlNode=d,w.edgeType.from=d):!0===N&&(this.selectedControlNode=c,w.edgeType.to=c),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(l){this.body.emitter.emit("disablePhysics");var p=this.body.functions.getPointer(l.center),M=this.canvas.DOMtoCanvas(p);void 0!==this.selectedControlNode?(this.selectedControlNode.x=M.x,this.selectedControlNode.y=M.y):this.body.view.translation={x:this.lastTouch.translation.x+(p.x-this.lastTouch.x),y:this.lastTouch.translation.y+(p.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(l){var p=this.body.functions.getPointer(l.center),M=this.selectionHandler._pointerToPositionObject(p),d=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var c=this.selectionHandler._getAllNodesOverlappingWith(M),w=void 0,I=c.length-1;I>=0;I--)if(c[I]!==this.selectedControlNode.id){w=this.body.nodes[c[I]];break}void 0!==w&&void 0!==this.selectedControlNode?!0===w.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(w.id,d.to.id):this._performEditEdge(d.from.id,w.id):(d.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(l){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(l.center),this.lastTouch.translation=m.extend({},this.body.view.translation);var M=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==M)if(!0===M.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var d=this._getNewTargetNode(M.x,M.y);this.body.nodes[d.id]=d,this.body.nodeIndices.push(d.id);var c=this.body.functions.createEdge({id:"connectionEdge"+m.randomUUID(),from:M.id,to:d.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[c.id]=c,this.body.edgeIndices.push(c.id),this.temporaryIds.nodes.push(d.id),this.temporaryIds.edges.push(c.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(l){var p=this.body.functions.getPointer(l.center);if(void 0!==this.temporaryIds.nodes[0]){var M=this.body.nodes[this.temporaryIds.nodes[0]];M.x=this.canvas._XconvertDOMtoCanvas(p.x),M.y=this.canvas._YconvertDOMtoCanvas(p.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(p.x-this.lastTouch.x),y:this.lastTouch.translation.y+(p.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(l){var p=this.body.functions.getPointer(l.center),M=this.selectionHandler._pointerToPositionObject(p),d=void 0;void 0!==this.temporaryIds.edges[0]&&(d=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var c=this.selectionHandler._getAllNodesOverlappingWith(M),w=void 0,I=c.length-1;I>=0;I--)if(-1===this.temporaryIds.nodes.indexOf(c[I])){w=this.body.nodes[c[I]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==w&&(!0===w.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[d]&&void 0!==this.body.nodes[w.id]&&this._performAddEdge(d,w.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(l){this.selectionHandler._generateClickEvent("dragStart",l,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(l){var p=this,M={id:m.randomUUID(),x:l.pointer.canvas.x,y:l.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(M,function(d){null!=d&&"addNode"===p.inMode&&(p.body.data.nodes.getDataSet().add(d),p.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(M),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(l,p){var M=this,d={from:l,to:p};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(d,function(c){null!=c&&"addEdge"===M.inMode&&(M.body.data.edges.getDataSet().add(c),M.selectionHandler.unselectAll(),M.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(d),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(l,p){var M=this,d={id:this.edgeBeingEditedId,from:l,to:p,label:this.body.data.edges._data[this.edgeBeingEditedId].label},c=this.options.editEdge;if("object"===(void 0===c?"undefined":(0,A.default)(c))&&(c=c.editWithoutDrag),"function"==typeof c){if(2!==c.length)throw new Error("The function for edit does not support two arguments (data, callback)");c(d,function(w){null==w||"editEdge"!==M.inMode?(M.body.edges[d.id].updateEdgeType(),M.body.emitter.emit("_redraw"),M.showManipulatorToolbar()):(M.body.data.edges.getDataSet().update(w),M.selectionHandler.unselectAll(),M.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(d),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),f}();L.default=a},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=b(D(30)),E=b(D(0)),A=b(D(1)),O=b(D(239));function b(v){return v&&v.__esModule?v:{default:v}}var C=function(){function v(m,h,S){(0,E.default)(this,v),this.body=m,this.springLength=h,this.springConstant=S,this.distanceSolver=new O.default}return(0,A.default)(v,[{key:"setOptions",value:function(h){h&&(h.springLength&&(this.springLength=h.springLength),h.springConstant&&(this.springConstant=h.springConstant))}},{key:"solve",value:function(h,S){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=this.distanceSolver.getDistances(this.body,h,S);this._createL_matrix(f),this._createK_matrix(f),this._createE_matrix();for(var u=.01,l=1,p=0,M=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),d=5,c=1e9,w=0,I=0,N=0,V=0,H=0;c>u&&p<M;){p+=1;var z=this._getHighestEnergyNode(a),U=(0,y.default)(z,4);for(w=U[0],I=U[2],N=U[3],V=c=U[1],H=0;V>l&&H<d;){H+=1,this._moveNode(w,I,N);var $=this._getEnergy(w),J=(0,y.default)($,3);V=J[0],I=J[1],N=J[2]}}}},{key:"_getHighestEnergyNode",value:function(h){for(var S=this.body.nodeIndices,a=this.body.nodes,f=0,u=S[0],l=0,p=0,M=0;M<S.length;M++){var d=S[M];if(!1===a[d].predefinedPosition||!0===a[d].isCluster&&!0===h||!0===a[d].options.fixed.x||!0===a[d].options.fixed.y){var c=this._getEnergy(d),w=(0,y.default)(c,3),I=w[0];f<I&&(f=I,u=d,l=w[1],p=w[2])}}return[u,f,l,p]}},{key:"_getEnergy",value:function(h){var S=(0,y.default)(this.E_sums[h],2),a=S[0],f=S[1];return[Math.sqrt(Math.pow(a,2)+Math.pow(f,2)),a,f]}},{key:"_moveNode",value:function(h,S,a){for(var f=this.body.nodeIndices,u=this.body.nodes,l=0,p=0,M=0,d=u[h].x,c=u[h].y,w=this.K_matrix[h],I=this.L_matrix[h],N=0;N<f.length;N++){var V=f[N];if(V!==h){var H=u[V].x,z=u[V].y,U=w[V],$=I[V],J=1/Math.pow(Math.pow(d-H,2)+Math.pow(c-z,2),1.5);l+=U*(1-$*Math.pow(c-z,2)*J),p+=U*($*(d-H)*(c-z)*J),M+=U*(1-$*Math.pow(d-H,2)*J)}}var be=(S/l+a/p)/(p/l-M/p);u[h].x+=-(p*be+S)/l,u[h].y+=be,this._updateE_matrix(h)}},{key:"_createL_matrix",value:function(h){var S=this.body.nodeIndices,a=this.springLength;this.L_matrix=[];for(var f=0;f<S.length;f++){this.L_matrix[S[f]]={};for(var u=0;u<S.length;u++)this.L_matrix[S[f]][S[u]]=a*h[S[f]][S[u]]}}},{key:"_createK_matrix",value:function(h){var S=this.body.nodeIndices,a=this.springConstant;this.K_matrix=[];for(var f=0;f<S.length;f++){this.K_matrix[S[f]]={};for(var u=0;u<S.length;u++)this.K_matrix[S[f]][S[u]]=a*Math.pow(h[S[f]][S[u]],-2)}}},{key:"_createE_matrix",value:function(){var h=this.body.nodeIndices,S=this.body.nodes;this.E_matrix={},this.E_sums={};for(var a=0;a<h.length;a++)this.E_matrix[h[a]]=[];for(var f=0;f<h.length;f++){for(var u=h[f],l=S[u].x,p=S[u].y,M=0,d=0,c=f;c<h.length;c++){var w=h[c];if(w!==u){var I=S[w].x,N=S[w].y,V=1/Math.sqrt(Math.pow(l-I,2)+Math.pow(p-N,2));this.E_matrix[u][c]=[this.K_matrix[u][w]*(l-I-this.L_matrix[u][w]*(l-I)*V),this.K_matrix[u][w]*(p-N-this.L_matrix[u][w]*(p-N)*V)],this.E_matrix[w][f]=this.E_matrix[u][c],M+=this.E_matrix[u][c][0],d+=this.E_matrix[u][c][1]}}this.E_sums[u]=[M,d]}}},{key:"_updateE_matrix",value:function(h){for(var S=this.body.nodeIndices,a=this.body.nodes,f=this.E_matrix[h],u=this.K_matrix[h],l=this.L_matrix[h],p=a[h].x,M=a[h].y,d=0,c=0,w=0;w<S.length;w++){var I=S[w];if(I!==h){var N=f[w],V=N[0],H=N[1],z=a[I].x,U=a[I].y,$=1/Math.sqrt(Math.pow(p-z,2)+Math.pow(M-U,2)),J=u[I]*(p-z-l[I]*(p-z)*$),te=u[I]*(M-U-l[I]*(M-U)*$);f[w]=[J,te],d+=J,c+=te;var ie=this.E_sums[I];ie[0]+=J-V,ie[1]+=te-H}}this.E_sums[h]=[d,c]}}]),v}();L.default=C},function(Y,L,D){Object.defineProperty(L,"__esModule",{value:!0});var y=T(D(0)),E=T(D(1));function T(_){return _&&_.__esModule?_:{default:_}}var A=function(){function _(){(0,y.default)(this,_)}return(0,E.default)(_,[{key:"getDistances",value:function(b,C,v){for(var m={},h=b.edges,S=0;S<C.length;S++){var f={};m[C[S]]=f;for(var u=0;u<C.length;u++)f[C[u]]=S==u?0:1e9}for(var l=0;l<v.length;l++){var p=h[v[l]];!0===p.connected&&void 0!==m[p.fromId]&&void 0!==m[p.toId]&&(m[p.fromId][p.toId]=1,m[p.toId][p.fromId]=1)}for(var M=C.length,d=0;d<M;d++)for(var c=C[d],w=m[c],I=0;I<M-1;I++)for(var N=C[I],V=m[N],H=I+1;H<M;H++){var z=C[H],U=m[z],$=Math.min(V[z],V[c]+w[z]);V[z]=$,U[N]=$}return m}}]),_}();L.default=A}])},245:(Dt,Y,L)=>{"use strict";function D(t){return"function"==typeof t}let R=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else R&&console.log("RxJS: Back to a better error behavior. Thank you. <3");R=t},get useDeprecatedSynchronousErrorHandling(){return R}};function x(t){setTimeout(()=>{throw t},0)}const E={closed:!0,next(t){},error(t){if(y.useDeprecatedSynchronousErrorHandling)throw t;x(t)},complete(){}},T=Array.isArray||(t=>t&&"number"==typeof t.length);function A(t){return null!==t&&"object"==typeof t}const O=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class b{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof b)n.remove(this);else if(null!==n)for(let o=0;o<n.length;++o)n[o].remove(this);if(D(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof O?C(o.errors):[o]}}if(T(s)){let o=-1,g=s.length;for(;++o<g;){const k=s[o];if(A(k))try{k.unsubscribe()}catch(F){e=e||[],F instanceof O?e=e.concat(C(F.errors)):e.push(F)}}}if(e)throw new O(e)}add(e){let n=e;if(!e)return b.EMPTY;switch(typeof e){case"function":n=new b(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof b)){const s=n;n=new b,n._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof b){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(e){const n=this._subscriptions;if(n){const i=n.indexOf(e);-1!==i&&n.splice(i,1)}}}var t;function C(t){return t.reduce((e,n)=>e.concat(n instanceof O?n.errors:n),[])}b.EMPTY=((t=new b).closed=!0,t);const v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class h extends b{constructor(e,n,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=E;break;case 1:if(!e){this.destination=E;break}if("object"==typeof e){e instanceof h?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new S(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new S(this,e,n,i)}}[v](){return this}static create(e,n,i){const r=new h(e,n,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class S extends h{constructor(e,n,i,r){super(),this._parentSubscriber=e;let s,o=this;D(n)?s=n:n&&(s=n.next,i=n.error,r=n.complete,n!==E&&(o=Object.create(n),D(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;y.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:i}=y;if(this._error)i&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=e,n.syncErrorThrown=!0):x(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;x(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(i){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw i;x(i)}}__tryOrSetError(e,n,i){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(r){return y.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(x(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const u="function"==typeof Symbol&&Symbol.observable||"@@observable";function l(t){return t}let d=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){const{operator:s}=this,o=function(t,e,n){if(t){if(t instanceof h)return t;if(t[v])return t[v]()}return t||e||n?new h(t,e,n):new h(E)}(n,i,r);if(o.add(s?s.call(o,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),y.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){y.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=i),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof h?n:null}return!0}(n)?n.error(i):console.warn(i)}}forEach(n,i){return new(i=c(i))((r,s)=>{let o;o=this.subscribe(g=>{try{n(g)}catch(k){s(k),o&&o.unsubscribe()}},s,r)})}_subscribe(n){const{source:i}=this;return i&&i.subscribe(n)}[u](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?l:1===t.length?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=c(n))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=y.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const I=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class N extends b{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const i=n.indexOf(this.subscriber);-1!==i&&n.splice(i,1)}}class V extends h{constructor(e){super(e),this.destination=e}}let H=(()=>{class t extends d{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[v](){return new V(this)}lift(n){const i=new z(this,this);return i.operator=n,i}next(n){if(this.closed)throw new I;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(n)}}error(n){if(this.closed)throw new I;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(n);this.observers.length=0}complete(){if(this.closed)throw new I;this.isStopped=!0;const{observers:n}=this,i=n.length,r=n.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new I;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new I;return this.hasError?(n.error(this.thrownError),b.EMPTY):this.isStopped?(n.complete(),b.EMPTY):(this.observers.push(n),new N(this,n))}asObservable(){const n=new d;return n.source=this,n}}return t.create=(e,n)=>new z(e,n),t})();class z extends H{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):b.EMPTY}}function U(t){return t&&"function"==typeof t.schedule}function $(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new J(t,e))}}class J{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new te(e,this.project,this.thisArg))}}class te extends h{constructor(e,n,i){super(e),this.project=n,this.count=0,this.thisArg=i||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}const ie=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()},ve="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ae=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function me(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const Se=t=>{if(t&&"function"==typeof t[u])return(t=>e=>{const n=t[u]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(ae(t))return ie(t);if(me(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,x),e))(t);if(t&&"function"==typeof t[ve])return(t=>e=>{const n=t[ve]();for(;;){let i;try{i=n.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${A(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Re(t,e){return new d(n=>{const i=new b;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function qe(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[u]}(t))return function(t,e){return new d(n=>{const i=new b;return i.add(e.schedule(()=>{const r=t[u]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>n.next(s)))},error(s){i.add(e.schedule(()=>n.error(s)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(me(t))return function(t,e){return new d(n=>{const i=new b;return i.add(e.schedule(()=>t.then(r=>{i.add(e.schedule(()=>{n.next(r),i.add(e.schedule(()=>n.complete()))}))},r=>{i.add(e.schedule(()=>n.error(r)))}))),i})}(t,e);if(ae(t))return Re(t,e);if(function(t){return t&&"function"==typeof t[ve]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new d(n=>{const i=new b;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[ve](),i.add(e.schedule(function(){if(n.closed)return;let s,o;try{const g=r.next();s=g.value,o=g.done}catch(g){return void n.error(g)}o?n.complete():(n.next(s),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof d?t:new d(Se(t))}class ft extends h{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Gt extends h{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Lt(t,e){if(e.closed)return;if(t instanceof d)return t.subscribe(e);let n;try{n=Se(t)(e)}catch(i){e.error(i)}return n}function ze(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(ze((r,s)=>qe(t(r,s)).pipe($((o,g)=>e(r,o,s,g))),n)):("number"==typeof e&&(n=e),i=>i.lift(new Oe(t,n)))}class Oe{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new Pe(e,this.project,this.concurrent))}}class Pe extends Gt{constructor(e,n,i=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const i=this.index++;try{n=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(n)}_innerSub(e){const n=new ft(this),i=this.destination;i.add(n);const r=Lt(e,n);r!==n&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function pt(t=Number.POSITIVE_INFINITY){return ze(l,t)}function kt(t,e){return e?Re(t,e):new d(ie(t))}function an(){return function(e){return e.lift(new io(e))}}class io{constructor(e){this.connectable=e}call(e,n){const{connectable:i}=this;i._refCount++;const r=new ro(e,i),s=n.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class ro extends h{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class so extends d{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new b,e.add(this.source.subscribe(new Ln(this.getSubject(),this))),e.closed&&(this._connection=null,e=b.EMPTY)),e}refCount(){return an()(this)}}const Vo=(()=>{const t=so.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Ln extends V{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function Ia(){return new H}function vt(t){for(let e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function Os(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function st(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ao(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Is=vt({__forward_ref__:vt});function Pt(t){return t.__forward_ref__=Pt,t.toString=function(){return st(this())},t}function Ue(t){return ka(t)?t():t}function ka(t){return"function"==typeof t&&t.hasOwnProperty(Is)&&t.__forward_ref__===Pt}class Ii extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function nt(t){return"string"==typeof t?t:null==t?"":String(t)}function $t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():nt(t)}function es(t,e){const n=e?` in ${e}`:"";throw new Ii("201",`No provider for ${$t(t)} found${n}`)}function Sn(t,e){null==t&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function Xe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function vn(t){return ki(t,Qn)||ki(t,Ns)}function ki(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ps(t){return t&&(t.hasOwnProperty(ns)||t.hasOwnProperty(ho))?t[ns]:null}const Qn=vt({\u0275prov:vt}),ns=vt({\u0275inj:vt}),Ns=vt({ngInjectableDef:vt}),ho=vt({ngInjectorDef:vt});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let Fs;function Jn(t){const e=Fs;return Fs=t,e}function Fa(t,e,n){const i=vn(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&$e.Optional?null:void 0!==e?e:void es(st(t),"Injector")}function Ri(t){return{toString:t}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),Z=(()=>((Z=Z||{})[Z.Emulated=0]="Emulated",Z[Z.None=2]="None",Z[Z.ShadowDom=3]="ShadowDom",Z))();const q="undefined"!=typeof globalThis&&globalThis,se="undefined"!=typeof window&&window,ge="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Te=q||"undefined"!=typeof global&&global||se||ge,nn={},ot=[],ii=vt({\u0275cmp:vt}),lu=vt({\u0275dir:vt}),Va=vt({\u0275pipe:vt}),ih=vt({\u0275mod:vt}),Yf=vt({\u0275loc:vt}),Tr=vt({\u0275fac:vt}),Go=vt({__NG_ELEMENT_ID__:vt});let Kf=0;function yi(t){return Ri(()=>{const n={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Z.Emulated,id:"c",styles:t.styles||ot,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,s=t.features,o=t.pipes;return i.id+=Kf++,i.inputs=ah(t.inputs,n),i.outputs=ah(t.outputs),s&&s.forEach(g=>g(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(rh):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(sh):null,i})}function rh(t){return Gn(t)||function(t){return t[lu]||null}(t)}function sh(t){return function(t){return t[Va]||null}(t)}const oh={};function Yi(t){return Ri(()=>{const e={type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(oh[t.id]=t.type),e})}function ah(t,e){if(null==t)return nn;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const Ze=yi;function Gn(t){return t[ii]||null}function bi(t,e){const n=t[ih]||null;if(!n&&!0===e)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function ar(t){return Array.isArray(t)&&"object"==typeof t[1]}function Qi(t){return Array.isArray(t)&&!0===t[1]}function du(t){return 0!=(8&t.flags)}function Ha(t){return 2==(2&t.flags)}function Zo(t){return 1==(1&t.flags)}function Ji(t){return null!==t.template}function hu(t){return 0!=(512&t[2])}function Bs(t,e){return t.hasOwnProperty(Tr)?t[Tr]:null}class Ua{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Rn(){return ja}function ja(t){return t.type.prototype.ngOnChanges&&(t.setInput=lp),ap}function ap(){const t=ch(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===nn)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function lp(t,e,n,i){const r=ch(t)||function(t,e){return t[hh]=e}(t,{previous:nn,current:null}),s=r.current||(r.current={}),o=r.previous,g=this.declaredInputs[n],k=o[g];s[g]=new Ua(k&&k.currentValue,e,o===nn),t[i]=e}Rn.ngInherit=!0;const hh="__ngSimpleChanges__";function ch(t){return t[hh]||null}let Wa;function Bt(t){return!!t.listen}const gh={createRenderer:(t,e)=>void 0!==Wa?Wa:"undefined"!=typeof document?document:void 0};function Cn(t){for(;Array.isArray(t);)t=t[0];return t}function Ga(t,e){return Cn(e[t])}function Fi(t,e){return Cn(e[t.index])}function pu(t,e){return t.data[e]}function wi(t,e){const n=e[t];return ar(n)?n:n[0]}function vh(t){return 4==(4&t[2])}function gu(t){return 128==(128&t[2])}function ls(t,e){return null==e?null:t[e]}function $a(t){t[18]=0}function mu(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const it={lFrame:Sh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yh(){return it.bindingsEnabled}function Ee(){return it.lFrame.lView}function _t(){return it.lFrame.tView}function ur(t){return it.lFrame.contextLView=t,t[8]}function Pn(){let t=Ch();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ch(){return it.lFrame.currentTNode}function dr(t,e){const n=it.lFrame;n.currentTNode=t,n.isParent=e}function vu(){return it.lFrame.isParent}function yu(){it.lFrame.isParent=!1}function Ya(){return it.isInCheckNoChangesMode}function Ka(t){it.isInCheckNoChangesMode=t}function mo(){return it.lFrame.bindingIndex++}function Or(t){const e=it.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Dp(t,e){const n=it.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xa(e)}function Xa(t){it.lFrame.currentDirectiveIndex=t}function Dh(){return it.lFrame.currentQueryIndex}function wu(t){it.lFrame.currentQueryIndex=t}function us(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Eh(t,e,n){if(n&$e.SkipSelf){let r=e,s=t;for(;!(r=r.parent,null!==r||n&$e.Host||(r=us(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,t=s}const i=it.lFrame=xh();return i.currentTNode=e,i.lView=t,!0}function Za(t){const e=xh(),n=t[1];it.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xh(){const t=it.lFrame,e=null===t?null:t.child;return null===e?Sh(t):e}function Sh(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ie(){const t=it.lFrame;return it.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _h=Ie;function Qa(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Vn(){return it.lFrame.selectedIndex}function Ir(t){it.lFrame.selectedIndex=t}function rn(){const t=it.lFrame;return pu(t.tView,t.selectedIndex)}function Ja(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:g,ngAfterViewInit:k,ngAfterViewChecked:F,ngOnDestroy:j}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),g&&((t.contentHooks||(t.contentHooks=[])).push(n,g),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,g)),k&&(t.viewHooks||(t.viewHooks=[])).push(-n,k),F&&((t.viewHooks||(t.viewHooks=[])).push(n,F),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,F)),null!=j&&(t.destroyHooks||(t.destroyHooks=[])).push(n,j)}}function Jo(t,e,n){Eu(t,e,3,n)}function qa(t,e,n,i){(3&t[2])===n&&Eu(t,e,n,i)}function Du(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Eu(t,e,n,i){const s=null!=i?i:-1,o=e.length-1;let g=0;for(let k=void 0!==i?65535&t[18]:0;k<o;k++)if("number"==typeof e[k+1]){if(g=e[k],null!=i&&g>=i)break}else e[k]<0&&(t[18]+=65536),(g<s||-1==s)&&(Op(t,n,e,k),t[18]=(4294901760&t[18])+k+2),k++}function Op(t,e,n,i){const r=n[i]<0,s=n[i+1],g=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(g)}finally{}}}else try{s.call(g)}finally{}}class Hs{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function el(t,e,n){const i=Bt(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],g=n[r++],k=n[r++];i?t.setAttribute(e,g,k,o):e.setAttributeNS(o,g,k)}else{const o=s,g=n[++r];Su(o)?i&&t.setProperty(e,o,g):i?t.setAttribute(e,o,g):e.setAttribute(o,g),r++}}return r}function Th(t){return 3===t||4===t||6===t}function Su(t){return 64===t.charCodeAt(0)}function tl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Oh(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Oh(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const g=t[s++];if("number"==typeof g){if(g===e){o=-1;break}if(g>e){o=s-1;break}}}for(;s<t.length;){const g=t[s];if("number"==typeof g)break;if(g===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function ds(t){return-1!==t}function vo(t){return 32767&t}function yo(t,e){let n=function(t){return t>>16}(t),i=e;for(;n>0;)i=i[15],n--;return i}let _u=!0;function nl(t){const e=_u;return _u=t,e}let hs=0;function qo(t,e){const n=Tu(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Mu(i.data,t),Mu(e,null),Mu(i.blueprint,null));const r=il(t,e),s=t.injectorIndex;if(ds(r)){const o=vo(r),g=yo(r,e),k=g[1].data;for(let F=0;F<8;F++)e[s+F]=g[o+F]|k[o+F]}return e[s+8]=r,s}function Mu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Tu(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function il(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function rl(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Go)&&(i=n[Go]),null==i&&(i=n[Go]=hs++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function zs(t,e,n){if(n&$e.Optional)return t;es(e,"NodeInjector")}function ea(t,e,n,i){if(n&$e.Optional&&void 0===i&&(i=null),0==(n&($e.Self|$e.Host))){const r=t[9],s=Jn(void 0);try{return r?r.get(e,i,n&$e.Optional):Fa(e,i,n&$e.Optional)}finally{Jn(s)}}return zs(i,e,n)}function Tt(t,e,n,i=$e.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Go)?t[Go]:void 0;return"number"==typeof e?e>=0?255&e:B:e}(n);if("function"==typeof s){if(!Eh(e,t,i))return i&$e.Host?zs(r,n,i):ea(e,n,i,r);try{const o=s(i);if(null!=o||i&$e.Optional)return o;es(n)}finally{_h()}}else if("number"==typeof s){let o=null,g=Tu(t,e),k=-1,F=i&$e.Host?e[16][6]:null;for((-1===g||i&$e.SkipSelf)&&(k=-1===g?il(t,e):e[g+8],-1!==k&&ht(i,!1)?(o=e[1],g=vo(k),e=yo(k,e)):g=-1);-1!==g;){const j=e[1];if(we(s,g,j.data)){const W=G(g,e,n,o,i,F);if(W!==P)return W}k=e[g+8],-1!==k&&ht(i,e[1].data[g+8]===F)&&we(s,g,e)?(o=j,g=vo(k),e=yo(k,e)):g=-1}}}return ea(e,n,i,r)}const P={};function B(){return new wt(Pn(),Ee())}function G(t,e,n,i,r,s){const o=e[1],g=o.data[t+8],j=X(g,o,n,null==i?Ha(g)&&_u:i!=o&&0!=(3&g.type),r&$e.Host&&s===g);return null!==j?ee(e,o,j,g):P}function X(t,e,n,i,r){const s=t.providerIndexes,o=e.data,g=1048575&s,k=t.directiveStart,j=s>>20,K=r?g+j:t.directiveEnd;for(let Q=i?g:g+j;Q<K;Q++){const ne=o[Q];if(Q<k&&n===ne||Q>=k&&ne.type===n)return Q}if(r){const Q=o[k];if(Q&&Ji(Q)&&Q.type===n)return k}return null}function ee(t,e,n,i){let r=t[n];const s=e.data;if(function(t){return t instanceof Hs}(r)){const o=r;o.resolving&&function(t,e){throw new Ii("200",`Circular dependency in DI detected for ${t}`)}($t(s[n]));const g=nl(o.canSeeViewProviders);o.resolving=!0;const k=o.injectImpl?Jn(o.injectImpl):null;Eh(t,i,$e.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=ja(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==k&&Jn(k),nl(g),o.resolving=!1,_h()}}return r}function we(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ht(t,e){return!(t&$e.Self||t&$e.Host&&e)}class wt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n){return Tt(this._tNode,this._lView,e,void 0,n)}}function Rt(t){return Ri(()=>{const e=t.prototype.constructor,n=e[Tr]||li(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const s=r[Tr]||li(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function li(t){return ka(t)?()=>{const e=li(Ue(t));return e&&e()}:Bs(t)}function Rr(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const s=n[r];if(Th(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===e)return n[r+1];r+=2}}}return null}(Pn(),t)}const bo="__parameters__";function ia(t,e,n){return Ri(()=>{const i=function(t){return function(...n){if(t){const i=t(...n);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return g.annotation=o,g;function g(k,F,j){const W=k.hasOwnProperty(bo)?k[bo]:Object.defineProperty(k,bo,{value:[]})[bo];for(;W.length<=j;)W.push(null);return(W[j]=W[j]||[]).push(o),k}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Et{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const iM=new Et("AnalyzeForEntryComponents"),kh=Function;function fr(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),fr(i,e)):e!==t&&e.push(i)}return e}function cs(t,e){t.forEach(n=>Array.isArray(n)?cs(n,e):e(n))}function Ph(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ra(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Co(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function qi(t,e,n){let i=sl(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function Np(t,e){const n=sl(t,e);if(n>=0)return t[1|n]}function sl(t,e){return function(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){const s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}(t,e,1)}const ku={},Lp="__NG_DI_FLAG__",ol="ngTempTokenPath",fM=/\n/gm,Vp="__source",Bp=vt({provide:String,useValue:vt});let Ru;function al(t){const e=Ru;return Ru=t,e}function gM(t,e=$e.Default){if(void 0===Ru)throw new Error("inject() must be called from an injection context");return null===Ru?Fa(t,void 0,e):Ru.get(t,e&$e.Optional?null:void 0,e)}function He(t,e=$e.Default){return(Fs||gM)(Ue(t),e)}function sa(t){const e=[];for(let n=0;n<t.length;n++){const i=Ue(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=$e.Default;for(let o=0;o<i.length;o++){const g=i[o],k=mM(g);"number"==typeof k?-1===k?r=g.token:s|=k:r=g}e.push(He(r,s))}else e.push(He(i))}return e}function Pu(t,e){return t[Lp]=e,t.prototype[Lp]=e,t}function mM(t){return t[Lp]}function ub(t,e,n,i){const r=t[ol];throw e[Vp]&&r.unshift(e[Vp]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=st(e);if(Array.isArray(e))r=e.map(st).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let g=e[o];s.push(o+":"+("string"==typeof g?JSON.stringify(g):st(g)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(fM,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t[ol]=null,t}const ll=Pu(ia("Inject",t=>({token:t})),-1),Vi=Pu(ia("Optional"),8),wo=Pu(ia("SkipSelf"),4);class oa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function er(t){return t instanceof oa?t.changingThisBreaksApplicationSecurity:t}function fs(t,e){const n=function(t){return t instanceof oa&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}const HM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function Yp(t){const e=function(){const t=Ee();return t&&t[12]}();return e?e.sanitize(en.URL,t)||"":fs(t,"URL")?er(t):function(t){return(t=String(t)).match(HM)||t.match(zM)?t:"unsafe:"+t}(nt(t))}const Tb="__ngContext__";function ui(t,e){t[Tb]=e}function Xp(t){const e=function(t){return t[Tb]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function zh(t){return t.ngOriginalError}function uT(t,...e){t.error(...e)}class aa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),i=this._findContext(e),r=function(t){return t&&t.ngErrorLogger||uT}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(zh(e)):null}_findOriginalError(e){let n=e&&zh(e);for(;n&&zh(n);)n=zh(n);return n||null}}const Lb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Te))();function gs(t){return t instanceof Function?t():t}var tr=(()=>((tr=tr||{})[tr.Important=1]="Important",tr[tr.DashCase=2]="DashCase",tr))();function Jp(t,e){return undefined(t,e)}function Hu(t){const e=t[3];return Qi(e)?e[3]:e}function qp(t){return Ub(t[13])}function eg(t){return Ub(t[4])}function Ub(t){for(;null!==t&&!Qi(t);)t=t[4];return t}function cl(t,e,n,i,r){if(null!=i){let s,o=!1;Qi(i)?s=i:ar(i)&&(o=!0,i=i[0]);const g=Cn(i);0===t&&null!==n?null==r?Kb(e,n,g):la(e,n,g,r||null,!0):1===t&&null!==n?la(e,n,g,r||null,!0):2===t?function(t,e,n){const i=jh(t,e);i&&function(t,e,n,i){Bt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,g,o):3===t&&e.destroyNode(g),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Cn(n)&&cl(e,t,i,s,r);for(let g=10;g<n.length;g++){const k=n[g];zu(k[1],k,t,e,i,s)}}(e,t,s,n,r)}}function ng(t,e,n){return Bt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Wb(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,mu(r,-1)),n.splice(i,1)}function ig(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&Wb(r,i),e>0&&(t[n-1][4]=i[4]);const s=ra(t,10+e);!function(t,e){zu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Gb(t,e){if(!(256&e[2])){const n=e[11];Bt(n)&&n.destroyNode&&zu(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return rg(t[1],t);for(;e;){let n=null;if(ar(e))n=e[13];else{const i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)ar(e)&&rg(e[1],e),e=e[3];null===e&&(e=t),ar(e)&&rg(e[1],e),n=e&&e[4]}e=n}}(e)}}function rg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const r=e[n[i]];if(!(r instanceof Hs)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const g=r[s[o]],k=s[o+1];try{k.call(g)}finally{}}else try{s.call(r)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],g="function"==typeof o?o(e):Cn(e[o]),k=i[r=n[s+2]],F=n[s+3];"boolean"==typeof F?g.removeEventListener(n[s],k,F):F>=0?i[r=F]():i[r=-F].unsubscribe(),s+=2}else{const o=i[r=n[s+1]];n[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(t,e),1===e[1].type&&Bt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Qi(e[3])){n!==e[3]&&Wb(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function $b(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const r=t.data[i.directiveStart].encapsulation;if(r===Z.None||r===Z.Emulated)return null}return Fi(i,n)}(t,e.parent,n)}function la(t,e,n,i,r){Bt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Kb(t,e,n){Bt(t)?t.appendChild(e,n):e.appendChild(n)}function Xb(t,e,n,i,r){null!==i?la(t,e,n,i,r):Kb(t,e,n)}function jh(t,e){return Bt(t)?t.parentNode(e):e.parentNode}function Zb(t,e,n){return Jb(t,e,n)}let Jb=function(t,e,n){return 40&t.type?Fi(t,n):null};function Wh(t,e,n,i){const r=$b(t,i,e),s=e[11],g=Zb(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let k=0;k<n.length;k++)Xb(s,r,n[k],g,!1);else Xb(s,r,n,g,!1)}function Gh(t,e){if(null!==e){const n=e.type;if(3&n)return Fi(e,t);if(4&n)return og(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return Gh(t,i);{const r=t[e.index];return Qi(r)?og(-1,r):Cn(r)}}if(32&n)return Jp(e,t)()||Cn(t[e.index]);{const i=e0(t,e);return null!==i?Array.isArray(i)?i[0]:Gh(Hu(t[16]),i):Gh(t,e.next)}}return null}function e0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function og(t,e){const n=10+t+1;if(n<e.length){const i=e[n],r=i[1].firstChild;if(null!==r)return Gh(i,r)}return e[7]}function ag(t,e,n,i,r,s,o){for(;null!=n;){const g=i[n.index],k=n.type;if(o&&0===e&&(g&&ui(Cn(g),i),n.flags|=4),64!=(64&n.flags))if(8&k)ag(t,e,n.child,i,r,s,!1),cl(e,t,r,g,s);else if(32&k){const F=Jp(n,i);let j;for(;j=F();)cl(e,t,r,j,s);cl(e,t,r,g,s)}else 16&k?n0(t,e,i,n,r,s):cl(e,t,r,g,s);n=o?n.projectionNext:n.next}}function zu(t,e,n,i,r,s){ag(n,i,t.firstChild,e,r,s,!1)}function n0(t,e,n,i,r,s){const o=n[16],k=o[6].projection[i.projection];if(Array.isArray(k))for(let F=0;F<k.length;F++)cl(e,t,r,k[F],s);else ag(t,e,k,o[3],r,s,!0)}function i0(t,e,n){Bt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function lg(t,e,n){Bt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function r0(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}const s0="ng-template";function NT(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==r0(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function o0(t){return 4===t.type&&t.value!==s0}function FT(t,e,n){return e===(4!==t.type||n?t.value:s0)}function LT(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Th(t[e]))return e;return t.length}(r);let o=!1;for(let g=0;g<e.length;g++){const k=e[g];if("number"!=typeof k){if(!o)if(4&i){if(i=2|1&i,""!==k&&!FT(t,k,n)||""===k&&1===e.length){if(Pr(i))return!1;o=!0}}else{const F=8&i?k:e[++g];if(8&i&&null!==t.attrs){if(!NT(t.attrs,F,n)){if(Pr(i))return!1;o=!0}continue}const W=VT(8&i?"class":k,r,o0(t),n);if(-1===W){if(Pr(i))return!1;o=!0;continue}if(""!==F){let K;K=W>s?"":r[W+1].toLowerCase();const Q=8&i?K:null;if(Q&&-1!==r0(Q,F,0)||2&i&&F!==K){if(Pr(i))return!1;o=!0}}}}else{if(!o&&!Pr(i)&&!Pr(k))return!1;if(o&&Pr(k))continue;o=!1,i=k|1&i}}return Pr(i)||o}function Pr(t){return 0==(1&t)}function VT(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){const o=e[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let g=e[++r];for(;"string"==typeof g;)g=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function a0(t,e,n=!1){for(let i=0;i<e.length;i++)if(LT(t,e[i],n))return!0;return!1}function UT(t,e){e:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function l0(t,e){return t?":not("+e.trim()+")":e}function jT(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const g=t[++n];r+="["+o+(g.length>0?'="'+g+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Pr(o)&&(e+=l0(s,r),r=""),i=o,s=s||!Pr(i);n++}return""!==r&&(e+=l0(s,r)),e}const ut={};function et(t){u0(_t(),Ee(),Vn()+t,Ya())}function u0(t,e,n,i){if(!i)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Jo(e,s,n)}else{const s=t.preOrderHooks;null!==s&&qa(e,s,0,n)}Ir(n)}function $h(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function ug(t){return 2|t}function js(t){return(131068&t)>>2}function dg(t,e){return-131069&t|e<<2}function hg(t){return 1|t}function b0(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const o=t.data[s];wu(r),o.contentQueries(2,e[s],s)}}}function Uu(t,e,n,i,r,s,o,g,k,F){const j=e.blueprint.slice();return j[0]=r,j[2]=140|i,$a(j),j[3]=j[15]=t,j[8]=n,j[10]=o||t&&t[10],j[11]=g||t&&t[11],j[12]=k||t&&t[12]||null,j[9]=F||t&&t[9]||null,j[6]=s,j[16]=2==e.type?t[16]:j,j}function fl(t,e,n,i,r){let s=t.data[e];if(null===s)s=function(t,e,n,i,r){const s=Ch(),o=vu(),k=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=k),null!==s&&(o?null==s.child&&null!==k.parent&&(s.child=k):null===s.next&&(s.next=k)),k}(t,e,n,i,r),it.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function(){const t=it.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return dr(s,!0),s}function pl(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ju(t,e,n){Za(e);try{const i=t.viewQuery;null!==i&&Mg(1,i,n);const r=t.template;null!==r&&C0(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&b0(t,e),t.staticViewQueries&&Mg(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)DO(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[2]&=-5,Qa()}}function gl(t,e,n,i){const r=e[2];if(256==(256&r))return;Za(e);const s=Ya();try{$a(e),function(t){it.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&C0(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const F=t.preOrderCheckHooks;null!==F&&Jo(e,F,null)}else{const F=t.preOrderHooks;null!==F&&qa(e,F,0,null),Du(e,0)}if(function(t){for(let e=qp(t);null!==e;e=eg(e)){if(!e[2])continue;const n=e[9];for(let i=0;i<n.length;i++){const r=n[i],s=r[3];0==(1024&r[2])&&mu(s,1),r[2]|=1024}}}(e),function(t){for(let e=qp(t);null!==e;e=eg(e))for(let n=10;n<e.length;n++){const i=e[n],r=i[1];gu(i)&&gl(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&b0(t,e),!s)if(o){const F=t.contentCheckHooks;null!==F&&Jo(e,F)}else{const F=t.contentHooks;null!==F&&qa(e,F,1),Du(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Ir(~r);else{const s=r,o=n[++i],g=n[++i];Dp(o,s),g(2,e[s])}}}finally{Ir(-1)}}(t,e);const g=t.components;null!==g&&function(t,e){for(let n=0;n<e.length;n++)wO(t,e[n])}(e,g);const k=t.viewQuery;if(null!==k&&Mg(2,k,i),!s)if(o){const F=t.viewCheckHooks;null!==F&&Jo(e,F)}else{const F=t.viewHooks;null!==F&&qa(e,F,2),Du(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,mu(e[3],-1))}finally{Qa()}}function nO(t,e,n,i){const r=e[10],s=!Ya(),o=vh(e);try{s&&!o&&r.begin&&r.begin(),o&&ju(t,e,i),gl(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function C0(t,e,n,i,r){const s=Vn(),o=2&i;try{Ir(-1),o&&e.length>20&&u0(t,e,20,Ya()),n(i,r)}finally{Ir(s)}}function w0(t,e,n){if(du(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function bg(t,e,n){!yh()||(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||qo(n,e),ui(i,e);const o=n.initialInputs;for(let g=r;g<s;g++){const k=t.data[g],F=Ji(k);F&&mO(e,n,k);const j=ee(e,t,g,n);ui(j,e),null!==o&&vO(0,g-r,j,k,0,o),F&&(wi(n.index,e)[8]=j)}}(t,e,n,Fi(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,g=it.lFrame.currentDirectiveIndex;try{Ir(o);for(let k=i;k<r;k++){const F=t.data[k],j=e[k];Xa(k),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&O0(F,j)}}finally{Ir(-1),Xa(g)}}(t,e,n))}function Cg(t,e,n=Fi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],g=-1===o?n(e,t):t[o];t[r++]=g}}}function D0(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Xh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Xh(t,e,n,i,r,s,o,g,k,F){const j=20+i,W=j+r,K=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:ut);return n}(j,W),Q="function"==typeof F?F():F;return K[1]={type:t,blueprint:K,template:n,queries:null,viewQuery:g,declTNode:e,data:K.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:k,consts:Q,incompleteFirstPass:!1}}function S0(t,e,n,i){const r=N0(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&F0(t).push(i,r.length-1))}function _0(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function nr(t,e,n,i,r,s,o,g){const k=Fi(e,n);let j,F=e.inputs;!g&&null!=F&&(j=F[i])?(B0(t,n,j,i,r),Ha(e)&&function(t,e){const n=wi(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.value||"",i):r,Bt(s)?s.setProperty(k,i,r):Su(i)||(k.setProperty?k.setProperty(i,r):k[i]=r))}function wg(t,e,n,i){let r=!1;if(yh()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];a0(n,o.selectors,!1)&&(r||(r=[]),rl(qo(n,e),t,o.type),Ji(o)?(I0(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,A0(n,t.data.length,s.length);for(let j=0;j<s.length;j++){const W=s[j];W.providersResolver&&W.providersResolver(W)}let g=!1,k=!1,F=pl(t,e,s.length,null);for(let j=0;j<s.length;j++){const W=s[j];n.mergedAttrs=tl(n.mergedAttrs,W.hostAttrs),k0(t,n,e,F,W),gO(F,W,o),null!==W.contentQueries&&(n.flags|=8),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(n.flags|=128);const K=W.type.prototype;!g&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),g=!0),!k&&(K.ngOnChanges||K.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),k=!0),F++}!function(t,e){const i=e.directiveEnd,r=t.data,s=e.attrs,o=[];let g=null,k=null;for(let F=e.directiveStart;F<i;F++){const j=r[F],W=j.inputs,K=null===s||o0(e)?null:yO(W,s);o.push(K),g=_0(W,F,g),k=_0(j.outputs,F,k)}null!==g&&(g.hasOwnProperty("class")&&(e.flags|=16),g.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=g,e.outputs=k}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let r=0;r<e.length;r+=2){const s=n[e[r+1]];if(null==s)throw new Ii("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],s)}}}(n,i,o)}return n.mergedAttrs=tl(n.mergedAttrs,n.attrs),r}function T0(t,e,n,i,r,s){const o=s.hostBindings;if(o){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const k=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(g)!=k&&g.push(k),g.push(i,r,o)}}function O0(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function I0(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function gO(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ji(e)&&(n[""]=t)}}function A0(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function k0(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=Bs(r.type)),o=new Hs(s,Ji(r),null);t.blueprint[i]=o,n[i]=o,T0(t,e,0,i,pl(t,n,r.hostVars,ut),r)}function mO(t,e,n){const i=Fi(e,t),r=D0(n),s=t[10],o=Zh(t,Uu(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function ms(t,e,n,i,r,s){const o=Fi(t,e);!function(t,e,n,i,r,s,o){if(null==s)Bt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const g=null==o?nt(s):o(s,i||"",r);Bt(t)?t.setAttribute(e,r,g,n):n?e.setAttributeNS(n,r,g):e.setAttribute(r,g)}}(e[11],o,s,t.value,n,i,r)}function vO(t,e,n,i,r,s){const o=s[e];if(null!==o){const g=i.setInput;for(let k=0;k<o.length;){const F=o[k++],j=o[k++],W=o[k++];null!==g?i.setInput(n,W,F,j):n[j]=W}}}function yO(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function R0(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function wO(t,e){const n=wi(e,t);if(gu(n)){const i=n[1];80&n[2]?gl(i,n,i.template,n[8]):n[5]>0&&Eg(n)}}function Eg(t){for(let i=qp(t);null!==i;i=eg(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];gl(o,s,o.template,s[8])}else s[5]>0&&Eg(s)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=wi(n[i],t);gu(r)&&r[5]>0&&Eg(r)}}function DO(t,e){const n=wi(e,t),i=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(i,n),ju(i,n,n[8])}function Zh(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xg(t){for(;t;){t[2]|=64;const e=Hu(t);if(hu(t)&&!e)return t;t=e}return null}function _g(t,e,n){const i=e[10];i.begin&&i.begin();try{gl(t,e,t.template,n)}catch(r){throw V0(e,r),r}finally{i.end&&i.end()}}function P0(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Xp(n),r=i[1];nO(r,i,r.template,n)}}(t[8])}function Mg(t,e,n){wu(0),e(t,n)}const MO=(()=>Promise.resolve(null))();function N0(t){return t[7]||(t[7]=[])}function F0(t){return t.cleanup||(t.cleanup=[])}function V0(t,e){const n=t[9],i=n?n.get(aa,null):null;i&&i.handleError(e)}function B0(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],g=n[s++],k=e[o],F=t.data[o];null!==F.setInput?F.setInput(k,r,i,g):k[g]=r}}function Gs(t,e,n){const i=Ga(e,t);!function(t,e,n){Bt(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function Qh(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const g=e[o];"number"==typeof g?s=g:1==s?r=ao(r,g):2==s&&(i=ao(i,g+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const ml=new Et("INJECTOR",-1);class H0{get(e,n=ku){if(n===ku){const i=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw i.name="NullInjectorError",i}return n}}const Wu=new Et("Set Injector scope."),Gu={},IO={};let Tg;function z0(){return void 0===Tg&&(Tg=new H0),Tg}function U0(t,e=null,n=null,i){return new kO(t,n,e||z0(),i)}class kO{constructor(e,n,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&cs(n,g=>this.processProvider(g,e,n)),cs([e],g=>this.processInjectorType(g,[],s)),this.records.set(ml,vl(void 0,this));const o=this.records.get(Wu);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:st(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=ku,i=$e.Default){this.assertNotDestroyed();const r=al(this),s=Jn(void 0);try{if(!(i&$e.SkipSelf)){let g=this.records.get(e);if(void 0===g){const k=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof Et}(e)&&vn(e);g=k&&this.injectableDefInScope(k)?vl(Og(e),Gu):null,this.records.set(e,g)}if(null!=g)return this.hydrate(e,g)}return(i&$e.Self?z0():this.parent).get(e,n=i&$e.Optional&&n===ku?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ol]=o[ol]||[]).unshift(st(e)),r)throw o;return ub(o,e,"R3InjectorError",this.source)}throw o}finally{Jn(s),al(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(st(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,i){if(!(e=Ue(e)))return!1;let r=Ps(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,g=-1!==i.indexOf(o);if(void 0!==s&&(r=Ps(s)),null==r)return!1;if(null!=r.imports&&!g){let j;i.push(o);try{cs(r.imports,W=>{this.processInjectorType(W,n,i)&&(void 0===j&&(j=[]),j.push(W))})}finally{}if(void 0!==j)for(let W=0;W<j.length;W++){const{ngModule:K,providers:Q}=j[W];cs(Q,ne=>this.processProvider(ne,K,Q||ot))}}this.injectorDefTypes.add(o);const k=Bs(o)||(()=>new o);this.records.set(o,vl(k,Gu));const F=r.providers;if(null!=F&&!g){const j=e;cs(F,W=>this.processProvider(W,j,F))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,i){let r=yl(e=Ue(e))?e:Ue(e&&e.provide);const s=function(t,e,n){return W0(t)?vl(void 0,t.useValue):vl(j0(t),Gu)}(e);if(yl(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=vl(void 0,Gu,!0),o.factory=()=>sa(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,n){return n.value===Gu&&(n.value=IO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Ue(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Og(t){const e=vn(t),n=null!==e?e.factory:Bs(t);if(null!==n)return n;if(t instanceof Et)throw new Error(`Token ${st(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const i=Co(e,"?");throw new Error(`Can't resolve all parameters for ${st(t)}: (${i.join(", ")}).`)}const n=function(t){const e=t&&(t[Qn]||t[Ns]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function j0(t,e,n){let i;if(yl(t)){const r=Ue(t);return Bs(r)||Og(r)}if(W0(t))i=()=>Ue(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...sa(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>He(Ue(t.useExisting));else{const r=Ue(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Bs(r)||Og(r);i=()=>new r(...sa(t.deps))}return i}function vl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function W0(t){return null!==t&&"object"==typeof t&&Bp in t}function yl(t){return"function"==typeof t}const G0=function(t,e,n){return function(t,e=null,n=null,i){const r=U0(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Wt=(()=>{class t{static create(n,i){return Array.isArray(n)?G0(n,i,""):G0(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=ku,t.NULL=new H0,t.\u0275prov=Xe({token:t,providedIn:"any",factory:()=>He(ml)}),t.__NG_ELEMENT_ID__=-1,t})();function qO(t,e){Ja(Xp(t)[1],Pn())}function ln(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const i=[t];for(;e;){let r;if(Ji(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const o=t;o.inputs=Ng(t.inputs),o.declaredInputs=Ng(t.declaredInputs),o.outputs=Ng(t.outputs);const g=r.hostBindings;g&&iI(t,g);const k=r.viewQuery,F=r.contentQueries;if(k&&tI(t,k),F&&nI(t,F),Os(t.inputs,r.inputs),Os(t.declaredInputs,r.declaredInputs),Os(t.outputs,r.outputs),Ji(r)&&r.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const g=s[o];g&&g.ngInherit&&g(t),g===ln&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=tl(r.hostAttrs,n=tl(n,r.hostAttrs))}}(i)}function Ng(t){return t===nn?{}:t===ot?[]:t}function tI(t,e){const n=t.viewQuery;t.viewQuery=n?(i,r)=>{e(i,r),n(i,r)}:e}function nI(t,e){const n=t.contentQueries;t.contentQueries=n?(i,r,s)=>{e(i,r,s),n(i,r,s)}:e}function iI(t,e){const n=t.hostBindings;t.hostBindings=n?(i,r)=>{e(i,r),n(i,r)}:e}let Jh=null;function bl(){if(!Jh){const t=Te.Symbol;if(t&&t.iterator)Jh=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Jh=i)}}}return Jh}function Yu(t){return!!Fg(t)&&(Array.isArray(t)||!(t instanceof Map)&&bl()in t)}function Fg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function di(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ys(t,e,n,i){const r=Ee();return di(r,mo(),e)&&(_t(),ms(rn(),r,t,e,n,i)),ys}function Dl(t,e,n,i,r,s){const g=function(t,e,n,i){const r=di(t,e,n);return di(t,e+1,i)||r}(t,it.lFrame.bindingIndex,n,r);return Or(2),g?e+nt(n)+i+nt(r)+s:ut}function Yn(t,e,n,i,r,s,o,g){const k=Ee(),F=_t(),j=t+20,W=F.firstCreatePass?function(t,e,n,i,r,s,o,g,k){const F=e.consts,j=fl(e,t,4,o||null,ls(F,g));wg(e,n,j,ls(F,k)),Ja(e,j);const W=j.tViews=Xh(2,j,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,F);return null!==e.queries&&(e.queries.template(e,j),W.queries=e.queries.embeddedTView(j)),j}(j,F,k,e,n,i,r,s,o):F.data[j];dr(W,!1);const K=k[11].createComment("");Wh(F,k,K,W),ui(K,k),Zh(k,k[j]=R0(K,k,K,W)),Zo(W)&&bg(F,k,W),null!=o&&Cg(k,W,g)}function Lg(t){return function(t,e){return t[e]}(it.lFrame.contextLView,20+t)}function xe(t,e=$e.Default){const n=Ee();return null===n?He(t,e):Tt(Pn(),n,Ue(t),e)}function un(t,e,n){const i=Ee();return di(i,mo(),e)&&nr(_t(),rn(),i,t,e,i[11],n,!1),un}function Ug(t,e,n,i,r){const o=r?"class":"style";B0(t,n,e.inputs[o],o,i)}function he(t,e,n,i){const r=Ee(),s=_t(),o=20+t,g=r[11],k=r[o]=ng(g,e,it.lFrame.currentNamespace),F=s.firstCreatePass?function(t,e,n,i,r,s,o){const g=e.consts,F=fl(e,t,2,r,ls(g,s));return wg(e,n,F,ls(g,o)),null!==F.attrs&&Qh(F,F.attrs,!1),null!==F.mergedAttrs&&Qh(F,F.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,F),F}(o,s,r,0,e,n,i):s.data[o];dr(F,!0);const j=F.mergedAttrs;null!==j&&el(g,k,j);const W=F.classes;null!==W&&lg(g,k,W);const K=F.styles;null!==K&&i0(g,k,K),64!=(64&F.flags)&&Wh(s,r,k,F),0===it.lFrame.elementDepthCount&&ui(k,r),it.lFrame.elementDepthCount++,Zo(F)&&(bg(s,r,F),w0(s,F,r)),null!==i&&Cg(r,F)}function ce(){let t=Pn();vu()?yu():(t=t.parent,dr(t,!1));const e=t;it.lFrame.elementDepthCount--;const n=_t();n.firstCreatePass&&(Ja(n,t),du(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ug(n,e,Ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ug(n,e,Ee(),e.stylesWithoutHost,!1)}function Bi(t,e,n,i){he(t,e,n,i),ce()}function Il(){return Ee()}function Xu(t){return!!t&&"function"==typeof t.then}const tc=function(t){return!!t&&"function"==typeof t.subscribe};function Zt(t,e,n,i){const r=Ee(),s=_t(),o=Pn();return function(t,e,n,i,r,s,o,g){const k=Zo(i),j=t.firstCreatePass&&F0(t),W=e[8],K=N0(e);let Q=!0;if(3&i.type||g){const oe=Fi(i,e),Ce=g?g(oe):oe,pe=K.length,Ae=g?ke=>g(Cn(ke[i.index])):i.index;if(Bt(n)){let ke=null;if(!g&&k&&(ke=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===n&&r[s+1]===i){const g=e[7],k=r[s+2];return g.length>k?g[k]:null}"string"==typeof o&&(s+=2)}return null}(t,e,r,i.index)),null!==ke)(ke.__ngLastListenerFn__||ke).__ngNextListenerFn__=s,ke.__ngLastListenerFn__=s,Q=!1;else{s=Gg(i,e,W,s,!1);const Je=n.listen(Ce,r,s);K.push(s,Je),j&&j.push(r,Ae,pe,pe+1)}}else s=Gg(i,e,W,s,!0),Ce.addEventListener(r,s,o),K.push(s),j&&j.push(r,Ae,pe,o)}else s=Gg(i,e,W,s,!1);const ne=i.outputs;let le;if(Q&&null!==ne&&(le=ne[r])){const oe=le.length;if(oe)for(let Ce=0;Ce<oe;Ce+=2){const zt=e[le[Ce]][le[Ce+1]].subscribe(s),jn=K.length;K.push(s,zt),j&&j.push(r,i.index,jn,-(jn+1))}}}(s,r,r[11],o,t,e,!!n,i),Zt}function kC(t,e,n,i){try{return!1!==n(i)}catch(r){return V0(t,r),!1}}function Gg(t,e,n,i,r){return function s(o){if(o===Function)return i;const g=2&t.flags?wi(t.index,e):e;0==(32&e[2])&&xg(g);let k=kC(e,0,i,o),F=s.__ngNextListenerFn__;for(;F;)k=kC(e,0,F,o)&&k,F=F.__ngNextListenerFn__;return r&&!1===k&&(o.preventDefault(),o.returnValue=!1),k}}function wn(t=1){return function(t){return(it.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,it.lFrame.contextLView))[8]}(t)}function VI(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?a0(t,s,!0):UT(i,s))return r}else n=r}return n}function WC(t,e,n,i,r){const s=t[n+1],o=null===e;let g=i?Nr(s):js(s),k=!1;for(;0!==g&&(!1===k||o);){const j=t[g+1];zI(t[g],e)&&(k=!0,t[g+1]=i?hg(j):ug(j)),g=i?Nr(j):js(j)}k&&(t[n+1]=i?ug(s):hg(s))}function zI(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&sl(t,e)>=0}function nc(t,e){return function(t,e,n,i){const r=Ee(),s=_t(),o=Or(2);s.firstUpdatePass&&function(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[Vn()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=it.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Zu(n=Yg(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Yg(r,t,e,n,i),null===s){let k=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==js(i))return t[Nr(i)]}(t,e,i);void 0!==k&&Array.isArray(k)&&(k=Yg(null,t,e,k[1],i),k=Zu(k,e.attrs,i),function(t,e,n,i){t[Nr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,k))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Zu(i,t[s].hostAttrs,n);return Zu(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,g=Nr(o),k=js(o);t[i]=n;let j,F=!1;if(Array.isArray(n)){const W=n;j=W[1],(null===j||sl(W,j)>0)&&(F=!0)}else j=n;if(r)if(0!==k){const K=Nr(t[g+1]);t[i+1]=$h(K,g),0!==K&&(t[K+1]=dg(t[K+1],i)),t[g+1]=function(t,e){return 131071&t|e<<17}(t[g+1],i)}else t[i+1]=$h(g,0),0!==g&&(t[g+1]=dg(t[g+1],i)),g=i;else t[i+1]=$h(k,0),0===g?g=i:t[k+1]=dg(t[k+1],i),k=i;F&&(t[i+1]=ug(t[i+1])),WC(t,j,i,!0),WC(t,j,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&sl(s,e)>=0&&(n[i+1]=hg(n[i+1]))}(e,j,t,i,s),o=$h(g,k),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}(s,t,o,i),e!==ut&&di(r,o,e)&&function(t,e,n,i,r,s,o,g){if(!(3&e.type))return;const k=t.data,F=k[g+1];ic(function(t){return 1==(1&t)}(F)?nw(k,e,n,r,js(F),o):void 0)||(ic(s)||function(t){return 2==(2&t)}(F)&&(s=nw(k,null,n,r,g,o)),function(t,e,n,i,r){const s=Bt(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:tr.DashCase;if(null==r)s?t.removeStyle(n,i,o):n.style.removeProperty(i);else{const g="string"==typeof r&&r.endsWith("!important");g&&(r=r.slice(0,-10),o|=tr.Important),s?t.setStyle(n,i,r,o):n.style.setProperty(i,r,g?"important":"")}}}(i,o,Ga(Vn(),n),r,s))}(s,s.data[Vn()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=st(er(t)))),t}(e,n),i,o)}(t,e,null,!0),nc}function Yg(t,e,n,i,r){let s=null;const o=n.directiveEnd;let g=n.directiveStylingLast;for(-1===g?g=n.directiveStart:g++;g<o&&(s=e[g],i=Zu(i,s.hostAttrs,r),s!==t);)g++;return null!==t&&(n.directiveStylingLast=g),i}function Zu(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qi(t,o,!!n||e[++s]))}return void 0===t?null:t}function nw(t,e,n,i,r,s){const o=null===e;let g;for(;r>0;){const k=t[r],F=Array.isArray(k),j=F?k[1]:k,W=null===j;let K=n[r+1];K===ut&&(K=W?ot:void 0);let Q=W?Np(K,i):j===i?K:void 0;if(F&&!ic(Q)&&(Q=Np(k,i)),ic(Q)&&(g=Q,o))return g;const ne=t[r+1];r=o?Nr(ne):js(ne)}if(null!==e){let k=s?e.residualClasses:e.residualStyles;null!=k&&(g=Np(k,i))}return g}function ic(t){return void 0!==t}function je(t,e=""){const n=Ee(),i=_t(),r=t+20,s=i.firstCreatePass?fl(i,r,1,e,null):i.data[r],o=n[r]=function(t,e){return Bt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Wh(i,n,o,s),dr(s,!1)}function hi(t){return mr("",t,""),hi}function mr(t,e,n){const i=Ee(),r=function(t,e,n,i){return di(t,mo(),n)?e+nt(n)+i:ut}(i,t,e,n);return r!==ut&&Gs(i,Vn(),r),mr}function rc(t,e,n,i,r){const s=Ee(),o=Dl(s,t,e,n,i,r);return o!==ut&&Gs(s,Vn(),o),rc}function Kg(t,e,n){const i=Ee();return di(i,mo(),e)&&nr(_t(),rn(),i,t,e,i[11],n,!0),Kg}const da=void 0;var D1=["en",[["a","p"],["AM","PM"],da],[["AM","PM"],da,da],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],da,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",da,"{1} 'at' {0}",da],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let kl={};function Dw(t){return t in kl||(kl[t]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[t]),kl[t]}var Ve=(()=>((Ve=Ve||{})[Ve.LocaleId=0]="LocaleId",Ve[Ve.DayPeriodsFormat=1]="DayPeriodsFormat",Ve[Ve.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ve[Ve.DaysFormat=3]="DaysFormat",Ve[Ve.DaysStandalone=4]="DaysStandalone",Ve[Ve.MonthsFormat=5]="MonthsFormat",Ve[Ve.MonthsStandalone=6]="MonthsStandalone",Ve[Ve.Eras=7]="Eras",Ve[Ve.FirstDayOfWeek=8]="FirstDayOfWeek",Ve[Ve.WeekendRange=9]="WeekendRange",Ve[Ve.DateFormat=10]="DateFormat",Ve[Ve.TimeFormat=11]="TimeFormat",Ve[Ve.DateTimeFormat=12]="DateTimeFormat",Ve[Ve.NumberSymbols=13]="NumberSymbols",Ve[Ve.NumberFormats=14]="NumberFormats",Ve[Ve.CurrencyCode=15]="CurrencyCode",Ve[Ve.CurrencySymbol=16]="CurrencySymbol",Ve[Ve.CurrencyName=17]="CurrencyName",Ve[Ve.Currencies=18]="Currencies",Ve[Ve.Directionality=19]="Directionality",Ve[Ve.PluralCase=20]="PluralCase",Ve[Ve.ExtraData=21]="ExtraData",Ve))();const sc="en-US";let Ew=sc;function Xg(t){Sn(t,"Expected localeId to be defined"),"string"==typeof t&&(Ew=t.toLowerCase().replace(/_/g,"-"))}function Jg(t,e,n,i,r){if(t=Ue(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jg(t[s],e,n,i,r);else{const s=_t(),o=Ee();let g=yl(t)?t:Ue(t.provide),k=j0(t);const F=Pn(),j=1048575&F.providerIndexes,W=F.directiveStart,K=F.providerIndexes>>20;if(yl(t)||!t.multi){const Q=new Hs(k,r,xe),ne=em(g,e,r?j:j+K,W);-1===ne?(rl(qo(F,o),s,g),qg(s,t,e.length),e.push(g),F.directiveStart++,F.directiveEnd++,r&&(F.providerIndexes+=1048576),n.push(Q),o.push(Q)):(n[ne]=Q,o[ne]=Q)}else{const Q=em(g,e,j+K,W),ne=em(g,e,j,j+K),le=Q>=0&&n[Q],oe=ne>=0&&n[ne];if(r&&!oe||!r&&!le){rl(qo(F,o),s,g);const Ce=function(t,e,n,i,r){const s=new Hs(t,n,xe);return s.multi=[],s.index=e,s.componentProviders=0,Yw(s,r,i&&!n),s}(r?bA:yA,n.length,r,i,k);!r&&oe&&(n[ne].providerFactory=Ce),qg(s,t,e.length,0),e.push(g),F.directiveStart++,F.directiveEnd++,r&&(F.providerIndexes+=1048576),n.push(Ce),o.push(Ce)}else qg(s,t,Q>-1?Q:ne,Yw(n[r?ne:Q],k,!r&&i));!r&&i&&oe&&n[ne].componentProviders++}}}function qg(t,e,n,i){const r=yl(e);if(r||function(t){return!!t.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const g=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const k=g.indexOf(n);-1===k?g.push(n,[i,o]):g[k+1].push(i,o)}else g.push(n,o)}}}function Yw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function em(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function yA(t,e,n,i){return tm(this.multi,[])}function bA(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,g=ee(n,n[1],this.providerFactory.index,i);s=g.slice(0,o),tm(r,s);for(let k=o;k<g.length;k++)s.push(g[k])}else s=[],tm(r,s);return s}function tm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fn(t,e=[]){return n=>{n.providersResolver=(i,r)=>function(t,e,n){const i=_t();if(i.firstCreatePass){const r=Ji(t);Jg(n,i.data,i.blueprint,r,!0),Jg(e,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,e)}}class Kw{}const Zw="ngComponent";class DA{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${st(t)}. Did you add it to @NgModule.entryComponents?`);return e[Zw]=t,e}(e)}}let ha=(()=>{class t{}return t.NULL=new DA,t})();function dc(...t){}function Pl(t,e){return new Xn(Fi(t,e))}const SA=function(){return Pl(Pn(),Ee())};let Xn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=SA,t})();function Qw(t){return t instanceof Xn?t.nativeElement:t}class hc{}let ws=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>MA(),t})();const MA=function(){const t=Ee(),n=wi(Pn().index,t);return function(t){return t[11]}(ar(n)?n:t)};let im=(()=>{class t{}return t.\u0275prov=Xe({token:t,providedIn:"root",factory:()=>null}),t})();class td{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Jw=new td("12.2.9");class qw{constructor(){}supports(e){return Yu(e)}create(e){return new AA(e)}}const IA=(t,e)=>e;class AA{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||IA}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const o=!i||n&&n.currentIndex<tD(i,r,s)?n:i,g=tD(o,r,s),k=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,null==o.previousIndex)r++;else{s||(s=[]);const F=g-r,j=k-r;if(F!=j){for(let K=0;K<F;K++){const Q=K<s.length?s[K]:s[K]=0,ne=Q+K;j<=ne&&ne<F&&(s[K]=Q+1)}s[o.previousIndex]=j-F}}g!==k&&e(o,g,k)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Yu(e))throw new Error(`Error trying to diff '${st(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let g=0;g<this.length;g++)s=e[g],o=this._trackByFn(g,s),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,s,o,g)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,g),i=!0),n=n._next}else r=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[bl()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,g=>{o=this._trackByFn(r,g),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,g,o,r)),Object.is(n.item,g)||this._addIdentityChange(n,g)):(n=this._mismatch(n,g,o,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new kA(n,i),s,r),e}_verifyReinsertion(e,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const r=null===n?this._itHead:n._next;return e._next=r,e._prev=n,null===r?this._itTail=e:r._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new eD),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eD),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class kA{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RA{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class eD{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new RA,this.map.set(n,i)),i.add(e)}get(e,n){const r=this.map.get(e);return r?r.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tD(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class nD{constructor(){}supports(e){return e instanceof Map||Fg(e)}create(){return new PA}}class PA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Fg(e)))throw new Error(`Error trying to diff '${st(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,n);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new NA(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class NA{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iD(){return new nd([new qw])}let nd=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||iD()),deps:[[t,new wo,new Vi]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=Xe({token:t,providedIn:"root",factory:iD}),t})();function rD(){return new Nl([new nD])}let Nl=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||rD()),deps:[[t,new wo,new Vi]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=Xe({token:t,providedIn:"root",factory:rD}),t})();function cc(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(Cn(s)),Qi(s))for(let g=10;g<s.length;g++){const k=s[g],F=k[1].firstChild;null!==F&&cc(k[1],k,F,i)}const o=n.type;if(8&o)cc(t,e,n.child,i);else if(32&o){const g=Jp(n,e);let k;for(;k=g();)i.push(k)}else if(16&o){const g=e0(e,n);if(Array.isArray(g))i.push(...g);else{const k=Hu(e[16]);cc(k[1],k,g,i,!0)}}n=r?n.projectionNext:n.next}return i}class id{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return cc(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Qi(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(ig(e,i),ra(n,i))}this._attachedToViewContainer=!1}Gb(this._lView[1],this._lView)}onDestroy(e){S0(this._lView[1],this._lView,null,e)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_g(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ka(!0);try{_g(t,e,n)}finally{Ka(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){zu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class LA extends id{constructor(e){super(e),this._view=e}detectChanges(){P0(this._view)}checkNoChanges(){!function(t){Ka(!0);try{P0(t)}finally{Ka(!1)}}(this._view)}get context(){return null}}const BA=function(t){return function(t,e,n){if(Ha(t)&&!n){const i=wi(t.index,e);return new id(i,i)}return 47&t.type?new id(e[16],e):null}(Pn(),Ee(),16==(16&t))};let rm=(()=>{class t{}return t.__NG_ELEMENT_ID__=BA,t})();const UA=[new nD],WA=new nd([new qw]),GA=new Nl(UA),YA=function(){return fc(Pn(),Ee())};let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=YA,t})();const KA=Ys,XA=class extends KA{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(e){const n=this._declarationTContainer.tViews,i=Uu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(n)),ju(n,i,e),new id(i)}};function fc(t,e){return 4&t.type?new XA(e,t,Pl(t,e)):null}class Ds{}class sD{}const JA=function(){return lD(Pn(),Ee())};let Hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=JA,t})();const ek=Hr,oD=class extends ek{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new wt(this._hostTNode,this._hostLView)}get parentInjector(){const e=il(this._hostTNode,this._hostLView);if(ds(e)){const n=yo(e,this._hostLView),i=vo(e);return new wt(n[1].data[i+8],n)}return new wt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=aD(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,i){const r=e.createEmbeddedView(n||{});return this.insert(r,i),r}createComponent(e,n,i,r,s){const o=i||this.parentInjector;if(!s&&null==e.ngModule&&o){const k=o.get(Ds,null);k&&(s=k)}const g=e.create(o,r,void 0,s);return this.insert(g.hostView,n),g}insert(e,n){const i=e._lView,r=i[1];if(function(t){return Qi(t[3])}(i)){const j=this.indexOf(e);if(-1!==j)this.detach(j);else{const W=i[3],K=new oD(W,W[6],W[3]);K.detach(K.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-10?(e[4]=n[r],Ph(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const g=e[19];null!==g&&g.insertView(t),e[2]|=128}(r,i,o,s);const g=og(s,o),k=i[11],F=jh(k,o[7]);return null!==F&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,zu(t,i,n,1,r,s)}(r,o[6],k,i,F,g),e.attachToViewContainerRef(),Ph(sm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=aD(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=ig(this._lContainer,n);i&&(ra(sm(this._lContainer),n),Gb(i[1],i))}detach(e){const n=this._adjustIndex(e,-1),i=ig(this._lContainer,n);return i&&null!=ra(sm(this._lContainer),n)?new id(i):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function aD(t){return t[8]}function sm(t){return t[8]||(t[8]=[])}function lD(t,e){let n;const i=e[t.index];if(Qi(i))n=i;else{let r;if(8&t.type)r=Cn(i);else{const s=e[11];r=s.createComment("");const o=Fi(t,e);la(s,jh(s,o),r,function(t,e){return Bt(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=R0(i,e,r,t),Zh(e,n)}return new oD(n,t,e)}const Bl={};class TD extends ha{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Gn(e);return new ID(n,this.ngModule)}}function OD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Zk=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Lb});class ID extends Kw{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(jT).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return OD(this.componentDef.inputs)}get outputs(){return OD(this.componentDef.outputs)}create(e,n,i,r){const s=(r=r||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Bl,r);return s!==Bl||i===Bl?s:e.get(n,i,r)}}}(e,r.injector):e,o=s.get(hc,gh),g=s.get(im,null),k=o.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",j=i?function(t,e,n){if(Bt(t))return t.selectRootElement(e,n===Z.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(k,i,this.componentDef.encapsulation):ng(o.createRenderer(null,this.componentDef),F,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(F)),W=this.componentDef.onPush?576:528,K=function(t,e){return{components:[],scheduler:t||Lb,clean:MO,playerHandler:e||null,flags:0}}(),Q=Xh(0,null,null,1,0,null,null,null,null,null),ne=Uu(null,Q,K,W,null,null,o,k,g,s);let le,oe;Za(ne);try{const Ce=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const k=fl(o,20,2,"#host",null),F=k.mergedAttrs=e.hostAttrs;null!==F&&(Qh(k,F,!0),null!==t&&(el(r,t,F),null!==k.classes&&lg(r,t,k.classes),null!==k.styles&&i0(r,t,k.styles)));const j=i.createRenderer(t,e),W=Uu(n,D0(e),null,e.onPush?64:16,n[20],k,i,j,s||null,null);return o.firstCreatePass&&(rl(qo(k,n),o,e.type),I0(o,k),A0(k,n.length,1)),Zh(n,W),n[20]=W}(j,this.componentDef,ne,o,k);if(j)if(i)el(k,j,["ng-version",Jw.full]);else{const{attrs:pe,classes:Ae}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!Pr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);pe&&el(k,j,pe),Ae&&Ae.length>0&&lg(k,j,Ae.join(" "))}if(oe=pu(Q,20),void 0!==n){const pe=oe.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const ke=n[Ae];pe.push(null!=ke?Array.from(ke):null)}}le=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Pn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),k0(t,i,e,pl(t,e,1,null),n));const r=ee(e,t,i.directiveStart,i);ui(r,e);const s=Fi(i,e);return s&&ui(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(k=>k(o,e)),e.contentQueries){const k=Pn();e.contentQueries(1,o,k.directiveStart)}const g=Pn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ir(g.index),T0(n[1],g,0,g.directiveStart,g.directiveEnd,e),O0(e,o)),o}(Ce,this.componentDef,ne,K,[qO]),ju(Q,ne,null)}finally{Qa()}return new qk(this.componentType,le,Pl(oe,ne),ne,oe)}}class qk extends class{}{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new LA(r),this.componentType=e}get injector(){return new wt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Hl=new Map;class nR extends Ds{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new TD(this);const i=bi(e),r=function(t){return t[Yf]||null}(e);r&&Xg(r),this._bootstrapComponents=gs(i.bootstrap),this._r3Injector=U0(e,n,[{provide:Ds,useValue:this},{provide:ha,useValue:this.componentFactoryResolver}],st(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Wt.THROW_IF_NOT_FOUND,i=$e.Default){return e===Wt||e===Ds||e===ml?this:this._r3Injector.get(e,n,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ym extends sD{constructor(e){super(),this.moduleType=e,null!==bi(e)&&function(t){const e=new Set;!function n(i){const r=bi(i,!0),s=r.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${st(e)} vs ${st(e.name)}`)}(s,Hl.get(s),i),Hl.set(s,i));const o=gs(r.imports);for(const g of o)e.has(g)||(e.add(g),n(g))}(t)}(e)}create(e){return new nR(this.moduleType,e)}}function bm(t){return e=>{setTimeout(t,void 0,e)}}const Bn=class extends H{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){var r,s,o;let g=e,k=n||(()=>null),F=i;if(e&&"object"==typeof e){const W=e;g=null===(r=W.next)||void 0===r?void 0:r.bind(W),k=null===(s=W.error)||void 0===s?void 0:s.bind(W),F=null===(o=W.complete)||void 0===o?void 0:o.bind(W)}this.__isAsync&&(k=bm(k),g&&(g=bm(g)),F&&(F=bm(F)));const j=super.subscribe({next:g,error:k,complete:F});return e instanceof b&&e.add(j),j}};function wR(){return this._results[bl()]()}class yc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=bl(),i=yc.prototype;i[n]||(i[n]=wR)}get changes(){return this._changes||(this._changes=new Bn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const i=this;i.dirty=!1;const r=fr(e);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Cm{constructor(e){this.queryList=e,this.matches=null}clone(){return new Cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class wm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const o=n.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new wm(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==jD(e,n).matches&&this.queries[n].setDirty()}}class VD{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}}class Dm{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new Dm(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Em{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Em(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,n,xR(n,s)),this.matchTNodeWithReadOption(e,n,X(n,e,s,!1,!1))}else i===Ys?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,X(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xn||r===Hr||r===Ys&&4&n.type)this.addMatch(n.index,-2);else{const s=X(n,e,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function xR(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function _R(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Pl(t,e):4&t.type?fc(t,e):null}(e,t):-2===n?function(t,e,n){return n===Xn?Pl(e,t):n===Ys?fc(e,t):n===Hr?lD(e,t):void 0}(t,e,i):ee(t,t[1],n,e)}function BD(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const s=t.data,o=n.matches,g=[];for(let k=0;k<o.length;k+=2){const F=o[k];g.push(F<0?null:_R(e,s[F],o[k+1],n.metadata.read))}r.matches=g}return r.matches}function xm(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=BD(t,e,r,n);for(let g=0;g<s.length;g+=2){const k=s[g];if(k>0)i.push(o[g/2]);else{const F=s[g+1],j=e[-k];for(let W=10;W<j.length;W++){const K=j[W];K[17]===K[3]&&xm(K[1],K,F,i)}if(null!==j[9]){const W=j[9];for(let K=0;K<W.length;K++){const Q=W[K];xm(Q[1],Q,F,i)}}}}}return i}function bc(t){const e=Ee(),n=_t(),i=Dh();wu(i+1);const r=jD(n,i);if(t.dirty&&vh(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?xm(n,e,i,[]):BD(n,e,r,i);t.reset(s,Qw),t.notifyOnChanges()}return!0}return!1}function Sm(t,e,n,i){const r=_t();if(r.firstCreatePass){const s=Pn();UD(r,new VD(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}zD(r,Ee(),n)}function Cc(){return function(t,e){return t[19].queries[e].queryList}(Ee(),Dh())}function zD(t,e,n){const i=new yc(4==(4&n));S0(t,e,i,i.destroy),null===e[19]&&(e[19]=new wm),e[19].queries.push(new Cm(i))}function UD(t,e,n){null===t.queries&&(t.queries=new Dm),t.queries.track(new Em(e,n))}function jD(t,e){return t.queries.getByIndex(e)}function _m(t,e){return fc(t,e)}const gd=new Et("Application Initializer");let Ul=(()=>{class t{constructor(n){this.appInits=n,this.resolve=dc,this.reject=dc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Xu(s))n.push(s);else if(tc(s)){const o=new Promise((g,k)=>{s.subscribe({complete:g,error:k})});n.push(o)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(He(gd,8))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();const md=new Et("AppId"),nP={provide:md,useFactory:function(){return`${km()}${km()}${km()}`},deps:[]};function km(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aE=new Et("Platform Initializer"),Rm=new Et("Platform ID"),lE=new Et("appBootstrapListener");let Ec=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();const So=new Et("LocaleId"),uE=new Et("DefaultCurrencyCode");class rP{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const Pm=function(t){return new ym(t)},sP=Pm,oP=function(t){return Promise.resolve(Pm(t))},dE=function(t){const e=Pm(t),i=gs(bi(t).declarations).reduce((r,s)=>{const o=Gn(s);return o&&r.push(new ID(o)),r},[]);return new rP(e,i)},aP=dE,lP=function(t){return Promise.resolve(dE(t))};let pa=(()=>{class t{constructor(){this.compileModuleSync=sP,this.compileModuleAsync=oP,this.compileModuleAndAllComponentsSync=aP,this.compileModuleAndAllComponentsAsync=lP}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();const hP=(()=>Promise.resolve(0))();function Nm(t){"undefined"==typeof Zone?hP.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Nn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bn(!1),this.onMicrotaskEmpty=new Bn(!1),this.onStable=new Bn(!1),this.onError=new Bn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Te.requestAnimationFrame,e=Te.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lm(t),t.isCheckStableRunning=!0,Fm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,g)=>{try{return hE(t),n.invokeTask(r,s,o,g)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),cE(t)}},onInvoke:(n,i,r,s,o,g,k)=>{try{return hE(t),n.invoke(r,s,o,g,k)}finally{t.shouldCoalesceRunChangeDetection&&e(),cE(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Lm(t),Fm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,fP,dc,dc);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const fP={};function Fm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cE(t){t._nesting--,Fm(t)}class mP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bn,this.onMicrotaskEmpty=new Bn,this.onStable=new Bn,this.onError=new Bn}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}}let Vm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nn.assertNotInAngularZone(),Nm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,r){return[]}}return t.\u0275fac=function(n){return new(n||t)(He(Nn))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})(),fE=(()=>{class t{constructor(){this._applications=new Map,Bm.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Bm.findTestabilityInTree(this,n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();class vP{addToWindow(e){}findTestabilityInTree(e,n,i){return null}}let Bm=new vP,pE=!0,gE=!1;let jr;const vE=new Et("AllowMultipleToken");class Hm{constructor(e,n){this.name=e,this.token=n}}function yE(t,e,n=[]){const i=`Platform: ${e}`,r=new Et(i);return(s=[])=>{let o=bE();if(!o||o.injector.get(vE,!1))if(t)t(n.concat(s).concat({provide:r,useValue:!0}));else{const g=n.concat(s).concat({provide:r,useValue:!0},{provide:Wu,useValue:"platform"});!function(t){if(jr&&!jr.destroyed&&!jr.injector.get(vE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jr=t.get(CE);const e=t.get(aE,null);e&&e.forEach(n=>n())}(Wt.create({providers:g,name:i}))}return function(t){const e=bE();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function bE(){return jr&&!jr.destroyed?jr:null}let CE=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const g=function(t,e){let n;return n="noop"===t?new mP:("zone.js"===t?void 0:t)||new Nn({enableLongStackTrace:(gE=!0,pE),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),k=[{provide:Nn,useValue:g}];return g.run(()=>{const F=Wt.create({providers:k,parent:this.injector,name:n.moduleType.name}),j=n.create(F),W=j.injector.get(aa,null);if(!W)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return g.runOutsideAngular(()=>{const K=g.onError.subscribe({next:Q=>{W.handleError(Q)}});j.onDestroy(()=>{zm(this._modules,j),K.unsubscribe()})}),function(t,e,n){try{const i=n();return Xu(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(W,g,()=>{const K=j.injector.get(Ul);return K.runInitializers(),K.donePromise.then(()=>(Xg(j.injector.get(So,sc)||sc),this._moduleDoBootstrap(j),j))})})}bootstrapModule(n,i=[]){const r=wE({},i);return function(t,e,n){const i=new ym(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(jl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${st(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(He(Wt))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();function wE(t,e){return Array.isArray(e)?e.reduce(wE,t):Object.assign(Object.assign({},t),e)}let jl=(()=>{class t{constructor(n,i,r,s,o){this._zone=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new d(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),k=new d(F=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{Nn.assertNotInAngularZone(),Nm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{Nn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{j.unsubscribe(),W.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return U(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof d?t[0]:pt(e)(kt(t,n))}(g,k.pipe(t=>an()(function(t,e){return function(i){let r;r="function"==typeof t?t:function(){return t};const s=Object.create(i,Vo);return s.source=i,s.subjectFactory=r,s}}(Ia)(t))))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=n instanceof Kw?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(r.componentType);const s=function(t){return t.isBoundToModule}(r)?void 0:this._injector.get(Ds),g=r.create(Wt.NULL,[],i||r.selector,s),k=g.location.nativeElement,F=g.injector.get(Vm,null),j=F&&g.injector.get(fE);return F&&j&&j.registerApplication(k,F),g.onDestroy(()=>{this.detachView(g.hostView),zm(this.components,g),j&&j.unregisterApplication(k)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;zm(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(lE,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(He(Nn),He(Wt),He(aa),He(ha),He(Ul))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();function zm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Sc{}class kP{}const RP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let PP=(()=>{class t{constructor(n,i){this._compiler=n,this._config=i||RP}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[i,r]=n.split("#");return void 0===r&&(r="default"),L(255)(i).then(s=>s[r]).then(s=>SE(s,i,r)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(n){let[i,r]=n.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),L(255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(o=>o[r+s]).then(o=>SE(o,i,r))}}return t.\u0275fac=function(n){return new(n||t)(He(pa),He(kP,8))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();function SE(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const WP=yE(null,"core",[{provide:Rm,useValue:"unknown"},{provide:CE,deps:[Wt]},{provide:fE,deps:[]},{provide:Ec,deps:[]}]),XP=[{provide:jl,useClass:jl,deps:[Nn,Wt,aa,ha,Ul]},{provide:Zk,deps:[Nn],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Ul,useClass:Ul,deps:[[new Vi,gd]]},{provide:pa,useClass:pa,deps:[]},nP,{provide:nd,useFactory:function(){return WA},deps:[]},{provide:Nl,useFactory:function(){return GA},deps:[]},{provide:So,useFactory:function(t){return Xg(t=t||"undefined"!=typeof $localize&&$localize.locale||sc),t},deps:[[new ll(So),new Vi,new wo]]},{provide:uE,useValue:"USD"}];let QP=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(He(jl))},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({providers:XP}),t})(),Nc=null;function Es(){return Nc}const si=new Et("DocumentToken");let va=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({factory:ZN,token:t,providedIn:"platform"}),t})();function ZN(){return He(XE)}const QN=new Et("Location Initialized");let XE=(()=>{class t extends va{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Es().getBaseHref(this._doc)}onPopState(n){const i=Es().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Es().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,i,r){ZE()?this._history.pushState(n,i,r):this.location.hash=r}replaceState(n,i,r){ZE()?this._history.replaceState(n,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(He(si))},t.\u0275prov=Xe({factory:JN,token:t,providedIn:"platform"}),t})();function ZE(){return!!window.history.pushState}function JN(){return new XE(He(si))}function nv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function QE(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Xs(t){return t&&"?"!==t[0]?"?"+t:t}let $l=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({factory:qN,token:t,providedIn:"root"}),t})();function qN(t){const e=He(si).location;return new JE(He(va),e&&e.origin||"")}const iv=new Et("appBaseHref");let JE=(()=>{class t extends $l{constructor(n,i){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nv(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Xs(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const o=this.prepareExternalUrl(r+Xs(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){const o=this.prepareExternalUrl(r+Xs(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(He(va),He(iv,8))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})(),eF=(()=>{class t extends $l{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=nv(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+Xs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+Xs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(He(va),He(iv,8))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})(),Fc=(()=>{class t{constructor(n,i){this._subject=new Bn,this._urlChangeListeners=[],this._platformStrategy=n;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=QE(qE(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Xs(i))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,qE(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._platformStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xs(i)),r)}replaceState(n,i="",r=null){this._platformStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xs(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return t.\u0275fac=function(n){return new(n||t)(He($l),He(va))},t.normalizeQueryParams=Xs,t.joinWithSlash=nv,t.stripTrailingSlash=QE,t.\u0275prov=Xe({factory:tF,token:t,providedIn:"root"}),t})();function tF(){return new Fc(He($l),He(va))}function qE(t){return t.replace(/\/index.html$/,"")}var Hn=(()=>((Hn=Hn||{})[Hn.Zero=0]="Zero",Hn[Hn.One=1]="One",Hn[Hn.Two=2]="Two",Hn[Hn.Few=3]="Few",Hn[Hn.Many=4]="Many",Hn[Hn.Other=5]="Other",Hn))();const uF=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Dw(e);if(n)return n;const i=e.split("-")[0];if(n=Dw(i),n)return n;if("en"===i)return D1;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ve.PluralCase]};class $c{}let VF=(()=>{class t extends $c{constructor(n){super(),this.locale=n}getPluralCategory(n,i){switch(uF(i||this.locale)(n)){case Hn.Zero:return"zero";case Hn.One:return"one";case Hn.Two:return"two";case Hn.Few:return"few";case Hn.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(He(So))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();class UF{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ya=(()=>{class t{constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=[];n.forEachOperation((r,s,o)=>{if(null==r.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new UF(null,this._ngForOf,-1,-1),null===o?void 0:o),k=new lx(r,g);i.push(k)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const g=this._viewContainer.get(s);this._viewContainer.move(g,o);const k=new lx(r,g);i.push(k)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const o=this._viewContainer.get(r);o.context.index=r,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(n,i){n.context.$implicit=i.item}static ngTemplateContextGuard(n,i){return!0}}return t.\u0275fac=function(n){return new(n||t)(xe(Hr),xe(Ys),xe(nd))},t.\u0275dir=Ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class lx{constructor(e,n){this.record=e,this.view=n}}let Yc=(()=>{class t{constructor(n,i){this._viewContainer=n,this._context=new WF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ux("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ux("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return t.\u0275fac=function(n){return new(n||t)(xe(Hr),xe(Ys))},t.\u0275dir=Ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class WF{constructor(){this.$implicit=null,this.ngIf=null}}function ux(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${st(e)}'.`)}let mL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({providers:[{provide:$c,useClass:VF}]}),t})();let fx=(()=>{class t{}return t.\u0275prov=Xe({token:t,providedIn:"root",factory:()=>new CL(He(si),window)}),t})();class CL{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=px(this.window.history)||px(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function px(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class mv extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Nc||(Nc=t)}(new mv)}onAndCancel(e,n,i){return e.addEventListener(n,i,!1),()=>{e.removeEventListener(n,i,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Ed=Ed||document.querySelector("base"),Ed?Ed.getAttribute("href"):null);return null==n?null:function(t){Kc=Kc||document.createElement("a"),Kc.setAttribute("href",t);const e=Kc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ed=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Kc,Ed=null;const gx=new Et("TRANSITION_ID"),ML=[{provide:gd,useFactory:function(t,e,n){return()=>{n.get(Ul).donePromise.then(()=>{const i=Es(),r=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[gx,si,Wt],multi:!0}];class vv{static init(){!function(t){Bm=t}(new vv)}addToWindow(e){Te.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(i=>{const r=Te.getAllAngularTestabilities();let s=r.length,o=!1;const g=function(k){o=o||k,s--,0==s&&i(o)};r.forEach(function(k){k.whenStable(g)})})}findTestabilityInTree(e,n,i){if(null==n)return null;const r=e.getTestability(n);return null!=r?r:i?Es().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let TL=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();const xd=new Et("EventManagerPlugins");let Zc=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(He(xd),He(Nn))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();class yv{constructor(e){this._doc=e}addGlobalEventListener(e,n,i){const r=Es().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let vx=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})(),Sd=(()=>{class t extends vx{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(yx),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(yx))}}return t.\u0275fac=function(n){return new(n||t)(He(si))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();function yx(t){Es().remove(t)}const bv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cv=/%COMP%/g;function Qc(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Qc(t,r,n):(r=r.replace(Cv,t),n.push(r))}return n}function wx(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let wv=(()=>{class t{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Dv(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case Z.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new jL(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case Z.ShadowDom:return new WL(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=Qc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(He(Zc),He(Sd),He(md))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();class Dv{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(bv[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,i){e&&e.insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const s=bv[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=bv[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(tr.DashCase|tr.Important)?e.style.setProperty(n,i,r&tr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&tr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,wx(i)):this.eventManager.addEventListener(e,n,wx(i))}}class jL extends Dv{constructor(e,n,i,r){super(e),this.component=i;const s=Qc(r+"-"+i.id,i.styles,[]);n.addStyles(s),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(Cv,t)}(r+"-"+i.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Cv,t)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}class WL extends Dv{constructor(e,n,i,r){super(e),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Qc(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const g=document.createElement("style");g.textContent=s[o],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let GL=(()=>{class t extends yv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return t.\u0275fac=function(n){return new(n||t)(He(si))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();const xx=["alt","control","meta","shift"],JL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let e2=(()=>{class t extends yv{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,r){const s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Es().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let o="";if(xx.forEach(k=>{const F=i.indexOf(k);F>-1&&(i.splice(F,1),o+=k+".")}),o+=s,0!=i.length||0===s.length)return null;const g={};return g.domEventName=r,g.fullKey=o,g}static getEventFullKey(n){let i="",r=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Sx.hasOwnProperty(e)&&(e=Sx[e]))}return JL[e]||e}(n);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),xx.forEach(s=>{s!=r&&qL[s](n)&&(i+=s+".")}),i+=r,i}static eventCallback(n,i,r){return s=>{t.getEventFullKey(s)===n&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(He(si))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();const l2=yE(WP,"browser",[{provide:Rm,useValue:"browser"},{provide:aE,useValue:function(){mv.makeCurrent(),vv.init()},multi:!0},{provide:si,useFactory:function(){return function(t){Wa=t}(document),document},deps:[]}]),u2=[[],{provide:Wu,useValue:"root"},{provide:aa,useFactory:function(){return new aa},deps:[]},{provide:xd,useClass:GL,multi:!0,deps:[si,Nn,Rm]},{provide:xd,useClass:e2,multi:!0,deps:[si]},[],{provide:wv,useClass:wv,deps:[Zc,Sd,md]},{provide:hc,useExisting:wv},{provide:vx,useExisting:Sd},{provide:Sd,useClass:Sd,deps:[si]},{provide:Vm,useClass:Vm,deps:[Nn]},{provide:Zc,useClass:Zc,deps:[xd,Nn]},{provide:class{},useClass:TL,deps:[]},[]];let d2=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:md,useValue:n.appId},{provide:gx,useExisting:md},ML]}}}return t.\u0275fac=function(n){return new(n||t)(He(t,12))},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({providers:u2,imports:[mL,QP]}),t})();function Jc(t,e){return new d(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let g=0;g<i;g++){const k=qe(t[g]);let F=!1;n.add(k.subscribe({next:j=>{F||(F=!0,o++),r[g]=j},error:j=>n.error(j),complete:()=>{s++,(s===i||!F)&&(o===i&&n.next(e?e.reduce((j,W,K)=>(j[W]=r[K],j),{}):r),n.complete())}}))}})}"undefined"!=typeof window&&window;let Mx=(()=>{class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(xe(ws),xe(Xn))},t.\u0275dir=Ze({type:t}),t})(),ba=(()=>{class t extends Mx{}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,features:[ln]}),t})();const xs=new Et("NgValueAccessor"),C2={provide:xs,useExisting:Pt(()=>_d),multi:!0},D2=new Et("CompositionEventMode");let _d=(()=>{class t extends Mx{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Es()?Es().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(xe(ws),xe(Xn),xe(D2,8))},t.\u0275dir=Ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&Zt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[fn([C2]),ln]}),t})();const pi=new Et("NgValidators"),Oo=new Et("NgAsyncValidators");function Vx(t){return null!=t}function Bx(t){const e=Xu(t)?qe(t):t;return tc(e),e}function Hx(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function zx(t,e){return e.map(n=>n(t))}function Ux(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function Mv(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Vx);return 0==e.length?null:function(n){return Hx(zx(n,e))}}(Ux(t)):null}function Tv(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Vx);return 0==e.length?null:function(n){return function(...t){if(1===t.length){const e=t[0];if(T(e))return Jc(e,null);if(A(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return Jc(n.map(i=>e[i]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Jc(t=1===t.length&&T(t[0])?t[0]:t,null).pipe($(n=>e(...n)))}return Jc(t,null)}(zx(n,e).map(Bx)).pipe($(Hx))}}(Ux(t)):null}function Gx(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ov(t){return t?Array.isArray(t)?t:[t]:[]}function qc(t,e){return Array.isArray(t)?t.includes(e):t===e}function Kx(t,e){const n=Ov(e);return Ov(t).forEach(r=>{qc(n,r)||n.push(r)}),n}function Xx(t,e){return Ov(e).filter(n=>!qc(t,n))}let Zx=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Mv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ze({type:t}),t})(),Mi=(()=>{class t extends Zx{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,features:[ln]}),t})();class Ao extends Zx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Iv=(()=>{class t extends class{constructor(e){this._cd=e}is(e){var n,i,r;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(xe(Ao,2))},t.\u0275dir=Ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&nc("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[ln]}),t})();function Md(t,e){(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Gx(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Gx(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();rf(e._rawValidators,r),rf(e._rawAsyncValidators,r)})(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Jx(t,e)})}(t,e),function(t,e){const n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Jx(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function rf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Jx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function of(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Td="VALID",af="INVALID",Yl="PENDING",Od="DISABLED";function Fv(t){return(Vv(t)?t.validators:t)||null}function tS(t){return Array.isArray(t)?Mv(t):t||null}function Lv(t,e){return(Vv(e)?e.asyncValidators:t)||null}function nS(t){return Array.isArray(t)?Tv(t):t||null}function Vv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Bv{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=tS(this._rawValidators),this._composedAsyncValidatorFn=nS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Td}get invalid(){return this.status===af}get pending(){return this.status==Yl}get disabled(){return this.status===Od}get enabled(){return this.status!==Od}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=tS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=nS(e)}addValidators(e){this.setValidators(Kx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xx(e,this._rawAsyncValidators))}hasValidator(e){return qc(this._rawValidators,e)}hasAsyncValidator(e){return qc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Yl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Od,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Td,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Td||this.status===Yl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Od:Td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Yl,this._hasOwnPendingAsyncValidator=!0;const n=Bx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=t;return e.forEach(r=>{i=i instanceof Hv?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof L2&&i.at(r)||null}),i}(this,e)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Bn,this.statusChanges=new Bn}_calculateStatus(){return this._allControlsDisabled()?Od:this.errors?af:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yl)?Yl:this._anyControlsHaveStatus(af)?af:Td}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lf extends Bv{constructor(e=null,n,i){super(Fv(n),Lv(i,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){of(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){of(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Hv extends Bv{constructor(e,n,i){super(Fv(n),Lv(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n instanceof lf?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const i=this.controls[n];if(this.contains(n)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class L2 extends Bv{constructor(e,n,i){super(Fv(n),Lv(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof lf?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const H2={provide:Ao,useExisting:Pt(()=>uf)},sS=(()=>Promise.resolve(null))();let uf=(()=>{class t extends Ao{constructor(n,i,r,s){super(),this.control=new lf,this._registered=!1,this.update=new Bn,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===_d?n=s:function(t){return Object.getPrototypeOf(t.constructor)===ba}(s)?i=s:r=s}),r||i||n||null}(0,s)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Md(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){sS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const i=n.isDisabled.currentValue,r=""===i||i&&"false"!==i;sS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(xe(Mi,9),xe(pi,10),xe(Oo,10),xe(xs,10))},t.\u0275dir=Ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fn([H2]),ln,Rn]}),t})(),aS=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({}),t})(),xS=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({imports:[[aS]]}),t})(),hV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({imports:[xS]}),t})();function gt(...t){let e=t[t.length-1];return U(e)?(t.pop(),Re(t,e)):kt(t)}class Kr extends H{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}next(e){super.next(this._value=e)}}class cV extends h{notifyNext(e,n,i,r,s){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class fV extends h{constructor(e,n,i){super(),this.parent=e,this.outerValue=n,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function pV(t,e,n,i,r=new fV(t,n,i)){if(!r.closed)return e instanceof d?e.subscribe(r):Se(e)(r)}const SS={};class mV{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new vV(e,this.resultSelector))}}class vV extends cV{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(SS),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let i=0;i<n;i++)this.add(pV(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,i){const r=this.values,o=this.toRespond?r[i]===SS?--this.toRespond:this.toRespond:0;r[i]=n,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}const df=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Xv(...t){return pt(1)(gt(...t))}const Kl=new d(t=>t.complete());function Zv(t){return t?function(t){return new d(e=>t.schedule(()=>e.complete()))}(t):Kl}function _S(t){return new d(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?qe(n):Zv()).subscribe(e)})}function ko(t,e){return"function"==typeof e?n=>n.pipe(ko((i,r)=>qe(t(i,r)).pipe($((s,o)=>e(i,s,r,o))))):n=>n.lift(new CV(t))}class CV{constructor(e){this.project=e}call(e,n){return n.subscribe(new wV(e,this.project))}}class wV extends Gt{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const i=this.index++;try{n=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const i=new ft(this),r=this.destination;r.add(i),this.innerSubscription=Lt(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const MS=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Qv(t){return e=>0===t?Zv():e.lift(new DV(t))}class DV{constructor(e){if(this.total=e,this.total<0)throw new MS}call(e,n){return n.subscribe(new EV(e,this.total))}}class EV extends h{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,i=++this.count;i<=n&&(this.destination.next(e),i===n&&(this.destination.complete(),this.unsubscribe()))}}function TS(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new SV(t,e,n))}}class SV{constructor(e,n,i=!1){this.accumulator=e,this.seed=n,this.hasSeed=i}call(e,n){return n.subscribe(new _V(e,this.accumulator,this.seed,this.hasSeed))}}class _V extends h{constructor(e,n,i,r){super(e),this.accumulator=n,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let i;try{i=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Xl(t,e){return function(i){return i.lift(new MV(t,e))}}class MV{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new TV(e,this.predicate,this.thisArg))}}class TV extends h{constructor(e,n,i){super(e),this.predicate=n,this.thisArg=i,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}n&&this.destination.next(e)}}function Ca(t){return function(n){const i=new OV(t),r=n.lift(i);return i.caught=r}}class OV{constructor(e){this.selector=e}call(e,n){return n.subscribe(new IV(e,this.selector,this.caught))}}class IV extends Gt{constructor(e,n,i){super(e),this.selector=n,this.caught=i}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new ft(this);this.add(i);const r=Lt(n,i);r!==i&&this.add(r)}}}function Ad(t,e){return ze(t,e,1)}function Jv(t){return function(n){return 0===t?Zv():n.lift(new AV(t))}}class AV{constructor(e){if(this.total=e,this.total<0)throw new MS}call(e,n){return n.subscribe(new kV(e,this.total))}}class kV extends h{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,i=this.total,r=this.count++;n.length<i?n.push(e):n[r%i]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=n++%i;e.next(r[o])}}e.complete()}}function OS(t=NV){return e=>e.lift(new RV(t))}class RV{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new PV(e,this.errorFactory))}}class PV extends h{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function NV(){return new df}function IS(t=null){return e=>e.lift(new FV(t))}class FV{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new LV(e,this.defaultValue))}}class LV extends h{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Zl(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Xl((r,s)=>t(r,s,i)):l,Qv(1),n?IS(e):OS(()=>new df))}function Ro(){}function ir(t,e,n){return function(r){return r.lift(new BV(t,e,n))}}class BV{constructor(e,n,i){this.nextOrObserver=e,this.error=n,this.complete=i}call(e,n){return n.subscribe(new HV(e,this.nextOrObserver,this.error,this.complete))}}class HV extends h{constructor(e,n,i,r){super(e),this._tapNext=Ro,this._tapError=Ro,this._tapComplete=Ro,this._tapError=i||Ro,this._tapComplete=r||Ro,D(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||Ro,this._tapError=n.error||Ro,this._tapComplete=n.complete||Ro)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class UV{constructor(e){this.callback=e}call(e,n){return n.subscribe(new jV(e,this.callback))}}class jV extends h{constructor(e,n){super(e),this.add(new b(n))}}class Qs{constructor(e,n){this.id=e,this.url=n}}class qv extends Qs{constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kd extends Qs{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class AS extends Qs{constructor(e,n,i){super(e,n),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class WV extends Qs{constructor(e,n,i){super(e,n),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GV extends Qs{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $V extends Qs{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YV extends Qs{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KV extends Qs{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XV extends Qs{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kS{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RS{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ZV{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QV{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JV{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qV{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PS{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class eB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ql(t){return new eB(t)}const NS="ngNavigationCancelingError";function ey(t){const e=Error("NavigationCancelingError: "+t);return e[NS]=!0,e}function nB(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],g=t[s];if(o.startsWith(":"))r[o.substring(1)]=g;else if(o!==g.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Ss(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!FS(t[r],e[r]))return!1;return!0}function FS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}return t===e}function LS(t){return Array.prototype.concat.apply([],t)}function VS(t){return t.length>0?t[t.length-1]:null}function oi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _s(t){return tc(t)?t:Xu(t)?qe(Promise.resolve(t)):gt(t)}const sB={exact:function zS(t,e,n){if(!Da(t.segments,e.segments)||!hf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!zS(t.children[i],e.children[i],n))return!1;return!0},subset:US},BS={exact:function(t,e){return Ss(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FS(t[n],e[n]))},ignored:()=>!0};function HS(t,e,n){return sB[n.paths](t.root,e.root,n.matrixParams)&&BS[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function US(t,e,n){return jS(t,e,e.segments,n)}function jS(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!Da(r,n)||e.hasChildren()||!hf(r,n,i))}if(t.segments.length===n.length){if(!Da(t.segments,n)||!hf(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!US(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Da(t.segments,r)&&hf(t.segments,r,i)&&t.children[xt])&&jS(t.children[xt],e,s,i)}}function hf(t,e,n){return e.every((i,r)=>BS[n](t[r].parameters,i.parameters))}class wa{constructor(e,n,i){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ql(this.queryParams)),this._queryParamMap}toString(){return dB.serialize(this)}}class Ot{constructor(e,n){this.segments=e,this.children=n,this.parent=null,oi(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}}class Rd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ql(this.parameters)),this._parameterMap}toString(){return YS(this)}}function Da(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}class ty{}class WS{parse(e){const n=new bB(e);return new wa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${Pd(e.root,!0)}`}${function(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(r=>`${ff(n)}=${ff(r)}`).join("&"):`${ff(n)}=${ff(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:""}`}}const dB=new WS;function cf(t){return t.segments.map(e=>YS(e)).join("/")}function Pd(t,e){if(!t.hasChildren())return cf(t);if(e){const n=t.children[xt]?Pd(t.children[xt],!1):"",i=[];return oi(t.children,(r,s)=>{s!==xt&&i.push(`${s}:${Pd(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function(t,e){let n=[];return oi(t.children,(i,r)=>{r===xt&&(n=n.concat(e(i,r)))}),oi(t.children,(i,r)=>{r!==xt&&(n=n.concat(e(i,r)))}),n}(t,(i,r)=>r===xt?[Pd(t.children[xt],!1)]:[`${r}:${Pd(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[xt]?`${cf(t)}/${n[0]}`:`${cf(t)}/(${n.join("//")})`}}function GS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ff(t){return GS(t).replace(/%3B/gi,";")}function ny(t){return GS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pf(t){return decodeURIComponent(t)}function $S(t){return pf(t.replace(/\+/g,"%20"))}function YS(t){return`${ny(t.path)}${function(t){return Object.keys(t).map(e=>`;${ny(e)}=${ny(t[e])}`).join("")}(t.parameters)}`}const pB=/^[^\/()?;=#]+/;function gf(t){const e=t.match(pB);return e?e[0]:""}const gB=/^[^=?&#]+/,vB=/^[^?&#]+/;class bB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[xt]=new Ot(e,n)),i}parseSegment(){const e=gf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Rd(pf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=gf(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=gf(this.remaining);r&&(i=r,this.capture(i))}e[pf(n)]=pf(i)}parseQueryParam(e){const n=function(t){const e=t.match(gB);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(vB);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=$S(n),s=$S(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gf(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=xt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[xt]:new Ot([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class KS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=iy(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=iy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=ry(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ry(e,this._root).map(n=>n.value)}}function iy(t,e){if(t===e.value)return e;for(const n of e.children){const i=iy(t,n);if(i)return i}return null}function ry(t,e){if(t===e.value)return[e];for(const n of e.children){const i=ry(t,n);if(i.length)return i.unshift(e),i}return[]}class Js{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nd(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class XS extends KS{constructor(e,n){super(e),this.snapshot=n,sy(this,e)}toString(){return this.snapshot.toString()}}function ZS(t,e){const n=function(t,e){const o=new mf([],{},{},"",{},xt,e,null,t.root,-1,{});return new JS("",new Js(o,[]))}(t,e),i=new Kr([new Rd("",{})]),r=new Kr({}),s=new Kr({}),o=new Kr({}),g=new Kr(""),k=new Jl(i,r,o,g,s,xt,e,n.root);return k.snapshot=n.root,new XS(new Js(k,[]),n)}class Jl{constructor(e,n,i,r,s,o,g,k){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=g,this._futureSnapshot=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($(e=>Ql(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($(e=>Ql(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QS(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class mf{constructor(e,n,i,r,s,o,g,k,F,j,W){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=g,this.routeConfig=k,this._urlSegment=F,this._lastPathIndex=j,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ql(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ql(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JS extends KS{constructor(e,n){super(n),this.url=e,sy(this,n)}toString(){return qS(this._root)}}function sy(t,e){e.value._routerState=t,e.children.forEach(n=>sy(t,n))}function qS(t){const e=t.children.length>0?` { ${t.children.map(qS).join(", ")} } `:"";return`${t.value}${e}`}function oy(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ss(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ss(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ss(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ss(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ay(t,e){return Ss(t.params,e.params)&&function(t,e){return Da(t,e)&&t.every((n,i)=>Ss(n.parameters,e[i].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ay(t.parent,e.parent))}function vf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return vf(t,i,r);return vf(t,i)})}(t,e,n);return new Js(i,r)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return e_(e,o),o}}const i=function(t){return new Jl(new Kr(t.url),new Kr(t.params),new Kr(t.queryParams),new Kr(t.fragment),new Kr(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(s=>vf(t,s));return new Js(i,r)}}function e_(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)e_(t.children[n],e.children[n])}function yf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Fd(t){return"object"==typeof t&&null!=t&&t.outlets}function ly(t,e,n,i,r){let s={};return i&&oi(i,(o,g)=>{s[g]=Array.isArray(o)?o.map(k=>`${k}`):`${o}`}),new wa(n.root===t?e:t_(n.root,t,e),s,r)}function t_(t,e,n){const i={};return oi(t.children,(r,s)=>{i[s]=r===e?n:t_(r,e,n)}),new Ot(t.segments,i)}class n_{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&yf(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Fd);if(r&&r!==VS(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uy{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function i_(t,e,n){if(t||(t=new Ot([],{})),0===t.segments.length&&t.hasChildren())return bf(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const o=t.segments[r],g=n[i];if(Fd(g))break;const k=`${g}`,F=i<n.length-1?n[i+1]:null;if(r>0&&void 0===k)break;if(k&&F&&"object"==typeof F&&void 0===F.outlets){if(!s_(k,F,o))return s;i+=2}else{if(!s_(k,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Ot(t.segments.slice(0,i.pathIndex),{});return s.children[xt]=new Ot(t.segments.slice(i.pathIndex),t.children),bf(s,0,r)}return i.match&&0===r.length?new Ot(t.segments,{}):i.match&&!t.hasChildren()?dy(t,e,n):i.match?bf(t,0,r):dy(t,e,n)}function bf(t,e,n){if(0===n.length)return new Ot(t.segments,{});{const i=function(t){return Fd(t[0])?t[0].outlets:{[xt]:t}}(n),r={};return oi(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=i_(t.children[o],e,s))}),oi(t.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Ot(t.segments,r)}}function dy(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(Fd(s)){const k=AB(s.outlets);return new Ot(i,k)}if(0===r&&yf(n[0])){i.push(new Rd(t.segments[e].path,r_(n[0]))),r++;continue}const o=Fd(s)?s.outlets[xt]:`${s}`,g=r<n.length-1?n[r+1]:null;o&&g&&yf(g)?(i.push(new Rd(o,r_(g))),r+=2):(i.push(new Rd(o,{})),r++)}return new Ot(i,{})}function AB(t){const e={};return oi(t,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[i]=dy(new Ot([],{}),0,n))}),e}function r_(t){const e={};return oi(t,(n,i)=>e[i]=`${n}`),e}function s_(t,e,n){return t==n.path&&Ss(e,n.parameters)}class RB{constructor(e,n,i,r){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),oy(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=Nd(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),oi(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Nd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,n,i){const r=Nd(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new qV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new QV(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(oy(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const g=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(g.contexts),o.attachRef=g.componentRef,o.route=g.route.value,o.outlet&&o.outlet.attach(g.componentRef,g.route.value),o_(g.route)}else{const g=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),k=g?g.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=k,o.outlet&&o.outlet.activateWith(r,k),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}function o_(t){oy(t.value),t.children.forEach(o_)}class hy{constructor(e,n){this.routes=e,this.module=n}}function Po(t){return"function"==typeof t}function Ea(t){return t instanceof wa}const Ld=Symbol("INITIAL_VALUE");function Vd(){return ko(t=>function(...t){let e,n;return U(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&T(t[0])&&(t=t[0]),kt(t,n).lift(new mV(e))}(t.map(e=>e.pipe(Qv(1),function(...t){const e=t[t.length-1];return U(e)?(t.pop(),n=>Xv(t,n,e)):n=>Xv(t,n)}(Ld)))).pipe(TS((e,n)=>{let i=!1;return n.reduce((r,s,o)=>r!==Ld?r:(s===Ld&&(i=!0),i||!1!==s&&o!==n.length-1&&!Ea(s)?r:s),e)},Ld),Xl(e=>e!==Ld),$(e=>Ea(e)?e:!0===e),Qv(1)))}let a_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=yi({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,i){1&n&&Bi(0,"router-outlet")},directives:function(){return[vy]},encapsulation:2}),t})();function l_(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];HB(i,zB(e,i))}}function HB(t,e){t.children&&l_(t.children,e)}function zB(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cy(t){const e=t.children&&t.children.map(cy),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==xt&&(n.component=a_),n}function wr(t){return t.outlet||xt}function u_(t,e){const n=t.filter(i=>wr(i)===e);return n.push(...t.filter(i=>wr(i)!==e)),n}const d_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Cf(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},d_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||nB)(n,t,e);if(!s)return Object.assign({},d_);const o={};oi(s.posParams,(k,F)=>{o[F]=k.path});const g=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:g,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function wf(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(i=>Df(t,e,i)&&wr(i)!==xt)}(t,n,i)){const o=new Ot(e,function(t,e,n,i){const r={};r[xt]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&wr(s)!==xt){const o=new Ot([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,r[wr(s)]=o}return r}(t,e,i,new Ot(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(i=>Df(t,e,i))}(t,n,i)){const o=new Ot(t.segments,function(t,e,n,i,r,s){const o={};for(const g of i)if(Df(t,n,g)&&!r[wr(g)]){const k=new Ot([],{});k._sourceSegment=t,k._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[wr(g)]=k}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new Ot(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Df(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function h_(t,e,n,i){return!!(wr(t)===i||i!==xt&&Df(e,n,t))&&("**"===t.path||Cf(e,t,n).matched)}function c_(t,e,n){return 0===e.length&&!t.children[n]}class Bd{constructor(e){this.segmentGroup=e||null}}class f_{constructor(e){this.urlTree=e}}function Ef(t){return new d(e=>e.error(new Bd(t)))}function p_(t){return new d(e=>e.error(new f_(t)))}function $B(t){return new d(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class XB{constructor(e,n,i,r,s){this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Ds)}apply(){const e=wf(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,xt).pipe($(s=>this.createUrlTree(fy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ca(s=>{if(s instanceof f_)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Bd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xt).pipe($(r=>this.createUrlTree(fy(r),e.queryParams,e.fragment))).pipe(Ca(r=>{throw r instanceof Bd?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,i){const r=e.segments.length>0?new Ot([],{[xt]:e}):e;return new wa(r,n,i)}expandSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,n,i).pipe($(s=>new Ot([],s))):this.expandSegment(e,i,n,i.segments,r,!0)}expandChildren(e,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return qe(r).pipe(Ad(s=>{const o=i.children[s],g=u_(n,s);return this.expandSegmentGroup(e,g,o,s).pipe($(k=>({segment:k,outlet:s})))}),TS((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Xl((r,s)=>t(r,s,i)):l,Jv(1),n?IS(e):OS(()=>new df))}())}expandSegment(e,n,i,r,s,o){return qe(i).pipe(Ad(g=>this.expandSegmentAgainstRoute(e,n,i,g,r,s,o).pipe(Ca(F=>{if(F instanceof Bd)return gt(null);throw F}))),Zl(g=>!!g),Ca((g,k)=>{if(g instanceof df||"EmptyError"===g.name){if(c_(n,r,s))return gt(new Ot([],{}));throw new Bd(n)}throw g}))}expandSegmentAgainstRoute(e,n,i,r,s,o,g){return h_(r,n,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,n,r,s,o):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o):Ef(n):Ef(n)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?p_(s):this.lineralizeSegments(i,s).pipe(ze(o=>{const g=new Ot(o,{});return this.expandSegment(e,g,n,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){const{matched:g,consumedSegments:k,lastChild:F,positionalParamSegments:j}=Cf(n,r,s);if(!g)return Ef(n);const W=this.applyRedirectCommands(k,r.redirectTo,j);return r.redirectTo.startsWith("/")?p_(W):this.lineralizeSegments(r,W).pipe(ze(K=>this.expandSegment(e,n,i,K.concat(s.slice(F)),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?gt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe($(K=>(i._loadedConfig=K,new Ot(r,{})))):gt(new Ot(r,{}));const{matched:o,consumedSegments:g,lastChild:k}=Cf(n,i,r);if(!o)return Ef(n);const F=r.slice(k);return this.getChildConfig(e,i,r).pipe(ze(W=>{const K=W.module,Q=W.routes,{segmentGroup:ne,slicedSegments:le}=wf(n,g,F,Q),oe=new Ot(ne.segments,ne.children);if(0===le.length&&oe.hasChildren())return this.expandChildren(K,Q,oe).pipe($(ke=>new Ot(g,ke)));if(0===Q.length&&0===le.length)return gt(new Ot(g,{}));const Ce=wr(i)===s;return this.expandSegment(K,oe,Q,le,Ce?xt:s,!0).pipe($(Ae=>new Ot(g.concat(Ae.segments),Ae.children)))}))}getChildConfig(e,n,i){return n.children?gt(new hy(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?gt(n._loadedConfig):this.runCanLoadGuards(e.injector,n,i).pipe(ze(r=>r?this.configLoader.load(e.injector,n).pipe($(s=>(n._loadedConfig=s,s))):function(t){return new d(e=>e.error(ey(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):gt(new hy([],e))}runCanLoadGuards(e,n,i){const r=n.canLoad;return r&&0!==r.length?gt(r.map(o=>{const g=e.get(o);let k;if(function(t){return t&&Po(t.canLoad)}(g))k=g.canLoad(n,i);else{if(!Po(g))throw new Error("Invalid CanLoad guard");k=g(n,i)}return _s(k)})).pipe(Vd(),ir(o=>{if(!Ea(o))return;const g=ey(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw g.url=o,g}),$(o=>!0===o)):gt(!0)}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return gt(i);if(r.numberOfChildren>1||!r.children[xt])return $B(e.redirectTo);r=r.children[xt]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreatreUrlTree(e,n,i,r){const s=this.createSegmentGroup(e,n.root,i,r);return new wa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return oi(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const g=r.substring(1);i[s]=n[g]}else i[s]=r}),i}createSegmentGroup(e,n,i,r){const s=this.createSegments(e,n.segments,i,r);let o={};return oi(n.children,(g,k)=>{o[k]=this.createSegmentGroup(e,g,i,r)}),new Ot(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}function fy(t){const e={};for(const i of Object.keys(t.children)){const s=fy(t.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function(t){if(1===t.numberOfChildren&&t.children[xt]){const e=t.children[xt];return new Ot(t.segments.concat(e.segments),e.children)}return t}(new Ot(t.segments,e))}class g_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xf{constructor(e,n){this.component=e,this.route=n}}function JB(t,e,n){const i=t._root;return Hd(i,e?e._root:null,n,[i.value])}function Sf(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Hd(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nd(e);return t.children.forEach(o=>{(function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,g=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const k=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Da(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Da(t.url,e.url)||!Ss(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ay(t,e)||!Ss(t.queryParams,e.queryParams);case"paramsChange":default:return!ay(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);k?r.canActivateChecks.push(new g_(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Hd(t,e,s.component?g?g.children:null:n,i,r),k&&g&&g.outlet&&g.outlet.isActivated&&r.canDeactivateChecks.push(new xf(g.outlet.component,o))}else o&&zd(e,g,r),r.canActivateChecks.push(new g_(i)),Hd(t,null,s.component?g?g.children:null:n,i,r)})(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),oi(s,(o,g)=>zd(o,n.getContext(g),r)),r}function zd(t,e,n){const i=Nd(t),r=t.value;oi(i,(s,o)=>{zd(s,r.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new xf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class hH{}function m_(t){return new d(e=>e.error(t))}class fH{constructor(e,n,i,r,s,o){this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=wf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,xt);if(null===n)return null;const i=new mf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Js(i,n),s=new JS(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,i=QS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,i)}processChildren(e,n){const i=[];for(const s of Object.keys(n.children)){const o=n.children[s],g=u_(e,s),k=this.processSegmentGroup(g,o,s);if(null===k)return null;i.push(...k)}const r=v_(i);return function(t){t.sort((e,n)=>e.value.outlet===xt?-1:n.value.outlet===xt?1:e.value.outlet.localeCompare(n.value.outlet))}(r),r}processSegment(e,n,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,i,r);if(null!==o)return o}return c_(n,i,r)?[]:null}processSegmentAgainstRoute(e,n,i,r){if(e.redirectTo||!h_(e,n,i,r))return null;let s,o=[],g=[];if("**"===e.path){const Q=i.length>0?VS(i).parameters:{};s=new mf(i,Q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,C_(e),wr(e),e.component,e,y_(n),b_(n)+i.length,w_(e))}else{const Q=Cf(n,e,i);if(!Q.matched)return null;o=Q.consumedSegments,g=i.slice(Q.lastChild),s=new mf(o,Q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,C_(e),wr(e),e.component,e,y_(n),b_(n)+o.length,w_(e))}const k=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:F,slicedSegments:j}=wf(n,o,g,k.filter(Q=>void 0===Q.redirectTo),this.relativeLinkResolution);if(0===j.length&&F.hasChildren()){const Q=this.processChildren(k,F);return null===Q?null:[new Js(s,Q)]}if(0===k.length&&0===j.length)return[new Js(s,[])];const W=wr(e)===r,K=this.processSegment(k,F,j,W?xt:r);return null===K?null:[new Js(s,K)]}}function mH(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function v_(t){const e=[],n=new Set;for(const i of t){if(!mH(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=v_(i.children);e.push(new Js(i.value,r))}return e.filter(i=>!n.has(i))}function y_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function b_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function C_(t){return t.data||{}}function w_(t){return t.resolve||{}}function py(t){return ko(e=>{const n=t(e);return n?qe(n).pipe($(()=>e)):gt(e)})}class xH extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const gy=new Et("ROUTES");class D_{constructor(e,n,i,r){this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const r=this.loadModuleFactory(n.loadChildren).pipe($(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new hy(LS(o.injector.get(gy,void 0,$e.Self|$e.Optional)).map(cy),o)}),Ca(s=>{throw n._loader$=void 0,s}));return n._loader$=new so(r,()=>new H).pipe(an()),n._loader$}loadModuleFactory(e){return"string"==typeof e?qe(this.loader.load(e)):_s(e()).pipe(ze(n=>n instanceof sD?gt(n):qe(this.compiler.compileModuleAsync(n))))}}class SH{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ql,this.attachRef=null}}class ql{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new SH,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class MH{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function TH(t){throw t}function OH(t,e,n){return e.parse("/")}function E_(t,e){return gt(null)}const IH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class t{constructor(n,i,r,s,o,g,k,F){this.rootComponentType=n,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=F,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new H,this.errorHandler=TH,this.malformedUriErrorHandler=OH,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:E_,afterPreactivation:E_},this.urlHandlingStrategy=new MH,this.routeReuseStrategy=new xH,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Ds),this.console=o.get(Ec);const K=o.get(Nn);this.isNgZoneEnabled=K instanceof Nn&&Nn.isInAngularZone(),this.resetConfig(F),this.currentUrlTree=new wa(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new D_(g,k,Q=>this.triggerEvent(new kS(Q)),Q=>this.triggerEvent(new RS(Q))),this.routerState=ZS(this.currentUrlTree,this.rootComponentType),this.transitions=new Kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const i=this.events;return n.pipe(Xl(r=>0!==r.id),$(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ko(r=>{let s=!1,o=!1;return gt(r).pipe(ir(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ko(g=>{const k=this.browserUrlTree.toString(),F=!this.navigated||g.extractedUrl.toString()!==k||k!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||F)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return _f(g.source)&&(this.browserUrlTree=g.extractedUrl),gt(g).pipe(ko(W=>{const K=this.transitions.getValue();return i.next(new qv(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),K!==this.transitions.getValue()?Kl:Promise.resolve(W)}),function(t,e,n,i){return ko(r=>function(t,e,n,i,r){return new XB(t,e,n,i,r).apply()}(t,e,n,r.extractedUrl,i).pipe($(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ir(W=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:W.urlAfterRedirects})}),function(t,e,n,i,r){return ze(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new fH(t,e,n,i,r,s).recognize();return null===o?m_(new hH):gt(o)}catch(o){return m_(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe($(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,W=>this.serializeUrl(W),this.paramsInheritanceStrategy,this.relativeLinkResolution),ir(W=>{"eager"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(W.urlAfterRedirects,W),this.browserUrlTree=W.urlAfterRedirects);const K=new GV(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);i.next(K)}));if(F&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:K,extractedUrl:Q,source:ne,restoredState:le,extras:oe}=g,Ce=new qv(K,this.serializeUrl(Q),ne,le);i.next(Ce);const pe=ZS(Q,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},g),{targetSnapshot:pe,urlAfterRedirects:Q,extras:Object.assign(Object.assign({},oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),Kl}),py(g=>{const{targetSnapshot:k,id:F,extractedUrl:j,rawUrl:W,extras:{skipLocationChange:K,replaceUrl:Q}}=g;return this.hooks.beforePreactivation(k,{navigationId:F,appliedUrlTree:j,rawUrlTree:W,skipLocationChange:!!K,replaceUrl:!!Q})}),ir(g=>{const k=new $V(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(k)}),$(g=>Object.assign(Object.assign({},g),{guards:JB(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(t,e){return ze(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?gt(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return qe(t).pipe(ze(r=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?gt(s.map(g=>{const k=Sf(g,e,r);let F;if(function(t){return t&&Po(t.canDeactivate)}(k))F=_s(k.canDeactivate(t,e,n,i));else{if(!Po(k))throw new Error("Invalid CanDeactivate guard");F=_s(k(t,e,n,i))}return F.pipe(Zl())})).pipe(Vd()):gt(!0)}(r.component,r.route,n,e,i)),Zl(r=>!0!==r,!0))}(o,i,r,t).pipe(ze(g=>g&&function(t){return"boolean"==typeof t}(g)?function(t,e,n,i){return qe(e).pipe(Ad(r=>Xv(function(t,e){return null!==t&&e&&e(new ZV(t)),gt(!0)}(r.route.parent,i),function(t,e){return null!==t&&e&&e(new JV(t)),gt(!0)}(r.route,i),function(t,e,n){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>_S(()=>gt(o.guards.map(k=>{const F=Sf(k,o.node,n);let j;if(function(t){return t&&Po(t.canActivateChild)}(F))j=_s(F.canActivateChild(i,t));else{if(!Po(F))throw new Error("Invalid CanActivateChild guard");j=_s(F(i,t))}return j.pipe(Zl())})).pipe(Vd())));return gt(s).pipe(Vd())}(t,r.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?gt(i.map(s=>_S(()=>{const o=Sf(s,e,n);let g;if(function(t){return t&&Po(t.canActivate)}(o))g=_s(o.canActivate(e,t));else{if(!Po(o))throw new Error("Invalid CanActivate guard");g=_s(o(e,t))}return g.pipe(Zl())}))).pipe(Vd()):gt(!0)}(t,r.route,n))),Zl(r=>!0!==r,!0))}(i,s,t,e):gt(g)),$(g=>Object.assign(Object.assign({},n),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),ir(g=>{if(Ea(g.guardsResult)){const F=ey(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw F.url=g.guardsResult,F}const k=new YV(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(k)}),Xl(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),py(g=>{if(g.guards.canActivateChecks.length)return gt(g).pipe(ir(k=>{const F=new KV(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(F)}),ko(k=>{let F=!1;return gt(k).pipe(function(t,e){return ze(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return gt(n);let s=0;return qe(r).pipe(Ad(o=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return gt({});const s={};return qe(r).pipe(ze(o=>function(t,e,n,i){const r=Sf(t,e,i);return _s(r.resolve?r.resolve(e,n):r(e,n))}(t[o],e,n,i).pipe(ir(g=>{s[o]=g}))),Jv(1),ze(()=>Object.keys(s).length===r.length?gt(s):Kl))}(t._resolve,t,e,i).pipe($(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),QS(t,n).resolve),null)))}(o.route,i,t,e)),ir(()=>s++),Jv(1),ze(o=>s===r.length?gt(n):Kl))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ir({next:()=>F=!0,complete:()=>{F||(this.restoreHistory(k),this.cancelNavigationTransition(k,"At least one route resolver didn't emit any value."))}}))}),ir(k=>{const F=new XV(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(F)}))}),py(g=>{const{targetSnapshot:k,id:F,extractedUrl:j,rawUrl:W,extras:{skipLocationChange:K,replaceUrl:Q}}=g;return this.hooks.afterPreactivation(k,{navigationId:F,appliedUrlTree:j,rawUrlTree:W,skipLocationChange:!!K,replaceUrl:!!Q})}),$(g=>{const k=function(t,e,n){const i=vf(t,e._root,n?n._root:void 0);return new XS(i,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:k})}),ir(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((t,e,n)=>$(i=>(new RB(e,i.targetRouterState,i.currentRouterState,n).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),ir({next(){s=!0},complete(){s=!0}}),function(t){return e=>e.lift(new UV(t))}(()=>{if(!s&&!o){const g=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,g)):this.cancelNavigationTransition(r,g)}this.currentNavigation=null}),Ca(g=>{if(o=!0,function(t){return t&&t[NS]}(g)){const k=Ea(g.url);k||(this.navigated=!0,this.restoreHistory(r,!0));const F=new AS(r.id,this.serializeUrl(r.extractedUrl),g.message);i.next(F),k?setTimeout(()=>{const j=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),W={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_f(r.source)};this.scheduleNavigation(j,"imperative",null,W,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const k=new WV(r.id,this.serializeUrl(r.extractedUrl),g);i.next(k);try{r.resolve(this.errorHandler(g))}catch(F){r.reject(F)}}return Kl}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:s,urlTree:o}=i,g={replaceUrl:!0};if(s){const k=Object.assign({},s);delete k.navigationId,delete k.\u0275routerPageId,0!==Object.keys(k).length&&(g.state=k)}this.scheduleNavigation(o,r,s,g)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(n){var i;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,i){if(!n)return!0;const r=i.urlTree.toString()===n.urlTree.toString();return i.transitionId!==n.transitionId||!r||!("hashchange"===i.source&&"popstate"===n.source||"popstate"===i.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){l_(n),this.config=n.map(cy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:g,preserveFragment:k}=i,F=r||this.routerState.root,j=k?this.currentUrlTree.fragment:o;let W=null;switch(g){case"merge":W=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=s||null}return null!==W&&(W=this.removeEmptyProps(W)),function(t,e,n,i,r){if(0===n.length)return ly(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new n_(!0,0,t);let e=0,n=!1;const i=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const g={};return oi(s.outlets,(k,F)=>{g[F]="string"==typeof k?k.split("/"):k}),[...r,{outlets:g}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((g,k)=>{0==k&&"."===g||(0==k&&""===g?n=!0:".."===g?e++:""!=g&&r.push(g))}),r):[...r,s]},[]);return new n_(n,e,i)}(n);if(s.toRoot())return ly(e.root,new Ot([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new uy(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new uy(s,s===e.root,0)}const i=yf(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new uy(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),g=o.processChildren?bf(o.segmentGroup,o.index,s.commands):i_(o.segmentGroup,o.index,s.commands);return ly(o.segmentGroup,g,e,i,r)}(F,this.currentUrlTree,n,W,null!=j?j:null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=Ea(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(n,i={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?Object.assign({},IH):!1===i?Object.assign({},AH):i,Ea(n))return HS(this.currentUrlTree,n,r);const s=this.parseUrl(n);return HS(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const s=n[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new kd(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,i,r,s,o){var g,k;if(this.disposed)return Promise.resolve(!1);const F=this.getTransition(),j=_f(i)&&F&&!_f(F.source),Q=(this.lastSuccessfulId===F.id||this.currentNavigation?F.rawUrl:F.urlAfterRedirects).toString()===n.toString();if(j&&Q)return Promise.resolve(!0);let ne,le,oe;o?(ne=o.resolve,le=o.reject,oe=o.promise):oe=new Promise((Ae,ke)=>{ne=Ae,le=ke});const Ce=++this.navigationId;let pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),pe=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(k=this.browserPageId)&&void 0!==k?k:0)+1):pe=0,this.setTransition({id:Ce,targetPageId:pe,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:ne,reject:le,promise:oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),oe.catch(Ae=>Promise.reject(Ae))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(n,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,i){const r=new AS(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(r),n.resolve(!1)}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(He(kh),He(ty),He(ql),He(Fc),He(Wt),He(Sc),He(pa),He(void 0))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();function _f(t){return"imperative"!==t}let my=(()=>{class t{constructor(n,i,r,s,o){this.router=n,this.route=i,this.commands=[],this.onChanges=new H,null==r&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}onClick(){const n={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(xe(zi),xe(Jl),Rr("tabindex"),xe(ws),xe(Xn))},t.\u0275dir=Ze({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,i){1&n&&Zt("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Rn]}),t})(),Mf=(()=>{class t{constructor(n,i,r){this.router=n,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new H,this.subscription=n.events.subscribe(s=>{s instanceof kd&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,i,r,s,o){if(0!==n||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target)return!0;const g={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(xe(zi),xe(Jl),xe($l))},t.\u0275dir=Ze({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,i){1&n&&Zt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&(Kg("href",i.href,Yp),ys("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Rn]}),t})();function eu(t){return""===t||!!t}let x_=(()=>{class t{constructor(n,i,r,s,o,g){this.router=n,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=n.events.subscribe(k=>{k instanceof kd&&this.update()})}ngAfterContentInit(){gt(this.links.changes,this.linksWithHrefs.changes,gt(null)).pipe(pt()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var n;null===(n=this.linkInputChangesSubscription)||void 0===n||n.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=qe(i).pipe(pt()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){var n;this.routerEventsSubscription.unsubscribe(),null===(n=this.linkInputChangesSubscription)||void 0===n||n.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(n){const i=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>n.isActive(r.urlTree,i)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.linkWithHref&&n(this.linkWithHref)||this.links.some(n)||this.linksWithHrefs.some(n)}}return t.\u0275fac=function(n){return new(n||t)(xe(zi),xe(Xn),xe(ws),xe(rm),xe(my,8),xe(Mf,8))},t.\u0275dir=Ze({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,r){if(1&n&&(Sm(r,my,5),Sm(r,Mf,5)),2&n){let s;bc(s=Cc())&&(i.links=s),bc(s=Cc())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Rn]}),t})(),vy=(()=>{class t{constructor(n,i,r,s,o){this.parentContexts=n,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Bn,this.deactivateEvents=new Bn,this.name=s||xt,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,k=new PH(n,g,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,k),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(xe(ql),xe(Hr),xe(ha),Rr("name"),xe(rm))},t.\u0275dir=Ze({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class PH{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Jl?this.route:e===ql?this.childContexts:this.parent.get(e,n)}}class S_{}class __{preload(e,n){return gt(null)}}let M_=(()=>{class t{constructor(n,i,r,s,o){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=new D_(i,r,F=>n.triggerEvent(new kS(F)),F=>n.triggerEvent(new RS(F)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xl(n=>n instanceof kd),Ad(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Ds);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(n,s)):s.children&&r.push(this.processRoutes(n,s.children));return qe(r).pipe(pt(),$(s=>{}))}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?gt(i._loadedConfig):this.loader.load(n.injector,i)).pipe(ze(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(He(zi),He(Sc),He(pa),He(Wt),He(S_))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})(),yy=(()=>{class t{constructor(n,i,r={}){this.router=n,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof qv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof kd&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof PS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.router.triggerEvent(new PS(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(He(zi),He(fx),He(void 0))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();const xa=new Et("ROUTER_CONFIGURATION"),T_=new Et("ROUTER_FORROOT_GUARD"),FH=[Fc,{provide:ty,useClass:WS},{provide:zi,useFactory:function(t,e,n,i,r,s,o,g={},k,F){const j=new zi(null,t,e,n,i,r,s,LS(o));return k&&(j.urlHandlingStrategy=k),F&&(j.routeReuseStrategy=F),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(g,j),g.enableTracing&&j.events.subscribe(W=>{var K,Q;null===(K=console.group)||void 0===K||K.call(console,`Router Event: ${W.constructor.name}`),console.log(W.toString()),console.log(W),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),j},deps:[ty,ql,Fc,Wt,Sc,pa,gy,xa,[class{},new Vi],[class{},new Vi]]},ql,{provide:Jl,useFactory:function(t){return t.routerState.root},deps:[zi]},{provide:Sc,useClass:PP},M_,__,class{preload(e,n){return n().pipe(Ca(()=>gt(null)))}},{provide:xa,useValue:{enableTracing:!1}}];function LH(){return new Hm("Router",zi)}let VH=(()=>{class t{constructor(n,i){}static forRoot(n,i){return{ngModule:t,providers:[FH,O_(n),{provide:T_,useFactory:zH,deps:[[zi,new Vi,new wo]]},{provide:xa,useValue:i||{}},{provide:$l,useFactory:HH,deps:[va,[new ll(iv),new Vi],xa]},{provide:yy,useFactory:BH,deps:[zi,fx,xa]},{provide:S_,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:__},{provide:Hm,multi:!0,useFactory:LH},[by,{provide:gd,multi:!0,useFactory:GH,deps:[by]},{provide:I_,useFactory:$H,deps:[by]},{provide:lE,multi:!0,useExisting:I_}]]}}static forChild(n){return{ngModule:t,providers:[O_(n)]}}}return t.\u0275fac=function(n){return new(n||t)(He(T_,8),He(zi,8))},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({}),t})();function BH(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new yy(t,e,n)}function HH(t,e,n={}){return n.useHash?new eF(t,e):new JE(t,e)}function zH(t){return"guarded"}function O_(t){return[{provide:iM,multi:!0,useValue:t},{provide:gy,multi:!0,useValue:t}]}let by=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new H}appInitializer(){return this.injector.get(QN,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(g=>i=g),s=this.injector.get(zi),o=this.injector.get(xa);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(n){const i=this.injector.get(xa),r=this.injector.get(M_),s=this.injector.get(yy),o=this.injector.get(zi),g=this.injector.get(jl);n===g.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(He(Wt))},t.\u0275prov=Xe({token:t,factory:t.\u0275fac}),t})();function GH(t){return t.appInitializer.bind(t)}function $H(t){return t.bootstrapListener.bind(t)}const I_=new Et("Router Initializer");function A_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A_(Object(n),!0).forEach(function(i){KH(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Tf(t){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function KH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dr(){return(Dr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function ZH(t,e){if(null==t)return{};var i,r,n=function(t,e){if(null==t)return{};var r,s,n={},i=Object.keys(t);for(s=0;s<i.length;s++)!(e.indexOf(r=i[s])>=0)&&(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)!(e.indexOf(i=s[r])>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,i)||(n[i]=t[i]))}return n}function qs(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var eo=qs(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ud=qs(/Edge/i),k_=qs(/firefox/i),jd=qs(/safari/i)&&!qs(/chrome/i)&&!qs(/android/i),R_=qs(/iP(ad|od|hone)/i),iz=qs(/chrome/i)&&qs(/android/i),P_={capture:!1,passive:!1};function It(t,e,n){t.addEventListener(e,n,!eo&&P_)}function St(t,e,n){t.removeEventListener(e,n,!eo&&P_)}function Of(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function rz(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Xr(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&Of(t,e):Of(t,e))||i&&t===n)return t;if(t===n)break}while(t=rz(t))}return null}var Wd,N_=/\s+/g;function xn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(N_," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(N_," ")}}function We(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];!(e in i)&&-1===e.indexOf("webkit")&&(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function Sa(t,e){var n="";if("string"==typeof t)n=t;else do{var i=We(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function F_(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,s=i.length;if(n)for(;r<s;r++)n(i[r],r);return i}return[]}function Ts(){return document.scrollingElement||document.documentElement}function pn(t,e,n,i,r){if(t.getBoundingClientRect||t===window){var s,o,g,k,F,j,W;if(t!==window&&t.parentNode&&t!==Ts()?(o=(s=t.getBoundingClientRect()).top,g=s.left,k=s.bottom,F=s.right,j=s.height,W=s.width):(o=0,g=0,k=window.innerHeight,F=window.innerWidth,j=window.innerHeight,W=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!eo))do{if(r&&r.getBoundingClientRect&&("none"!==We(r,"transform")||n&&"static"!==We(r,"position"))){var K=r.getBoundingClientRect();o-=K.top+parseInt(We(r,"border-top-width")),g-=K.left+parseInt(We(r,"border-left-width")),k=o+s.height,F=g+s.width;break}}while(r=r.parentNode);if(i&&t!==window){var Q=Sa(r||t),ne=Q&&Q.a,le=Q&&Q.d;Q&&(k=(o/=le)+(j/=le),F=(g/=ne)+(W/=ne))}return{top:o,left:g,bottom:k,right:F,width:W,height:j}}}function L_(t,e,n){for(var i=No(t,!0),r=pn(t)[e];i;){var s=pn(i)[n];if(!("top"===n||"left"===n?r>=s:r<=s))return i;if(i===Ts())break;i=No(i,!1)}return!1}function tu(t,e,n,i){for(var r=0,s=0,o=t.children;s<o.length;){if("none"!==o[s].style.display&&o[s]!==rt.ghost&&(i||o[s]!==rt.dragged)&&Xr(o[s],n.draggable,t,!1)){if(r===e)return o[s];r++}s++}return null}function wy(t,e){for(var n=t.lastElementChild;n&&(n===rt.ghost||"none"===We(n,"display")||e&&!Of(n,e));)n=n.previousElementSibling;return n||null}function Mn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==rt.clone&&(!e||Of(t,e))&&n++;return n}function V_(t){var e=0,n=0,i=Ts();if(t)do{var r=Sa(t);e+=t.scrollLeft*r.a,n+=t.scrollTop*r.d}while(t!==i&&(t=t.parentNode));return[e,n]}function No(t,e){if(!t||!t.getBoundingClientRect)return Ts();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=We(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Ts();if(i||e)return n;i=!0}}}while(n=n.parentNode);return Ts()}function Dy(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function B_(t,e){return function(){if(!Wd){var n=arguments,i=this;1===n.length?t.call(i,n[0]):t.apply(i,n),Wd=setTimeout(function(){Wd=void 0},e)}}}function H_(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Ey(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var gi="Sortable"+(new Date).getTime();var nu=[],Sy={initializeByDefault:!0},Gd={mount:function(e){for(var n in Sy)Sy.hasOwnProperty(n)&&!(n in e)&&(e[n]=Sy[n]);nu.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),nu.push(e)},pluginEvent:function(e,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var s=e+"Global";nu.forEach(function(o){!n[o.pluginName]||(n[o.pluginName][s]&&n[o.pluginName][s](Ms({sortable:n},i)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Ms({sortable:n},i)))})},initializePlugins:function(e,n,i,r){for(var s in nu.forEach(function(g){var k=g.pluginName;if(e.options[k]||g.initializeByDefault){var F=new g(e,n,e.options);F.sortable=e,F.options=e.options,e[k]=F,Dr(i,F.defaults)}}),e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);void 0!==o&&(e.options[s]=o)}},getEventProperties:function(e,n){var i={};return nu.forEach(function(r){"function"==typeof r.eventProperties&&Dr(i,r.eventProperties.call(n[r.pluginName],e))}),i},modifyOption:function(e,n,i){var r;return nu.forEach(function(s){!e[s.pluginName]||s.optionListeners&&"function"==typeof s.optionListeners[n]&&(r=s.optionListeners[n].call(e[s.pluginName],i))}),r}};var hz=["evt"],Ui=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.evt,s=ZH(i,hz);Gd.pluginEvent.bind(rt)(e,n,Ms({dragEl:Ne,parentEl:Tn,ghostEl:mt,rootEl:gn,nextEl:_a,lastDownEl:If,cloneEl:On,cloneHidden:Fo,dragStarted:Kd,putSortable:ai,activeSortable:rt.active,originalEvent:r,oldIndex:iu,oldDraggableIndex:Yd,newIndex:rr,newDraggableIndex:Lo,hideGhostForTarget:K_,unhideGhostForTarget:X_,cloneNowHidden:function(){Fo=!0},cloneNowShown:function(){Fo=!1},dispatchSortableEvent:function(g){Ti({sortable:n,name:g,originalEvent:r})}},s))};function Ti(t){!function(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,s=t.cloneEl,o=t.toEl,g=t.fromEl,k=t.oldIndex,F=t.newIndex,j=t.oldDraggableIndex,W=t.newDraggableIndex,K=t.originalEvent,Q=t.putSortable,ne=t.extraEventProperties;if(e=e||n&&n[gi]){var le,oe=e.options,Ce="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||eo||Ud?(le=document.createEvent("Event")).initEvent(i,!0,!0):le=new CustomEvent(i,{bubbles:!0,cancelable:!0}),le.to=o||n,le.from=g||n,le.item=r||n,le.clone=s,le.oldIndex=k,le.newIndex=F,le.oldDraggableIndex=j,le.newDraggableIndex=W,le.originalEvent=K,le.pullMode=Q?Q.lastPutMode:void 0;var pe=Ms(Ms({},ne),Gd.getEventProperties(i,e));for(var Ae in pe)le[Ae]=pe[Ae];n&&n.dispatchEvent(le),oe[Ce]&&oe[Ce].call(e,le)}}(Ms({putSortable:ai,cloneEl:On,targetEl:Ne,rootEl:gn,oldIndex:iu,oldDraggableIndex:Yd,newIndex:rr,newDraggableIndex:Lo},t))}var Ne,Tn,mt,gn,_a,If,On,Fo,iu,rr,Yd,Lo,Af,ai,Ma,Zr,_y,My,U_,j_,Kd,su,Xd,Nf,mi,ru=!1,kf=!1,Rf=[],Zd=!1,Pf=!1,Ty=[],Oy=!1,Ff=[],Lf="undefined"!=typeof document,Vf=R_,W_=Ud||eo?"cssFloat":"float",cz=Lf&&!iz&&!R_&&"draggable"in document.createElement("div"),G_=function(){if(Lf){if(eo)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),$_=function(e,n){var i=We(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=tu(e,0,n),o=tu(e,1,n),g=s&&We(s),k=o&&We(o),F=g&&parseInt(g.marginLeft)+parseInt(g.marginRight)+pn(s).width,j=k&&parseInt(k.marginLeft)+parseInt(k.marginRight)+pn(o).width;return"flex"===i.display?"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal":"grid"===i.display?i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":s&&g.float&&"none"!==g.float?!o||"both"!==k.clear&&k.clear!==("left"===g.float?"left":"right")?"horizontal":"vertical":s&&("block"===g.display||"flex"===g.display||"table"===g.display||"grid"===g.display||F>=r&&"none"===i[W_]||o&&"none"===i[W_]&&F+j>r)?"vertical":"horizontal"},Y_=function(e){function n(s,o){return function(g,k,F,j){if(null==s&&(o||g.options.group.name&&k.options.group.name&&g.options.group.name===k.options.group.name))return!0;if(null==s||!1===s)return!1;if(o&&"clone"===s)return s;if("function"==typeof s)return n(s(g,k,F,j),o)(g,k,F,j);var K=(o?g:k).options.group.name;return!0===s||"string"==typeof s&&s===K||s.join&&s.indexOf(K)>-1}}var i={},r=e.group;(!r||"object"!=Tf(r))&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,e.group=i},K_=function(){!G_&&mt&&We(mt,"display","none")},X_=function(){!G_&&mt&&We(mt,"display","")};Lf&&document.addEventListener("click",function(t){if(kf)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),kf=!1,!1},!0);var Ta=function(e){if(Ne){var n=function(e,n){var i;return Rf.some(function(r){var s=r[gi].options.emptyInsertThreshold;if(s&&!wy(r)){var o=pn(r);if(e>=o.left-s&&e<=o.right+s&&n>=o.top-s&&n<=o.bottom+s)return i=r}}),i}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(n){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[gi]._onDragOver(i)}}},gz=function(e){Ne&&Ne.parentNode[gi]._isOutsideThisEl(e.target)};function rt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Dr({},e),t[gi]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $_(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,g){o.setData("Text",g.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==rt.supportPointer&&"PointerEvent"in window&&!jd,emptyInsertThreshold:5};for(var i in Gd.initializePlugins(this,t,n),n)!(i in e)&&(e[i]=n[i]);for(var r in Y_(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&cz,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?It(t,"pointerdown",this._onTapStart):(It(t,"mousedown",this._onTapStart),It(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(It(t,"dragover",this),It(t,"dragenter",this)),Rf.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Dr(this,function(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(r){if("none"!==We(r,"display")&&r!==rt.ghost){t.push({target:r,rect:pn(r)});var s=Ms({},t[t.length-1].rect);if(r.thisAnimationDuration){var o=Sa(r,!0);o&&(s.top-=o.f,s.left-=o.e)}r.fromRect=s}})},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(t,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var s=!1,o=0;t.forEach(function(g){var k=0,F=g.target,j=F.fromRect,W=pn(F),K=F.prevFromRect,Q=F.prevToRect,ne=g.rect,le=Sa(F,!0);le&&(W.top-=le.f,W.left-=le.e),F.toRect=W,F.thisAnimationDuration&&Dy(K,W)&&!Dy(j,W)&&(ne.top-W.top)/(ne.left-W.left)==(j.top-W.top)/(j.left-W.left)&&(k=function(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}(ne,K,Q,r.options)),Dy(W,j)||(F.prevFromRect=j,F.prevToRect=W,k||(k=r.options.animation),r.animate(F,ne,W,k)),k&&(s=!0,o=Math.max(o,k),clearTimeout(F.animationResetTimer),F.animationResetTimer=setTimeout(function(){F.animationTime=0,F.prevFromRect=null,F.fromRect=null,F.prevToRect=null,F.thisAnimationDuration=null},k),F.thisAnimationDuration=k)}),clearTimeout(e),s?e=setTimeout(function(){"function"==typeof i&&i()},o):"function"==typeof i&&i(),t=[]},animate:function(i,r,s,o){if(o){We(i,"transition",""),We(i,"transform","");var g=Sa(this.el),j=(r.left-s.left)/(g&&g.a||1),W=(r.top-s.top)/(g&&g.d||1);i.animatingX=!!j,i.animatingY=!!W,We(i,"transform","translate3d("+j+"px,"+W+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(i),We(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),We(i,"transform","translate3d(0,0,0)"),"number"==typeof i.animated&&clearTimeout(i.animated),i.animated=setTimeout(function(){We(i,"transition",""),We(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}())}function Bf(t,e,n,i,r,s,o,g){var k,W,F=t[gi],j=F.options.onMove;return!window.CustomEvent||eo||Ud?(k=document.createEvent("Event")).initEvent("move",!0,!0):k=new CustomEvent("move",{bubbles:!0,cancelable:!0}),k.to=e,k.from=t,k.dragged=n,k.draggedRect=i,k.related=r||e,k.relatedRect=s||pn(e),k.willInsertAfter=g,k.originalEvent=o,t.dispatchEvent(k),j&&(W=j.call(F,k,o)),W}function Iy(t){t.draggable=!1}function vz(){Oy=!1}function Dz(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function Hf(t){return setTimeout(t,0)}function Ay(t){return clearTimeout(t)}rt.prototype={constructor:rt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(su=null)},_getDirection:function(e,n){return"function"==typeof this.options.direction?this.options.direction.call(this,e,n,Ne):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,r=this.options,s=r.preventOnFilter,o=e.type,g=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,k=(g||e).target,F=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||k,j=r.filter;if(function(t){Ff.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Ff.push(i)}}(i),!Ne&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!F.isContentEditable&&(this.nativeDraggable||!jd||!k||"SELECT"!==k.tagName.toUpperCase())&&!((k=Xr(k,r.draggable,i,!1))&&k.animated||If===k)){if(iu=Mn(k),Yd=Mn(k,r.draggable),"function"==typeof j){if(j.call(this,e,k,this))return Ti({sortable:n,rootEl:F,name:"filter",targetEl:k,toEl:i,fromEl:i}),Ui("filter",n,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(j&&(j=j.split(",").some(function(W){if(W=Xr(F,W.trim(),i,!1))return Ti({sortable:n,rootEl:W,name:"filter",targetEl:k,fromEl:i,toEl:i}),Ui("filter",n,{evt:e}),!0})))return void(s&&e.cancelable&&e.preventDefault());r.handle&&!Xr(F,r.handle,i,!1)||this._prepareDragStart(e,g,k)}}},_prepareDragStart:function(e,n,i){var k,r=this,s=r.el,o=r.options,g=s.ownerDocument;if(i&&!Ne&&i.parentNode===s){var F=pn(i);if(gn=s,Tn=(Ne=i).parentNode,_a=Ne.nextSibling,If=i,Af=o.group,rt.dragged=Ne,U_=(Ma={target:Ne,clientX:(n||e).clientX,clientY:(n||e).clientY}).clientX-F.left,j_=Ma.clientY-F.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Ne.style["will-change"]="all",k=function(){Ui("delayEnded",r,{evt:e}),rt.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!k_&&r.nativeDraggable&&(Ne.draggable=!0),r._triggerDragStart(e,n),Ti({sortable:r,name:"choose",originalEvent:e}),xn(Ne,o.chosenClass,!0))},o.ignore.split(",").forEach(function(j){F_(Ne,j.trim(),Iy)}),It(g,"dragover",Ta),It(g,"mousemove",Ta),It(g,"touchmove",Ta),It(g,"mouseup",r._onDrop),It(g,"touchend",r._onDrop),It(g,"touchcancel",r._onDrop),k_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ne.draggable=!0),Ui("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!n||this.nativeDraggable&&(Ud||eo))k();else{if(rt.eventCanceled)return void this._onDrop();It(g,"mouseup",r._disableDelayedDrag),It(g,"touchend",r._disableDelayedDrag),It(g,"touchcancel",r._disableDelayedDrag),It(g,"mousemove",r._delayedDragTouchMoveHandler),It(g,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&It(g,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(k,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ne&&Iy(Ne),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;St(e,"mouseup",this._disableDelayedDrag),St(e,"touchend",this._disableDelayedDrag),St(e,"touchcancel",this._disableDelayedDrag),St(e,"mousemove",this._delayedDragTouchMoveHandler),St(e,"touchmove",this._delayedDragTouchMoveHandler),St(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||"touch"==e.pointerType&&e,!this.nativeDraggable||n?It(document,this.options.supportPointer?"pointermove":n?"touchmove":"mousemove",this._onTouchMove):(It(Ne,"dragend",this),It(gn,"dragstart",this._onDragStart));try{document.selection?Hf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(i){}},_dragStarted:function(e,n){if(ru=!1,gn&&Ne){Ui("dragStarted",this,{evt:n}),this.nativeDraggable&&It(document,"dragover",gz);var i=this.options;!e&&xn(Ne,i.dragClass,!1),xn(Ne,i.ghostClass,!0),rt.active=this,e&&this._appendGhost(),Ti({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Zr){this._lastX=Zr.clientX,this._lastY=Zr.clientY,K_();for(var e=document.elementFromPoint(Zr.clientX,Zr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Zr.clientX,Zr.clientY))!==n;)n=e;if(Ne.parentNode[gi]._isOutsideThisEl(e),n)do{if(n[gi]&&n[gi]._onDragOver({clientX:Zr.clientX,clientY:Zr.clientY,target:e,rootEl:n})&&!this.options.dragoverBubble)break;e=n}while(n=n.parentNode);X_()}},_onTouchMove:function(e){if(Ma){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=mt&&Sa(mt,!0),g=mt&&o&&o.a,k=mt&&o&&o.d,F=Vf&&mi&&V_(mi),j=(s.clientX-Ma.clientX+r.x)/(g||1)+(F?F[0]-Ty[0]:0)/(g||1),W=(s.clientY-Ma.clientY+r.y)/(k||1)+(F?F[1]-Ty[1]:0)/(k||1);if(!rt.active&&!ru){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(mt){o?(o.e+=j-(_y||0),o.f+=W-(My||0)):o={a:1,b:0,c:0,d:1,e:j,f:W};var K="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");We(mt,"webkitTransform",K),We(mt,"mozTransform",K),We(mt,"msTransform",K),We(mt,"transform",K),_y=j,My=W,Zr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!mt){var e=this.options.fallbackOnBody?document.body:gn,n=pn(Ne,!0,Vf,!0,e),i=this.options;if(Vf){for(mi=e;"static"===We(mi,"position")&&"none"===We(mi,"transform")&&mi!==document;)mi=mi.parentNode;mi!==document.body&&mi!==document.documentElement?(mi===document&&(mi=Ts()),n.top+=mi.scrollTop,n.left+=mi.scrollLeft):mi=Ts(),Ty=V_(mi)}xn(mt=Ne.cloneNode(!0),i.ghostClass,!1),xn(mt,i.fallbackClass,!0),xn(mt,i.dragClass,!0),We(mt,"transition",""),We(mt,"transform",""),We(mt,"box-sizing","border-box"),We(mt,"margin",0),We(mt,"top",n.top),We(mt,"left",n.left),We(mt,"width",n.width),We(mt,"height",n.height),We(mt,"opacity","0.8"),We(mt,"position",Vf?"absolute":"fixed"),We(mt,"zIndex","100000"),We(mt,"pointerEvents","none"),rt.ghost=mt,e.appendChild(mt),We(mt,"transform-origin",U_/parseInt(mt.style.width)*100+"% "+j_/parseInt(mt.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,r=e.dataTransfer,s=i.options;Ui("dragStart",this,{evt:e}),rt.eventCanceled?this._onDrop():(Ui("setupClone",this),rt.eventCanceled||((On=Ey(Ne)).draggable=!1,On.style["will-change"]="",this._hideClone(),xn(On,this.options.chosenClass,!1),rt.clone=On),i.cloneId=Hf(function(){Ui("clone",i),!rt.eventCanceled&&(i.options.removeCloneOnHide||gn.insertBefore(On,Ne),i._hideClone(),Ti({sortable:i,name:"clone"}))}),!n&&xn(Ne,s.dragClass,!0),n?(kf=!0,i._loopId=setInterval(i._emulateDragOver,50)):(St(document,"mouseup",i._onDrop),St(document,"touchend",i._onDrop),St(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(i,r,Ne)),It(document,"drop",i),We(Ne,"transform","translateZ(0)")),ru=!0,i._dragStartId=Hf(i._dragStarted.bind(i,n,e)),It(document,"selectstart",i),Kd=!0,jd&&We(document.body,"user-select","none"))},_onDragOver:function(e){var r,s,o,Q,n=this.el,i=e.target,g=this.options,k=g.group,F=rt.active,j=Af===k,W=g.sort,K=ai||F,ne=this,le=!1;if(!Oy){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=Xr(i,g.draggable,n,!0),oe("dragOver"),rt.eventCanceled)return le;if(Ne.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||ne._ignoreWhileAnimating===i)return pe(!1);if(kf=!1,F&&!g.disabled&&(j?W||(o=Tn!==gn):ai===this||(this.lastPutMode=Af.checkPull(this,F,Ne,e))&&k.checkPut(this,F,Ne,e))){if(Q="vertical"===this._getDirection(e,i),r=pn(Ne),oe("dragOverValid"),rt.eventCanceled)return le;if(o)return Tn=gn,Ce(),this._hideClone(),oe("revert"),rt.eventCanceled||(_a?gn.insertBefore(Ne,_a):gn.appendChild(Ne)),pe(!0);var ke=wy(n,g.draggable);if(!ke||function(t,e,n){var i=pn(wy(n.el,n.options.draggable));return e?t.clientX>i.right+10||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+10}(e,Q,this)&&!ke.animated){if(ke===Ne)return pe(!1);if(ke&&n===e.target&&(i=ke),i&&(s=pn(i)),!1!==Bf(gn,n,Ne,r,i,s,e,!!i))return Ce(),n.appendChild(Ne),Tn=n,Ae(),pe(!0)}else if(ke&&function(t,e,n){var i=pn(tu(n.el,0,n.options,!0));return e?t.clientX<i.left-10||t.clientY<i.top&&t.clientX<i.right:t.clientY<i.top-10||t.clientY<i.bottom&&t.clientX<i.left}(e,Q,this)){var Je=tu(n,0,g,!0);if(Je===Ne)return pe(!1);if(s=pn(i=Je),!1!==Bf(gn,n,Ne,r,i,s,e,!1))return Ce(),n.insertBefore(Ne,Je),Tn=n,Ae(),pe(!0)}else if(i.parentNode===n){s=pn(i);var zt,jn,or,Jr=Ne.parentNode!==n,Wn=!function(e,n,i){var r=i?e.left:e.top,g=i?n.left:n.top;return r===g||(i?e.right:e.bottom)===(i?n.right:n.bottom)||r+(i?e.width:e.height)/2===g+(i?n.width:n.height)/2}(Ne.animated&&Ne.toRect||r,i.animated&&i.toRect||s,Q),xr=Q?"top":"left",Oi=L_(i,"top","top")||L_(Ne,"top","top"),to=Oi?Oi.scrollTop:void 0;if(su!==i&&(jn=s[xr],Zd=!1,Pf=!Wn&&g.invertSwap||Jr),0!==(zt=function(t,e,n,i,r,s,o,g){var k=i?t.clientY:t.clientX,F=i?n.height:n.width,j=i?n.top:n.left,W=i?n.bottom:n.right,K=!1;if(!o)if(g&&Nf<F*r){if(!Zd&&(1===Xd?k>j+F*s/2:k<W-F*s/2)&&(Zd=!0),Zd)K=!0;else if(1===Xd?k<j+Nf:k>W-Nf)return-Xd}else if(k>j+F*(1-r)/2&&k<W-F*(1-r)/2)return function(t){return Mn(Ne)<Mn(t)?1:-1}(e);return(K=K||o)&&(k<j+F*s/2||k>W-F*s/2)?k>j+F/2?1:-1:0}(e,i,s,Q,Wn?1:g.swapThreshold,null==g.invertedSwapThreshold?g.swapThreshold:g.invertedSwapThreshold,Pf,su===i))){var qr=Mn(Ne);do{or=Tn.children[qr-=zt]}while(or&&("none"===We(or,"display")||or===mt))}if(0===zt||or===i)return pe(!1);su=i,Xd=zt;var no=i.nextElementSibling,Sr=!1,$f=Bf(gn,n,Ne,r,i,s,e,Sr=1===zt);if(!1!==$f)return(1===$f||-1===$f)&&(Sr=1===$f),Oy=!0,setTimeout(vz,30),Ce(),Sr&&!no?n.appendChild(Ne):i.parentNode.insertBefore(Ne,Sr?no:i),Oi&&H_(Oi,0,to-Oi.scrollTop),Tn=Ne.parentNode,void 0!==jn&&!Pf&&(Nf=Math.abs(jn-pn(i)[xr])),Ae(),pe(!0)}if(n.contains(Ne))return pe(!1)}return!1}function oe(nh,lU){Ui(nh,ne,Ms({evt:e,isOwner:j,axis:Q?"vertical":"horizontal",revert:o,dragRect:r,targetRect:s,canSort:W,fromSortable:K,target:i,completed:pe,onMove:function(eM,uU){return Bf(gn,n,Ne,r,eM,pn(eM),e,uU)},changed:Ae},lU))}function Ce(){oe("dragOverAnimationCapture"),ne.captureAnimationState(),ne!==K&&K.captureAnimationState()}function pe(nh){return oe("dragOverCompleted",{insertion:nh}),nh&&(j?F._hideClone():F._showClone(ne),ne!==K&&(xn(Ne,ai?ai.options.ghostClass:F.options.ghostClass,!1),xn(Ne,g.ghostClass,!0)),ai!==ne&&ne!==rt.active?ai=ne:ne===rt.active&&ai&&(ai=null),K===ne&&(ne._ignoreWhileAnimating=i),ne.animateAll(function(){oe("dragOverAnimationComplete"),ne._ignoreWhileAnimating=null}),ne!==K&&(K.animateAll(),K._ignoreWhileAnimating=null)),(i===Ne&&!Ne.animated||i===n&&!i.animated)&&(su=null),!g.dragoverBubble&&!e.rootEl&&i!==document&&(Ne.parentNode[gi]._isOutsideThisEl(e.target),!nh&&Ta(e)),!g.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),le=!0}function Ae(){rr=Mn(Ne),Lo=Mn(Ne,g.draggable),Ti({sortable:ne,name:"change",toEl:n,newIndex:rr,newDraggableIndex:Lo,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){St(document,"mousemove",this._onTouchMove),St(document,"touchmove",this._onTouchMove),St(document,"pointermove",this._onTouchMove),St(document,"dragover",Ta),St(document,"mousemove",Ta),St(document,"touchmove",Ta)},_offUpEvents:function(){var e=this.el.ownerDocument;St(e,"mouseup",this._onDrop),St(e,"touchend",this._onDrop),St(e,"pointerup",this._onDrop),St(e,"touchcancel",this._onDrop),St(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;rr=Mn(Ne),Lo=Mn(Ne,i.draggable),Ui("drop",this,{evt:e}),Tn=Ne&&Ne.parentNode,rr=Mn(Ne),Lo=Mn(Ne,i.draggable),rt.eventCanceled||(ru=!1,Pf=!1,Zd=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ay(this.cloneId),Ay(this._dragStartId),this.nativeDraggable&&(St(document,"drop",this),St(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),jd&&We(document.body,"user-select",""),We(Ne,"transform",""),e&&(Kd&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(gn===Tn||ai&&"clone"!==ai.lastPutMode)&&On&&On.parentNode&&On.parentNode.removeChild(On),Ne&&(this.nativeDraggable&&St(Ne,"dragend",this),Iy(Ne),Ne.style["will-change"]="",Kd&&!ru&&xn(Ne,ai?ai.options.ghostClass:this.options.ghostClass,!1),xn(Ne,this.options.chosenClass,!1),Ti({sortable:this,name:"unchoose",toEl:Tn,newIndex:null,newDraggableIndex:null,originalEvent:e}),gn!==Tn?(rr>=0&&(Ti({rootEl:Tn,name:"add",toEl:Tn,fromEl:gn,originalEvent:e}),Ti({sortable:this,name:"remove",toEl:Tn,originalEvent:e}),Ti({rootEl:Tn,name:"sort",toEl:Tn,fromEl:gn,originalEvent:e}),Ti({sortable:this,name:"sort",toEl:Tn,originalEvent:e})),ai&&ai.save()):rr!==iu&&rr>=0&&(Ti({sortable:this,name:"update",toEl:Tn,originalEvent:e}),Ti({sortable:this,name:"sort",toEl:Tn,originalEvent:e})),rt.active&&((null==rr||-1===rr)&&(rr=iu,Lo=Yd),Ti({sortable:this,name:"end",toEl:Tn,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Ui("nulling",this),gn=Ne=Tn=mt=_a=On=If=Fo=Ma=Zr=Kd=rr=Lo=iu=Yd=su=Xd=ai=Af=rt.dragged=rt.ghost=rt.clone=rt.active=null,Ff.forEach(function(e){e.checked=!0}),Ff.length=_y=My=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ne&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var n,e=[],i=this.el.children,r=0,s=i.length,o=this.options;r<s;r++)Xr(n=i[r],o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||Dz(n));return e},sort:function(e,n){var i={},r=this.el;this.toArray().forEach(function(s,o){var g=r.children[o];Xr(g,this.options.draggable,r,!1)&&(i[s]=g)},this),n&&this.captureAnimationState(),e.forEach(function(s){i[s]&&(r.removeChild(i[s]),r.appendChild(i[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Xr(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(void 0===n)return i[e];var r=Gd.modifyOption(this,e,n);i[e]=void 0!==r?r:n,"group"===e&&Y_(i)},destroy:function(){Ui("destroy",this);var e=this.el;e[gi]=null,St(e,"mousedown",this._onTapStart),St(e,"touchstart",this._onTapStart),St(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(St(e,"dragover",this),St(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Rf.splice(Rf.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Fo){if(Ui("hideClone",this),rt.eventCanceled)return;We(On,"display","none"),this.options.removeCloneOnHide&&On.parentNode&&On.parentNode.removeChild(On),Fo=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Fo){if(Ui("showClone",this),rt.eventCanceled)return;Ne.parentNode!=gn||this.options.group.revertClone?_a?gn.insertBefore(On,_a):gn.appendChild(On):gn.insertBefore(On,Ne),this.options.group.revertClone&&this.animate(Ne,On),We(On,"display",""),Fo=!1}}else this._hideClone()}},Lf&&It(document,"touchmove",function(t){(rt.active||ru)&&t.cancelable&&t.preventDefault()}),rt.utils={on:It,off:St,css:We,find:F_,is:function(e,n){return!!Xr(e,n,e,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:B_,closest:Xr,toggleClass:xn,clone:Ey,index:Mn,nextTick:Hf,cancelNextTick:Ay,detectDirection:$_,getChild:tu},rt.get=function(t){return t[gi]},rt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(rt.utils=Ms(Ms({},rt.utils),i.utils)),Gd.mount(i)})},rt.create=function(t,e){return new rt(t,e)},rt.version="1.14.0";var Qd,ky,Py,Ny,zf,Jd,Un=[],Ry=!1;function Uf(){Un.forEach(function(t){clearInterval(t.pid)}),Un=[]}function Z_(){clearInterval(Jd)}var Fy=B_(function(t,e,n,i){if(e.scroll){var j,r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,g=e.scrollSpeed,k=Ts(),F=!1;ky!==n&&(ky=n,Uf(),j=e.scrollFn,!0===(Qd=e.scroll)&&(Qd=No(n,!0)));var W=0,K=Qd;do{var Q=K,ne=pn(Q),le=ne.top,oe=ne.bottom,Ce=ne.left,pe=ne.right,Ae=ne.width,ke=ne.height,Je=void 0,zt=void 0,jn=Q.scrollWidth,Jr=Q.scrollHeight,Wn=We(Q),xr=Q.scrollLeft,Oi=Q.scrollTop;Q===k?(Je=Ae<jn&&("auto"===Wn.overflowX||"scroll"===Wn.overflowX||"visible"===Wn.overflowX),zt=ke<Jr&&("auto"===Wn.overflowY||"scroll"===Wn.overflowY||"visible"===Wn.overflowY)):(Je=Ae<jn&&("auto"===Wn.overflowX||"scroll"===Wn.overflowX),zt=ke<Jr&&("auto"===Wn.overflowY||"scroll"===Wn.overflowY));var to=Je&&(Math.abs(pe-r)<=o&&xr+Ae<jn)-(Math.abs(Ce-r)<=o&&!!xr),or=zt&&(Math.abs(oe-s)<=o&&Oi+ke<Jr)-(Math.abs(le-s)<=o&&!!Oi);if(!Un[W])for(var qr=0;qr<=W;qr++)Un[qr]||(Un[qr]={});(Un[W].vx!=to||Un[W].vy!=or||Un[W].el!==Q)&&(Un[W].el=Q,Un[W].vx=to,Un[W].vy=or,clearInterval(Un[W].pid),(0!=to||0!=or)&&(F=!0,Un[W].pid=setInterval(function(){i&&0===this.layer&&rt.active._onTouchMove(zf);var no=Un[this.layer].vy?Un[this.layer].vy*g:0,Sr=Un[this.layer].vx?Un[this.layer].vx*g:0;"function"==typeof j&&"continue"!==j.call(rt.dragged.parentNode[gi],Sr,no,t,zf,Un[this.layer].el)||H_(Un[this.layer].el,Sr,no)}.bind({layer:W}),24))),W++}while(e.bubbleScroll&&K!==k&&(K=No(K,!1)));Ry=F}},30),Q_=function(e){var n=e.originalEvent,i=e.putSortable,r=e.dragEl,o=e.dispatchSortableEvent,k=e.unhideGhostForTarget;if(n){var F=i||e.activeSortable;(0,e.hideGhostForTarget)();var j=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,W=document.elementFromPoint(j.clientX,j.clientY);k(),F&&!F.el.contains(W)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Ly(){}function Vy(){}Ly.prototype={startIndex:null,dragStart:function(e){this.startIndex=e.oldDraggableIndex},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=tu(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:Q_},Dr(Ly,{pluginName:"revertOnSpill"}),Vy.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:Q_},Dr(Vy,{pluginName:"removeOnSpill"}),rt.mount(new function(){function t(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?It(document,"dragover",this._handleAutoScroll):It(document,this.options.supportPointer?"pointermove":i.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?St(document,"dragover",this._handleAutoScroll):(St(document,"pointermove",this._handleFallbackAutoScroll),St(document,"touchmove",this._handleFallbackAutoScroll),St(document,"mousemove",this._handleFallbackAutoScroll)),Z_(),Uf(),clearTimeout(Wd),Wd=void 0},nulling:function(){zf=ky=Qd=Ry=Jd=Py=Ny=null,Un.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,g=document.elementFromPoint(s,o);if(zf=n,i||this.options.forceAutoScrollFallback||Ud||eo||jd){Fy(n,this.options,g,i);var k=No(g,!0);Ry&&(!Jd||s!==Py||o!==Ny)&&(Jd&&Z_(),Jd=setInterval(function(){var F=No(document.elementFromPoint(s,o),!0);F!==k&&(k=F,Uf()),Fy(n,r.options,F,i)},10),Py=s,Ny=o)}else{if(!this.options.bubbleScroll||No(g,!0)===Ts())return void Uf();Fy(n,this.options,No(g,!1),!1)}}},Dr(t,{pluginName:"scroll",initializeByDefault:!0})}),rt.mount(Vy,Ly);const By=rt,q_=new Et("Global config for sortablejs");class Mz{constructor(e){this.target=e}insert(e,n){this.isFormArray?this.target.insert(e,n):this.target.splice(e,0,n)}get(e){return this.isFormArray?this.target.at(e):this.target[e]}remove(e){let n;return this.isFormArray?(n=this.target.at(e),this.target.removeAt(e)):n=this.target.splice(e,1)[0],n}get isFormArray(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset}}class Hy{constructor(e){this.bindings=e.map(n=>new Mz(n))}injectIntoEvery(e,n){this.bindings.forEach((i,r)=>i.insert(e,n[r]))}getFromEvery(e){return this.bindings.map(n=>n.get(e))}extractFromEvery(e){return this.bindings.map(n=>n.remove(e))}get provided(){return!!this.bindings.length}}let Tz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Iz=(()=>{class t{constructor(n,i,r,s,o){this.globalConfig=n,this.service=i,this.element=r,this.zone=s,this.renderer=o,this.sortablejsInit=new Bn}ngOnInit(){By&&By.create&&this.create()}ngOnChanges(n){const i=n.sortablejsOptions;if(i&&!i.isFirstChange()){const r=i.previousValue,s=i.currentValue;Object.keys(s).forEach(o=>{s[o]!==r[o]&&this.sortableInstance.option(o,this.options[o])})}}ngOnDestroy(){this.sortableInstance&&this.sortableInstance.destroy()}create(){const n=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(()=>{this.sortableInstance=By.create(n,this.options),this.sortablejsInit.emit(this.sortableInstance)},0)}getBindings(){return this.sortablejs?this.sortablejs instanceof Hy?this.sortablejs:new Hy([this.sortablejs]):new Hy([])}get options(){return Object.assign(Object.assign({},this.optionsWithoutEvents),this.overridenOptions)}get optionsWithoutEvents(){return Object.assign(Object.assign({},this.globalConfig||{}),this.sortablejsOptions||{})}proxyEvent(n,...i){this.zone.run(()=>{this.optionsWithoutEvents&&this.optionsWithoutEvents[n]&&this.optionsWithoutEvents[n](...i)})}get isCloning(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)}clone(n){return(this.sortablejsCloneFunction||(i=>i))(n)}get overridenOptions(){return{onAdd:n=>{this.service.transfer=i=>{this.getBindings().injectIntoEvery(n.newIndex,i),this.proxyEvent("onAdd",n)},this.proxyEvent("onAddOriginal",n)},onRemove:n=>{const i=this.getBindings();i.provided&&(this.isCloning?(this.service.transfer(i.getFromEvery(n.oldIndex).map(r=>this.clone(r))),this.renderer.removeChild(n.item.parentNode,n.item),this.renderer.insertBefore(n.clone.parentNode,n.item,n.clone),this.renderer.removeChild(n.clone.parentNode,n.clone)):this.service.transfer(i.extractFromEvery(n.oldIndex)),this.service.transfer=null),this.proxyEvent("onRemove",n)},onUpdate:n=>{const i=this.getBindings(),r=(t=>t.hasOwnProperty("newDraggableIndex")&&t.hasOwnProperty("oldDraggableIndex")?{new:t.newDraggableIndex,old:t.oldDraggableIndex}:{new:t.newIndex,old:t.oldIndex})(n);i.injectIntoEvery(r.new,i.extractFromEvery(r.old)),this.proxyEvent("onUpdate",n)}}}}return t.\u0275fac=function(n){return new(n||t)(xe(q_,8),xe(Tz),xe(Xn),xe(Nn),xe(ws))},t.\u0275dir=Ze({type:t,selectors:[["","sortablejs",""]],inputs:{sortablejs:"sortablejs",sortablejsContainer:"sortablejsContainer",sortablejsOptions:"sortablejsOptions",sortablejsCloneFunction:"sortablejsCloneFunction"},outputs:{sortablejsInit:"sortablejsInit"},features:[Rn]}),t})(),Az=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:q_,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yi({type:t}),t.\u0275inj=hn({}),t})(),kz=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=yi({type:t,selectors:[["app-navbar"]],decls:27,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLinkActive","active","routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLinkActive","active","routerLink","/kendall",1,"dropdown-item"],["routerLinkActive","active","routerLink","/borda",1,"dropdown-item"],["routerLinkActive","active","routerLink","/topological",1,"dropdown-item"],["routerLinkActive","active","routerLink","/plurality",1,"dropdown-item"],["routerLinkActive","active","routerLink","/kemeny",1,"dropdown-item"]],template:function(n,i){1&n&&(he(0,"nav",0),he(1,"div",1),he(2,"a",2),je(3,"Voting"),ce(),he(4,"button",3),Bi(5,"span",4),ce(),he(6,"div",5),he(7,"ul",6),he(8,"li",7),he(9,"a",8),je(10," Algorithms and Concepts "),ce(),he(11,"ul",9),he(12,"li"),he(13,"a",10),je(14,"Kendall Distance"),ce(),ce(),he(15,"li"),he(16,"a",11),je(17,"Borda Count"),ce(),ce(),he(18,"li"),he(19,"a",12),je(20,"Topological Ordering"),ce(),ce(),he(21,"li"),he(22,"a",13),je(23,"Plurality (First Past The Post)"),ce(),ce(),he(24,"li"),he(25,"a",14),je(26,"Kemeny Consensus"),ce(),ce(),ce(),ce(),ce(),ce(),ce(),ce())},directives:[Mf,x_],styles:[""]}),t})(),Rz=(()=>{class t{constructor(){this.title="voting"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=yi({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"]],template:function(n,i){1&n&&(Bi(0,"app-navbar"),he(1,"div",0),Bi(2,"br"),he(3,"div",1),he(4,"div",2),Bi(5,"router-outlet"),ce(),ce(),ce())},directives:[kz,vy],styles:[""]}),t})(),Oa=(()=>{class t{constructor(){this.candidates=["A","B","C","D"],this.rankings=[["A","B","C","D"],["B","A","C","D"],["A","B","C","D"],["D","B","C","A"],["A","B","C","D"]],this.changesMade=new H}getCandidates(){return this.candidates}pushCandidate(n){this.candidates.push(n)}addCandidateToAllRankings(n){this.rankings.forEach(i=>i.push(n)),this.changesMade.next()}deleteCandidate(n){let i=this.candidates[n];this.candidates.splice(n,1),this.rankings.forEach(r=>r.splice(r.indexOf(i),1)),this.changesMade.next()}getCandidate(n){return this.candidates[n]}isValidCandidate(n){let i=""===n,r=this.candidates.includes(n),s=n.includes(",");return!(i||r||s)}updateCandidateName(n,i){let r=this.candidates[n];this.rankings.forEach(s=>s[s.indexOf(r)]=i),this.candidates[n]=i,this.changesMade.next()}getRankings(){return this.rankings}pushRanking(n){this.rankings.push(n),console.log(this.rankings),this.changesMade.next()}editRanking(n,i){this.rankings[n]=i,this.changesMade.next()}deleteRanking(n){this.rankings.splice(n,1),this.changesMade.next()}getRanking(n){return this.rankings[n]}isValidRanking(n){const i=this.sortStringArray(this.candidates.slice()),r=this.sortStringArray(n.slice());return this.arrayEquals(i,r)}validRankingSet(n){if(n.length<1)return!1;let i=this.sortStringArray(n[0]);for(let r of n)if(!this.arrayEquals(this.sortStringArray(r),i))return!1;return!0}constructRankings(n){this.candidates=this.sortStringArray(n[0]),this.rankings=this.deepCopy(n),this.changesMade.next()}sortStringArray(n){return n.slice().sort((i,r)=>i>r?1:i<r?-1:0)}arrayEquals(n,i){return n.length===i.length&&n.every((r,s)=>r===i[s])}deepCopy(n){return JSON.parse(JSON.stringify(n))}suffixIncluded(n){let i=n%10,r=n%100;return 1==i&&11!=r?n+"st":2==i&&12!=r?n+"nd":3==i&&13!=r?n+"rd":n+"th"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Xe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pz(t,e){if(1&t){const n=Il();he(0,"button",25),Zt("click",function(){return ur(n),wn().constructRankings()}),je(1,"Use rankings from file"),ce()}}function Nz(t,e){if(1&t){const n=Il();he(0,"div",9),he(1,"div",26),he(2,"input",27),Zt("ngModelChange",function(r){const o=ur(n).index;return wn().candidateStrings[o]=r})("blur",function(){const s=ur(n).index;return wn().checkEditedCandidate(s)}),ce(),ce(),he(3,"div",28),he(4,"button",29),Zt("click",function(){const s=ur(n).index;return wn().removeCandidate(s)}),ce(),ce(),ce()}if(2&t){const n=e.index,i=wn();et(2),un("ngModel",i.candidateStrings[n])}}function Fz(t,e){if(1&t){const n=Il();he(0,"div",30),he(1,"div",16),he(2,"label",17),je(3),ce(),ce(),he(4,"div",18),he(5,"input",31),Zt("ngModelChange",function(r){const o=ur(n).index;return wn().rankingStrings[o]=r})("blur",function(){const s=ur(n).index;return wn().checkEditedRanking(s)}),ce(),ce(),he(6,"div",16),he(7,"button",29),Zt("click",function(){const s=ur(n).index;return wn().removeRanking(s)}),ce(),ce(),ce()}if(2&t){const n=e.index,i=wn();et(3),hi(n+1),et(2),un("ngModel",i.rankingStrings[n])}}function Lz(t,e){if(1&t){const n=Il();(function(t,e,n){const i=Ee(),r=_t(),s=t+20,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=ls(s,i),g=fl(e,t,8,"ng-container",o);return null!==o&&Qh(g,o,!0),wg(e,n,g,ls(s,r)),null!==e.queries&&e.queries.elementStart(e,g),g}(s,r,i,e,n):r.data[s];dr(o,!0);const g=i[s]=i[11].createComment("");Wh(r,i,g,o),ui(g,i),Zo(o)&&(bg(r,i,o),w0(r,o,i)),null!=n&&Cg(i,o)})(0),he(1,"button",32),Zt("click",function(){const s=ur(n).$implicit;return wn().quickAdd(s)}),je(2),ce(),function(){let t=Pn();const e=_t();vu()?yu():(t=t.parent,dr(t,!1)),e.firstCreatePass&&(Ja(e,t),du(t)&&e.queries.elementEnd(t))}()}if(2&t){const n=e.$implicit;et(2),hi(n)}}let Vz=(()=>{class t{constructor(n){this.newCandidate="",this.newRanking="",this.candidateStrings=[],this.rankingStrings=[],this.candidates=[],this.rankings=[],this.fileToUpload=null,this.validFile=!1,this.rankingsFromFile=[],this.svc=n}ngOnInit(){this.candidates=this.svc.getCandidates(),this.rankings=this.svc.getRankings(),this.svc.changesMade.subscribe(()=>{this.candidates=this.svc.getCandidates(),this.rankings=this.svc.getRankings()}),this.candidateStrings=this.candidates.slice(),this.rankings.forEach(n=>this.rankingStrings.push(this.convertToString(n)))}trackByIndex(n,i){return n}addRanking(){let n=this.convertToArray(this.newRanking);console.log(n),this.svc.isValidRanking(n)&&this.addValidRanking(n)}addValidRanking(n){this.svc.pushRanking(n),this.rankingStrings.push(this.convertToString(n)),this.newRanking="",setTimeout(this.scrollToBottom,100)}checkEditedRanking(n){let i=this.convertToArray(this.rankingStrings[n]);this.svc.isValidRanking(i)&&this.svc.editRanking(n,i),this.rankingStrings[n]=this.convertToString(this.rankings[n])}removeRanking(n){this.svc.deleteRanking(n),this.rankingStrings.splice(n,1)}addCandidate(){this.svc.isValidCandidate(this.newCandidate)&&(this.svc.pushCandidate(this.newCandidate),this.candidateStrings.push(this.newCandidate),this.svc.addCandidateToAllRankings(this.newCandidate),this.newCandidate="",this.updateRankingStrings())}checkEditedCandidate(n){let i=this.candidateStrings[n];this.svc.isValidCandidate(i)&&this.svc.updateCandidateName(n,i),this.candidateStrings[n]=this.candidates[n],this.updateRankingStrings()}updateRankingStrings(){for(let n in this.rankings)this.rankingStrings[n]=this.convertToString(this.rankings[n])}removeCandidate(n){this.svc.deleteCandidate(n),this.candidateStrings.splice(n,1),this.updateRankingStrings()}quickAdd(n){let i=this.newRanking.trim();""===i||","===i.substr(i.length-1)?this.newRanking+=n:this.newRanking+=", "+n}addRandomRanking(){let n=this.candidates.slice(),i=this.shuffle(n);this.addValidRanking(i)}shuffle(n){let r,i=n.length;for(;0!=i;)r=Math.floor(Math.random()*i),i--,[n[i],n[r]]=[n[r],n[i]];return n}handleFileInput(){this.validFile=!1;let n=document.getElementById("formFile").files;if(null===n||(this.fileToUpload=n[0],void 0===this.fileToUpload||"txt"!==this.getFileType(this.fileToUpload.name)))return;let i=new FileReader;i.onload=()=>{this.rankingsFromFile=[];let r=i.result;"string"==typeof r&&this.processFile(r)},i.readAsText(this.fileToUpload)}processFile(n){let r=n.split("\n").map(s=>this.convertToArray(s));this.svc.validRankingSet(r)?(this.validFile=!0,this.rankingsFromFile=r):console.log("Invalid ranking set")}constructRankings(){this.svc.constructRankings(this.rankingsFromFile),this.candidateStrings=this.candidates.slice(),this.updateRankingStrings()}scrollToBottom(){var n=document.getElementById("inputScroll");n&&(n.scrollTop=n.scrollHeight)}getFileType(n){return n.split(".").pop()}convertToString(n){return n.join(", ")}convertToArray(n){let i=n.split(",");return i=i.map(r=>r.trim()),i}}return t.\u0275fac=function(n){return new(n||t)(xe(Oa))},t.\u0275cmp=yi({type:t,selectors:[["app-add-rankings"]],decls:42,vars:9,consts:[[1,"container","add-rankings-container"],[1,"row"],[1,"col-3"],[1,"row","rankings-upload-file"],["for","formFile",1,"form-label"],["type","file","id","formFile","accept",".txt",1,"form-control",3,"change"],["class","btn btn-secondary apply-file-btn",3,"click",4,"ngIf"],[1,"edit-candidates"],["class","candidate-input-list row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"candidate-input-list","row"],[1,"col-9"],["placeholder","Enter candidate",1,"new-candidate-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-secondary","new-candidate-btn",3,"click"],["id","inputScroll",1,"input-scroll"],["class","ranking-input-list row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ranking-input-list"],[1,"col-1"],[1,"ranking-input-label"],[1,"col-10"],["placeholder","Enter ranking",1,"new-ranking-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-secondary","new-ranking-btn",3,"click"],[1,"horizontal"],[4,"ngFor","ngForOf"],[1,"col-2"],[1,"btn","btn-secondary","new-random-btn",3,"click"],[1,"btn","btn-secondary","apply-file-btn",3,"click"],[1,"col-8"],["placeholder","Enter candidate",1,"candidate-input",3,"ngModel","ngModelChange","blur"],[1,"col-4"],["type","button","aria-label","Close",1,"btn-close","remove-ranking-btn",3,"click"],[1,"ranking-input-list","row"],["placeholder","Enter ranking",1,"ranking-input",3,"ngModel","ngModelChange","blur"],[1,"btn","btn-secondary","quick-add-btn",3,"click"]],template:function(n,i){1&n&&(he(0,"div",0),he(1,"div",1),he(2,"div",2),he(3,"div",3),he(4,"label",4),je(5,"Upload Rankings Data"),ce(),he(6,"input",5),Zt("change",function(){return i.handleFileInput()}),ce(),Yn(7,Pz,2,0,"button",6),ce(),Bi(8,"br"),he(9,"div",7),he(10,"h2"),je(11,"Candidates"),ce(),Yn(12,Nz,5,1,"div",8),he(13,"div",9),he(14,"div",10),he(15,"input",11),Zt("ngModelChange",function(s){return i.newCandidate=s})("keyup.enter",function(){return i.addCandidate()}),ce(),ce(),he(16,"div",2),he(17,"button",12),Zt("click",function(){return i.addCandidate()}),je(18,"ADD"),ce(),ce(),ce(),ce(),ce(),he(19,"div",10),he(20,"h2"),je(21,"Rankings"),ce(),he(22,"div",13),Yn(23,Fz,8,2,"div",14),ce(),he(24,"div",15),he(25,"div",1),he(26,"div",16),he(27,"label",17),je(28),ce(),ce(),he(29,"div",18),he(30,"input",19),Zt("ngModelChange",function(s){return i.newRanking=s})("keyup.enter",function(){return i.addRanking()}),ce(),ce(),he(31,"div",16),he(32,"button",20),Zt("click",function(){return i.addRanking()}),je(33,"ADD"),ce(),ce(),ce(),he(34,"div",1),Bi(35,"div",16),he(36,"div",10),he(37,"div",21),Yn(38,Lz,3,1,"ng-container",22),ce(),ce(),he(39,"div",23),he(40,"button",24),Zt("click",function(){return i.addRandomRanking()}),je(41,"ADD random"),ce(),ce(),ce(),ce(),ce(),ce(),ce()),2&n&&(et(7),un("ngIf",i.validFile),et(5),un("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),et(3),un("ngModel",i.newCandidate),et(8),un("ngForOf",i.rankings)("ngForTrackBy",i.trackByIndex),et(5),hi(i.rankings.length+1),et(2),un("ngModel",i.newRanking),et(8),un("ngForOf",i.candidates))},directives:[Yc,ya,_d,Iv,uf],styles:[".add-rankings-container[_ngcontent-%COMP%]{padding:0}.rankings-upload-file[_ngcontent-%COMP%]{padding:10px}.ranking-input[_ngcontent-%COMP%], .candidate-input[_ngcontent-%COMP%]{padding:10px;background-color:#e7e7e7;border:none;font-size:20px;width:100%}.ranking-input[_ngcontent-%COMP%]:focus, .candidate-input[_ngcontent-%COMP%]:focus{background-color:#fff}.new-ranking-input[_ngcontent-%COMP%], .new-candidate-input[_ngcontent-%COMP%]{padding:10px;font-size:20px;width:100%}.new-ranking-btn[_ngcontent-%COMP%], .new-candidate-btn[_ngcontent-%COMP%]{padding:8px;margin:5px}.new-random-btn[_ngcontent-%COMP%]{float:right;padding:8px;margin:5px}.apply-file-btn[_ngcontent-%COMP%]{padding:5px;margin:10px 0}.remove-ranking-btn[_ngcontent-%COMP%]{margin:10px}.ranking-input-label[_ngcontent-%COMP%]{padding:10px;font-size:20px}.ranking-input-list[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:3px 10px;margin:4px;border-radius:6px}.edit-candidates[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:30px;border-radius:6px}.quick-add-btn[_ngcontent-%COMP%]{padding:0 10px;margin:15px 10px 5px}.input-scroll[_ngcontent-%COMP%]{overflow:auto;max-height:75vh}"]}),t})(),Bz=(()=>{class t{constructor(n){this.candidates=[],this.rankings=[],this.svc=n}ngOnInit(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.svc.changesMade.subscribe(()=>{this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates()})}}return t.\u0275fac=function(n){return new(n||t)(xe(Oa))},t.\u0275cmp=yi({type:t,selectors:[["app-ranking-offcanvas"]],decls:11,vars:2,consts:[[1,"offcanvas-button"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasRight","aria-controls","offcanvasRight",1,"btn","btn-secondary"],["tabindex","-1","id","offcanvasRight","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"]],template:function(n,i){1&n&&(he(0,"div",0),he(1,"button",1),he(2,"h4"),je(3,"EDIT"),ce(),he(4,"div"),je(5),ce(),ce(),ce(),he(6,"div",2),he(7,"div",3),Bi(8,"button",4),ce(),he(9,"div",5),Bi(10,"app-add-rankings"),ce(),ce()),2&n&&(et(5),rc("",i.candidates.length," candidates, ",i.rankings.length," rankings"))},directives:[Vz],styles:[".offcanvas-button[_ngcontent-%COMP%]{float:right;margin:0 0 20px}"]}),t})();const Hz=["*"];let Gf=(()=>{class t{constructor(){this.title=""}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=yi({type:t,selectors:[["app-alg"]],inputs:{title:"title"},ngContentSelectors:Hz,decls:7,vars:1,consts:[[1,"d-flex"],[1,"me-auto","p-2"],[1,"p-2"]],template:function(n,i){1&n&&(function(t){const e=Ee()[16][6];if(!e.projection){const i=e.projection=Co(t?t.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=t?VI(s,t):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),he(0,"div",0),he(1,"div",1),he(2,"h1"),je(3),ce(),ce(),he(4,"div",2),Bi(5,"app-ranking-offcanvas"),ce(),ce(),function(t,e=0,n){const i=Ee(),r=_t(),s=fl(r,20+t,16,null,n||null);null===s.projection&&(s.projection=e),yu(),64!=(64&s.flags)&&function(t,e,n){n0(e[11],0,e,n,$b(t,n,e),Zb(n.parent||e[6],n,e))}(r,i,s)}(6)),2&n&&(et(3),hi(i.title))},directives:[Bz],styles:[""]}),t})();function zz(t,e){if(1&t&&(he(0,"th",7),je(1),ce()),2&t){const n=e.index,i=wn();et(1),mr(" ",i.svc.suffixIncluded(n+1)," choice")}}function Uz(t,e){if(1&t&&(he(0,"td"),je(1),ce()),2&t){const n=e.index,i=wn().$implicit,r=wn();et(1),rc(" ",r.bordaCount[i][n]," (",r.getPoints(i,n)," points) ")}}function jz(t,e){if(1&t&&(he(0,"tr"),he(1,"th",8),je(2),ce(),Yn(3,Uz,2,2,"td",4),he(4,"th"),je(5),ce(),ce()),2&t){const n=e.$implicit,i=wn();et(2),hi(n),et(1),un("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),et(2),hi(i.getTotal(n))}}function Wz(t,e){if(1&t&&(he(0,"div"),je(1),ce()),2&t){const n=wn().index,i=wn();et(1),mr(" ",i.svc.suffixIncluded(n+1)," ")}}function Gz(t,e){1&t&&je(0," = ")}function $z(t,e){if(1&t&&(he(0,"tr"),he(1,"th",8),Yn(2,Wz,2,1,"div",9),Yn(3,Gz,1,0,"ng-template",null,10,_m),ce(),he(5,"td"),je(6),ce(),he(7,"th"),je(8),ce(),ce()),2&t){const n=e.$implicit,i=e.index,r=Lg(4),s=wn();et(2),un("ngIf",s.isUniqueRank(i))("ngIfElse",r),et(4),hi(n[0]),et(2),hi(n[1])}}let Yz=(()=>{class t{constructor(n){this.candidates=[],this.rankings=[],this.bordaCount={},this.bordaTotals=[],this.svc=n}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.borda()}trackByIndex(n,i){return n}borda(){this.resetBordaArray();for(let n of this.rankings)for(let i=0;i<n.length;i++)this.bordaCount[n[i]][i]+=1;this.setTotals()}getPoints(n,i){return this.bordaCount[n][i]*(this.candidates.length-1-i)}getTotal(n){let i=0;for(let r=0;r<this.candidates.length;r++)i+=this.getPoints(n,r);return i}setTotals(){this.bordaTotals=[];for(let n of this.candidates)this.bordaTotals.push([n,this.getTotal(n)]);this.bordaTotals.sort((n,i)=>i[1]-n[1]),console.log(this.bordaTotals)}resetBordaArray(){this.bordaCount={};for(let n of this.candidates){let i=[];for(let r in this.candidates)i.push(0);this.bordaCount[n]=i}}isUniqueRank(n){return 0==n||this.bordaTotals[n-1][1]!==this.bordaTotals[n][1]}}return t.\u0275fac=function(n){return new(n||t)(xe(Oa))},t.\u0275cmp=yi({type:t,selectors:[["app-borda"]],decls:25,vars:6,consts:[["title","Borda Count"],[1,"borda-table"],[1,"table","table-striped"],["scope","col",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-3"],[1,"results-table","table","table-striped"],["scope","col"],["scope","row"],[4,"ngIf","ngIfElse"],["showEqual",""]],template:function(n,i){1&n&&(he(0,"app-alg",0),he(1,"div",1),he(2,"table",2),he(3,"thead"),he(4,"tr"),Bi(5,"th"),Yn(6,zz,2,1,"th",3),he(7,"th"),je(8,"Total"),ce(),ce(),ce(),he(9,"tbody"),Yn(10,jz,6,4,"tr",4),ce(),ce(),ce(),he(11,"h2"),je(12,"Results"),ce(),he(13,"div",5),he(14,"table",6),he(15,"thead"),he(16,"tr"),he(17,"th",7),je(18,"Rank"),ce(),he(19,"th",7),je(20,"Candidate"),ce(),he(21,"th",7),je(22,"Points"),ce(),ce(),ce(),he(23,"tbody"),Yn(24,$z,9,4,"tr",4),ce(),ce(),ce(),ce()),2&n&&(et(6),un("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),et(4),un("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),et(14),un("ngForOf",i.bordaTotals)("ngForTrackBy",i.trackByIndex))},directives:[Gf,ya,Yc],styles:[".borda-table[_ngcontent-%COMP%]{margin:40px}.results-table[_ngcontent-%COMP%]{margin:40px}h1[_ngcontent-%COMP%]{float:left}"]}),t})();function Kz(t,e){if(1&t&&(he(0,"div",12),je(1),ce()),2&t){const n=e.$implicit;et(1),hi(n)}}function Xz(t,e){if(1&t&&(he(0,"div",12),je(1),ce()),2&t){const n=e.$implicit;et(1),hi(n)}}function Zz(t,e){if(1&t){const n=Il();he(0,"div"),je(1),he(2,"button",13),Zt("click",function(){const s=ur(n).$implicit;return wn().removeCandidate(s)}),je(3,"Remove"),ce(),ce()}if(2&t){const n=e.$implicit;et(1),mr(" ",n," ")}}let Qz=(()=>{class t{constructor(){this.ranking1=["Candidate A","Candidate B","Candidate C","Candidate D","Candidate E"],this.ranking2=["Candidate C","Candidate E","Candidate A","Candidate D","Candidate B"],this.newCandidate=""}ngOnInit(){}kendall(n,i){length=n.length;let r,s,g,k,o=0;for(r=0;r<length;r++)for(s=r+1;s<length;s++){let F=n[r],j=n[s];g=n.indexOf(F)<n.indexOf(j)&&i.indexOf(F)>i.indexOf(j),k=n.indexOf(F)>n.indexOf(j)&&i.indexOf(F)<i.indexOf(j),(g||k)&&o++}return o}addCandidate(){""!=this.newCandidate&&-1==this.ranking1.indexOf(this.newCandidate)&&(this.ranking1.push(this.newCandidate),this.ranking2.push(this.newCandidate),this.newCandidate="")}removeCandidate(n){let i=this.ranking1.indexOf(n);-1!==i&&this.ranking1.splice(i,1),i=this.ranking2.indexOf(n),-1!==i&&this.ranking2.splice(i,1)}getSortedCandidates(){return this.ranking1.slice().sort((n,i)=>n>i?1:n<i?-1:0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=yi({type:t,selectors:[["app-kendall"]],decls:30,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-m-6","ranking-area"],[1,"row","justify-content-center"],[1,"list-group","col-xs-6",3,"sortablejs"],["class","kendall-option btn btn-light",4,"ngFor","ngForOf"],["type","button","data-toggle","collapse","data-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-primary"],["id","collapseExample",1,"collapse"],[1,"card","card-body"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"click"],[1,"kendall-option","btn","btn-light"],[1,"btn","btn-danger",3,"click"]],template:function(n,i){1&n&&(he(0,"h2"),je(1,"Kendall Distance"),ce(),he(2,"div",0),he(3,"div",1),he(4,"div",2),he(5,"div",1),je(6," Ranking 1 "),ce(),he(7,"div",3),he(8,"div",4),Yn(9,Kz,2,1,"div",5),ce(),ce(),ce(),he(10,"div",2),he(11,"div",1),je(12," Ranking 2 "),ce(),he(13,"div",3),he(14,"div",4),Yn(15,Xz,2,1,"div",5),ce(),ce(),ce(),ce(),he(16,"div",1),je(17),ce(),Bi(18,"br"),he(19,"div",1),he(20,"p"),he(21,"button",6),je(22," Edit Candidates "),ce(),ce(),he(23,"div",7),he(24,"div",8),Yn(25,Zz,4,1,"div",9),he(26,"div"),he(27,"input",10),Zt("ngModelChange",function(s){return i.newCandidate=s})("keyup.enter",function(){return i.addCandidate()}),ce(),he(28,"button",11),Zt("click",function(){return i.addCandidate()}),je(29,"Add"),ce(),ce(),ce(),ce(),ce(),ce()),2&n&&(et(8),un("sortablejs",i.ranking1),et(1),un("ngForOf",i.ranking1),et(5),un("sortablejs",i.ranking2),et(1),un("ngForOf",i.ranking2),et(2),mr(" Kendall distance: ",i.kendall(i.ranking1,i.ranking2)," "),et(8),un("ngForOf",i.getSortedCandidates()),et(2),un("ngModel",i.newCandidate))},directives:[Iz,ya,_d,Iv,uf],styles:[".kendall-option[_ngcontent-%COMP%]{cursor:pointer;padding:0 10px}.ranking-area[_ngcontent-%COMP%]{padding:30px}"]}),t})();var zy=L(21);const Jz=["majority"];function qz(t,e){if(1&t&&(he(0,"div"),he(1,"b"),je(2),ce(),ce()),2&t){const n=e.$implicit;et(2),hi(n)}}let eU=(()=>{class t{constructor(n){this.candidates=[],this.rankings=[],this.legend=["Scroll to zoom","Drag to move canvas","Drag to move nodes"],this.majorityGraphOptions={layout:{improvedLayout:!0,hierarchical:{enabled:!1,nodeSpacing:300}},edges:{arrows:{to:!0},smooth:{enabled:!0,type:"continuous",roundness:0}},interaction:{hover:!0,dragView:!0,zoomView:!0},manipulation:{enabled:!1},physics:!1},this.svc=n}ngOnInit(){}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.constructMajority()}ngAfterViewInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}constructMajority(){let n,i=0;const r=this.candidates.length;let s=[],o=[];for(let k=0;k<r;k++)o.push(new Array(r).fill(0));for(let k of this.rankings){let F=k.map(j=>this.candidates.indexOf(j));s.push(F)}for(let k of s)for(n=0;n<r;n++)for(i=n+1;i<r;i++)o[k[n]][k[i]]++;let g=[];for(n=0;n<r;n++)for(i=n+1;i<r;i++){let k=o[n][i]-o[i][n];k>0?g.push([n,i]):k<0&&g.push([i,n])}this.constructMajorityGraph(g)}constructMajorityGraph(n){let i=this.candidates.map(s=>({id:this.candidates.indexOf(s),label:s}));this.nodes=new zy.DataSet(i);let r=n.map(s=>({from:s[0],to:s[1]}));this.edges=new zy.DataSet(r),this.drawGraph(this.nodes,this.edges)}drawGraph(n,i){this.networkInstance=new zy.Network(this.el.nativeElement,{nodes:n,edges:i},this.majorityGraphOptions),this.networkInstance.on("click",this.onClickCanvas)}onClickCanvas(n){n.nodes.length<=0||(console.log(n.nodes[0]),console.log(n.edges))}}return t.\u0275fac=function(n){return new(n||t)(xe(Oa))},t.\u0275cmp=yi({type:t,selectors:[["app-topological"]],viewQuery:function(n,i){if(1&n&&function(t,e,n){const i=_t();i.firstCreatePass&&(UD(i,new VD(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),zD(i,Ee(),e)}(Jz,5),2&n){let r;bc(r=Cc())&&(i.el=r.first)}},decls:6,vars:1,consts:[["title","Topological Ordering"],[1,"graph-canvas"],[1,"majority-graph"],["majority",""],[1,"legend"],[4,"ngFor","ngForOf"]],template:function(n,i){1&n&&(he(0,"app-alg",0),he(1,"div",1),Bi(2,"div",2,3),he(4,"div",4),Yn(5,qz,3,1,"div",5),ce(),ce(),ce()),2&n&&(et(5),un("ngForOf",i.legend))},directives:[Gf,ya],styles:[".majority-graph[_ngcontent-%COMP%]{height:60%;width:100%;box-shadow:0 0 15px;border-radius:5px;position:absolute}.graph-canvas[_ngcontent-%COMP%]{height:800px;width:100%;position:relative}.legend[_ngcontent-%COMP%]{z-index:-1;position:absolute;top:0;right:0;padding:10px;text-align:end}"]}),t})();function tU(t,e){if(1&t&&(he(0,"div"),je(1),ce()),2&t){const n=wn().index,i=wn();et(1),mr(" ",i.svc.suffixIncluded(n+1)," ")}}function nU(t,e){1&t&&je(0," = ")}function iU(t,e){if(1&t&&(he(0,"tr"),he(1,"th",5),Yn(2,tU,2,1,"div",6),Yn(3,nU,1,0,"ng-template",null,7,_m),ce(),he(5,"td"),je(6),ce(),he(7,"th"),je(8),ce(),he(9,"th"),je(10),ce(),ce()),2&t){const n=e.$implicit,i=e.index,r=Lg(4),s=wn();et(2),un("ngIf",s.isUniqueRank(i))("ngIfElse",r),et(4),hi(n[0]),et(2),hi(n[1]),et(2),mr("",s.round(n[1]/s.rankings.length*1e3)/10,"%")}}let rU=(()=>{class t{constructor(n){this.totals=[],this.candidates=[],this.rankings=[],this.svc=n}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.plurality()}trackByIndex(n,i){return n}plurality(){this.resetTotals();let n={};this.candidates.forEach(i=>n[i]=0),this.rankings.forEach(i=>n[i[0]]++),this.candidates.forEach(i=>this.totals.push([i,n[i]])),this.totals.sort((i,r)=>r[1]-i[1])}resetTotals(){this.totals=[]}isUniqueRank(n){return 0==n||this.totals[n-1][1]!==this.totals[n][1]}round(n){return Math.round(n)}}return t.\u0275fac=function(n){return new(n||t)(xe(Oa))},t.\u0275cmp=yi({type:t,selectors:[["app-plurality"]],decls:17,vars:2,consts:[["title","Plurality (First Past The Post)"],[1,"col-4"],[1,"results-table","table","table-striped"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row"],[4,"ngIf","ngIfElse"],["showEqual",""]],template:function(n,i){1&n&&(he(0,"app-alg",0),he(1,"h2"),je(2,"Results"),ce(),he(3,"div",1),he(4,"table",2),he(5,"thead"),he(6,"tr"),he(7,"th",3),je(8,"Rank"),ce(),he(9,"th",3),je(10,"Candidate"),ce(),he(11,"th",3),je(12,"Votes"),ce(),he(13,"th",3),je(14,"Percentage of votes"),ce(),ce(),ce(),he(15,"tbody"),Yn(16,iU,11,5,"tr",4),ce(),ce(),ce(),ce()),2&n&&(et(16),un("ngForOf",i.totals)("ngForTrackBy",i.trackByIndex))},directives:[Gf,ya,Yc],styles:[""]}),t})();function sU(t,e){if(1&t&&(he(0,"tr"),he(1,"th",5),je(2),ce(),he(3,"td"),je(4),ce(),ce()),2&t){const n=e.$implicit,i=e.index,r=wn();et(2),mr(" ",r.svc.suffixIncluded(i+1)," "),et(2),hi(n)}}let oU=(()=>{class t{constructor(n){this.candidates=[],this.rankings=[],this.kemenyConsensus=[],this.kemenyScore=0,this.svc=n}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}trackByIndex(n,i){return n}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.kemeny()}kemeny(){let r,n=this.constructQ(),i=L(328),s=[],o=this.candidates.length,g="min:";for(let F=0;F<o;F++)for(let j=0;j<o;j++)F!=j&&(g+=` +${n[F][j]} x${j}_${F}`);s.push(g);for(let F=0;F<o;F++)for(let j=0;j<o;j++)F!=j&&s.push(`0 <= x${F}_${j} <= 1`);for(let F=0;F<o;F++)for(let j=F+1;j<o;j++)s.push(`x${F}_${j} + x${j}_${F} = 1`);for(let F=0;F<o;F++)for(let j=0;j<o;j++)for(let W=0;W<o;W++)F!=j&&F!=W&&j!=W&&s.push(`x${F}_${j} + x${j}_${W} + x${W}_${F} >= 1`);for(let F=0;F<o;F++)for(let j=0;j<o;j++)F!=j&&s.push(`int x${F}_${j}`);s=i.ReformatLP(s),r=i.Solve(s),console.log(r);let k=new Array(o).fill(0);for(let F of Object.keys(r))if("x"===F[0]){let j=F.slice(1).split("_");k[+j[0]]+=1}this.kemenyConsensus=this.candidates.slice(),this.kemenyConsensus=this.kemenyConsensus.sort((F,j)=>k[this.candidates.indexOf(j)]-k[this.candidates.indexOf(F)]),this.kemenyScore=r.result}constructQ(){let n,i=0;const r=this.candidates.length;let s=[],o=[];for(let g=0;g<r;g++)o.push(new Array(r).fill(0));for(let g of this.rankings){let k=g.map(F=>this.candidates.indexOf(F));s.push(k)}for(let g of s)for(n=0;n<r;n++)for(i=n+1;i<r;i++)o[g[n]][g[i]]++;return o}round(n){return Math.round(n)}}return t.\u0275fac=function(n){return new(n||t)(xe(Oa))},t.\u0275cmp=yi({type:t,selectors:[["app-kemeny"]],decls:17,vars:4,consts:[["title","Kemeny Consensus"],[1,"col-4"],[1,"results-table","table","table-striped"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row"]],template:function(n,i){1&n&&(he(0,"app-alg",0),he(1,"h2"),je(2,"Results"),ce(),he(3,"div",1),he(4,"table",2),he(5,"thead"),he(6,"tr"),he(7,"th",3),je(8,"Rank"),ce(),he(9,"th",3),je(10,"Candidate"),ce(),ce(),ce(),he(11,"tbody"),Yn(12,sU,5,2,"tr",4),ce(),ce(),ce(),he(13,"h2"),je(14),ce(),he(15,"h4"),je(16),ce(),ce()),2&n&&(et(12),un("ngForOf",i.kemenyConsensus)("ngForTrackBy",i.trackByIndex),et(2),mr("Ranking Score: ",i.kemenyScore," "),et(2),mr("(avg. distance = ",i.round(i.kemenyScore/i.rankings.length*10)/10,")"))},directives:[Gf,ya],styles:[""]}),t})(),aU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yi({type:t,bootstrap:[Rz]}),t.\u0275inj=hn({providers:[Oa],imports:[[d2,VH.forRoot([{path:"kendall",component:Qz},{path:"borda",component:Yz},{path:"topological",component:eU},{path:"plurality",component:rU},{path:"kemeny",component:oU}]),Az.forRoot({animation:150}),hV]]}),t})();(function(){if(gE)throw new Error("Cannot enable prod mode after platform setup.");pE=!1})(),l2().bootstrapModule(aU).catch(t=>console.error(t))},22:()=>{},890:()=>{}},Dt=>{Dt(Dt.s=245)}]);