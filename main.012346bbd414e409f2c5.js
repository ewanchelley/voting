var PG=Object.defineProperty,RG=Object.defineProperties,NG=Object.getOwnPropertyDescriptors,K1=Object.getOwnPropertySymbols,FG=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,Q1=(ut,Q,L)=>Q in ut?PG(ut,Q,{enumerable:!0,configurable:!0,writable:!0,value:L}):ut[Q]=L,Wr=(ut,Q)=>{for(var L in Q||(Q={}))FG.call(Q,L)&&Q1(ut,L,Q[L]);if(K1)for(var L of K1(Q))LG.call(Q,L)&&Q1(ut,L,Q[L]);return ut},Uu=(ut,Q)=>RG(ut,NG(Q));(self.webpackChunkvoting=self.webpackChunkvoting||[]).push([[179],{255:ut=>{function Q(L){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+L+"'");throw _.code="MODULE_NOT_FOUND",_})}Q.keys=()=>[],Q.resolve=Q,Q.id=255,ut.exports=Q},635:ut=>{ut.exports=function(_){return _.length?function(_){var P={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},y={opType:"",optimize:"_obj",constraints:{},variables:{}},S={">=":"min","<=":"max","=":"equal"},D="",A=null,x="",k="",b="",w=0;"string"==typeof _&&(_=_.split("\n"));for(var v=0;v<_.length;v++)if(b="__"+v,A=null,P.is_objective.test(D=_[v]))y.opType=D.match(/(max|min)/gi)[0],(A=D.match(P.parse_lhs).map(function(T){return T.replace(/\s+/,"")}).slice(1)).forEach(function(T){x=null===(x=T.match(P.get_num))?"-"===T.substr(0,1)?-1:1:x[0],x=parseFloat(x),k=T.match(P.get_word)[0].replace(/\;$/,""),y.variables[k]=y.variables[k]||{},y.variables[k]._obj=x});else if(P.is_int.test(D))A=D.match(P.parse_int).slice(1),y.ints=y.ints||{},A.forEach(function(T){T=T.replace(";",""),y.ints[T]=1});else if(P.is_bin.test(D))A=D.match(P.parse_bin).slice(1),y.binaries=y.binaries||{},A.forEach(function(T){T=T.replace(";",""),y.binaries[T]=1});else if(P.is_constraint.test(D)){var m=D.indexOf(":");(A=(-1===m?D:D.slice(m+1)).match(P.parse_lhs).map(function(T){return T.replace(/\s+/,"")})).forEach(function(T){x=null===(x=T.match(P.get_num))?"-"===T.substr(0,1)?-1:1:x[0],x=parseFloat(x),k=T.match(P.get_word)[0],y.variables[k]=y.variables[k]||{},y.variables[k][b]=x}),w=parseFloat(D.match(P.parse_rhs)[0]),D=S[D.match(P.parse_dir)[0]],y.constraints[b]=y.constraints[b]||{},y.constraints[b][D]=w}else P.is_unrestricted.test(D)&&(A=D.match(P.parse_int).slice(1),y.unrestricted=y.unrestricted||{},A.forEach(function(T){T=T.replace(";",""),y.unrestricted[T]=1}));return y}(_):function(_){if(!_)throw new Error("Solver requires a model to operate on");var P="",D={max:"<=",min:">=",equal:"="},O=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(_.opType)for(var A in P+=_.opType+":",_.variables)_.variables[A][A]=_.variables[A][A]?_.variables[A][A]:1,_.variables[A][_.optimize]&&(P+=" "+_.variables[A][_.optimize]+" "+A.replace(O,"_"));else P+="max:";for(var x in P+=";\n\n",_.constraints)for(var k in _.constraints[x])if(void 0!==D[k]){for(var b in _.variables)void 0!==_.variables[b][x]&&(P+=" "+_.variables[b][x]+" "+b.replace(O,"_"));P+=" "+D[k]+" "+_.constraints[x][k],P+=";\n"}if(_.ints)for(var w in P+="\n\n",_.ints)P+="int "+w.replace(O,"_")+";\n";if(_.unrestricted)for(var v in P+="\n\n",_.unrestricted)P+="unrestricted "+v.replace(O,"_")+";\n";return P}(_)}},495:(ut,Q,L)=>{function _(P){return(P=(P=P.replace("\\r\\n","\r\n")).split("\r\n")).filter(function(y){var S;return!(!0===(S=new RegExp(" 0$","gi")).test(y)||(S=new RegExp("\\d$","gi"),!1===S.test(y)))}).map(function(y){return y.split(/\:{0,1} +(?=\d)/)}).reduce(function(y,S,D){return y[S[0]]=S[1],y},{})}Q.reformat=L(635),Q.solve=function(P){return new Promise(function(y,S){"undefined"!=typeof window&&S("Function Not Available in Browser");var D=L(635)(P);P.external||S("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),P.external.binPath||S("No Executable | Binary path provided in arguments as 'binPath'"),P.external.args||S("No arguments array for cli | bash provided on 'args' attribute"),P.external.tempName||S("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),L(890).writeFile(P.external.tempName,D,function(A,x){if(A)S(A);else{var k=L(22).execFile;P.external.args.push(P.external.tempName),k(P.external.binPath,P.external.args,function(b,w){b?1===b.code?y(_(w)):S({code:b.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[b.code],data:w}):y(_(w))})}})})}},636:(ut,Q,L)=>{ut.exports={lpsolve:L(495)}},595:(ut,Q,L)=>{var _=L(982),y=(L(96),L(413)),S=y.Constraint,D=y.Equality,O=y.Variable,A=y.IntegerVariable;function k(b,w){this.tableau=new _(b),this.name=w,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}ut.exports=k,k.prototype.minimize=function(){return this.isMinimization=!0,this},k.prototype.maximize=function(){return this.isMinimization=!1,this},k.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var b=this.lastElementIndex;return this.lastElementIndex+=1,b},k.prototype._addConstraint=function(b){var w=b.slack;this.tableau.variablesPerIndex[w.index]=w,this.constraints.push(b),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(b)},k.prototype.smallerThan=function(b){var w=new S(b,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(w),w},k.prototype.greaterThan=function(b){var w=new S(b,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(w),w},k.prototype.equal=function(b){var w=new S(b,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(w);var v=new S(b,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(v),new D(w,v)},k.prototype.addVariable=function(b,w,v,m,c){if("string"==typeof c)switch(c){case"required":c=0;break;case"strong":c=1;break;case"medium":c=2;break;case"weak":c=3;break;default:c=0}var a,T=this.tableau.getNewElementIndex();return null==w&&(w="v"+T),null==b&&(b=0),null==c&&(c=0),v?(a=new A(w,b,T,c),this.integerVariables.push(a)):a=new O(w,b,T,c),this.variables.push(a),this.tableau.variablesPerIndex[T]=a,m&&(this.unrestrictedVariables[T]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(a),a},k.prototype._removeConstraint=function(b){var w=this.constraints.indexOf(b);-1!==w?(this.constraints.splice(w,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(b),b.relaxation&&this.removeVariable(b.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},k.prototype.removeConstraint=function(b){return b.isEquality?(this._removeConstraint(b.upperBound),this._removeConstraint(b.lowerBound)):this._removeConstraint(b),this},k.prototype.removeVariable=function(b){var w=this.variables.indexOf(b);if(-1!==w)return this.variables.splice(w,1),!0===this.tableauInitialized&&this.tableau.removeVariable(b),this;console.warn("[Model.removeVariable] Variable not present in model")},k.prototype.updateRightHandSide=function(b,w){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(b,w),this},k.prototype.updateConstraintCoefficient=function(b,w,v){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(b,w,v),this},k.prototype.setCost=function(b,w){var v=b-w.cost;return!1===this.isMinimization&&(v=-v),w.cost=b,this.tableau.updateCost(w,v),this},k.prototype.loadJson=function(b){this.isMinimization="max"!==b.opType;for(var w=b.variables,v=b.constraints,m={},c={},T=Object.keys(v),a=T.length,p=0;p<a;p+=1){var E,I,d=T[p],u=v[d],g=u.equal,M=u.weight,h=u.priority,f=void 0!==M||void 0!==h;if(void 0===g){var F=u.min;void 0!==F&&(E=this.greaterThan(F),m[d]=E,f&&E.relax(M,h));var V=u.max;void 0!==V&&(I=this.smallerThan(V),c[d]=I,f&&I.relax(M,h))}else{E=this.greaterThan(g),m[d]=E,I=this.smallerThan(g),c[d]=I;var z=new D(E,I);f&&z.relax(M,h)}}var U=Object.keys(w),j=U.length;this.tolerance=b.tolerance||0,b.timeout&&(this.timeout=b.timeout),b.options&&(b.options.timeout&&(this.timeout=b.options.timeout),0===this.tolerance&&(this.tolerance=b.options.tolerance||0),b.options.useMIRCuts&&(this.useMIRCuts=b.options.useMIRCuts),this.checkForCycles=void 0===b.options.exitOnCycles||b.options.exitOnCycles);for(var K=b.ints||{},te=b.binaries||{},oe=b.unrestricted||{},le=b.optimize,pe=0;pe<j;pe+=1){var Ee=U[pe],Ce=w[Ee],ge=!!te[Ee],be=this.addVariable(Ce[le]||0,Ee,!!K[Ee]||ge,!!oe[Ee]);ge&&this.smallerThan(1).addTerm(1,be);var Oe=Object.keys(Ce);for(p=0;p<Oe.length;p+=1){var Ie=Oe[p];if(Ie!==le){var xe=Ce[Ie],Be=m[Ie];void 0!==Be&&Be.addTerm(xe,be);var ze=c[Ie];void 0!==ze&&ze.addTerm(xe,be)}}}return this},k.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},k.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},k.prototype.isFeasible=function(){return this.tableau.feasible},k.prototype.save=function(){return this.tableau.save()},k.prototype.restore=function(){return this.tableau.restore()},k.prototype.activateMIRCuts=function(b){this.useMIRCuts=b},k.prototype.debug=function(b){this.checkForCycles=b},k.prototype.log=function(b){return this.tableau.log(b)}},813:ut=>{ut.exports=function(Q,L){var S,b,w,v,m,_=L.optimize,P=JSON.parse(JSON.stringify(L.optimize)),y=Object.keys(L.optimize),D=0,O={},A="",x={},k=[];for(delete L.optimize,b=0;b<y.length;b++)P[y[b]]=0;for(b=0;b<y.length;b++){for(m in L.optimize=y[b],L.opType=_[y[b]],S=Q.Solve(L,void 0,void 0,!0),y)if(!L.variables[y[m]])for(v in S[y[m]]=S[y[m]]?S[y[m]]:0,L.variables)L.variables[v][y[m]]&&S[v]&&(S[y[m]]+=S[v]*L.variables[v][y[m]]);for(A="base",w=0;w<y.length;w++)A+=S[y[w]]?"-"+(1e3*S[y[w]]|0)/1e3:"-0";if(!O[A]){for(O[A]=1,D++,w=0;w<y.length;w++)S[y[w]]&&(P[y[w]]+=S[y[w]]);delete S.feasible,delete S.result,k.push(S)}}for(b=0;b<y.length;b++)L.constraints[y[b]]={equal:P[y[b]]/D};for(b in L.optimize="cheater-"+Math.random(),L.opType="max",L.variables)L.variables[b].cheater=1;for(b in k)for(v in k[b])x[v]=x[v]||{min:1e99,max:-1e99};for(b in x)for(v in k)k[v][b]?(k[v][b]>x[b].max&&(x[b].max=k[v][b]),k[v][b]<x[b].min&&(x[b].min=k[v][b])):(k[v][b]=0,x[b].min=0);return{midpoint:S=Q.Solve(L,void 0,void 0,!0),vertices:k,ranges:x}}},258:(ut,Q,L)=>{var _=L(212);function P(y,S,D,O,A){_.call(this,y,S,D,O),this.iter=A}ut.exports=P,P.prototype=Object.create(_.prototype),P.constructor=P},212:ut=>{function Q(L,_,P,y){this.feasible=P,this.evaluation=_,this.bounded=y,this._tableau=L}ut.exports=Q,Q.prototype.generateSolutionSet=function(){for(var L={},_=this._tableau,P=_.varIndexByRow,y=_.variablesPerIndex,S=_.matrix,D=_.rhsColumn,O=_.height-1,A=Math.round(1/_.precision),x=1;x<=O;x+=1){var b=y[P[x]];void 0!==b&&!0!==b.isSlack&&(L[b.id]=Math.round((Number.EPSILON+S[x][D])*A)/A)}return L}},982:(ut,Q,L)=>{var _=L(212),P=L(258);function y(D){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=D||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function S(D,O){this.priority=D,this.reducedCosts=new Array(O);for(var A=0;A<O;A+=1)this.reducedCosts[A]=0}ut.exports=y,y.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},S.prototype.copy=function(){var D=new S(this.priority,this.reducedCosts.length);return D.reducedCosts=this.reducedCosts.slice(),D},y.prototype.setOptionalObjective=function(D,O,A){var x=this.objectivesByPriority[D];void 0===x&&(x=new S(D,Math.max(this.width,O+1)),this.objectivesByPriority[D]=x,this.optionalObjectives.push(x),this.optionalObjectives.sort(function(b,w){return b.priority-w.priority})),x.reducedCosts[O]=A},y.prototype.initialize=function(D,O,A,x){this.variables=A,this.unrestrictedVars=x,this.width=D,this.height=O;for(var k=new Array(D),b=0;b<D;b++)k[b]=0;this.matrix=new Array(O);for(var w=0;w<O;w++)this.matrix[w]=k.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=D+O-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},y.prototype._resetMatrix=function(){var k,b,D=this.model.variables,O=this.model.constraints,A=D.length,x=O.length,w=this.matrix[0],v=!0===this.model.isMinimization?-1:1;for(k=0;k<A;k+=1){var m=D[k],c=m.priority,T=v*m.cost;0===c?w[k+1]=T:this.setOptionalObjective(c,k+1,T),this.rowByVarIndex[b=D[k].index]=-1,this.colByVarIndex[b]=k+1,this.varIndexByCol[k+1]=b}for(var a=1,p=0;p<x;p+=1){var d=O[p],u=d.index;this.rowByVarIndex[u]=a,this.colByVarIndex[u]=-1,this.varIndexByRow[a]=u;var g,M,f=d.terms,E=f.length,I=this.matrix[a++];if(d.isUpperBound){for(g=0;g<E;g+=1)I[this.colByVarIndex[(M=f[g]).variable.index]]=M.coefficient;I[0]=d.rhs}else{for(g=0;g<E;g+=1)I[this.colByVarIndex[(M=f[g]).variable.index]]=-M.coefficient;I[0]=-d.rhs}}},y.prototype.setModel=function(D){return this.model=D,this.initialize(D.nVariables+1,D.nConstraints+1,D.variables,D.unrestrictedVariables),this._resetMatrix(),this},y.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var D=this.lastElementIndex;return this.lastElementIndex+=1,D},y.prototype.density=function(){for(var D=0,O=this.matrix,A=0;A<this.height;A++)for(var x=O[A],k=0;k<this.width;k++)0!==x[k]&&(D+=1);return D/(this.height*this.width)},y.prototype.setEvaluation=function(){var D=Math.round(1/this.precision),A=Math.round((Number.EPSILON+this.matrix[this.costRowIndex][this.rhsColumn])*D)/D;this.evaluation=A,0===this.simplexIters&&(this.bestPossibleEval=A)},y.prototype.getSolution=function(){var D=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new P(this,D,this.feasible,this.bounded,this.branchAndCutIterations):new _(this,D,this.feasible,this.bounded)}},354:(ut,Q,L)=>{var _=L(982);_.prototype.copy=function(){var P=new _(this.precision);P.width=this.width,P.height=this.height,P.nVars=this.nVars,P.model=this.model,P.variables=this.variables,P.variablesPerIndex=this.variablesPerIndex,P.unrestrictedVars=this.unrestrictedVars,P.lastElementIndex=this.lastElementIndex,P.varIndexByRow=this.varIndexByRow.slice(),P.varIndexByCol=this.varIndexByCol.slice(),P.rowByVarIndex=this.rowByVarIndex.slice(),P.colByVarIndex=this.colByVarIndex.slice(),P.availableIndexes=this.availableIndexes.slice();for(var y=[],S=0;S<this.optionalObjectives.length;S++)y[S]=this.optionalObjectives[S].copy();P.optionalObjectives=y;for(var D=this.matrix,O=new Array(this.height),A=0;A<this.height;A++)O[A]=D[A].slice();return P.matrix=O,P},_.prototype.save=function(){this.savedState=this.copy()},_.prototype.restore=function(){if(null!==this.savedState){var S,D,P=this.savedState,y=P.matrix;for(this.nVars=P.nVars,this.model=P.model,this.variables=P.variables,this.variablesPerIndex=P.variablesPerIndex,this.unrestrictedVars=P.unrestrictedVars,this.lastElementIndex=P.lastElementIndex,this.width=P.width,this.height=P.height,S=0;S<this.height;S+=1){var O=y[S],A=this.matrix[S];for(D=0;D<this.width;D+=1)A[D]=O[D]}var x=P.varIndexByRow;for(D=0;D<this.height;D+=1)this.varIndexByRow[D]=x[D];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var k=P.varIndexByCol;for(S=0;S<this.width;S+=1)this.varIndexByCol[S]=k[S];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var b=P.rowByVarIndex,w=P.colByVarIndex,v=0;v<this.nVars;v+=1)this.rowByVarIndex[v]=b[v],this.colByVarIndex[v]=w[v];if(P.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var m=0;m<P.optionalObjectives.length;m++){var c=P.optionalObjectives[m].copy();this.optionalObjectives[m]=c,this.optionalObjectivePerPriority[c.priority]=c}}}}},96:(ut,Q,L)=>{var _=L(982);function P(D,O,A){this.type=D,this.varIndex=O,this.value=A}function y(D,O){this.relaxedEvaluation=D,this.cuts=O}function S(D,O){return O.relaxedEvaluation-D.relaxedEvaluation}_.prototype.applyCuts=function(D){if(this.restore(),this.addCutConstraints(D),this.simplex(),this.model.useMIRCuts)for(var O=!0;O;){var A=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*A&&(O=!1)}},_.prototype.branchAndCut=function(){var D=[],O=0,A=this.model.tolerance,x=!0,k=1e99;this.model.timeout&&(k=Date.now()+this.model.timeout);for(var b=1/0,w=null,v=[],m=0;m<this.optionalObjectives.length;m+=1)v.push(1/0);var c=new y(-1/0,[]);for(D.push(c);D.length>0&&!0===x&&Date.now()<k;)if(A>0&&b<(this.model.isMinimization?this.bestPossibleEval*(1+A):this.bestPossibleEval*(1-A))&&(x=!1),!((c=D.pop()).relaxedEvaluation>b)){var a=c.cuts;if(this.applyCuts(a),O++,!1!==this.feasible){var p=this.evaluation;if(!(p>b)){if(p===b){for(var d=!0,u=0;u<this.optionalObjectives.length&&!(this.optionalObjectives[u].reducedCosts[0]>v[u]);u+=1)if(this.optionalObjectives[u].reducedCosts[0]<v[u]){d=!1;break}if(d)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===O)return void(this.branchAndCutIterations=O);w=c,b=p;for(var g=0;g<this.optionalObjectives.length;g+=1)v[g]=this.optionalObjectives[g].reducedCosts[0]}else{1===O&&this.save();for(var M=this.getMostFractionalVar(),h=M.index,f=[],E=[],I=a.length,F=0;F<I;F+=1){var V=a[F];V.varIndex===h?"min"===V.type?E.push(V):f.push(V):(f.push(V),E.push(V))}var z=Math.ceil(M.value),U=Math.floor(M.value),j=new P("min",h,z);f.push(j);var K=new P("max",h,U);E.push(K),D.push(new y(p,f)),D.push(new y(p,E)),D.sort(S)}}}}null!==w&&this.applyCuts(w.cuts),this.branchAndCutIterations=O}},811:(ut,Q,L)=>{var _=L(982);function P(y,S){this.index=y,this.value=S}_.prototype.getMostFractionalVar=function(){for(var y=0,S=null,D=null,A=this.model.integerVariables,x=A.length,k=0;k<x;k++){var b=A[k].index,w=this.rowByVarIndex[b];if(-1!==w){var v=this.matrix[w][this.rhsColumn],m=Math.abs(v-Math.round(v));y<m&&(y=m,S=b,D=v)}}return new P(S,D)},_.prototype.getFractionalVarWithLowestCost=function(){for(var y=1/0,S=null,D=null,O=this.model.integerVariables,A=O.length,x=0;x<A;x++){var k=O[x],b=k.index,w=this.rowByVarIndex[b];if(-1!==w){var v=this.matrix[w][this.rhsColumn];if(Math.abs(v-Math.round(v))>this.precision){var m=k.cost;y>m&&(y=m,S=b,D=v)}}}return new P(S,D)}},511:(ut,Q,L)=>{var _=L(982),P=L(413).SlackVariable;_.prototype.addCutConstraints=function(y){for(var S=y.length,D=this.height,O=D+S,A=D;A<O;A+=1)void 0===this.matrix[A]&&(this.matrix[A]=this.matrix[A-1].slice());this.height=O,this.nVars=this.width+this.height-2;for(var x,k=this.width-1,b=0;b<S;b+=1){var w=y[b],v=D+b,m="min"===w.type?-1:1,c=w.varIndex,T=this.rowByVarIndex[c],a=this.matrix[v];if(-1===T){for(a[this.rhsColumn]=m*w.value,x=1;x<=k;x+=1)a[x]=0;a[this.colByVarIndex[c]]=m}else{var p=this.matrix[T];for(a[this.rhsColumn]=m*(w.value-p[this.rhsColumn]),x=1;x<=k;x+=1)a[x]=-m*p[x]}var u=this.getNewElementIndex();this.varIndexByRow[v]=u,this.rowByVarIndex[u]=v,this.colByVarIndex[u]=-1,this.variablesPerIndex[u]=new P("s"+u,u),this.nVars+=1}},_.prototype._addLowerBoundMIRCut=function(y){if(y===this.costRowIndex)return!1;var D=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[y]].isInteger)return!1;var A=D[y][this.rhsColumn],x=A-Math.floor(A);if(x<this.precision||1-this.precision<x)return!1;var k=this.height;D[k]=D[k-1].slice(),this.height+=1,this.nVars+=1;var b=this.getNewElementIndex();this.varIndexByRow[k]=b,this.rowByVarIndex[b]=k,this.colByVarIndex[b]=-1,this.variablesPerIndex[b]=new P("s"+b,b),D[k][this.rhsColumn]=Math.floor(A);for(var w=1;w<this.varIndexByCol.length;w+=1)if(this.variablesPerIndex[this.varIndexByCol[w]].isInteger){var m=D[y][w],c=Math.floor(m)+Math.max(0,m-Math.floor(m)-x)/(1-x);D[k][w]=c}else D[k][w]=Math.min(0,D[y][w]/(1-x));for(var T=0;T<this.width;T+=1)D[k][T]-=D[y][T];return!0},_.prototype._addUpperBoundMIRCut=function(y){if(y===this.costRowIndex)return!1;var D=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[y]].isInteger)return!1;var A=D[y][this.rhsColumn],x=A-Math.floor(A);if(x<this.precision||1-this.precision<x)return!1;var k=this.height;D[k]=D[k-1].slice(),this.height+=1,this.nVars+=1;var b=this.getNewElementIndex();this.varIndexByRow[k]=b,this.rowByVarIndex[b]=k,this.colByVarIndex[b]=-1,this.variablesPerIndex[b]=new P("s"+b,b),D[k][this.rhsColumn]=-x;for(var w=1;w<this.varIndexByCol.length;w+=1){var v=this.variablesPerIndex[this.varIndexByCol[w]],m=D[y][w],c=m-Math.floor(m);D[k][w]=v.isInteger?c<=x?-c:-(1-c)*x/c:m>=0?-m:m*x/(1-x)}return!0},_.prototype.applyMIRCuts=function(){}},78:(ut,Q,L)=>{var _=L(982);_.prototype._putInBase=function(P){var y=this.rowByVarIndex[P];if(-1===y){for(var S=this.colByVarIndex[P],D=1;D<this.height;D+=1){var O=this.matrix[D][S];if(O<-this.precision||this.precision<O){y=D;break}}this.pivot(y,S)}return y},_.prototype._takeOutOfBase=function(P){var y=this.colByVarIndex[P];if(-1===y){for(var S=this.rowByVarIndex[P],D=this.matrix[S],O=1;O<this.height;O+=1){var A=D[O];if(A<-this.precision||this.precision<A){y=O;break}}this.pivot(S,y)}return y},_.prototype.updateVariableValues=function(){for(var P=this.variables.length,y=Math.round(1/this.precision),S=0;S<P;S+=1){var D=this.variables[S],A=this.rowByVarIndex[D.index];D.value=-1===A?0:Math.round((this.matrix[A][this.rhsColumn]+Number.EPSILON)*y)/y}},_.prototype.updateRightHandSide=function(P,y){var S=this.height-1,D=this.rowByVarIndex[P.index];if(-1===D){for(var O=this.colByVarIndex[P.index],A=0;A<=S;A+=1){var x=this.matrix[A];x[this.rhsColumn]-=y*x[O]}var k=this.optionalObjectives.length;if(k>0)for(var b=0;b<k;b+=1){var w=this.optionalObjectives[b].reducedCosts;w[this.rhsColumn]-=y*w[O]}}else this.matrix[D][this.rhsColumn]-=y},_.prototype.updateConstraintCoefficient=function(P,y,S){if(P.index===y.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var D=this._putInBase(P.index),O=this.colByVarIndex[y.index];if(-1===O)for(var A=this.rowByVarIndex[y.index],x=0;x<this.width;x+=1)this.matrix[D][x]+=S*this.matrix[A][x];else this.matrix[D][O]-=S},_.prototype.updateCost=function(P,y){var S=P.index,D=this.width-1,O=this.colByVarIndex[S];if(-1===O){var x,A=this.matrix[this.rowByVarIndex[S]];if(0===P.priority){var k=this.matrix[0];for(x=0;x<=D;x+=1)k[x]+=y*A[x]}else{var b=this.objectivesByPriority[P.priority].reducedCosts;for(x=0;x<=D;x+=1)b[x]+=y*A[x]}}else this.matrix[0][O]-=y},_.prototype.addConstraint=function(P){var y=P.isUpperBound?1:-1,S=this.height,D=this.matrix[S];void 0===D&&(D=this.matrix[0].slice(),this.matrix[S]=D);for(var O=this.width-1,A=0;A<=O;A+=1)D[A]=0;D[this.rhsColumn]=y*P.rhs;for(var x=P.terms,k=x.length,b=0;b<k;b+=1){var w=x[b],v=w.coefficient,m=w.variable.index,c=this.rowByVarIndex[m];if(-1===c)D[this.colByVarIndex[m]]+=y*v;else{var T=this.matrix[c];for(A=0;A<=O;A+=1)D[A]-=y*v*T[A]}}var p=P.index;this.varIndexByRow[S]=p,this.rowByVarIndex[p]=S,this.colByVarIndex[p]=-1,this.height+=1},_.prototype.removeConstraint=function(P){var y=P.index,S=this.height-1,D=this._putInBase(y),O=this.matrix[S];this.matrix[S]=this.matrix[D],this.matrix[D]=O,this.varIndexByRow[D]=this.varIndexByRow[S],this.varIndexByRow[S]=-1,this.rowByVarIndex[y]=-1,this.availableIndexes[this.availableIndexes.length]=y,P.slack.index=-1,this.height-=1},_.prototype.addVariable=function(P){var y=this.height-1,S=this.width,D=!0===this.model.isMinimization?-P.cost:P.cost,O=P.priority,A=this.optionalObjectives.length;if(A>0)for(var x=0;x<A;x+=1)this.optionalObjectives[x].reducedCosts[S]=0;0===O?this.matrix[0][S]=D:(this.setOptionalObjective(O,S,D),this.matrix[0][S]=0);for(var k=1;k<=y;k+=1)this.matrix[k][S]=0;var b=P.index;this.varIndexByCol[S]=b,this.rowByVarIndex[b]=-1,this.colByVarIndex[b]=S,this.width+=1},_.prototype.removeVariable=function(P){var y=P.index,S=this._takeOutOfBase(y),D=this.width-1;if(S!==D){for(var O=this.height-1,A=0;A<=O;A+=1){var x=this.matrix[A];x[S]=x[D]}var k=this.optionalObjectives.length;if(k>0)for(var b=0;b<k;b+=1){var w=this.optionalObjectives[b].reducedCosts;w[S]=w[D]}var v=this.varIndexByCol[D];this.varIndexByCol[S]=v,this.colByVarIndex[v]=S}this.varIndexByCol[D]=-1,this.colByVarIndex[y]=-1,this.availableIndexes[this.availableIndexes.length]=y,P.index=-1,this.width-=1}},403:(ut,Q,L)=>{L(279),L(511),L(78),L(2),L(354),L(811),L(931),ut.exports=L(982)},931:(ut,Q,L)=>{var _=L(982);_.prototype.countIntegerValues=function(){for(var P=0,y=1;y<this.height;y+=1)if(this.variablesPerIndex[this.varIndexByRow[y]].isInteger){var S=this.matrix[y][this.rhsColumn];(S-=Math.floor(S))<this.precision&&-S<this.precision&&(P+=1)}return P},_.prototype.isIntegral=function(){for(var P=this.model.integerVariables,y=P.length,S=0;S<y;S++){var D=this.rowByVarIndex[P[S].index];if(-1!==D){var O=this.matrix[D][this.rhsColumn];if(Math.abs(O-Math.round(O))>this.precision)return!1}}return!0},_.prototype.computeFractionalVolume=function(P){for(var y=-1,S=1;S<this.height;S+=1)if(this.variablesPerIndex[this.varIndexByRow[S]].isInteger){var D=this.matrix[S][this.rhsColumn];if(D=Math.abs(D),Math.min(D-Math.floor(D),Math.floor(D+1))<this.precision){if(!P)return 0}else-1===y?y=D:y*=D}return-1===y?0:y}},2:(ut,Q,L)=>{L(982).prototype.log=function(P,y){console.log("****",P,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var A,x,b,w,v,m,c,a,p,d,u,D="",O=[" "];for(x=1;x<this.width;x+=1)c=(m=void 0===(w=this.variablesPerIndex[v=this.varIndexByCol[x]])?"c"+v:w.id).length,Math.abs(c-5),a=" ",p="\t",c>5?a+=" ":p+="\t",O[x]=a,D+=p+m;console.log(D);var M=this.matrix[this.costRowIndex],h="\t";for(A=1;A<this.width;A+=1)h+="\t",h+=O[A],h+=M[A].toFixed(5);for(h+="\t"+O[0]+M[0].toFixed(5),console.log(h+"\tZ"),b=1;b<this.height;b+=1){for(d=this.matrix[b],u="\t",x=1;x<this.width;x+=1)u+="\t"+O[x]+d[x].toFixed(5);u+="\t"+O[0]+d[0].toFixed(5),m=void 0===(w=this.variablesPerIndex[v=this.varIndexByRow[b]])?"c"+v:w.id,console.log(u+"\t"+m)}console.log("");var f=this.optionalObjectives.length;if(f>0){console.log("    Optional objectives:");for(var E=0;E<f;E+=1){var I=this.optionalObjectives[E].reducedCosts,F="";for(A=1;A<this.width;A+=1)F+=I[A]<0?"":" ",F+=O[A],F+=I[A].toFixed(5);F+=(I[0]<0?"":" ")+O[0]+I[0].toFixed(5),console.log(F+" z"+E)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}},279:(ut,Q,L)=>{var _=L(982);_.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},_.prototype.phase1=function(){for(var y=this.model.checkForCycles,S=[],D=this.matrix,O=this.rhsColumn,A=this.width-1,x=this.height-1,b=0;;){for(var w=0,v=-this.precision,m=1;m<=x;m++){var c=D[m][O];c<v&&(v=c,w=m)}if(0===w)return this.feasible=!0,b;for(var T=0,a=-1/0,p=D[0],d=D[w],u=1;u<=A;u++){var g=d[u];if(!0===this.unrestrictedVars[this.varIndexByCol[u]]||g<-this.precision){var M=-p[u]/g;a<M&&(a=M,T=u)}}if(0===T)return this.feasible=!1,b;if(y){S.push([this.varIndexByRow[w],this.varIndexByCol[T]]);var h=this.checkForCycles(S);if(h.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+h[0]),this.model.messages.push("Length :"+h[1]),this.feasible=!1,b}this.pivot(w,T),b+=1}},_.prototype.phase2=function(){for(var m,c,y=this.model.checkForCycles,S=[],D=this.matrix,O=this.rhsColumn,A=this.width-1,x=this.height-1,k=this.precision,b=this.optionalObjectives.length,w=null,v=0;;){var T=D[this.costRowIndex];b>0&&(w=[]);for(var a=0,p=k,d=!1,u=1;u<=A;u++)m=T[u],c=!0===this.unrestrictedVars[this.varIndexByCol[u]],b>0&&-k<m&&m<k?w.push(u):c&&m<0?-m>p&&(p=-m,a=u,d=!0):m>p&&(p=m,a=u,d=!1);if(b>0)for(var g=0;0===a&&w.length>0&&g<b;){var M=[],h=this.optionalObjectives[g].reducedCosts;p=k;for(var f=0;f<w.length;f++)c=!0===this.unrestrictedVars[this.varIndexByCol[u=w[f]]],-k<(m=h[u])&&m<k?M.push(u):c&&m<0?-m>p&&(p=-m,a=u,d=!0):m>p&&(p=m,a=u,d=!1);w=M,g+=1}if(0===a)return this.setEvaluation(),this.simplexIters+=1,v;for(var E=0,I=1/0,V=1;V<=x;V++){var z=D[V],U=z[O],j=z[a];if(!(-k<j&&j<k)){if(j>0&&k>U&&U>-k){I=0,E=V;break}var K=d?-U/j:U/j;K>k&&I>K&&(I=K,E=V)}}if(I===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[a],v;if(y){S.push([this.varIndexByRow[E],this.varIndexByCol[a]]);var te=this.checkForCycles(S);if(te.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+te[0]),this.model.messages.push("Length :"+te[1]),this.feasible=!1,v}this.pivot(E,a,!0),v+=1}};var P=[];_.prototype.pivot=function(y,S){var D=this.matrix,O=D[y][S],A=this.height-1,x=this.width-1,k=this.varIndexByRow[y],b=this.varIndexByCol[S];this.varIndexByRow[y]=b,this.varIndexByCol[S]=k,this.rowByVarIndex[b]=y,this.rowByVarIndex[k]=-1,this.colByVarIndex[b]=-1,this.colByVarIndex[k]=S;for(var w=D[y],v=0,m=0;m<=x;m++)w[m]>=-1e-16&&w[m]<=1e-16?w[m]=0:(w[m]/=O,P[v]=m,v+=1);w[S]=1/O;for(var c,T,a,d=0;d<=A;d++)if(d!==y&&!(D[d][S]>=-1e-16&&D[d][S]<=1e-16)){var u=D[d];if((c=u[S])>=-1e-16&&c<=1e-16)0!==c&&(u[S]=0);else{for(T=0;T<v;T++)(a=w[m=P[T]])>=-1e-16&&a<=1e-16?0!==a&&(w[m]=0):u[m]=u[m]-c*a;u[S]=-c/O}}var g=this.optionalObjectives.length;if(g>0)for(var M=0;M<g;M+=1){var h=this.optionalObjectives[M].reducedCosts;if(0!==(c=h[S])){for(T=0;T<v;T++)0!==(a=w[m=P[T]])&&(h[m]=h[m]-c*a);h[S]=-c/O}}},_.prototype.checkForCycles=function(y){for(var S=0;S<y.length-1;S++)for(var D=S+1;D<y.length;D++){var O=y[S],A=y[D];if(O[0]===A[0]&&O[1]===A[1]){if(D-S>y.length-D)break;for(var x=!0,k=1;k<D-S;k++){var b=y[S+k],w=y[D+k];if(b[0]!==w[0]||b[1]!==w[1]){x=!1;break}}if(x)return[S,D-S]}}return[]}},528:(ut,Q)=>{Q.CleanObjectiveAttributes=function(L){var _,P,y;if("string"==typeof L.optimize){if(L.constraints[L.optimize]){for(P in _=Math.random(),L.variables)L.variables[P][L.optimize]&&(L.variables[P][_]=L.variables[P][L.optimize]);return L.constraints[_]=L.constraints[L.optimize],delete L.constraints[L.optimize],L}return L}for(y in L.optimize)if(L.constraints[y])if("equal"===L.constraints[y])delete L.optimize[y];else{for(P in _=Math.random(),L.variables)L.variables[P][y]&&(L.variables[P][_]=L.variables[P][y]);L.constraints[_]=L.constraints[y],delete L.constraints[y]}return L}},413:ut=>{function Q(O,A,x,k){this.id=O,this.cost=A,this.index=x,this.value=0,this.priority=k}function L(O,A,x,k){Q.call(this,O,A,x,k)}function _(O,A){Q.call(this,O,0,A,0)}function P(O,A){this.variable=O,this.coefficient=A}function y(O,A,x){return 0===x||"required"===x?null:(A=A||1,x=x||1,!1===O.isMinimization&&(A=-A),O.addVariable(A,"r"+O.relaxationIndex++,!1,!1,x))}function S(O,A,x,k){this.slack=new _("s"+x,x),this.index=x,this.model=k,this.rhs=O,this.isUpperBound=A,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function D(O,A){this.upperBound=O,this.lowerBound=A,this.model=O.model,this.rhs=O.rhs,this.relaxation=null}L.prototype.isInteger=!0,_.prototype.isSlack=!0,S.prototype.addTerm=function(O,A){var x=A.index,k=this.termsByVarIndex[x];return void 0===k?(k=new P(A,O),this.termsByVarIndex[x]=k,this.terms.push(k),!0===this.isUpperBound&&(O=-O),this.model.updateConstraintCoefficient(this,A,O)):this.setVariableCoefficient(k.coefficient+O,A),this},S.prototype.removeTerm=function(O){return this},S.prototype.setRightHandSide=function(O){if(O!==this.rhs){var A=O-this.rhs;!0===this.isUpperBound&&(A=-A),this.rhs=O,this.model.updateRightHandSide(this,A)}return this},S.prototype.setVariableCoefficient=function(O,A){var x=A.index;if(-1!==x){var k=this.termsByVarIndex[x];if(void 0===k)this.addTerm(O,A);else if(O!==k.coefficient){var b=O-k.coefficient;!0===this.isUpperBound&&(b=-b),k.coefficient=O,this.model.updateConstraintCoefficient(this,A,b)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},S.prototype.relax=function(O,A){this.relaxation=y(this.model,O,A),this._relax(this.relaxation)},S.prototype._relax=function(O){null!==O&&this.setVariableCoefficient(this.isUpperBound?-1:1,O)},D.prototype.isEquality=!0,D.prototype.addTerm=function(O,A){return this.upperBound.addTerm(O,A),this.lowerBound.addTerm(O,A),this},D.prototype.removeTerm=function(O){return this.upperBound.removeTerm(O),this.lowerBound.removeTerm(O),this},D.prototype.setRightHandSide=function(O){this.upperBound.setRightHandSide(O),this.lowerBound.setRightHandSide(O),this.rhs=O},D.prototype.relax=function(O,A){this.relaxation=y(this.model,O,A),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},ut.exports={Constraint:S,Variable:Q,IntegerVariable:L,SlackVariable:_,Equality:D,Term:P}},328:(ut,Q,L)=>{var P,y=L(403),S=L(595),D=L(96),O=L(413),A=L(528),x=O.Constraint,k=O.Variable,b=O.Numeral,w=O.Term,v=L(636),m=function(){"use strict";this.Model=S,this.branchAndCut=D,this.Constraint=x,this.Variable=k,this.Numeral=b,this.Term=w,this.Tableau=y,this.lastSolvedModel=null,this.External=v,this.Solve=function(c,T,a,p){if(p)for(var d in A)c=A[d](c);if(!c)throw new Error("Solver requires a model to operate on");if("object"==typeof c.optimize&&Object.keys(c.optimize>1))return L(813)(this,c);if(c.external){var u=Object.keys(v);if(u=JSON.stringify(u),!c.external.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+u);if(!v[c.external.solver])throw new Error("No support (yet) for "+c.external.solver+". Please use one of these instead:"+u);return v[c.external.solver].solve(c)}c instanceof S||(c=new S(T).loadJson(c));var g=c.solve();if(this.lastSolvedModel=c,g.solutionSet=g.generateSolutionSet(),a)return g;var M={};return M.feasible=g.feasible,M.result=g.evaluation,M.bounded=g.bounded,g._tableau.__isIntegral&&(M.isIntegral=!0),Object.keys(g.solutionSet).forEach(function(h){0!==g.solutionSet[h]&&(M[h]=g.solutionSet[h])}),M},this.ReformatLP=L(635),this.MultiObjective=function(c){return L(813)(this,c)}};void 0!==(P=function(){return new m}.apply(Q,[]))&&(ut.exports=P),ut.exports=new m},21:function(ut){"use strict";ut.exports=function(Q){var L={};function _(P){if(L[P])return L[P].exports;var y=L[P]={i:P,l:!1,exports:{}};return Q[P].call(y.exports,y,y.exports,_),y.l=!0,y.exports}return _.m=Q,_.c=L,_.d=function(P,y,S){_.o(P,y)||Object.defineProperty(P,y,{configurable:!1,enumerable:!0,get:S})},_.n=function(P){var y=P&&P.__esModule?function(){return P.default}:function(){return P};return _.d(y,"a",y),y},_.o=function(P,y){return Object.prototype.hasOwnProperty.call(P,y)},_.p="",_(_.s=123)}([function(Q,L,_){L.__esModule=!0,L.default=function(P,y){if(!(P instanceof y))throw new TypeError("Cannot call a class as a function")}},function(Q,L,_){L.__esModule=!0;var D,y=(D=_(169))&&D.__esModule?D:{default:D};L.default=function(){function D(O,A){for(var x=0;x<A.length;x++){var k=A[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),(0,y.default)(O,k.key,k)}}return function(O,A,x){return A&&D(O.prototype,A),x&&D(O,x),O}}()},function(Q,L,_){var y=b(_(77)),D=b(_(29)),A=b(_(8)),k=b(_(6));function b(a){return a&&a.__esModule?a:{default:a}}var w=_(9),v=_(157);function m(a,p,d,u){var g=!1;!0===u&&(g=null===p[d]&&void 0!==a[d]),g?delete a[d]:a[d]=p[d]}L.isNumber=function(a){return a instanceof Number||"number"==typeof a},L.recursiveDOMDelete=function(a){if(a)for(;!0===a.hasChildNodes();)L.recursiveDOMDelete(a.firstChild),a.removeChild(a.firstChild)},L.giveRange=function(a,p,d,u){return p==a?.5:Math.max(0,1/(p-a)*(u-a))},L.isString=function(a){return a instanceof String||"string"==typeof a},L.isDate=function(a){if(a instanceof Date)return!0;if(L.isString(a)){if(c.exec(a))return!0;if(!isNaN(Date.parse(a)))return!0}return!1},L.randomUUID=function(){return v.v4()},L.assignAllKeys=function(a,p){for(var d in a)a.hasOwnProperty(d)&&"object"!==(0,k.default)(a[d])&&(a[d]=p)},L.fillIfDefined=function(a,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var u in a)void 0!==p[u]&&(null===p[u]||"object"!==(0,k.default)(p[u])?m(a,p,u,d):"object"===(0,k.default)(a[u])&&L.fillIfDefined(a[u],p[u],d))},L.extend=function(a,p){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var g in u)u.hasOwnProperty(g)&&(a[g]=u[g])}return a},L.selectiveExtend=function(a,p,d){if(!Array.isArray(a))throw new Error("Array with property names expected as first argument");for(var u=2;u<arguments.length;u++)for(var g=arguments[u],M=0;M<a.length;M++){var h=a[M];g&&g.hasOwnProperty(h)&&(p[h]=g[h])}return p},L.selectiveDeepExtend=function(a,p,d){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(d))throw new TypeError("Arrays are not supported by deepExtend");for(var g=0;g<a.length;g++){var M=a[g];if(d.hasOwnProperty(M))if(d[M]&&d[M].constructor===Object)void 0===p[M]&&(p[M]={}),p[M].constructor===Object?L.deepExtend(p[M],d[M],!1,u):m(p,d,M,u);else{if(Array.isArray(d[M]))throw new TypeError("Arrays are not supported by deepExtend");m(p,d,M,u)}}return p},L.selectiveNotDeepExtend=function(a,p,d){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(d))throw new TypeError("Arrays are not supported by deepExtend");for(var g in d)if(d.hasOwnProperty(g)&&-1===a.indexOf(g))if(d[g]&&d[g].constructor===Object)void 0===p[g]&&(p[g]={}),p[g].constructor===Object?L.deepExtend(p[g],d[g]):m(p,d,g,u);else if(Array.isArray(d[g])){p[g]=[];for(var M=0;M<d[g].length;M++)p[g].push(d[g][M])}else m(p,d,g,u);return p},L.deepExtend=function(a,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var g in p)if(p.hasOwnProperty(g)||!0===d)if(p[g]&&p[g].constructor===Object)void 0===a[g]&&(a[g]={}),a[g].constructor===Object?L.deepExtend(a[g],p[g],d):m(a,p,g,u);else if(Array.isArray(p[g])){a[g]=[];for(var M=0;M<p[g].length;M++)a[g].push(p[g][M])}else m(a,p,g,u);return a},L.equalArray=function(a,p){if(a.length!=p.length)return!1;for(var d=0,u=a.length;d<u;d++)if(a[d]!=p[d])return!1;return!0},L.convert=function(a,p){var d;if(void 0!==a){if(null===a)return null;if(!p)return a;if("string"!=typeof p&&!(p instanceof String))throw new Error("Type must be a string");switch(p){case"boolean":case"Boolean":return Boolean(a);case"number":case"Number":return L.isString(a)&&!isNaN(Date.parse(a))?w(a).valueOf():Number(a.valueOf());case"string":case"String":return String(a);case"Date":if(L.isNumber(a))return new Date(a);if(a instanceof Date)return new Date(a.valueOf());if(w.isMoment(a))return new Date(a.valueOf());if(L.isString(a))return(d=c.exec(a))?new Date(Number(d[1])):w(new Date(a)).toDate();throw new Error("Cannot convert object of type "+L.getType(a)+" to type Date");case"Moment":if(L.isNumber(a))return w(a);if(a instanceof Date)return w(a.valueOf());if(w.isMoment(a))return w(a);if(L.isString(a))return d=c.exec(a),w(d?Number(d[1]):a);throw new Error("Cannot convert object of type "+L.getType(a)+" to type Date");case"ISODate":if(L.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(w.isMoment(a))return a.toDate().toISOString();if(L.isString(a))return(d=c.exec(a))?new Date(Number(d[1])).toISOString():w(a).format();throw new Error("Cannot convert object of type "+L.getType(a)+" to type ISODate");case"ASPDate":if(L.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(L.isString(a))return"/Date("+((d=c.exec(a))?new Date(Number(d[1])).valueOf():new Date(a).valueOf())+")/";throw new Error("Cannot convert object of type "+L.getType(a)+" to type ASPDate");default:throw new Error('Unknown type "'+p+'"')}}};var c=/^\/?Date\((\-?\d+)/i;L.getType=function(a){var p=void 0===a?"undefined":(0,k.default)(a);return"object"==p?null===a?"null":a instanceof Boolean?"Boolean":a instanceof Number?"Number":a instanceof String?"String":Array.isArray(a)?"Array":a instanceof Date?"Date":"Object":"number"==p?"Number":"boolean"==p?"Boolean":"string"==p?"String":void 0===p?"undefined":p},L.copyAndExtendArray=function(a,p){for(var d=[],u=0;u<a.length;u++)d.push(a[u]);return d.push(p),d},L.copyArray=function(a){for(var p=[],d=0;d<a.length;d++)p.push(a[d]);return p},L.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left},L.getAbsoluteRight=function(a){return a.getBoundingClientRect().right},L.getAbsoluteTop=function(a){return a.getBoundingClientRect().top},L.addClassName=function(a,p){var d=a.className.split(" "),u=p.split(" ");d=d.concat(u.filter(function(g){return d.indexOf(g)<0})),a.className=d.join(" ")},L.removeClassName=function(a,p){var d=a.className.split(" "),u=p.split(" ");d=d.filter(function(g){return u.indexOf(g)<0}),a.className=d.join(" ")},L.forEach=function(a,p){var d,u;if(Array.isArray(a))for(d=0,u=a.length;d<u;d++)p(a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&p(a[d],d,a)},L.toArray=function(a){var p=[];for(var d in a)a.hasOwnProperty(d)&&p.push(a[d]);return p},L.updateProperty=function(a,p,d){return a[p]!==d&&(a[p]=d,!0)},L.throttle=function(a){var p=!1;return function(){p||(p=!0,requestAnimationFrame(function(){p=!1,a()}))}},L.addEventListener=function(a,p,d,u){a.addEventListener?(void 0===u&&(u=!1),"mousewheel"===p&&navigator.userAgent.indexOf("Firefox")>=0&&(p="DOMMouseScroll"),a.addEventListener(p,d,u)):a.attachEvent("on"+p,d)},L.removeEventListener=function(a,p,d,u){a.removeEventListener?(void 0===u&&(u=!1),"mousewheel"===p&&navigator.userAgent.indexOf("Firefox")>=0&&(p="DOMMouseScroll"),a.removeEventListener(p,d,u)):a.detachEvent("on"+p,d)},L.preventDefault=function(a){a||(a=window.event),a.preventDefault?a.preventDefault():a.returnValue=!1},L.getTarget=function(a){var p;return a||(a=window.event),a.target?p=a.target:a.srcElement&&(p=a.srcElement),null!=p.nodeType&&3==p.nodeType&&(p=p.parentNode),p},L.hasParent=function(a,p){for(var d=a;d;){if(d===p)return!0;d=d.parentNode}return!1},L.option={},L.option.asBoolean=function(a,p){return"function"==typeof a&&(a=a()),null!=a?0!=a:p||null},L.option.asNumber=function(a,p){return"function"==typeof a&&(a=a()),null!=a?Number(a)||p||null:p||null},L.option.asString=function(a,p){return"function"==typeof a&&(a=a()),null!=a?String(a):p||null},L.option.asSize=function(a,p){return"function"==typeof a&&(a=a()),L.isString(a)?a:L.isNumber(a)?a+"px":p||null},L.option.asElement=function(a,p){return"function"==typeof a&&(a=a()),a||p||null},L.hexToRGB=function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,g,M,h){return g+g+M+M+h+h});var d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16)}:null},L.overrideOpacity=function(a,p){var d;return-1!=a.indexOf("rgba")?a:-1!=a.indexOf("rgb")?"rgba("+(d=a.substr(a.indexOf("(")+1).replace(")","").split(","))[0]+","+d[1]+","+d[2]+","+p+")":null==(d=L.hexToRGB(a))?a:"rgba("+d.r+","+d.g+","+d.b+","+p+")"},L.RGBToHex=function(a,p,d){return"#"+((1<<24)+(a<<16)+(p<<8)+d).toString(16).slice(1)},L.parseColor=function(a){var p;if(!0===L.isString(a)){if(!0===L.isValidRGB(a)){var d=a.substr(4).substr(0,a.length-5).split(",").map(function(E){return parseInt(E)});a=L.RGBToHex(d[0],d[1],d[2])}if(!0===L.isValidHex(a)){var u=L.hexToHSV(a),g={h:u.h,s:.8*u.s,v:Math.min(1,1.02*u.v)},M={h:u.h,s:Math.min(1,1.25*u.s),v:.8*u.v},h=L.HSVToHex(M.h,M.s,M.v),f=L.HSVToHex(g.h,g.s,g.v);p={background:a,border:h,highlight:{background:f,border:h},hover:{background:f,border:h}}}else p={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}}}else(p={}).background=a.background||void 0,p.border=a.border||void 0,L.isString(a.highlight)?p.highlight={border:a.highlight,background:a.highlight}:(p.highlight={},p.highlight.background=a.highlight&&a.highlight.background||void 0,p.highlight.border=a.highlight&&a.highlight.border||void 0),L.isString(a.hover)?p.hover={border:a.hover,background:a.hover}:(p.hover={},p.hover.background=a.hover&&a.hover.background||void 0,p.hover.border=a.hover&&a.hover.border||void 0);return p},L.RGBToHSV=function(a,p,d){a/=255,p/=255,d/=255;var u=Math.min(a,Math.min(p,d)),g=Math.max(a,Math.max(p,d));return u==g?{h:0,s:0,v:u}:{h:60*((a==u?3:d==u?1:5)-(a==u?p-d:d==u?a-p:d-a)/(g-u))/360,s:(g-u)/g,v:g}};var T_split=function(p){var d={};return p.split(";").forEach(function(u){if(""!=u.trim()){var g=u.split(":"),M=g[0].trim(),h=g[1].trim();d[M]=h}}),d},T_join=function(p){return(0,A.default)(p).map(function(d){return d+": "+p[d]}).join("; ")};L.addCssText=function(a,p){var d=T_split(a.style.cssText),u=T_split(p),g=L.extend(d,u);a.style.cssText=T_join(g)},L.removeCssText=function(a,p){var d=T_split(a.style.cssText),u=T_split(p);for(var g in u)u.hasOwnProperty(g)&&delete d[g];a.style.cssText=T_join(d)},L.HSVToRGB=function(a,p,d){var u,g,M,h=Math.floor(6*a),f=6*a-h,E=d*(1-p),I=d*(1-f*p),F=d*(1-(1-f)*p);switch(h%6){case 0:u=d,g=F,M=E;break;case 1:u=I,g=d,M=E;break;case 2:u=E,g=d,M=F;break;case 3:u=E,g=I,M=d;break;case 4:u=F,g=E,M=d;break;case 5:u=d,g=E,M=I}return{r:Math.floor(255*u),g:Math.floor(255*g),b:Math.floor(255*M)}},L.HSVToHex=function(a,p,d){var u=L.HSVToRGB(a,p,d);return L.RGBToHex(u.r,u.g,u.b)},L.hexToHSV=function(a){var p=L.hexToRGB(a);return L.RGBToHSV(p.r,p.g,p.b)},L.isValidHex=function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},L.isValidRGB=function(a){return a=a.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a)},L.isValidRGBA=function(a){return a=a.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(a)},L.selectiveBridgeObject=function(a,p){if(null!==p&&"object"===(void 0===p?"undefined":(0,k.default)(p))){for(var d=(0,D.default)(p),u=0;u<a.length;u++)p.hasOwnProperty(a[u])&&"object"==(0,k.default)(p[a[u]])&&(d[a[u]]=L.bridgeObject(p[a[u]]));return d}return null},L.bridgeObject=function(a){if(null!==a&&"object"===(void 0===a?"undefined":(0,k.default)(a))){var p=(0,D.default)(a);if(a instanceof Element)p=a;else for(var d in p=(0,D.default)(a),a)a.hasOwnProperty(d)&&"object"==(0,k.default)(a[d])&&(p[d]=L.bridgeObject(a[d]));return p}return null},L.insertSort=function(a,p){for(var d=0;d<a.length;d++){for(var u=a[d],g=d;g>0&&p(u,a[g-1])<0;g--)a[g]=a[g-1];a[g]=u}return a},L.mergeOptions=function(a,p,d){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=function(j){return null!=j},M=function(j){return null!==j&&"object"===(void 0===j?"undefined":(0,k.default)(j))},h=function(j){for(var K in j)if(j.hasOwnProperty(K))return!1;return!0};if(!M(a))throw new Error("Parameter mergeTarget must be an object");if(!M(p))throw new Error("Parameter options must be an object");if(!g(d))throw new Error("Parameter option must have a value");if(!M(u))throw new Error("Parameter globalOptions must be an object");var f=function(j,K,te){M(j[te])||(j[te]={});var oe=K[te],le=j[te];for(var pe in oe)oe.hasOwnProperty(pe)&&(le[pe]=oe[pe])},E=p[d],F=M(u)&&!h(u)?u[d]:void 0,V=F?F.enabled:void 0;if(void 0!==E){if("boolean"==typeof E)return M(a[d])||(a[d]={}),void(a[d].enabled=E);if(null===E&&!M(a[d])){if(!g(F))return;a[d]=(0,D.default)(F)}if(M(E)){var z=!0;void 0!==E.enabled?z=E.enabled:void 0!==V&&(z=F.enabled),f(a,p,d),a[d].enabled=z}}},L.binarySearchCustom=function(a,p,d,u){for(var M=0,h=0,f=a.length-1;h<=f&&M<1e4;){var E=Math.floor((h+f)/2),I=a[E],V=p(void 0===u?I[d]:I[d][u]);if(0==V)return E;-1==V?h=E+1:f=E-1,M++}return-1},L.binarySearchValue=function(a,p,d,u,g){var I,F,V,z,h=0,f=0,E=a.length-1;for(g=null!=g?g:function(U,j){return U==j?0:U<j?-1:1};f<=E&&h<1e4;){if(z=Math.floor(.5*(E+f)),I=a[Math.max(0,z-1)][d],F=a[z][d],V=a[Math.min(a.length-1,z+1)][d],0==g(F,p))return z;if(g(I,p)<0&&g(F,p)>0)return"before"==u?Math.max(0,z-1):z;if(g(F,p)<0&&g(V,p)>0)return"before"==u?z:Math.min(a.length-1,z+1);g(F,p)<0?f=z+1:E=z-1,h++}return-1},L.easingFunctions={linear:function(p){return p},easeInQuad:function(p){return p*p},easeOutQuad:function(p){return p*(2-p)},easeInOutQuad:function(p){return p<.5?2*p*p:(4-2*p)*p-1},easeInCubic:function(p){return p*p*p},easeOutCubic:function(p){return--p*p*p+1},easeInOutCubic:function(p){return p<.5?4*p*p*p:(p-1)*(2*p-2)*(2*p-2)+1},easeInQuart:function(p){return p*p*p*p},easeOutQuart:function(p){return 1- --p*p*p*p},easeInOutQuart:function(p){return p<.5?8*p*p*p*p:1-8*--p*p*p*p},easeInQuint:function(p){return p*p*p*p*p},easeOutQuint:function(p){return 1+--p*p*p*p*p},easeInOutQuint:function(p){return p<.5?16*p*p*p*p*p:1+16*--p*p*p*p*p}},L.getScrollBarWidth=function(){var a=document.createElement("p");a.style.width="100%",a.style.height="200px";var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left="0px",p.style.visibility="hidden",p.style.width="200px",p.style.height="150px",p.style.overflow="hidden",p.appendChild(a),document.body.appendChild(p);var d=a.offsetWidth;p.style.overflow="scroll";var u=a.offsetWidth;return d==u&&(u=p.clientWidth),document.body.removeChild(p),d-u},L.topMost=function(a,p){var d=void 0;Array.isArray(p)||(p=[p]);var u=!0,g=!1,M=void 0;try{for(var f,h=(0,y.default)(a);!(u=(f=h.next()).done);u=!0){var E=f.value;if(E){d=E[p[0]];for(var I=1;I<p.length;I++)d&&(d=d[p[I]]);if(void 0!==d)break}}}catch(F){g=!0,M=F}finally{try{!u&&h.return&&h.return()}finally{if(g)throw M}}return d}},function(Q,L,_){Q.exports={default:_(194),__esModule:!0}},function(Q,L,_){L.__esModule=!0;var D,y=(D=_(6))&&D.__esModule?D:{default:D};L.default=function(D,O){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!==(void 0===O?"undefined":(0,y.default)(O))&&"function"!=typeof O?D:O}},function(Q,L,_){L.__esModule=!0;var y=x(_(196)),D=x(_(29)),A=x(_(6));function x(k){return k&&k.__esModule?k:{default:k}}L.default=function(k,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":(0,A.default)(b)));k.prototype=(0,D.default)(b&&b.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),b&&(y.default?(0,y.default)(k,b):k.__proto__=b)}},function(Q,L,_){L.__esModule=!0;var y=A(_(142)),D=A(_(144)),O="function"==typeof D.default&&"symbol"==typeof y.default?function(x){return typeof x}:function(x){return x&&"function"==typeof D.default&&x.constructor===D.default&&x!==D.default.prototype?"symbol":typeof x};function A(x){return x&&x.__esModule?x:{default:x}}L.default="function"==typeof D.default&&"symbol"===O(y.default)?function(x){return void 0===x?"undefined":O(x)}:function(x){return x&&"function"==typeof D.default&&x.constructor===D.default&&x!==D.default.prototype?"symbol":void 0===x?"undefined":O(x)}},function(Q,L){var _=Q.exports={version:"2.5.1"};"number"==typeof __e&&(__e=_)},function(Q,L,_){Q.exports={default:_(140),__esModule:!0}},function(Q,L,_){Q.exports="undefined"!=typeof window&&window.moment||_(154)},function(Q,L,_){if("undefined"!=typeof window){var y=_(175),S=window.Hammer||_(176);Q.exports=y(S,{preventDefault:"mouse"})}else Q.exports=function(){return{on:D=function(){},off:D,destroy:D,emit:D,get:function(A){return{set:D}}};var D}},function(Q,L,_){var y=x(_(19)),D=x(_(6)),A=x(_(8));function x(v){return v&&v.__esModule?v:{default:v}}var k=_(2),b=_(43);function w(v,m){if(v&&!Array.isArray(v)&&(m=v,v=null),this._options=m||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var c=(0,A.default)(this._options.type),T=0,a=c.length;T<a;T++){var p=c[T],d=this._options.type[p];this._type[p]="Date"==d||"ISODate"==d||"ASPDate"==d?"Date":d}this._subscribers={},v&&this.add(v),this.setOptions(m)}w.prototype.setOptions=function(v){v&&void 0!==v.queue&&(!1===v.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=b.extend(this,{replace:["add","update","remove"]})),"object"===(0,D.default)(v.queue)&&this._queue.setOptions(v.queue)))},w.prototype.on=function(v,m){var c=this._subscribers[v];c||(this._subscribers[v]=c=[]),c.push({callback:m})},w.prototype.off=function(v,m){var c=this._subscribers[v];c&&(this._subscribers[v]=c.filter(function(T){return T.callback!=m}))},w.prototype._trigger=function(v,m,c){if("*"==v)throw new Error("Cannot trigger event *");var T=[];v in this._subscribers&&(T=T.concat(this._subscribers[v])),"*"in this._subscribers&&(T=T.concat(this._subscribers["*"]));for(var a=0,p=T.length;a<p;a++){var d=T[a];d.callback&&d.callback(v,m,c||null)}},w.prototype.add=function(v,m){var T,c=[];if(Array.isArray(v))for(var p=0,d=v.length;p<d;p++)T=this._addItem(v[p]),c.push(T);else{if(!v||"object"!==(void 0===v?"undefined":(0,D.default)(v)))throw new Error("Unknown dataType");T=this._addItem(v),c.push(T)}return c.length&&this._trigger("add",{items:c},m),c},w.prototype.update=function(v,m){var c=[],T=[],a=[],p=[],d=this,u=d._fieldId,g=function(I){var F=I[u];if(d._data[F]){var V=k.extend({},d._data[F]);F=d._updateItem(I),T.push(F),p.push(I),a.push(V)}else F=d._addItem(I),c.push(F)};if(Array.isArray(v))for(var M=0,h=v.length;M<h;M++)v[M]&&"object"===(0,D.default)(v[M])?g(v[M]):console.warn("Ignoring input item, which is not an object at index "+M);else{if(!v||"object"!==(void 0===v?"undefined":(0,D.default)(v)))throw new Error("Unknown dataType");g(v)}return c.length&&this._trigger("add",{items:c},m),T.length&&this._trigger("update",{items:T,oldData:a,data:p},m),c.concat(T)},w.prototype.get=function(v){var c,T,a,d,m=this,p=k.getType(arguments[0]);"String"==p||"Number"==p?(c=arguments[0],a=arguments[1]):"Array"==p?(T=arguments[0],a=arguments[1]):a=arguments[0],d=a&&a.returnType?-1==["Array","Object"].indexOf(a.returnType)?"Array":a.returnType:"Array";var f,E,F,V,g=a&&a.type||this._options.type,M=a&&a.filter,h=[];if(null!=c)(f=m._getItem(c,g))&&M&&!M(f)&&(f=null);else if(null!=T)for(F=0,V=T.length;F<V;F++)f=m._getItem(T[F],g),(!M||M(f))&&h.push(f);else for(F=0,V=(E=(0,A.default)(this._data)).length;F<V;F++)f=m._getItem(E[F],g),(!M||M(f))&&h.push(f);if(a&&a.order&&null==c&&this._sort(h,a.order),a&&a.fields){var z=a.fields;if(null!=c)f=this._filterFields(f,z);else for(F=0,V=h.length;F<V;F++)h[F]=this._filterFields(h[F],z)}if("Object"==d){var j,U={};for(F=0,V=h.length;F<V;F++)U[(j=h[F]).id]=j;return U}return null!=c?f:h},w.prototype.getIds=function(v){var d,u,M,h,m=this._data,c=v&&v.filter,T=v&&v.order,a=v&&v.type||this._options.type,p=(0,A.default)(m),f=[];if(c)if(T){for(h=[],d=0,u=p.length;d<u;d++)c(M=this._getItem(p[d],a))&&h.push(M);for(this._sort(h,T),d=0,u=h.length;d<u;d++)f.push(h[d][this._fieldId])}else for(d=0,u=p.length;d<u;d++)c(M=this._getItem(p[d],a))&&f.push(M[this._fieldId]);else if(T){for(h=[],d=0,u=p.length;d<u;d++)h.push(m[p[d]]);for(this._sort(h,T),d=0,u=h.length;d<u;d++)f.push(h[d][this._fieldId])}else for(d=0,u=p.length;d<u;d++)f.push((M=m[p[d]])[this._fieldId]);return f},w.prototype.getDataSet=function(){return this},w.prototype.forEach=function(v,m){var d,u,g,M,c=m&&m.filter,T=m&&m.type||this._options.type,p=(0,A.default)(this._data);if(m&&m.order){var h=this.get(m);for(d=0,u=h.length;d<u;d++)v(g=h[d],M=g[this._fieldId])}else for(d=0,u=p.length;d<u;d++)g=this._getItem(M=p[d],T),(!c||c(g))&&v(g,M)},w.prototype.map=function(v,m){var u,g,M,h,c=m&&m.filter,T=m&&m.type||this._options.type,a=[],d=(0,A.default)(this._data);for(u=0,g=d.length;u<g;u++)h=this._getItem(M=d[u],T),(!c||c(h))&&a.push(v(h,M));return m&&m.order&&this._sort(a,m.order),a},w.prototype._filterFields=function(v,m){if(!v)return v;var p,d,c={},T=(0,A.default)(v),a=T.length;if(Array.isArray(m))for(p=0;p<a;p++)-1!=m.indexOf(d=T[p])&&(c[d]=v[d]);else for(p=0;p<a;p++)m.hasOwnProperty(d=T[p])&&(c[m[d]]=v[d]);return c},w.prototype._sort=function(v,m){if(k.isString(m)){var c=m;v.sort(function(T,a){var p=T[c],d=a[c];return p>d?1:p<d?-1:0})}else{if("function"!=typeof m)throw new TypeError("Order must be a function or a string");v.sort(m)}},w.prototype.remove=function(v,m){var p,d,u,g,a,c=[],T=[];for(p=0,d=(a=Array.isArray(v)?v:[v]).length;p<d;p++)(g=this._remove(a[p]))&&null!=(u=g[this._fieldId])&&(c.push(u),T.push(g));return c.length&&this._trigger("remove",{items:c,oldData:T},m),c},w.prototype._remove=function(v){var m,c;return k.isNumber(v)||k.isString(v)?c=v:v&&"object"===(void 0===v?"undefined":(0,D.default)(v))&&(c=v[this._fieldId]),void 0!==c&&this._data[c]?(m=this._data[c],delete this._data[c],this.length--,m):null},w.prototype.clear=function(v){var m,c,T=(0,A.default)(this._data),a=[];for(m=0,c=T.length;m<c;m++)a.push(this._data[T[m]]);return this._data={},this.length=0,this._trigger("remove",{items:T,oldData:a},v),T},w.prototype.max=function(v){var p,d,m=this._data,c=(0,A.default)(m),T=null,a=null;for(p=0,d=c.length;p<d;p++){var g=m[c[p]],M=g[v];null!=M&&(!T||M>a)&&(T=g,a=M)}return T},w.prototype.min=function(v){var p,d,m=this._data,c=(0,A.default)(m),T=null,a=null;for(p=0,d=c.length;p<d;p++){var g=m[c[p]],M=g[v];null!=M&&(!T||M<a)&&(T=g,a=M)}return T},w.prototype.distinct=function(v){var d,u,g,m=this._data,c=(0,A.default)(m),T=[],a=this._options.type&&this._options.type[v]||null,p=0;for(d=0,g=c.length;d<g;d++){var f=m[c[d]][v],E=!1;for(u=0;u<p;u++)if(T[u]==f){E=!0;break}!E&&void 0!==f&&(T[p]=f,p++)}if(a)for(d=0,g=T.length;d<g;d++)T[d]=k.convert(T[d],a);return T},w.prototype._addItem=function(v){var m=v[this._fieldId];if(null!=m){if(this._data[m])throw new Error("Cannot add item: item with id "+m+" already exists")}else m=k.randomUUID(),v[this._fieldId]=m;var a,p,c={},T=(0,A.default)(v);for(a=0,p=T.length;a<p;a++){var d=T[a];c[d]=k.convert(v[d],this._type[d])}return this._data[m]=c,this.length++,m},w.prototype._getItem=function(v,m){var c,a,p,d=this._data[v];if(!d)return null;var u={},g=(0,A.default)(d);if(m)for(a=0,p=g.length;a<p;a++)u[c=g[a]]=k.convert(d[c],m[c]);else for(a=0,p=g.length;a<p;a++)u[c=g[a]]=d[c];return u[this._fieldId]||(u[this._fieldId]=d.id),u},w.prototype._updateItem=function(v){var m=v[this._fieldId];if(null==m)throw new Error("Cannot update item: item has no id (item: "+(0,y.default)(v)+")");var c=this._data[m];if(!c)throw new Error("Cannot update item: no item with id "+m+" found");for(var T=(0,A.default)(v),a=0,p=T.length;a<p;a++){var d=T[a];c[d]=k.convert(v[d],this._type[d])}return m},Q.exports=w},function(Q,L,_){var x,y=(x=_(8))&&x.__esModule?x:{default:x};var D=_(2),O=_(11);function A(x,k){this._data=null,this._ids={},this.length=0,this._options=k||{},this._fieldId="id",this._subscribers={};var b=this;this.listener=function(){b._onEvent.apply(b,arguments)},this.setData(x)}A.prototype.setData=function(x){var k,w,v,m;if(this._data){for(this._data.off&&this._data.off("*",this.listener),m=[],w=0,v=(k=this._data.getIds({filter:this._options&&this._options.filter})).length;w<v;w++)m.push(this._data._data[k[w]]);this._ids={},this.length=0,this._trigger("remove",{items:k,oldData:m})}if(this._data=x,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",w=0,v=(k=this._data.getIds({filter:this._options&&this._options.filter})).length;w<v;w++)this._ids[k[w]]=!0;this.length=k.length,this._trigger("add",{items:k}),this._data.on&&this._data.on("*",this.listener)}},A.prototype.refresh=function(){var x,k,b,w=this._data.getIds({filter:this._options&&this._options.filter}),v=(0,y.default)(this._ids),m={},c=[],T=[],a=[];for(k=0,b=w.length;k<b;k++)m[x=w[k]]=!0,this._ids[x]||(c.push(x),this._ids[x]=!0);for(k=0,b=v.length;k<b;k++)m[x=v[k]]||(T.push(x),a.push(this._data._data[x]),delete this._ids[x]);this.length+=c.length-T.length,c.length&&this._trigger("add",{items:c}),T.length&&this._trigger("remove",{items:T,oldData:a})},A.prototype.get=function(x){var b,w,v,k=this,m=D.getType(arguments[0]);"String"==m||"Number"==m||"Array"==m?(b=arguments[0],w=arguments[1],v=arguments[2]):(w=arguments[0],v=arguments[1]);var c=D.extend({},this._options,w);this._options.filter&&w&&w.filter&&(c.filter=function(a){return k._options.filter(a)&&w.filter(a)});var T=[];return null!=b&&T.push(b),T.push(c),T.push(v),this._data&&this._data.get.apply(this._data,T)},A.prototype.getIds=function(x){var k;if(this._data){var b=this._options.filter;k=this._data.getIds({filter:x&&x.filter?b?function(m){return b(m)&&x.filter(m)}:x.filter:b,order:x&&x.order})}else k=[];return k},A.prototype.map=function(x,k){var b=[];if(this._data){var w=this._options.filter;b=this._data.map(x,{filter:k&&k.filter?w?function(c){return w(c)&&k.filter(c)}:k.filter:w,order:k&&k.order})}else b=[];return b},A.prototype.getDataSet=function(){for(var x=this;x instanceof A;)x=x._data;return x||null},A.prototype._onEvent=function(x,k,b){var w,v,m,T=k&&k.items,a=[],p=[],d=[],u=[],g=[],M=[];if(T&&this._data){switch(x){case"add":for(w=0,v=T.length;w<v;w++)this.get(m=T[w])&&(this._ids[m]=!0,a.push(m));break;case"update":for(w=0,v=T.length;w<v;w++)this.get(m=T[w])?this._ids[m]?(p.push(m),g.push(k.data[w]),u.push(k.oldData[w])):(this._ids[m]=!0,a.push(m)):this._ids[m]&&(delete this._ids[m],d.push(m),M.push(k.oldData[w]));break;case"remove":for(w=0,v=T.length;w<v;w++)this._ids[m=T[w]]&&(delete this._ids[m],d.push(m),M.push(k.oldData[w]))}this.length+=a.length-d.length,a.length&&this._trigger("add",{items:a},b),p.length&&this._trigger("update",{items:p,oldData:u,data:g},b),d.length&&this._trigger("remove",{items:d,oldData:M},b)}},A.prototype.on=O.prototype.on,A.prototype.off=O.prototype.off,A.prototype._trigger=O.prototype._trigger,A.prototype.subscribe=A.prototype.on,A.prototype.unsubscribe=A.prototype.off,Q.exports=A},function(Q,L,_){var P=_(57)("wks"),y=_(40),S=_(18).Symbol,D="function"==typeof S;(Q.exports=function(A){return P[A]||(P[A]=D&&S[A]||(D?S:y)("Symbol."+A))}).store=P},function(Q,L,_){L.prepareElements=function(P){for(var y in P)P.hasOwnProperty(y)&&(P[y].redundant=P[y].used,P[y].used=[])},L.cleanupElements=function(P){for(var y in P)if(P.hasOwnProperty(y)&&P[y].redundant){for(var S=0;S<P[y].redundant.length;S++)P[y].redundant[S].parentNode.removeChild(P[y].redundant[S]);P[y].redundant=[]}},L.resetElements=function(P){L.prepareElements(P),L.cleanupElements(P),L.prepareElements(P)},L.getSVGElement=function(P,y,S){var D;return y.hasOwnProperty(P)?y[P].redundant.length>0?(D=y[P].redundant[0],y[P].redundant.shift()):(D=document.createElementNS("http://www.w3.org/2000/svg",P),S.appendChild(D)):(D=document.createElementNS("http://www.w3.org/2000/svg",P),y[P]={used:[],redundant:[]},S.appendChild(D)),y[P].used.push(D),D},L.getDOMElement=function(P,y,S,D){var O;return y.hasOwnProperty(P)?y[P].redundant.length>0?(O=y[P].redundant[0],y[P].redundant.shift()):(O=document.createElement(P),void 0!==D?S.insertBefore(O,D):S.appendChild(O)):(O=document.createElement(P),y[P]={used:[],redundant:[]},void 0!==D?S.insertBefore(O,D):S.appendChild(O)),y[P].used.push(O),O},L.drawPoint=function(P,y,S,D,O,A){var x;if("circle"==S.style?((x=L.getSVGElement("circle",D,O)).setAttributeNS(null,"cx",P),x.setAttributeNS(null,"cy",y),x.setAttributeNS(null,"r",.5*S.size)):((x=L.getSVGElement("rect",D,O)).setAttributeNS(null,"x",P-.5*S.size),x.setAttributeNS(null,"y",y-.5*S.size),x.setAttributeNS(null,"width",S.size),x.setAttributeNS(null,"height",S.size)),void 0!==S.styles&&x.setAttributeNS(null,"style",S.styles),x.setAttributeNS(null,"class",S.className+" vis-point"),A){var k=L.getSVGElement("text",D,O);A.xOffset&&(P+=A.xOffset),A.yOffset&&(y+=A.yOffset),A.content&&(k.textContent=A.content),A.className&&k.setAttributeNS(null,"class",A.className+" vis-label"),k.setAttributeNS(null,"x",P),k.setAttributeNS(null,"y",y)}return x},L.drawBar=function(P,y,S,D,O,A,x,k){if(0!=D){D<0&&(y-=D*=-1);var b=L.getSVGElement("rect",A,x);b.setAttributeNS(null,"x",P-.5*S),b.setAttributeNS(null,"y",y),b.setAttributeNS(null,"width",S),b.setAttributeNS(null,"height",D),b.setAttributeNS(null,"class",O),k&&b.setAttributeNS(null,"style",k)}}},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0}),L.printStyle=void 0;var y=v(_(19)),D=v(_(6)),A=v(_(8)),k=v(_(0)),w=v(_(1));function v(d){return d&&d.__esModule?d:{default:d}}var m=_(2),c=!1,T=void 0,a="background: #FFeeee; color: #dd0000",p=function(){function d(){(0,k.default)(this,d)}return(0,w.default)(d,null,[{key:"validate",value:function(g,M,h){c=!1,T=M;var f=M;return void 0!==h&&(f=M[h]),d.parse(g,f,[]),c}},{key:"parse",value:function(g,M,h){for(var f in g)g.hasOwnProperty(f)&&d.check(f,g,M,h)}},{key:"check",value:function(g,M,h,f){if(void 0!==h[g]||void 0!==h.__any__){var E=g,I=!0;void 0===h[g]&&void 0!==h.__any__&&(E="__any__",I="object"===d.getType(M[g]));var F=h[E];I&&void 0!==F.__type__&&(F=F.__type__),d.checkFields(g,M,h,E,F,f)}else d.getSuggestion(g,h,f)}},{key:"checkFields",value:function(g,M,h,f,E,I){var F=function(j){console.log("%c"+j+d.printLocation(I,g),a)},V=d.getType(M[g]),z=E[V];void 0!==z?"array"===d.getType(z)&&-1===z.indexOf(M[g])?(F('Invalid option detected in "'+g+'". Allowed values are:'+d.print(z)+' not "'+M[g]+'". '),c=!0):"object"===V&&"__any__"!==f&&(I=m.copyAndExtendArray(I,g),d.parse(M[g],h[f],I)):void 0===E.any&&(F('Invalid type received for "'+g+'". Expected: '+d.print((0,A.default)(E))+". Received ["+V+'] "'+M[g]+'"'),c=!0)}},{key:"getType",value:function(g){var M=void 0===g?"undefined":(0,D.default)(g);return"object"===M?null===g?"null":g instanceof Boolean?"boolean":g instanceof Number?"number":g instanceof String?"string":Array.isArray(g)?"array":g instanceof Date?"date":void 0!==g.nodeType?"dom":!0===g._isAMomentObject?"moment":"object":"number"===M?"number":"boolean"===M?"boolean":"string"===M?"string":void 0===M?"undefined":M}},{key:"getSuggestion",value:function(g,M,h){var V,f=d.findInOptions(g,M,h,!1),E=d.findInOptions(g,T,[],!0);V=void 0!==f.indexMatch?" in "+d.printLocation(f.path,g,"")+'Perhaps it was incomplete? Did you mean: "'+f.indexMatch+'"?\n\n':E.distance<=4&&f.distance>E.distance?" in "+d.printLocation(f.path,g,"")+"Perhaps it was misplaced? Matching option found at: "+d.printLocation(E.path,E.closestMatch,""):f.distance<=8?'. Did you mean "'+f.closestMatch+'"?'+d.printLocation(f.path,g):". Did you mean one of these: "+d.print((0,A.default)(M))+d.printLocation(h,g),console.log('%cUnknown option detected: "'+g+'"'+V,a),c=!0}},{key:"findInOptions",value:function(g,M,h){var f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=1e9,I="",F=[],V=g.toLowerCase(),z=void 0;for(var U in M){var j=void 0;if(void 0!==M[U].__type__&&!0===f){var K=d.findInOptions(g,M[U],m.copyAndExtendArray(h,U));E>K.distance&&(I=K.closestMatch,F=K.path,E=K.distance,z=K.indexMatch)}else-1!==U.toLowerCase().indexOf(V)&&(z=U),E>(j=d.levenshteinDistance(g,U))&&(I=U,F=m.copyArray(h),E=j)}return{closestMatch:I,path:F,distance:E,indexMatch:z}}},{key:"printLocation",value:function(g,M){for(var f="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",E=0;E<g.length;E++){for(var I=0;I<E+1;I++)f+="  ";f+=g[E]+": {\n"}for(var F=0;F<g.length+1;F++)f+="  ";f+=M+"\n";for(var V=0;V<g.length+1;V++){for(var z=0;z<g.length-V;z++)f+="  ";f+="}\n"}return f+"\n\n"}},{key:"print",value:function(g){return(0,y.default)(g).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(g,M){if(0===g.length)return M.length;if(0===M.length)return g.length;var f,E,h=[];for(f=0;f<=M.length;f++)h[f]=[f];for(E=0;E<=g.length;E++)h[0][E]=E;for(f=1;f<=M.length;f++)for(E=1;E<=g.length;E++)h[f][E]=M.charAt(f-1)==g.charAt(E-1)?h[f-1][E-1]:Math.min(h[f-1][E-1]+1,Math.min(h[f][E-1]+1,h[f-1][E]+1));return h[M.length][g.length]}}]),d}();L.default=p,L.printStyle=a},function(Q,L,_){var P=_(2);function y(S,D){this.options=null,this.props=null}y.prototype.setOptions=function(S){S&&P.extend(this.options,S)},y.prototype.redraw=function(){return!1},y.prototype.destroy=function(){},y.prototype._isResized=function(){var S=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,S},Q.exports=y},function(Q,L,_){var P=_(18),y=_(7),S=_(80),D=_(26),O="prototype",A=function(x,k,b){var g,M,h,w=x&A.F,v=x&A.G,m=x&A.S,c=x&A.P,T=x&A.B,a=x&A.W,p=v?y:y[k]||(y[k]={}),d=p[O],u=v?P:m?P[k]:(P[k]||{})[O];for(g in v&&(b=k),b)(!(M=!w&&u&&void 0!==u[g])||!(g in p))&&(h=M?u[g]:b[g],p[g]=v&&"function"!=typeof u[g]?b[g]:T&&M?S(h,P):a&&u[g]==h?function(f){var E=function(I,F,V){if(this instanceof f){switch(arguments.length){case 0:return new f;case 1:return new f(I);case 2:return new f(I,F)}return new f(I,F,V)}return f.apply(this,arguments)};return E[O]=f[O],E}(h):c&&"function"==typeof h?S(Function.call,h):h,c&&((p.virtual||(p.virtual={}))[g]=h,x&A.R&&d&&!d[g]&&D(d,g,h)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,Q.exports=A},function(Q,L){var _=Q.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=_)},function(Q,L,_){Q.exports={default:_(160),__esModule:!0}},function(Q,L,_){var P=_(27),y=_(81),S=_(53),D=Object.defineProperty;L.f=_(21)?Object.defineProperty:function(A,x,k){if(P(A),x=S(x,!0),P(k),y)try{return D(A,x,k)}catch(b){}if("get"in k||"set"in k)throw TypeError("Accessors not supported!");return"value"in k&&(A[x]=k.value),A}},function(Q,L,_){Q.exports=!_(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(Q,L){var _={}.hasOwnProperty;Q.exports=function(P,y){return _.call(P,y)}},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=x(_(6)),D=x(_(0)),A=x(_(1));function x(b){return b&&b.__esModule?b:{default:b}}var k=function(){function b(w,v,m){(0,D.default)(this,b),this.body=v,this.labelModule=m,this.setOptions(w),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,A.default)(b,[{key:"setOptions",value:function(v){this.options=v}},{key:"_setMargins",value:function(v){this.margin={},this.options.margin&&("object"==(0,y.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),v.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(v,m){var c=this.options.borderWidth;return this.resize(v),Math.min(Math.abs(this.width/2/Math.cos(m)),Math.abs(this.height/2/Math.sin(m)))+c}},{key:"enableShadow",value:function(v,m){m.shadow&&(v.shadowColor=m.shadowColor,v.shadowBlur=m.shadowSize,v.shadowOffsetX=m.shadowX,v.shadowOffsetY=m.shadowY)}},{key:"disableShadow",value:function(v,m){m.shadow&&(v.shadowColor="rgba(0,0,0,0)",v.shadowBlur=0,v.shadowOffsetX=0,v.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(v,m){if(!1!==m.borderDashes)if(void 0!==v.setLineDash){var c=m.borderDashes;!0===c&&(c=[5,15]),v.setLineDash(c)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,m.borderDashes=!1}},{key:"disableBorderDashes",value:function(v,m){!1!==m.borderDashes&&(void 0!==v.setLineDash?v.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,m.borderDashes=!1))}},{key:"needsRefresh",value:function(v,m){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(v,m)}},{key:"initContextForDraw",value:function(v,m){v.lineWidth=Math.min(this.width,m.borderWidth/this.body.view.scale),v.strokeStyle=m.borderColor,v.fillStyle=m.color}},{key:"performStroke",value:function(v,m){var c=m.borderWidth/this.body.view.scale;v.save(),c>0&&(this.enableBorderDashes(v,m),v.stroke(),this.disableBorderDashes(v,m)),v.restore()}},{key:"performFill",value:function(v,m){this.enableShadow(v,m),v.fill(),this.disableShadow(v,m),this.performStroke(v,m)}},{key:"_addBoundingBoxMargin",value:function(v){this.boundingBox.left-=v,this.boundingBox.top-=v,this.boundingBox.bottom+=v,this.boundingBox.right+=v}},{key:"_updateBoundingBox",value:function(v,m,c,T,a){void 0!==c&&this.resize(c,T,a),this.left=v-this.width/2,this.top=m-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(v,m,c,T,a){this._updateBoundingBox(v,m,c,T,a)}},{key:"getDimensionsFromLabel",value:function(v,m,c){this.textSize=this.labelModule.getTextSize(v,m,c);var T=this.textSize.width,a=this.textSize.height;return 0===T&&(T=14,a=14),{width:T,height:a}}}]),b}();L.default=k},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(g,M)){this.labelModule.getTextSize(u,g,M);var f=2*h.size;this.width=f,this.height=f,this.radius=.5*this.width}}},{key:"_drawShape",value:function(u,g,M,h,f,E,I,F){this.resize(u,E,I,F),this.left=h-this.width/2,this.top=f-this.height/2,this.initContextForDraw(u,F),u[g](h,f,F.size),this.performFill(u,F),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(u,E,I,h,f,"hanging"),this.labelModule.draw(u,h,f+.5*this.height+.5*this.labelModule.size.height,E,I,"hanging")),this.updateBoundingBox(h,f)}},{key:"updateBoundingBox",value:function(u,g){this.boundingBox.top=g-this.options.size,this.boundingBox.left=u-this.options.size,this.boundingBox.right=u+this.options.size,this.boundingBox.bottom=g+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),p}(c(_(23)).default);L.default=T},function(Q,L,_){var P=_(78),y=_(51);Q.exports=function(S){return P(y(S))}},function(Q,L,_){var P=_(20),y=_(39);Q.exports=_(21)?function(S,D,O){return P.f(S,D,y(1,O))}:function(S,D,O){return S[D]=O,S}},function(Q,L,_){var P=_(32);Q.exports=function(y){if(!P(y))throw TypeError(y+" is not an object!");return y}},function(Q,L){Q.exports=function(_){try{return!!_()}catch(P){return!0}}},function(Q,L,_){Q.exports={default:_(138),__esModule:!0}},function(Q,L,_){L.__esModule=!0;var y=O(_(188)),D=O(_(77));function O(A){return A&&A.__esModule?A:{default:A}}L.default=function(x,k){if(Array.isArray(x))return x;if((0,y.default)(Object(x)))return function(x,k){var b=[],w=!0,v=!1,m=void 0;try{for(var T,c=(0,D.default)(x);!(w=(T=c.next()).done)&&(b.push(T.value),!k||b.length!==k);w=!0);}catch(a){v=!0,m=a}finally{try{!w&&c.return&&c.return()}finally{if(v)throw m}}return b}(x,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(Q,L){Q.exports={}},function(Q,L){Q.exports=function(_){return"object"==typeof _?null!==_:"function"==typeof _}},function(Q,L,_){var P=_(84),y=_(58);Q.exports=Object.keys||function(D){return P(D,y)}},function(Q,L,_){function P(y,S,D){this.x=void 0!==y?y:0,this.y=void 0!==S?S:0,this.z=void 0!==D?D:0}P.subtract=function(y,S){var D=new P;return D.x=y.x-S.x,D.y=y.y-S.y,D.z=y.z-S.z,D},P.add=function(y,S){var D=new P;return D.x=y.x+S.x,D.y=y.y+S.y,D.z=y.z+S.z,D},P.avg=function(y,S){return new P((y.x+S.x)/2,(y.y+S.y)/2,(y.z+S.z)/2)},P.crossProduct=function(y,S){var D=new P;return D.x=y.y*S.z-y.z*S.y,D.y=y.z*S.x-y.x*S.z,D.z=y.x*S.y-y.y*S.x,D},P.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Q.exports=P},function(Q,L,_){var P,S;void 0!==(S="function"==typeof(P=function(){return function(O){var v,A=O&&O.preventDefault||!1,x=O&&O.container||window,k={},b={keydown:{},keyup:{}},w={};for(v=97;v<=122;v++)w[String.fromCharCode(v)]={code:v-97+65,shift:!1};for(v=65;v<=90;v++)w[String.fromCharCode(v)]={code:v,shift:!0};for(v=0;v<=9;v++)w[""+v]={code:48+v,shift:!1};for(v=1;v<=12;v++)w["F"+v]={code:111+v,shift:!1};for(v=0;v<=9;v++)w["num"+v]={code:96+v,shift:!1};w["num*"]={code:106,shift:!1},w["num+"]={code:107,shift:!1},w["num-"]={code:109,shift:!1},w["num/"]={code:111,shift:!1},w["num."]={code:110,shift:!1},w.left={code:37,shift:!1},w.up={code:38,shift:!1},w.right={code:39,shift:!1},w.down={code:40,shift:!1},w.space={code:32,shift:!1},w.enter={code:13,shift:!1},w.shift={code:16,shift:void 0},w.esc={code:27,shift:!1},w.backspace={code:8,shift:!1},w.tab={code:9,shift:!1},w.ctrl={code:17,shift:!1},w.alt={code:18,shift:!1},w.delete={code:46,shift:!1},w.pageup={code:33,shift:!1},w.pagedown={code:34,shift:!1},w["="]={code:187,shift:!1},w["-"]={code:189,shift:!1},w["]"]={code:221,shift:!1},w["["]={code:219,shift:!1};var m=function(a){T(a,"keydown")},c=function(a){T(a,"keyup")},T=function(a,p){if(void 0!==b[p][a.keyCode]){for(var d=b[p][a.keyCode],u=0;u<d.length;u++)(void 0===d[u].shift||1==d[u].shift&&1==a.shiftKey||0==d[u].shift&&0==a.shiftKey)&&d[u].fn(a);1==A&&a.preventDefault()}};return k.bind=function(a,p,d){if(void 0===d&&(d="keydown"),void 0===w[a])throw new Error("unsupported key: "+a);void 0===b[d][w[a].code]&&(b[d][w[a].code]=[]),b[d][w[a].code].push({fn:p,shift:w[a].shift})},k.bindAll=function(a,p){for(var d in void 0===p&&(p="keydown"),w)w.hasOwnProperty(d)&&k.bind(d,a,p)},k.getKey=function(a){for(var p in w)if(w.hasOwnProperty(p)){if(1==a.shiftKey&&1==w[p].shift&&a.keyCode==w[p].code)return p;if(0==a.shiftKey&&0==w[p].shift&&a.keyCode==w[p].code)return p;if(a.keyCode==w[p].code&&"shift"==p)return p}return"unknown key, currently not supported"},k.unbind=function(a,p,d){if(void 0===d&&(d="keydown"),void 0===w[a])throw new Error("unsupported key: "+a);if(void 0!==p){var u=[],g=b[d][w[a].code];if(void 0!==g)for(var M=0;M<g.length;M++)g[M].fn==p&&g[M].shift==w[a].shift||u.push(b[d][w[a].code][M]);b[d][w[a].code]=u}else b[d][w[a].code]=[]},k.reset=function(){b={keydown:{},keyup:{}}},k.destroy=function(){b={keydown:{},keyup:{}},x.removeEventListener("keydown",m,!0),x.removeEventListener("keyup",c,!0)},x.addEventListener("keydown",m,!0),x.addEventListener("keyup",c,!0),k}})?P.apply(L,[]):P)&&(Q.exports=S)},function(Q,L,_){L.convertHiddenOptions=function(P,y,S){if(S&&!Array.isArray(S))return L.convertHiddenOptions(P,y,[S]);if(y.hiddenDates=[],S&&1==Array.isArray(S)){for(var D=0;D<S.length;D++)if(void 0===S[D].repeat){var O={};O.start=P(S[D].start).toDate().valueOf(),O.end=P(S[D].end).toDate().valueOf(),y.hiddenDates.push(O)}y.hiddenDates.sort(function(A,x){return A.start-x.start})}},L.updateHiddenDates=function(P,y,S){if(S&&!Array.isArray(S))return L.updateHiddenDates(P,y,[S]);if(S&&void 0!==y.domProps.centerContainer.width){L.convertHiddenOptions(P,y,S);for(var D=P(y.range.start),O=P(y.range.end),x=(y.range.end-y.range.start)/y.domProps.centerContainer.width,k=0;k<S.length;k++)if(void 0!==S[k].repeat){var b=P(S[k].start),w=P(S[k].end);if("Invalid Date"==b._d)throw new Error("Supplied start date is not valid: "+S[k].start);if("Invalid Date"==w._d)throw new Error("Supplied end date is not valid: "+S[k].end);if(w-b>=4*x){var m=0,c=O.clone();switch(S[k].repeat){case"daily":b.day()!=w.day()&&(m=1),b.dayOfYear(D.dayOfYear()),b.year(D.year()),b.subtract(7,"days"),w.dayOfYear(D.dayOfYear()),w.year(D.year()),w.subtract(7-m,"days"),c.add(1,"weeks");break;case"weekly":var T=w.diff(b,"days"),a=b.day();b.date(D.date()),b.month(D.month()),b.year(D.year()),w=b.clone(),b.day(a),w.day(a),w.add(T,"days"),b.subtract(1,"weeks"),w.subtract(1,"weeks"),c.add(1,"weeks");break;case"monthly":b.month()!=w.month()&&(m=1),b.month(D.month()),b.year(D.year()),b.subtract(1,"months"),w.month(D.month()),w.year(D.year()),w.subtract(1,"months"),w.add(m,"months"),c.add(1,"months");break;case"yearly":b.year()!=w.year()&&(m=1),b.year(D.year()),b.subtract(1,"years"),w.year(D.year()),w.subtract(1,"years"),w.add(m,"years"),c.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",S[k].repeat)}for(;b<c;)switch(y.hiddenDates.push({start:b.valueOf(),end:w.valueOf()}),S[k].repeat){case"daily":b.add(1,"days"),w.add(1,"days");break;case"weekly":b.add(1,"weeks"),w.add(1,"weeks");break;case"monthly":b.add(1,"months"),w.add(1,"months");break;case"yearly":b.add(1,"y"),w.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",S[k].repeat)}y.hiddenDates.push({start:b.valueOf(),end:w.valueOf()})}}L.removeDuplicates(y);var p=L.isHidden(y.range.start,y.hiddenDates),d=L.isHidden(y.range.end,y.hiddenDates),u=y.range.start,g=y.range.end;1==p.hidden&&(u=1==y.range.startToFront?p.startDate-1:p.endDate+1),1==d.hidden&&(g=1==y.range.endToFront?d.startDate-1:d.endDate+1),(1==p.hidden||1==d.hidden)&&y.range._applyRange(u,g)}},L.removeDuplicates=function(P){for(var y=P.hiddenDates,S=[],D=0;D<y.length;D++)for(var O=0;O<y.length;O++)D!=O&&1!=y[O].remove&&1!=y[D].remove&&(y[O].start>=y[D].start&&y[O].end<=y[D].end?y[O].remove=!0:y[O].start>=y[D].start&&y[O].start<=y[D].end?(y[D].end=y[O].end,y[O].remove=!0):y[O].end>=y[D].start&&y[O].end<=y[D].end&&(y[D].start=y[O].start,y[O].remove=!0));for(D=0;D<y.length;D++)!0!==y[D].remove&&S.push(y[D]);P.hiddenDates=S,P.hiddenDates.sort(function(A,x){return A.start-x.start})},L.printDates=function(P){for(var y=0;y<P.length;y++)console.log(y,new Date(P[y].start),new Date(P[y].end),P[y].start,P[y].end,P[y].remove)},L.stepOverHiddenDates=function(P,y,S){for(var D=!1,O=y.current.valueOf(),A=0;A<y.hiddenDates.length;A++){var k=y.hiddenDates[A].end;if(O>=y.hiddenDates[A].start&&O<k){D=!0;break}}if(1==D&&O<y._end.valueOf()&&O!=S){var b=P(S),w=P(k);b.year()!=w.year()?y.switchedYear=!0:b.month()!=w.month()?y.switchedMonth=!0:b.dayOfYear()!=w.dayOfYear()&&(y.switchedDay=!0),y.current=w}},L.toScreen=function(P,y,S){var D;if(0==P.body.hiddenDates.length)return D=P.range.conversion(S),(y.valueOf()-D.offset)*D.scale;var O=L.isHidden(y,P.body.hiddenDates);1==O.hidden&&(y=O.startDate);var A=L.getHiddenDurationBetween(P.body.hiddenDates,P.range.start,P.range.end);if(y<P.range.start){D=P.range.conversion(S,A);var x=L.getHiddenDurationBeforeStart(P.body.hiddenDates,y,D.offset);return y=P.options.moment(y).toDate().valueOf(),-(D.offset-(y+=x).valueOf())*D.scale}return y>P.range.end?(y=L.correctTimeForHidden(P.options.moment,P.body.hiddenDates,{start:P.range.start,end:y},y),D=P.range.conversion(S,A),(y.valueOf()-D.offset)*D.scale):(y=L.correctTimeForHidden(P.options.moment,P.body.hiddenDates,P.range,y),D=P.range.conversion(S,A),(y.valueOf()-D.offset)*D.scale)},L.toTime=function(P,y,S){if(0==P.body.hiddenDates.length){var D=P.range.conversion(S);return new Date(y/D.scale+D.offset)}var O=L.getHiddenDurationBetween(P.body.hiddenDates,P.range.start,P.range.end),x=(P.range.end-P.range.start-O)*y/S,k=L.getAccumulatedHiddenDuration(P.body.hiddenDates,P.range,x);return new Date(k+x+P.range.start)},L.getHiddenDurationBetween=function(P,y,S){for(var D=0,O=0;O<P.length;O++){var A=P[O].start,x=P[O].end;A>=y&&x<S&&(D+=x-A)}return D},L.getHiddenDurationBeforeStart=function(P,y,S){for(var D=0,O=0;O<P.length;O++){var A=P[O].start,x=P[O].end;A>=y&&x<=S&&(D+=x-A)}return D},L.correctTimeForHidden=function(P,y,S,D){return(D=P(D).toDate().valueOf())-L.getHiddenDurationBefore(P,y,S,D)},L.getHiddenDurationBefore=function(P,y,S,D){var O=0;D=P(D).toDate().valueOf();for(var A=0;A<y.length;A++){var x=y[A].start,k=y[A].end;x>=S.start&&k<S.end&&D>=k&&(O+=k-x)}return O},L.getAccumulatedHiddenDuration=function(P,y,S){for(var D=0,O=0,A=y.start,x=0;x<P.length;x++){var k=P[x].start,b=P[x].end;if(k>=y.start&&b<y.end){if(O+=k-A,A=b,O>=S)break;D+=b-k}}return D},L.snapAwayFromHidden=function(P,y,S,D){var O=L.isHidden(y,P);return 1==O.hidden?S<0?1==D?O.startDate-(O.endDate-y)-1:O.startDate-1:1==D?O.endDate+(y-O.startDate)+1:O.endDate+1:y},L.isHidden=function(P,y){for(var S=0;S<y.length;S++){var D=y[S].start,O=y[S].end;if(P>=D&&P<O)return{hidden:!0,startDate:D,endDate:O}}return{hidden:!1,startDate:D,endDate:O}}},function(Q,L,_){L.onTouch=function(P,y){y.inputHandler=function(S){S.isFirst&&y(S)},P.on("hammer.input",y.inputHandler)},L.onRelease=function(P,y){return y.inputHandler=function(S){S.isFinal&&y(S)},P.on("hammer.input",y.inputHandler)},L.offTouch=function(P,y){P.off("hammer.input",y.inputHandler)},L.offRelease=L.offTouch,L.disablePreventDefaultVertically=function(P){return P.getTouchAction=function(){return["pan-y"]},P}},function(Q,L,_){var y=O(_(6)),D=O(_(8));function O(w){return w&&w.__esModule?w:{default:w}}var A=_(10),x=_(2),k=_(9);function b(w,v,m){this.id=null,this.parent=null,this.data=w,this.dom=null,this.conversion=v||{},this.options=m||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}b.prototype.stack=!0,b.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},b.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},b.prototype.setData=function(w){null!=w.group&&this.data.group!=w.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,w.group),this.parent&&(this.parent.stackDirty=!0),null!=w.subgroup&&this.data.subgroup!=w.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,w.subgroup),this.data=w,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},b.prototype.setParent=function(w){this.displayed?(this.hide(),this.parent=w,this.parent&&this.show()):this.parent=w},b.prototype.isVisible=function(w){return!1},b.prototype.show=function(){return!1},b.prototype.hide=function(){return!1},b.prototype.redraw=function(){},b.prototype.repositionX=function(){},b.prototype.repositionY=function(){},b.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var w=this,v=document.createElement("div");v.className="vis-drag-center",v.dragCenterItem=this;var m=new A(v);m.on("tap",function(c){w.parent.itemSet.body.emitter.emit("click",{event:c,item:w.id})}),m.on("doubletap",function(c){c.stopPropagation(),w.parent.itemSet._onUpdateItem(w),w.parent.itemSet.body.emitter.emit("doubleClick",{event:c,item:w.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(v,this.dom.dragLeft):this.dom.box.appendChild(v):this.dom.point&&this.dom.point.appendChild(v),this.dom.dragCenter=v}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},b.prototype._repaintDeleteButton=function(w){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var m=this,c=document.createElement("div");c.className=this.options.rtl?"vis-delete-rtl":"vis-delete",c.title="Delete this item",new A(c).on("tap",function(T){T.stopPropagation(),m.parent.removeFromDataSet(m)}),w.appendChild(c),this.dom.deleteButton=c}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},b.prototype._repaintOnItemUpdateTimeTooltip=function(w){if(this.options.tooltipOnItemUpdateTime){var d;if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var m=document.createElement("div");m.className="vis-onUpdateTime-tooltip",w.appendChild(m),this.dom.onItemUpdateTimeTooltip=m}this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?d=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(d="start: "+k(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(d+="<br> end: "+k(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=d)}},b.prototype._updateContents=function(w){var v,c,T,a,p=this.parent.itemSet.itemsData.get(this.id),d=this.dom.box||this.dom.point,u=d.getElementsByClassName("vis-item-visible-frame")[0];if(T=this.options.visibleFrameTemplate?(a=this.options.visibleFrameTemplate.bind(this))(p,d):"",u)if(T instanceof Object&&!(T instanceof Element))a(p,u);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(T)){if(T instanceof Element)u.innerHTML="",u.appendChild(T);else if(null!=T)u.innerHTML=T;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=T}if((v=this.options.template?(c=this.options.template.bind(this))(p,w,this.data):this.data.content)instanceof Object&&!(v instanceof Element))c(p,w);else if(this._contentToString(this.content)!==this._contentToString(v)){if(v instanceof Element)w.innerHTML="",w.appendChild(v);else if(null!=v)w.innerHTML=v;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=v}},b.prototype._updateDataAttributes=function(w){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var v=[];if(Array.isArray(this.options.dataAttributes))v=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;v=(0,D.default)(this.data)}for(var m=0;m<v.length;m++){var c=v[m],T=this.data[c];null!=T?w.setAttribute("data-"+c,T):w.removeAttribute("data-"+c)}}},b.prototype._updateStyle=function(w){this.style&&(x.removeCssText(w,this.style),this.style=null),this.data.style&&(x.addCssText(w,this.data.style),this.style=this.data.style)},b.prototype._contentToString=function(w){return"string"==typeof w?w:w&&"outerHTML"in w?w.outerHTML:w},b.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,y.default)(this.options.editable)&&(this.editable={},x.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||!0!==this.options.editable.overrideItems)&&this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,y.default)(this.data.editable)&&(this.editable={},x.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},b.prototype.getWidthLeft=function(){return 0},b.prototype.getWidthRight=function(){return 0},b.prototype.getTitle=function(){return this.data.title},Q.exports=b},function(Q,L){Q.exports=function(_,P){return{enumerable:!(1&_),configurable:!(2&_),writable:!(4&_),value:P}}},function(Q,L){var _=0,P=Math.random();Q.exports=function(y){return"Symbol(".concat(void 0===y?"":y,")_",(++_+P).toString(36))}},function(Q,L,_){var P=_(51);Q.exports=function(y){return Object(P(y))}},function(Q,L){L.f={}.propertyIsEnumerable},function(Q,L,_){function P(y){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(y)}P.prototype.setOptions=function(y){y&&void 0!==y.delay&&(this.delay=y.delay),y&&void 0!==y.max&&(this.max=y.max),this._flushIfNeeded()},P.extend=function(y,S){var D=new P(S);if(void 0!==y.flush)throw new Error("Target object already has a property flush");y.flush=function(){D.flush()};var O=[{name:"flush",original:void 0}];if(S&&S.replace)for(var A=0;A<S.replace.length;A++){var x=S.replace[A];O.push({name:x,original:y[x]}),D.replace(y,x)}return D._extended={object:y,methods:O},D},P.prototype.destroy=function(){if(this.flush(),this._extended){for(var y=this._extended.object,S=this._extended.methods,D=0;D<S.length;D++){var O=S[D];O.original?y[O.name]=O.original:delete y[O.name]}this._extended=null}},P.prototype.replace=function(y,S){var D=this,O=y[S];if(!O)throw new Error("Method "+S+" undefined");y[S]=function(){for(var A=[],x=0;x<arguments.length;x++)A[x]=arguments[x];D.queue({args:A,fn:O,context:this})}},P.prototype.queue=function(y){this._queue.push("function"==typeof y?{fn:y}:y),this._flushIfNeeded()},P.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var y=this;this._timeout=setTimeout(function(){y.flush()},this.delay)}},P.prototype.flush=function(){for(;this._queue.length>0;){var y=this._queue.shift();y.fn.apply(y.context||y.fn,y.args||[])}},Q.exports=P},function(Q,L){function _(y){if(y)return function(y){for(var S in _.prototype)y[S]=_.prototype[S];return y}(y)}Q.exports=_,_.prototype.on=_.prototype.addEventListener=function(y,S){return this._callbacks=this._callbacks||{},(this._callbacks[y]=this._callbacks[y]||[]).push(S),this},_.prototype.once=function(y,S){var D=this;function O(){D.off(y,O),S.apply(this,arguments)}return this._callbacks=this._callbacks||{},O.fn=S,this.on(y,O),this},_.prototype.off=_.prototype.removeListener=_.prototype.removeAllListeners=_.prototype.removeEventListener=function(y,S){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var D=this._callbacks[y];if(!D)return this;if(1==arguments.length)return delete this._callbacks[y],this;for(var O,A=0;A<D.length;A++)if((O=D[A])===S||O.fn===S){D.splice(A,1);break}return this},_.prototype.emit=function(y){this._callbacks=this._callbacks||{};var S=[].slice.call(arguments,1),D=this._callbacks[y];if(D)for(var O=0,A=(D=D.slice(0)).length;O<A;++O)D[O].apply(this,S);return this},_.prototype.listeners=function(y){return this._callbacks=this._callbacks||{},this._callbacks[y]||[]},_.prototype.hasListeners=function(y){return!!this.listeners(y).length}},function(Q,L,_){var v,y=(v=_(6))&&v.__esModule?v:{default:v};var D=_(2),O=_(16),A=_(66),x=_(36),k=_(9);function b(v,m){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:A.FORMAT,moment:k,timeAxis:null},this.options=D.extend({},this.defaultOptions),this.body=v,this._create(),this.setOptions(m)}(b.prototype=new O).setOptions=function(v){v&&(D.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,v),D.selectiveDeepExtend(["format"],this.options,v),"orientation"in v&&("string"==typeof v.orientation?this.options.orientation.axis=v.orientation:"object"===(0,y.default)(v.orientation)&&"axis"in v.orientation&&(this.options.orientation.axis=v.orientation.axis)),"locale"in v&&("function"==typeof k.locale?k.locale(v.locale):k.lang(v.locale)))},b.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},b.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},b.prototype.redraw=function(){var v=this.props,m=this.dom.foreground,c=this.dom.background,T="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,a=m.parentNode!==T;this._calculateCharSize();var d=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;v.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?v.minorCharHeight:0,v.majorLabelHeight=d?v.majorCharHeight:0,v.height=v.minorLabelHeight+v.majorLabelHeight,v.width=m.offsetWidth,v.minorLineHeight=this.body.domProps.root.height-v.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),v.minorLineWidth=1,v.majorLineHeight=v.minorLineHeight+v.majorLabelHeight,v.majorLineWidth=1;var u=m.nextSibling,g=c.nextSibling;return m.parentNode&&m.parentNode.removeChild(m),c.parentNode&&c.parentNode.removeChild(c),m.style.height=this.props.height+"px",this._repaintLabels(),u?T.insertBefore(m,u):T.appendChild(m),g?this.body.dom.backgroundVertical.insertBefore(c,g):this.body.dom.backgroundVertical.appendChild(c),this._isResized()||a},b.prototype._repaintLabels=function(){var v=this.options.orientation.axis,m=D.convert(this.body.range.start,"Number"),c=D.convert(this.body.range.end,"Number"),T=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),a=T-x.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,T);a-=this.body.util.toTime(0).valueOf();var p=new A(new Date(m),new Date(c),a,this.body.hiddenDates,this.options);p.setMoment(this.options.moment),this.options.format&&p.setFormat(this.options.format),this.options.timeAxis&&p.setScale(this.options.timeAxis),this.step=p;var d=this.dom;d.redundant.lines=d.lines,d.redundant.majorTexts=d.majorTexts,d.redundant.minorTexts=d.minorTexts,d.lines=[],d.majorTexts=[],d.minorTexts=[];var g,M,h,f,I,V,z,U,oe,F=0,j=void 0,K=0;for(p.start(),g=p.getCurrent(),h=this.body.util.toScreen(g);p.hasNext()&&K<1e3;){switch(K++,f=p.isMajor(),oe=p.getClassName(),U=p.getLabelMinor(),M=h,p.next(),g=p.getCurrent(),p.isMajor(),V=F,F=(h=this.body.util.toScreen(g))-M,p.scale){case"week":I=!0;break;default:I=F>=.4*V}if(this.options.showMinorLabels&&I){var le=this._repaintMinorText(M,U,v,oe);le.style.width=F+"px"}f&&this.options.showMajorLabels?(M>0&&(null==j&&(j=M),le=this._repaintMajorText(M,p.getLabelMajor(),v,oe)),z=this._repaintMajorLine(M,F,v,oe)):I?z=this._repaintMinorLine(M,F,v,oe):z&&(z.style.width=parseInt(z.style.width)+F+"px")}if(1e3===K&&!w&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),w=!0),this.options.showMajorLabels){var pe=this.body.util.toTime(0),Ee=p.getLabelMajor(pe);(null==j||Ee.length*(this.props.majorCharWidth||10)+10<j)&&this._repaintMajorText(0,Ee,v,oe)}D.forEach(this.dom.redundant,function(_e){for(;_e.length;){var ge=_e.pop();ge&&ge.parentNode&&ge.parentNode.removeChild(ge)}})},b.prototype._repaintMinorText=function(v,m,c,T){var a=this.dom.redundant.minorTexts.shift();if(!a){var p=document.createTextNode("");(a=document.createElement("div")).appendChild(p),this.dom.foreground.appendChild(a)}return this.dom.minorTexts.push(a),a.innerHTML=m,a.style.top="top"==c?this.props.majorLabelHeight+"px":"0",this.options.rtl?(a.style.left="",a.style.right=v+"px"):a.style.left=v+"px",a.className="vis-text vis-minor "+T,a},b.prototype._repaintMajorText=function(v,m,c,T){var a=this.dom.redundant.majorTexts.shift();if(!a){var p=document.createElement("div");(a=document.createElement("div")).appendChild(p),this.dom.foreground.appendChild(a)}return a.childNodes[0].innerHTML=m,a.className="vis-text vis-major "+T,a.style.top="top"==c?"0":this.props.minorLabelHeight+"px",this.options.rtl?(a.style.left="",a.style.right=v+"px"):a.style.left=v+"px",this.dom.majorTexts.push(a),a},b.prototype._repaintMinorLine=function(v,m,c,T){var a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);var p=this.props;return a.style.top="top"==c?p.majorLabelHeight+"px":this.body.domProps.top.height+"px",a.style.height=p.minorLineHeight+"px",this.options.rtl?(a.style.left="",a.style.right=v-p.minorLineWidth/2+"px",a.className="vis-grid vis-vertical-rtl vis-minor "+T):(a.style.left=v-p.minorLineWidth/2+"px",a.className="vis-grid vis-vertical vis-minor "+T),a.style.width=m+"px",a},b.prototype._repaintMajorLine=function(v,m,c,T){var a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);var p=this.props;return a.style.top="top"==c?"0":this.body.domProps.top.height+"px",this.options.rtl?(a.style.left="",a.style.right=v-p.majorLineWidth/2+"px",a.className="vis-grid vis-vertical-rtl vis-major "+T):(a.style.left=v-p.majorLineWidth/2+"px",a.className="vis-grid vis-vertical vis-major "+T),a.style.height=p.majorLineHeight+"px",a.style.width=m+"px",a},b.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var w=!1;Q.exports=b},function(Q,L,_){var P=_(10),y=_(2),S=_(16),D=_(9),O=_(98);function A(x,k){this.body=x,this.defaultOptions={moment:D,locales:O,locale:"en",id:void 0,title:void 0},this.options=y.extend({},this.defaultOptions),this.customTime=k&&k.time?k.time:new Date,this.eventParams={},this.setOptions(k),this._create()}(A.prototype=new S).setOptions=function(x){x&&y.selectiveExtend(["moment","locale","locales","id"],this.options,x)},A.prototype._create=function(){var x=document.createElement("div");x["custom-time"]=this,x.className="vis-custom-time "+(this.options.id||""),x.style.position="absolute",x.style.top="0px",x.style.height="100%",this.bar=x;var k=document.createElement("div");function b(w){this.body.range._onMouseWheel(w)}k.style.position="relative",k.style.top="0px",k.style.left="-10px",k.style.height="100%",k.style.width="20px",k.addEventListener?(k.addEventListener("mousewheel",b.bind(this),!1),k.addEventListener("DOMMouseScroll",b.bind(this),!1)):k.attachEvent("onmousewheel",b.bind(this)),x.appendChild(k),this.hammer=new P(k),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:P.DIRECTION_HORIZONTAL})},A.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},A.prototype.redraw=function(){var x=this.body.dom.backgroundVertical;this.bar.parentNode!=x&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),x.appendChild(this.bar));var k=this.body.util.toScreen(this.customTime),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),b=this.options.locales.en);var w=this.options.title;return void 0===w?w=(w=b.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+w.substring(1):"function"==typeof w&&(w=w.call(this.customTime)),this.bar.style.left=k+"px",this.bar.title=w,!1},A.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},A.prototype.setCustomTime=function(x){this.customTime=y.convert(x,"Date"),this.redraw()},A.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},A.prototype.setCustomTitle=function(x){this.options.title=x},A.prototype._onDragStart=function(x){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,x.stopPropagation()},A.prototype._onDrag=function(x){if(this.eventParams.dragging){var k=this.body.util.toScreen(this.eventParams.customTime)+x.deltaX,b=this.body.util.toTime(k);this.setCustomTime(b),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:x}),x.stopPropagation()}},A.prototype._onDragEnd=function(x){!this.eventParams.dragging||(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:x}),x.stopPropagation())},A.customTimeFromTarget=function(x){for(var k=x.target;k;){if(k.hasOwnProperty("custom-time"))return k["custom-time"];k=k.parentNode}return null},Q.exports=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(z){return z&&z.__esModule?z:{default:z}}var A=_(2),x=_(117).default,k=_(48).default,b=_(193).default,w=_(200).default,v=_(201).default,m=_(202).default,c=_(203).default,T=_(204).default,a=_(205).default,p=_(206).default,d=_(207).default,u=_(208).default,g=_(209).default,M=_(210).default,h=_(211).default,f=_(212).default,E=_(213).default,F=_(15).printStyle,V=function(){function z(U,j,K,te,oe,le){(0,y.default)(this,z),this.options=A.bridgeObject(oe),this.globalOptions=oe,this.defaultOptions=le,this.body=j,this.edges=[],this.id=void 0,this.imagelist=K,this.grouplist=te,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new x(this.body,this.options,!1),this.setOptions(U)}return(0,D.default)(z,[{key:"attachEdge",value:function(j){-1===this.edges.indexOf(j)&&this.edges.push(j)}},{key:"detachEdge",value:function(j){var K=this.edges.indexOf(j);-1!=K&&this.edges.splice(K,1)}},{key:"setOptions",value:function(j){var K=this.options.shape;if(j){if(void 0!==j.id&&(this.id=j.id),void 0===this.id)throw new Error("Node must have an id");return z.checkMass(j,this.id),void 0!==j.x&&(null===j.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(j.x),this.predefinedPosition=!0)),void 0!==j.y&&(null===j.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(j.y),this.predefinedPosition=!0)),void 0!==j.size&&(this.baseSize=j.size),void 0!==j.value&&(j.value=parseFloat(j.value)),z.parseOptions(this.options,j,!0,this.globalOptions,this.grouplist),this.chooser=k.choosify("node",[j,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(j),this.updateShape(K),void 0!==j.hidden||void 0!==j.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var j={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(j.borderWidth*=2,j.color=this.options.color.highlight.background,j.borderColor=this.options.color.highlight.border,j.shadow=this.options.shadow.enabled):this.hover&&(j.color=this.options.color.hover.background,j.borderColor=this.options.color.hover.border,j.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(j,this.options.id,this.selected,this.hover),!1===j.shadow&&(j.shadowColor!==this.options.shadow.color||j.shadowSize!==this.options.shadow.size||j.shadowX!==this.options.shadow.x||j.shadowY!==this.options.shadow.y)&&(j.shadow=!0)):j.shadow=this.options.shadow.enabled,j}},{key:"updateLabelModule",value:function(j){null==this.options.label&&(this.options.label=""),z.updateGroupOptions(this.options,j,this.grouplist);var K=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[j,this.options,K,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(j){if(j===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new b(this.options,this.body,this.labelModule);break;case"circle":this.shape=new w(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new m(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new c(this.options,this.body,this.labelModule);break;case"dot":this.shape=new T(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new a(this.options,this.body,this.labelModule);break;case"icon":this.shape=new p(this.options,this.body,this.labelModule);break;case"image":this.shape=new d(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new u(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new g(this.options,this.body,this.labelModule);break;case"star":this.shape=new M(this.options,this.body,this.labelModule);break;case"text":this.shape=new h(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new f(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new E(this.options,this.body,this.labelModule);break;default:this.shape=new a(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(j,K){return this.shape.distanceToBorder(j,K)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(j,K,te){if(void 0!==this.options.value){var oe=this.options.scaling.customScalingFunction(j,K,te,this.options.value),le=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+oe*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+oe*le}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(j){var K=this.getFormattingValues();this.shape.draw(j,this.x,this.y,this.selected,this.hover,K)}},{key:"updateBoundingBox",value:function(j){this.shape.updateBoundingBox(this.x,this.y,j)}},{key:"resize",value:function(j){var K=this.getFormattingValues();this.shape.resize(j,this.selected,this.hover,K)}},{key:"getItemsOnPoint",value:function(j){var K=[];return this.labelModule.visible()&&k.pointInRect(this.labelModule.getSize(),j)&&K.push({nodeId:this.id,labelId:0}),k.pointInRect(this.shape.boundingBox,j)&&K.push({nodeId:this.id}),K}},{key:"isOverlappingWith",value:function(j){return this.shape.left<j.right&&this.shape.left+this.shape.width>j.left&&this.shape.top<j.bottom&&this.shape.top+this.shape.height>j.top}},{key:"isBoundingBoxOverlappingWith",value:function(j){return this.shape.boundingBox.left<j.right&&this.shape.boundingBox.right>j.left&&this.shape.boundingBox.top<j.bottom&&this.shape.boundingBox.bottom>j.top}}],[{key:"updateGroupOptions",value:function(j,K,te){if(void 0!==te){var oe=j.group;if(void 0!==K&&void 0!==K.group&&oe!==K.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof oe||"string"==typeof oe&&""!=oe){var pe=te.get(oe);A.selectiveNotDeepExtend(["font"],j,pe),j.color=A.parseColor(j.color)}}}},{key:"parseOptions",value:function(j,K){var te=arguments.length>2&&void 0!==arguments[2]&&arguments[2],oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},le=arguments[4];if(A.selectiveNotDeepExtend(["color","fixed","shadow"],j,K,te),z.checkMass(K),A.mergeOptions(j,K,"shadow",oe),null!=K.color){var Ee=A.parseColor(K.color);A.fillIfDefined(j.color,Ee)}else!0===te&&null===K.color&&(j.color=A.bridgeObject(oe.color));null!=K.fixed&&("boolean"==typeof K.fixed?(j.fixed.x=K.fixed,j.fixed.y=K.fixed):(void 0!==K.fixed.x&&"boolean"==typeof K.fixed.x&&(j.fixed.x=K.fixed.x),void 0!==K.fixed.y&&"boolean"==typeof K.fixed.y&&(j.fixed.y=K.fixed.y))),!0===te&&null===K.font&&(j.font=A.bridgeObject(oe.font)),z.updateGroupOptions(j,K,le),void 0!==K.scaling&&A.mergeOptions(j.scaling,K.scaling,"label",oe.scaling)}},{key:"checkMass",value:function(j,K){if(void 0!==j.mass&&j.mass<=0){var te="";void 0!==K&&(te=" in node id: "+K),console.log("%cNegative or zero mass disallowed"+te+", setting mass to 1.",F),j.mass=1}}}]),z}();L.default=V},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=x(_(6)),D=x(_(0)),A=x(_(1));function x(w){return w&&w.__esModule?w:{default:w}}var k=_(2),b=function(){function w(){(0,D.default)(this,w)}return(0,A.default)(w,null,[{key:"choosify",value:function(m,c){var T=["node","edge","label"],a=!0,p=k.topMost(c,"chosen");if("boolean"==typeof p)a=p;else if("object"===(void 0===p?"undefined":(0,y.default)(p))){if(-1===T.indexOf(m))throw new Error("choosify: subOption '"+m+"' should be one of '"+T.join("', '")+"'");var d=k.topMost(c,["chosen",m]);("boolean"==typeof d||"function"==typeof d)&&(a=d)}return a}},{key:"pointInRect",value:function(m,c,T){if(m.width<=0||m.height<=0)return!1;if(void 0!==T){var a={x:c.x-T.x,y:c.y-T.y};if(0!==T.angle){var p=-T.angle;c={x:Math.cos(p)*a.x-Math.sin(p)*a.y,y:Math.sin(p)*a.x+Math.cos(p)*a.y}}else c=a}return m.left<c.x&&m.x+m.width>c.x&&m.top<c.y&&m.y+m.width>c.y}},{key:"isValidLabel",value:function(m){return"string"==typeof m&&""!==m}}]),w}();L.default=b},function(Q,L,_){_(125);for(var P=_(18),y=_(26),S=_(31),D=_(13)("toStringTag"),O="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),A=0;A<O.length;A++){var x=O[A],k=P[x],b=k&&k.prototype;b&&!b[D]&&y(b,D,x),S[x]=S.Array}},function(Q,L){var _={}.toString;Q.exports=function(P){return _.call(P).slice(8,-1)}},function(Q,L){Q.exports=function(_){if(null==_)throw TypeError("Can't call method on  "+_);return _}},function(Q,L){Q.exports=!0},function(Q,L,_){var P=_(32);Q.exports=function(y,S){if(!P(y))return y;var D,O;if(S&&"function"==typeof(D=y.toString)&&!P(O=D.call(y))||"function"==typeof(D=y.valueOf)&&!P(O=D.call(y))||!S&&"function"==typeof(D=y.toString)&&!P(O=D.call(y)))return O;throw TypeError("Can't convert object to primitive value")}},function(Q,L,_){var P=_(27),y=_(130),S=_(58),D=_(56)("IE_PROTO"),O=function(){},A="prototype",x=function(){var m,k=_(82)("iframe"),b=S.length;for(k.style.display="none",_(134).appendChild(k),k.src="javascript:",(m=k.contentWindow.document).open(),m.write("<script>document.F=Object<\/script>"),m.close(),x=m.F;b--;)delete x[A][S[b]];return x()};Q.exports=Object.create||function(b,w){var v;return null!==b?(O[A]=P(b),v=new O,O[A]=null,v[D]=b):v=x(),void 0===w?v:y(v,w)}},function(Q,L){var _=Math.ceil,P=Math.floor;Q.exports=function(y){return isNaN(y=+y)?0:(y>0?P:_)(y)}},function(Q,L,_){var P=_(57)("keys"),y=_(40);Q.exports=function(S){return P[S]||(P[S]=y(S))}},function(Q,L,_){var P=_(18),y="__core-js_shared__",S=P[y]||(P[y]={});Q.exports=function(D){return S[D]||(S[D]={})}},function(Q,L){Q.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(Q,L,_){var P=_(20).f,y=_(22),S=_(13)("toStringTag");Q.exports=function(D,O,A){D&&!y(D=A?D:D.prototype,S)&&P(D,S,{configurable:!0,value:O})}},function(Q,L,_){var P=_(135)(!0);_(79)(String,"String",function(y){this._t=String(y),this._i=0},function(){var D,y=this._t,S=this._i;return S>=y.length?{value:void 0,done:!0}:(D=P(y,S),this._i+=D.length,{value:D,done:!1})})},function(Q,L,_){L.f=_(13)},function(Q,L,_){var P=_(18),y=_(7),S=_(52),D=_(61),O=_(20).f;Q.exports=function(A){var x=y.Symbol||(y.Symbol=S?{}:P.Symbol||{});"_"!=A.charAt(0)&&!(A in x)&&O(x,A,{value:D.f(A)})}},function(Q,L){L.f=Object.getOwnPropertySymbols},function(Q,L,_){var y=x(_(8)),D=x(_(19)),A=x(_(6));function x(T){return T&&T.__esModule?T:{default:T}}var k=_(2),b=_(9),w=_(16),v=_(36);function m(T,a){var p=b().hours(0).minutes(0).seconds(0).milliseconds(0),d=p.clone().add(-3,"days").valueOf(),u=p.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===a?(this.start=d,this.end=u):(this.start=a.start||d,this.end=a.end||u),this.rolling=!1,this.body=T,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:b,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=k.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(a)}function c(T){if("horizontal"!=T&&"vertical"!=T)throw new TypeError('Unknown direction "'+T+'". Choose "horizontal" or "vertical".')}(m.prototype=new w).setOptions=function(T){T&&(k.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,T),T.rollingMode&&T.rollingMode.follow&&this.startRolling(),("start"in T||"end"in T)&&this.setRange(T.start,T.end))},m.prototype.startRolling=function(){var T=this;!function a(){T.stopRolling(),T.rolling=!0;var p=T.end-T.start,d=k.convert(new Date,"Date").valueOf();T.setRange(d-p*T.options.rollingMode.offset,d+p*(1-T.options.rollingMode.offset),{animation:!1}),(p=1/T.conversion(T.body.domProps.center.width).scale/10)<30&&(p=30),p>1e3&&(p=1e3),T.body.dom.rollingModeBtn.style.visibility="hidden",T.currentTimeTimer=setTimeout(a,p)}()},m.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},m.prototype.setRange=function(T,a,p,d,u){p||(p={}),!0!==p.byUser&&(p.byUser=!1);var g=this,M=null!=T?k.convert(T,"Date").valueOf():null,h=null!=a?k.convert(a,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,p.animation){var f=this.start,E=this.end,I="object"===(0,A.default)(p.animation)&&"duration"in p.animation?p.animation.duration:500,F="object"===(0,A.default)(p.animation)&&"easingFunction"in p.animation?p.animation.easingFunction:"easeInOutQuad",V=k.easingFunctions[F];if(!V)throw new Error("Unknown easing function "+(0,D.default)(F)+". Choose from: "+(0,y.default)(k.easingFunctions).join(", "));var z=(new Date).valueOf(),U=!1;return function oe(){if(!g.props.touch.dragging){var pe=(new Date).valueOf()-z,Ee=V(pe/I),Ce=pe>I;K=g._applyRange(Ce||null===M?M:f+(M-f)*Ee,Ce||null===h?h:E+(h-E)*Ee),v.updateHiddenDates(g.options.moment,g.body,g.options.hiddenDates),U=U||K;var ue={start:new Date(g.start),end:new Date(g.end),byUser:p.byUser,event:p.event};if(u&&u(Ee,K,Ce),K&&g.body.emitter.emit("rangechange",ue),Ce){if(U&&(g.body.emitter.emit("rangechanged",ue),d))return d()}else g.animationTimer=setTimeout(oe,20)}}()}var K=this._applyRange(M,h);if(v.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),K){var te={start:new Date(this.start),end:new Date(this.end),byUser:p.byUser,event:p.event};if(this.body.emitter.emit("rangechange",te),clearTimeout(g.timeoutID),g.timeoutID=setTimeout(function(){g.body.emitter.emit("rangechanged",te)},200),d)return d()}},m.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},m.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},m.prototype._applyRange=function(T,a){var M,p=null!=T?k.convert(T,"Date").valueOf():this.start,d=null!=a?k.convert(a,"Date").valueOf():this.end,u=null!=this.options.max?k.convert(this.options.max,"Date").valueOf():null,g=null!=this.options.min?k.convert(this.options.min,"Date").valueOf():null;if(isNaN(p)||null===p)throw new Error('Invalid start "'+T+'"');if(isNaN(d)||null===d)throw new Error('Invalid end "'+a+'"');if(d<p&&(d=p),null!==g&&p<g&&(p+=M=g-p,d+=M,null!=u&&d>u&&(d=u)),null!==u&&d>u&&(p-=M=d-u,d-=M,null!=g&&p<g&&(p=g)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);h<0&&(h=0),d-p<h&&(this.end-this.start===h&&p>=this.start-.5&&d<=this.end?(p=this.start,d=this.end):(p-=(M=h-(d-p))/2,d+=M/2))}if(null!==this.options.zoomMax){var E=parseFloat(this.options.zoomMax);E<0&&(E=0),d-p>E&&(this.end-this.start===E&&p<this.start&&d>this.end?(p=this.start,d=this.end):(p+=(M=d-p-E)/2,d-=M/2))}var I=this.start!=p||this.end!=d;return!(p>=this.start&&p<=this.end||d>=this.start&&d<=this.end)&&!(this.start>=p&&this.start<=d||this.end>=p&&this.end<=d)&&this.body.emitter.emit("checkRangedItems"),this.start=p,this.end=d,I},m.prototype.getRange=function(){return{start:this.start,end:this.end}},m.prototype.conversion=function(T,a){return m.conversion(this.start,this.end,T,a)},m.conversion=function(T,a,p,d){return void 0===d&&(d=0),0!=p&&a-T!=0?{offset:T,scale:p/(a-T-d)}:{offset:0,scale:1}},m.prototype._onDragStart=function(T){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&(!this._isInsideRange(T)||!this.props.touch.allowDragging||(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move")))},m.prototype._onDrag=function(T){if(T&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var a=this.options.direction;c(a);var p="horizontal"==a?T.deltaX:T.deltaY;p-=this.deltaDifference;var d=this.props.touch.end-this.props.touch.start;d-=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var M,g="horizontal"==a?this.body.domProps.center.width:this.body.domProps.center.height,h=this.props.touch.start+(M=this.options.rtl?p/g*d:-p/g*d),f=this.props.touch.end+M,E=v.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-p,!0),I=v.snapAwayFromHidden(this.body.hiddenDates,f,this.previousDelta-p,!0);if(E!=h||I!=f)return this.deltaDifference+=p,this.props.touch.start=E,this.props.touch.end=I,void this._onDrag(T);this.previousDelta=p,this._applyRange(h,f);var F=new Date(this.start),V=new Date(this.end);this.body.emitter.emit("rangechange",{start:F,end:V,byUser:!0,event:T}),this.body.emitter.emit("panmove")}},m.prototype._onDragEnd=function(T){!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging||(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:T}))},m.prototype._onMouseWheel=function(T){var a=0;if(T.wheelDelta?a=T.wheelDelta/120:T.detail&&(a=-T.detail/3),!(this.options.zoomKey&&!T[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(T)&&a){var p,d;if(p=a<0?1-a/5:1/(1+a/5),this.rolling)d=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var u=this.getPointer({x:T.clientX,y:T.clientY},this.body.dom.center);d=this._pointerToDate(u)}this.zoom(p,d,a,T),T.preventDefault()}},m.prototype._onTouch=function(T){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,k.preventDefault(T)},m.prototype._onPinch=function(T){if(this.options.zoomable&&this.options.moveable){k.preventDefault(T),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(T.center,this.body.dom.center)),this.stopRolling();var a=1/(T.scale+this.scaleOffset),p=this._pointerToDate(this.props.touch.center),d=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),u=v.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,p),g=d-u,M=p-u+(this.props.touch.start-(p-u))*a,h=p+g+(this.props.touch.end-(p+g))*a;this.startToFront=1-a<=0,this.endToFront=a-1<=0;var f=v.snapAwayFromHidden(this.body.hiddenDates,M,1-a,!0),E=v.snapAwayFromHidden(this.body.hiddenDates,h,a-1,!0);(f!=M||E!=h)&&(this.props.touch.start=f,this.props.touch.end=E,this.scaleOffset=1-T.scale,M=f,h=E),this.setRange(M,h,{animation:!1,byUser:!0,event:T}),this.startToFront=!1,this.endToFront=!0}},m.prototype._isInsideRange=function(T){var p,a=T.center?T.center.x:T.clientX;p=this.options.rtl?a-k.getAbsoluteLeft(this.body.dom.centerContainer):k.getAbsoluteRight(this.body.dom.centerContainer)-a;var d=this.body.util.toTime(p);return d>=this.start&&d<=this.end},m.prototype._pointerToDate=function(T){var a,p=this.options.direction;return c(p),"horizontal"==p?this.body.util.toTime(T.x).valueOf():(a=this.conversion(this.body.domProps.center.height),T.y/a.scale+a.offset)},m.prototype.getPointer=function(T,a){return this.options.rtl?{x:k.getAbsoluteRight(a)-T.x,y:T.y-k.getAbsoluteTop(a)}:{x:T.x-k.getAbsoluteLeft(a),y:T.y-k.getAbsoluteTop(a)}},m.prototype.zoom=function(T,a,p,d){null==a&&(a=(this.start+this.end)/2);var u=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),g=v.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,a),M=u-g,h=a-g+(this.start-(a-g))*T,f=a+M+(this.end-(a+M))*T;this.startToFront=!(p>0),this.endToFront=!(-p>0);var E=v.snapAwayFromHidden(this.body.hiddenDates,h,p,!0),I=v.snapAwayFromHidden(this.body.hiddenDates,f,-p,!0);(E!=h||I!=f)&&(h=E,f=I),this.setRange(h,f,{animation:!1,byUser:!0,event:d}),this.startToFront=!1,this.endToFront=!0},m.prototype.move=function(T){var a=this.end-this.start,d=this.end+a*T;this.start=this.start+a*T,this.end=d},m.prototype.moveTo=function(T){var p=(this.start+this.end)/2-T;this.setRange(this.start-p,this.end-p,{animation:!1,byUser:!0,event:null})},Q.exports=m},function(Q,L,_){var y=O(_(19)),D=O(_(6));function O(a){return a&&a.__esModule?a:{default:a}}var A=_(44),x=_(10),k=_(37),b=_(2),w=_(45),v=_(97),m=_(36),c=_(46);function T(){}A(T.prototype),T.prototype._create=function(a){this.dom={},this.dom.container=a,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var p=this;this._origRedraw=this._redraw.bind(this),this._redraw=b.throttle(this._origRedraw),this.on("_change",function(I){p.itemSet&&p.itemSet.initialItemSetDrawn&&I&&1==I.queue?p._redraw():p._origRedraw()}),this.hammer=new x(this.dom.root);var d=this.hammer.get("pinch").set({enable:!0});function g(I){this.isActive()&&this.emit("mousewheel",I);var F=0,V=0;if("detail"in I&&(V=-1*I.detail),"wheelDelta"in I&&(V=I.wheelDelta),"wheelDeltaY"in I&&(V=I.wheelDeltaY),"wheelDeltaX"in I&&(F=-1*I.wheelDeltaX),"axis"in I&&I.axis===I.HORIZONTAL_AXIS&&(F=-1*V,V=0),"deltaY"in I&&(V=-1*I.deltaY),"deltaX"in I&&(F=I.deltaX),this.options.zoomKey&&!I[this.options.zoomKey])if(I.preventDefault(),this.options.verticalScroll&&Math.abs(V)>=Math.abs(F)){var U=this.props.scrollTop+V;this.isActive()&&(this._setScrollTop(U),this._redraw(),this.emit("scroll",I))}else if(this.options.horizontalScroll){var K=(Math.abs(F)>=Math.abs(V)?F:V)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+K,this.range.end+K,{animation:!1,byUser:!0,event:I})}}function M(I){p.options.verticalScroll&&(I.preventDefault(),p.isActive())&&(p._setScrollTop(-I.target.scrollTop),p._redraw(),p.emit("scrollSide",I))}k.disablePreventDefaultVertically(d),this.hammer.get("pan").set({threshold:5,direction:x.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(I){var F=function(z){p.isActive()&&p.emit(I,z)};p.hammer.on(I,F),p.listeners[I]=F}),k.onTouch(this.hammer,function(I){p.emit("touch",I)}.bind(this)),k.onRelease(this.hammer,function(I){p.emit("release",I)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",g.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",g.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",g.bind(this)),this.dom.left.parentNode.addEventListener("scroll",M.bind(this)),this.dom.right.parentNode.addEventListener("scroll",M.bind(this));var h=!1;if(this.dom.center.addEventListener("dragover",function(I){if(I.preventDefault&&I.preventDefault(),!(!I.target.className.indexOf("vis")>-1||h))return I.dataTransfer.dropEffect="move",h=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(I){I.preventDefault&&I.preventDefault(),I.stopPropagation&&I.stopPropagation();try{var F=JSON.parse(I.dataTransfer.getData("text"));if(!F||!F.content)return}catch(V){return!1}return h=!1,I.center={x:I.clientX,y:I.clientY},"item"!==F.target?p.itemSet._onAddItem(I):p.itemSet._onDropObjectOnItem(I),p.emit("drop",p.getEventProperties(I)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!a)throw new Error("No container provided");a.appendChild(this.dom.root)},T.prototype.setOptions=function(a){if(a){if(b.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,a),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,D.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in a&&("string"==typeof a.orientation?this.options.orientation={item:a.orientation,axis:a.orientation}:"object"===(0,D.default)(a.orientation)&&("item"in a.orientation&&(this.options.orientation.item=a.orientation.item),"axis"in a.orientation&&(this.options.orientation.axis=a.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var d=this.timeAxis2=new w(this.body);d.setOptions=function(M){var h=M?b.extend({},M):{};h.orientation="top",w.prototype.setOptions.call(d,h)},this.components.push(d)}}else if(this.timeAxis2){var u=this.components.indexOf(this.timeAxis2);-1!==u&&this.components.splice(u,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof a.drawPoints&&(a.drawPoints={onRender:a.drawPoints}),"hiddenDates"in this.options&&m.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in a&&(a.clickToUse?this.activator||(this.activator=new v(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in a)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(M){return M.setOptions(a)}),"configure"in a){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(a.configure);var g=b.deepExtend({},this.options);this.components.forEach(function(M){b.deepExtend(g,M.options)}),this.configurator.setModuleOptions({global:g})}this._redraw()},T.prototype.isActive=function(){return!this.activator||this.activator.active},T.prototype.destroy=function(){for(var a in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.listeners=null,this.hammer=null,this.components.forEach(function(p){return p.destroy()}),this.body=null},T.prototype.setCustomTime=function(a,p){var d=this.customTimes.filter(function(u){return p===u.options.id});if(0===d.length)throw new Error("No custom time bar found with id "+(0,y.default)(p));d.length>0&&d[0].setCustomTime(a)},T.prototype.getCustomTime=function(a){var p=this.customTimes.filter(function(d){return d.options.id===a});if(0===p.length)throw new Error("No custom time bar found with id "+(0,y.default)(a));return p[0].getCustomTime()},T.prototype.setCustomTimeTitle=function(a,p){var d=this.customTimes.filter(function(u){return u.options.id===p});if(0===d.length)throw new Error("No custom time bar found with id "+(0,y.default)(p));if(d.length>0)return d[0].setCustomTitle(a)},T.prototype.getEventProperties=function(a){return{event:a}},T.prototype.addCustomTime=function(a,p){var d=void 0!==a?b.convert(a,"Date").valueOf():new Date;if(this.customTimes.some(function(M){return M.options.id===p}))throw new Error("A custom time with id "+(0,y.default)(p)+" already exists");var g=new c(this.body,b.extend({},this.options,{time:d,id:p}));return this.customTimes.push(g),this.components.push(g),this._redraw(),p},T.prototype.removeCustomTime=function(a){var p=this.customTimes.filter(function(d){return d.options.id===a});if(0===p.length)throw new Error("No custom time bar found with id "+(0,y.default)(a));p.forEach(function(d){this.customTimes.splice(this.customTimes.indexOf(d),1),this.components.splice(this.components.indexOf(d),1),d.destroy()}.bind(this))},T.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},T.prototype.fit=function(a,p){var d=this.getDataRange();if(null!==d.min||null!==d.max){var u=d.max-d.min,g=new Date(d.min.valueOf()-.01*u),M=new Date(d.max.valueOf()+.01*u);this.range.setRange(g,M,{animation:!a||void 0===a.animation||a.animation},p)}},T.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},T.prototype.setWindow=function(a,p,d,u){var M;"function"==typeof arguments[2]&&(u=arguments[2],d={}),1==arguments.length?this.range.setRange((M=arguments[0]).start,M.end,{animation:void 0===M.animation||M.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((M=arguments[0]).start,M.end,{animation:void 0===M.animation||M.animation},u=arguments[1]):this.range.setRange(a,p,{animation:!d||void 0===d.animation||d.animation},u)},T.prototype.moveTo=function(a,p,d){"function"==typeof arguments[1]&&(d=arguments[1],p={});var u=this.range.end-this.range.start,g=b.convert(a,"Date").valueOf();this.range.setRange(g-u/2,g+u/2,{animation:!p||void 0===p.animation||p.animation},d)},T.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}},T.prototype.zoomIn=function(a,p,d){if(!(!a||a<0||a>1)){"function"==typeof arguments[1]&&(d=arguments[1],p={});var u=this.getWindow(),g=u.start.valueOf(),M=u.end.valueOf(),h=M-g,E=(h-h/(1+a))/2;this.setWindow(g+E,M-E,p,d)}},T.prototype.zoomOut=function(a,p,d){if(!(!a||a<0||a>1)){"function"==typeof arguments[1]&&(d=arguments[1],p={});var u=this.getWindow(),g=u.start.valueOf(),M=u.end.valueOf(),h=M-g;this.setWindow(g-h*a/2,M+h*a/2,p,d)}},T.prototype.redraw=function(){this._redraw()},T.prototype._redraw=function(){this.redrawCount++;var a=!1,p=this.options,d=this.props,u=this.dom;if(u&&u.container&&0!=u.root.offsetWidth){m.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==p.orientation?(b.addClassName(u.root,"vis-top"),b.removeClassName(u.root,"vis-bottom")):(b.removeClassName(u.root,"vis-top"),b.addClassName(u.root,"vis-bottom")),u.root.style.maxHeight=b.option.asSize(p.maxHeight,""),u.root.style.minHeight=b.option.asSize(p.minHeight,""),u.root.style.width=b.option.asSize(p.width,""),d.border.left=(u.centerContainer.offsetWidth-u.centerContainer.clientWidth)/2,d.border.right=d.border.left,d.border.top=(u.centerContainer.offsetHeight-u.centerContainer.clientHeight)/2,d.border.bottom=d.border.top,d.borderRootHeight=u.root.offsetHeight-u.root.clientHeight,d.borderRootWidth=u.root.offsetWidth-u.root.clientWidth,0===u.centerContainer.clientHeight&&(d.border.left=d.border.top,d.border.right=d.border.left),0===u.root.clientHeight&&(d.borderRootWidth=d.borderRootHeight),d.center.height=u.center.offsetHeight,d.left.height=u.left.offsetHeight,d.right.height=u.right.offsetHeight,d.top.height=u.top.clientHeight||-d.border.top,d.bottom.height=u.bottom.clientHeight||-d.border.bottom;var g=Math.max(d.left.height,d.center.height,d.right.height);u.root.style.height=b.option.asSize(p.height,d.top.height+g+d.bottom.height+d.borderRootHeight+d.border.top+d.border.bottom+"px"),d.root.height=u.root.offsetHeight,d.background.height=d.root.height-d.borderRootHeight;var h=d.root.height-d.top.height-d.bottom.height-d.borderRootHeight;d.centerContainer.height=h,d.leftContainer.height=h,d.rightContainer.height=d.leftContainer.height,d.root.width=u.root.offsetWidth,d.background.width=d.root.width-d.borderRootWidth,this.initialDrawDone||(d.scrollbarWidth=b.getScrollBarWidth()),p.verticalScroll?p.rtl?(d.left.width=u.leftContainer.clientWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth+d.scrollbarWidth||-d.border.right):(d.left.width=u.leftContainer.clientWidth+d.scrollbarWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth||-d.border.right):(d.left.width=u.leftContainer.clientWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth||-d.border.right),this._setDOM();var f=this._updateScrollTop();"top"!=p.orientation.item&&(f+=Math.max(d.centerContainer.height-d.center.height-d.border.top-d.border.bottom,0)),u.center.style.top=f+"px";var E=0==d.scrollTop?"hidden":"",I=d.scrollTop==d.scrollTopMin?"hidden":"";u.shadowTop.style.visibility=E,u.shadowBottom.style.visibility=I,u.shadowTopLeft.style.visibility=E,u.shadowBottomLeft.style.visibility=I,u.shadowTopRight.style.visibility=E,u.shadowBottomRight.style.visibility=I,p.verticalScroll&&(u.rightContainer.className="vis-panel vis-right vis-vertical-scroll",u.leftContainer.className="vis-panel vis-left vis-vertical-scroll",u.shadowTopRight.style.visibility="hidden",u.shadowBottomRight.style.visibility="hidden",u.shadowTopLeft.style.visibility="hidden",u.shadowBottomLeft.style.visibility="hidden",u.left.style.top="0px",u.right.style.top="0px"),(!p.verticalScroll||d.center.height<d.centerContainer.height)&&(u.left.style.top=f+"px",u.right.style.top=f+"px",u.rightContainer.className=u.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),u.leftContainer.className=u.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),d.left.width=u.leftContainer.clientWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth||-d.border.right,this._setDOM());var F=d.center.height>d.centerContainer.height;if(this.hammer.get("pan").set({direction:F?x.DIRECTION_ALL:x.DIRECTION_HORIZONTAL}),this.components.forEach(function(z){a=z.redraw()||a}),a){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},T.prototype._setDOM=function(){var a=this.props,p=this.dom;a.leftContainer.width=a.left.width,a.rightContainer.width=a.right.width;var d=a.root.width-a.left.width-a.right.width-a.borderRootWidth;a.center.width=d,a.centerContainer.width=d,a.top.width=d,a.bottom.width=d,p.background.style.height=a.background.height+"px",p.backgroundVertical.style.height=a.background.height+"px",p.backgroundHorizontal.style.height=a.centerContainer.height+"px",p.centerContainer.style.height=a.centerContainer.height+"px",p.leftContainer.style.height=a.leftContainer.height+"px",p.rightContainer.style.height=a.rightContainer.height+"px",p.background.style.width=a.background.width+"px",p.backgroundVertical.style.width=a.centerContainer.width+"px",p.backgroundHorizontal.style.width=a.background.width+"px",p.centerContainer.style.width=a.center.width+"px",p.top.style.width=a.top.width+"px",p.bottom.style.width=a.bottom.width+"px",p.background.style.left="0",p.background.style.top="0",p.backgroundVertical.style.left=a.left.width+a.border.left+"px",p.backgroundVertical.style.top="0",p.backgroundHorizontal.style.left="0",p.backgroundHorizontal.style.top=a.top.height+"px",p.centerContainer.style.left=a.left.width+"px",p.centerContainer.style.top=a.top.height+"px",p.leftContainer.style.left="0",p.leftContainer.style.top=a.top.height+"px",p.rightContainer.style.left=a.left.width+a.center.width+"px",p.rightContainer.style.top=a.top.height+"px",p.top.style.left=a.left.width+"px",p.top.style.top="0",p.bottom.style.left=a.left.width+"px",p.bottom.style.top=a.top.height+a.centerContainer.height+"px",p.center.style.left="0",p.left.style.left="0",p.right.style.left="0"},T.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},T.prototype.setCurrentTime=function(a){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)},T.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},T.prototype._toTime=function(a){return m.toTime(this,a,this.props.center.width)},T.prototype._toGlobalTime=function(a){return m.toTime(this,a,this.props.root.width)},T.prototype._toScreen=function(a){return m.toScreen(this,a,this.props.center.width)},T.prototype._toGlobalScreen=function(a){return m.toScreen(this,a,this.props.root.width)},T.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},T.prototype._startAutoResize=function(){var a=this;this._stopAutoResize(),this._onResize=function(){1==a.options.autoResize?a.dom.root&&(a.dom.root.offsetWidth!=a.props.lastWidth||a.dom.root.offsetHeight!=a.props.lastHeight)&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight,a.props.scrollbarWidth=b.getScrollBarWidth(),a.body.emitter.emit("_change")):a._stopAutoResize()},b.addEventListener(window,"resize",this._onResize),a.dom.root&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},T.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(b.removeEventListener(window,"resize",this._onResize),this._onResize=null)},T.prototype._onTouch=function(a){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},T.prototype._onPinch=function(a){this.touch.allowDragging=!1},T.prototype._onDrag=function(a){if(a&&this.touch.allowDragging){var p=a.deltaY,d=this._getScrollTop(),u=this._setScrollTop(this.touch.initialScrollTop+p);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),u!=d&&this.emit("verticalDrag")}},T.prototype._setScrollTop=function(a){return this.props.scrollTop=a,this._updateScrollTop(),this.props.scrollTop},T.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);return a!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<a&&(this.props.scrollTop=a),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},T.prototype._getScrollTop=function(){return this.props.scrollTop},T.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},Q.exports=T},function(Q,L,_){var P=_(9),y=_(36),S=_(2);function D(O,A,x,k,b){this.moment=P,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(O,A,x),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(k)?k:null!=k?[k]:[],this.format=D.FORMAT,this.options=b||{}}D.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},D.prototype.setMoment=function(O){this.moment=O,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},D.prototype.setFormat=function(O){var A=S.deepExtend({},D.FORMAT);this.format=S.deepExtend(A,O)},D.prototype.setRange=function(O,A,x){if(!(O instanceof Date&&A instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=O?this.moment(O.valueOf()):new Date,this._end=null!=A?this.moment(A.valueOf()):new Date,this.autoScale&&this.setMinimumStep(x)},D.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},D.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},D.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},D.prototype.next=function(){var O=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var A=this.current.clone();A.add(1,"week"),A.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==O&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,y.stepOverHiddenDates(this.moment,this,O)},D.prototype.getCurrent=function(){return this.current},D.prototype.setScale=function(O){O&&"string"==typeof O.scale&&(this.scale=O.scale,this.step=O.step>0?O.step:1,this.autoScale=!1)},D.prototype.setAutoScale=function(O){this.autoScale=O},D.prototype.setMinimumStep=function(O){if(null!=O){var A=31104e6,x=2592e6,k=864e5,b=36e5,w=6e4,v=1e3;1e3*A>O&&(this.scale="year",this.step=1e3),500*A>O&&(this.scale="year",this.step=500),100*A>O&&(this.scale="year",this.step=100),50*A>O&&(this.scale="year",this.step=50),10*A>O&&(this.scale="year",this.step=10),5*A>O&&(this.scale="year",this.step=5),A>O&&(this.scale="year",this.step=1),3*x>O&&(this.scale="month",this.step=3),x>O&&(this.scale="month",this.step=1),5*k>O&&(this.scale="day",this.step=5),2*k>O&&(this.scale="day",this.step=2),k>O&&(this.scale="day",this.step=1),k/2>O&&(this.scale="weekday",this.step=1),4*b>O&&(this.scale="hour",this.step=4),b>O&&(this.scale="hour",this.step=1),15*w>O&&(this.scale="minute",this.step=15),10*w>O&&(this.scale="minute",this.step=10),5*w>O&&(this.scale="minute",this.step=5),w>O&&(this.scale="minute",this.step=1),15*v>O&&(this.scale="second",this.step=15),10*v>O&&(this.scale="second",this.step=10),5*v>O&&(this.scale="second",this.step=5),v>O&&(this.scale="second",this.step=1),200>O&&(this.scale="millisecond",this.step=200),100>O&&(this.scale="millisecond",this.step=100),50>O&&(this.scale="millisecond",this.step=50),10>O&&(this.scale="millisecond",this.step=10),5>O&&(this.scale="millisecond",this.step=5),1>O&&(this.scale="millisecond",this.step=1)}},D.snap=function(O,A,x){var k=P(O);if("year"==A){var b=k.year()+Math.round(k.month()/12);k.year(Math.round(b/x)*x),k.month(0),k.date(0),k.hours(0),k.minutes(0),k.seconds(0),k.milliseconds(0)}else if("month"==A)k.date()>15?(k.date(1),k.add(1,"month")):k.date(1),k.hours(0),k.minutes(0),k.seconds(0),k.milliseconds(0);else if("week"==A)k.weekday()>2?(k.weekday(0),k.add(1,"week")):k.weekday(0),k.hours(0),k.minutes(0),k.seconds(0),k.milliseconds(0);else if("day"==A){switch(x){case 5:case 2:k.hours(24*Math.round(k.hours()/24));break;default:k.hours(12*Math.round(k.hours()/12))}k.minutes(0),k.seconds(0),k.milliseconds(0)}else if("weekday"==A){switch(x){case 5:case 2:k.hours(12*Math.round(k.hours()/12));break;default:k.hours(6*Math.round(k.hours()/6))}k.minutes(0),k.seconds(0),k.milliseconds(0)}else if("hour"==A){switch(x){case 4:k.minutes(60*Math.round(k.minutes()/60));break;default:k.minutes(30*Math.round(k.minutes()/30))}k.seconds(0),k.milliseconds(0)}else if("minute"==A){switch(x){case 15:case 10:k.minutes(5*Math.round(k.minutes()/5)),k.seconds(0);break;case 5:k.seconds(60*Math.round(k.seconds()/60));break;default:k.seconds(30*Math.round(k.seconds()/30))}k.milliseconds(0)}else if("second"==A)switch(x){case 15:case 10:k.seconds(5*Math.round(k.seconds()/5)),k.milliseconds(0);break;case 5:k.milliseconds(1e3*Math.round(k.milliseconds()/1e3));break;default:k.milliseconds(500*Math.round(k.milliseconds()/500))}else if("millisecond"==A){var w=x>5?x/2:1;k.milliseconds(Math.round(k.milliseconds()/w)*w)}return k},D.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var O=this.moment(this.current);switch(this.scale){case"millisecond":return 0==O.milliseconds();case"second":return 0==O.seconds();case"minute":return 0==O.hours()&&0==O.minutes();case"hour":return 0==O.hours();case"weekday":case"day":case"week":return 1==O.date();case"month":return 0==O.month();case"year":default:return!1}},D.prototype.getLabelMinor=function(O){if(null==O&&(O=this.current),O instanceof Date&&(O=this.moment(O)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(O,this.scale,this.step);var A=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==O.weekday())return"";default:return A&&A.length>0?this.moment(O).format(A):""}},D.prototype.getLabelMajor=function(O){if(null==O&&(O=this.current),O instanceof Date&&(O=this.moment(O)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(O,this.scale,this.step);var A=this.format.majorLabels[this.scale];return A&&A.length>0?this.moment(O).format(A):""},D.prototype.getClassName=function(){var O=this.moment,A=this.moment(this.current),x=A.locale?A.locale("en"):A.lang("en"),k=this.step,b=[];function w(a){return a/k%2==0?" vis-even":" vis-odd"}function v(a){return a.isSame(new Date,"day")?" vis-today":a.isSame(O().add(1,"day"),"day")?" vis-tomorrow":a.isSame(O().add(-1,"day"),"day")?" vis-yesterday":""}function m(a){return a.isSame(new Date,"week")?" vis-current-week":""}function c(a){return a.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":b.push(v(x)),b.push(w(x.milliseconds()));break;case"second":b.push(v(x)),b.push(w(x.seconds()));break;case"minute":b.push(v(x)),b.push(w(x.minutes()));break;case"hour":b.push("vis-h"+x.hours()+(4==this.step?"-h"+(x.hours()+4):"")),b.push(v(x)),b.push(w(x.hours()));break;case"weekday":b.push("vis-"+x.format("dddd").toLowerCase()),b.push(v(x)),b.push(m(x)),b.push(w(x.date()));break;case"day":b.push("vis-day"+x.date()),b.push("vis-"+x.format("MMMM").toLowerCase()),b.push(v(x)),b.push(c(x)),b.push(this.step<=2?v(x):""),b.push(this.step<=2?"vis-"+x.format("dddd").toLowerCase():""),b.push(w(x.date()-1));break;case"week":b.push("vis-week"+x.format("w")),b.push(m(x)),b.push(w(x.week()));break;case"month":b.push("vis-"+x.format("MMMM").toLowerCase()),b.push(c(x)),b.push(w(x.month()));break;case"year":b.push("vis-year"+x.year()),b.push(x.isSame(new Date,"year")?" vis-current-year":""),b.push(w(x.year()))}return b.filter(String).join(" ")},Q.exports=D},function(Q,L,_){var P=_(2),y=_(16),S=_(9),D=_(98);function O(A,x){this.body=A,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:S,locales:D,locale:"en"},this.options=P.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(x)}(O.prototype=new y)._create=function(){var A=document.createElement("div");A.className="vis-current-time",A.style.position="absolute",A.style.top="0px",A.style.height="100%",this.bar=A},O.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},O.prototype.setOptions=function(A){A&&P.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,A)},O.prototype.redraw=function(){if(this.options.showCurrentTime){var A=this.body.dom.backgroundVertical;this.bar.parentNode!=A&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),A.appendChild(this.bar),this.start());var x=this.options.moment((new Date).valueOf()+this.offset),k=this.body.util.toScreen(x),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),b=this.options.locales.en);var w=b.current+" "+b.time+": "+x.format("dddd, MMMM Do YYYY, H:mm:ss");w=w.charAt(0).toUpperCase()+w.substring(1),this.options.rtl?this.bar.style.right=k+"px":this.bar.style.left=k+"px",this.bar.title=w}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},O.prototype.start=function(){var A=this;!function x(){A.stop();var b=1/A.body.range.conversion(A.body.domProps.center.width).scale/10;b<30&&(b=30),b>1e3&&(b=1e3),A.redraw(),A.body.emitter.emit("currentTimeTick"),A.currentTimeTimer=setTimeout(x,b)}()},O.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},O.prototype.setCurrentTime=function(A){var x=P.convert(A,"Date").valueOf(),k=(new Date).valueOf();this.offset=x-k,this.redraw()},O.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},Q.exports=O},function(Q,L,_){var x,y=(x=_(8))&&x.__esModule?x:{default:x};var D=_(2),O=_(100);function A(x,k,b){if(this.groupId=x,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=k&&k.subgroupOrder,this.itemSet=b,this.isVisible=null,this.stackDirty=!0,k&&k.nestedGroups&&(this.nestedGroups=k.nestedGroups,this.showNested=0!=k.showNested),k&&k.subgroupStack)if("boolean"==typeof k.subgroupStack)this.doInnerStack=k.subgroupStack,this.subgroupStackAll=k.subgroupStack;else for(var w in k.subgroupStack)this.subgroupStack[w]=k.subgroupStack[w],this.doInnerStack=this.doInnerStack||k.subgroupStack[w];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var v=this;this.itemSet.body.emitter.on("checkRangedItems",function(){v.checkRangedItems=!0}),this._create(),this.setData(k)}A.prototype._create=function(){var x=document.createElement("div");x.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=x;var k=document.createElement("div");k.className="vis-inner",x.appendChild(k),this.dom.inner=k;var b=document.createElement("div");b.className="vis-group",b["timeline-group"]=this,this.dom.foreground=b,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},A.prototype.setData=function(x){var k,b;if((k=this.itemSet.options&&this.itemSet.options.groupTemplate?(b=this.itemSet.options.groupTemplate.bind(this))(x,this.dom.inner):x&&x.content)instanceof Element){for(this.dom.inner.appendChild(k);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(k)}else k instanceof Object?b(x,this.dom.inner):this.dom.inner.innerHTML=null!=k?k:this.groupId||"";if(this.dom.label.title=x&&x.title||"",this.dom.inner.firstChild?D.removeClassName(this.dom.inner,"vis-hidden"):D.addClassName(this.dom.inner,"vis-hidden"),x&&x.nestedGroups){(!this.nestedGroups||this.nestedGroups!=x.nestedGroups)&&(this.nestedGroups=x.nestedGroups),(void 0!==x.showNested||void 0===this.showNested)&&(this.showNested=0!=x.showNested),D.addClassName(this.dom.label,"vis-nesting-group");var w=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(D.removeClassName(this.dom.label,w),D.addClassName(this.dom.label,"expanded")):(D.removeClassName(this.dom.label,"expanded"),D.addClassName(this.dom.label,w))}else this.nestedGroups&&(this.nestedGroups=null,D.removeClassName(this.dom.label,w=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),D.removeClassName(this.dom.label,"expanded"),D.removeClassName(this.dom.label,"vis-nesting-group"));x&&x.nestedInGroup&&(D.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var v=x&&x.className||null;v!=this.className&&(this.className&&(D.removeClassName(this.dom.label,this.className),D.removeClassName(this.dom.foreground,this.className),D.removeClassName(this.dom.background,this.className),D.removeClassName(this.dom.axis,this.className)),D.addClassName(this.dom.label,v),D.addClassName(this.dom.foreground,v),D.addClassName(this.dom.background,v),D.addClassName(this.dom.axis,v),this.className=v),this.style&&(D.removeCssText(this.dom.label,this.style),this.style=null),x&&x.style&&(D.addCssText(this.dom.label,x.style),this.style=x.style)},A.prototype.getLabelWidth=function(){return this.props.label.width},A.prototype._didMarkerHeightChange=function(){var x=this.dom.marker.clientHeight;if(x!=this.lastMarkerHeight){this.lastMarkerHeight=x;var k={},b=0;if(D.forEach(this.items,function(m,c){m.dirty=!0,m.displayed&&(k[c]=m.redraw(!0),b=k[c].length)}),b>0)for(var v=0;v<b;v++)D.forEach(k,function(m){m[v]()});return!0}},A.prototype._calculateGroupSizeAndPosition=function(){var k=this.dom.foreground.offsetLeft,b=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=k,this.width=b},A.prototype._redrawItems=function(x,k,b,w){if(x||this.stackDirty||this.isVisible&&!k){var m={},c=null;if("function"==typeof this.itemSet.options.order){var T=this,p={},d=0;if(D.forEach(this.items,function(h,f){h.displayed||(p[f]=h.redraw(!0),d=p[f].length,T.visibleItems.push(h))}),d>0)for(var g=0;g<d;g++)D.forEach(p,function(h){h[g]()});if(D.forEach(this.items,function(h){h.repositionX(false)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(c in this.subgroups)m[c]=this.subgroups[c].items.slice().sort(function(h,f){return T.itemSet.options.order(h.data,f.data)});O.stackSubgroupsWithInnerStack(m,b,this.subgroups)}else{var M=this.orderedItems.byStart.slice().sort(function(h,f){return T.itemSet.options.order(h.data,f.data)});O.stack(M,b,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,w)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,w),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(c in this.subgroups)m[c]=this.subgroups[c].items;O.stackSubgroupsWithInnerStack(m,b,this.subgroups)}else O.stack(this.visibleItems,b,!0);else O.nostack(this.visibleItems,b,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},A.prototype._didResize=function(x,k){x=D.updateProperty(this,"height",k)||x;var w=this.dom.inner.clientHeight;return x=D.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||x,D.updateProperty(this.props.label,"height",w)||x},A.prototype._applyGroupHeight=function(x){this.dom.background.style.height=x+"px",this.dom.foreground.style.height=x+"px",this.dom.label.style.height=x+"px"},A.prototype._updateItemsVerticalPosition=function(x){for(var k=0,b=this.visibleItems.length;k<b;k++){var w=this.visibleItems[k];w.repositionY(x),!this.isVisible&&"__background__"!=this.groupId&&w.displayed&&w.hide()}},A.prototype.redraw=function(x,k,b,w){var c,a,v=!1,m=this.isVisible,T=[function(){b=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,k),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(x,k)}.bind(this),function(){this._redrawItems.bind(this)(b,m,k,x)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){c=this._calculateHeight.bind(this)(k)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){v=this._didResize.bind(this)(v,c)}.bind(this),function(){this._applyGroupHeight.bind(this)(c)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(k)}.bind(this),function(){return!this.isVisible&&this.height&&(v=!1),v}];return w?T:(T.forEach(function(p){a=p()}),a)},A.prototype._updateSubGroupHeights=function(x){if((0,y.default)(this.subgroups).length>0){var k=this;this.resetSubgroups(),D.forEach(this.visibleItems,function(b){void 0!==b.data.subgroup&&(k.subgroups[b.data.subgroup].height=Math.max(k.subgroups[b.data.subgroup].height,b.height+x.item.vertical),k.subgroups[b.data.subgroup].visible=!0)})}},A.prototype._isGroupVisible=function(x,k){return this.top<=x.body.domProps.centerContainer.height-x.body.domProps.scrollTop+k.axis&&this.top+this.height+k.axis>=-x.body.domProps.scrollTop},A.prototype._calculateHeight=function(x){var k,b=this.visibleItems;if(b.length>0){var w=b[0].top,v=b[0].top+b[0].height;if(D.forEach(b,function(c){w=Math.min(w,c.top),v=Math.max(v,c.top+c.height)}),w>x.axis){var m=w-x.axis;v-=m,D.forEach(b,function(c){c.top-=m})}k=v+x.item.vertical/2}else k=0;return Math.max(k,this.props.label.height)},A.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},A.prototype.hide=function(){var x=this.dom.label;x.parentNode&&x.parentNode.removeChild(x);var k=this.dom.foreground;k.parentNode&&k.parentNode.removeChild(k);var b=this.dom.background;b.parentNode&&b.parentNode.removeChild(b);var w=this.dom.axis;w.parentNode&&w.parentNode.removeChild(w)},A.prototype.add=function(x){this.items[x.id]=x,x.setParent(this),this.stackDirty=!0,void 0!==x.data.subgroup&&(this._addToSubgroup(x),this.orderSubgroups()),-1==this.visibleItems.indexOf(x)&&this._checkIfVisible(x,this.visibleItems,this.itemSet.body.range)},A.prototype._addToSubgroup=function(x,k){null!=(k=k||x.data.subgroup)&&void 0===this.subgroups[k]&&(this.subgroups[k]={height:0,top:0,start:x.data.start,end:x.data.end||x.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[k]||!1},this.subgroupIndex++),new Date(x.data.start)<new Date(this.subgroups[k].start)&&(this.subgroups[k].start=x.data.start);var b=x.data.end||x.data.start;new Date(b)>new Date(this.subgroups[k].end)&&(this.subgroups[k].end=b),this.subgroups[k].items.push(x)},A.prototype._updateSubgroupsSizes=function(){var x=this;if(x.subgroups)for(var k in x.subgroups){var w=x.subgroups[k].items[0].data.start,v=(x.subgroups[k].items[0].data.end||x.subgroups[k].items[0].data.start)-1;x.subgroups[k].items.forEach(function(m){new Date(m.data.start)<new Date(w)&&(w=m.data.start);var c=m.data.end||m.data.start;new Date(c)>new Date(v)&&(v=c)}),x.subgroups[k].start=w,x.subgroups[k].end=new Date(v-1)}},A.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var k,x=[];if("string"==typeof this.subgroupOrderer){for(k in this.subgroups)x.push({subgroup:k,sortField:this.subgroups[k].items[0].data[this.subgroupOrderer]});x.sort(function(w,v){return w.sortField-v.sortField})}else if("function"==typeof this.subgroupOrderer){for(k in this.subgroups)x.push(this.subgroups[k].items[0].data);x.sort(this.subgroupOrderer)}if(x.length>0)for(var b=0;b<x.length;b++)this.subgroups[x[b].subgroup].index=b}},A.prototype.resetSubgroups=function(){for(var x in this.subgroups)this.subgroups.hasOwnProperty(x)&&(this.subgroups[x].visible=!1,this.subgroups[x].height=0)},A.prototype.remove=function(x){delete this.items[x.id],x.setParent(null),this.stackDirty=!0;var k=this.visibleItems.indexOf(x);-1!=k&&this.visibleItems.splice(k,1),void 0!==x.data.subgroup&&(this._removeFromSubgroup(x),this.orderSubgroups())},A.prototype._removeFromSubgroup=function(x,k){if(null!=(k=k||x.data.subgroup)){var b=this.subgroups[k];if(b){var w=b.items.indexOf(x);w>=0&&(b.items.splice(w,1),b.items.length?this._updateSubgroupsSizes():delete this.subgroups[k])}}},A.prototype.removeFromDataSet=function(x){this.itemSet.removeItem(x.id)},A.prototype.order=function(){for(var x=D.toArray(this.items),k=[],b=[],w=0;w<x.length;w++)void 0!==x[w].data.end&&b.push(x[w]),k.push(x[w]);this.orderedItems={byStart:k,byEnd:b},O.orderByStart(this.orderedItems.byStart),O.orderByEnd(this.orderedItems.byEnd)},A.prototype._updateItemsInRange=function(x,k,b){var w=[],v={},m=(b.end-b.start)/4,c=b.start-m,T=b.end+m,a=function(V){return V<c?-1:V<=T?0:1};if(k.length>0)for(var p=0;p<k.length;p++)this._checkIfVisibleWithReference(k[p],w,v,b);var d=D.binarySearchCustom(x.byStart,a,"data","start");if(this._traceVisible(d,x.byStart,w,v,function(F){return F.data.start<c||F.data.start>T}),1==this.checkRangedItems)for(this.checkRangedItems=!1,p=0;p<x.byEnd.length;p++)this._checkIfVisibleWithReference(x.byEnd[p],w,v,b);else{var u=D.binarySearchCustom(x.byEnd,a,"data","end");this._traceVisible(u,x.byEnd,w,v,function(F){return F.data.end<c||F.data.end>T})}var g={},M=0;for(p=0;p<w.length;p++){var h=w[p];h.displayed||(g[p]=h.redraw(!0),M=g[p].length)}if(M>0)for(var I=0;I<M;I++)D.forEach(g,function(F){F[I]()});for(p=0;p<w.length;p++)w[p].repositionX();return w},A.prototype._traceVisible=function(x,k,b,w,v){if(-1!=x){var m,c;for(m=x;m>=0&&!v(c=k[m]);m--)void 0===w[c.id]&&(w[c.id]=!0,b.push(c));for(m=x+1;m<k.length&&!v(c=k[m]);m++)void 0===w[c.id]&&(w[c.id]=!0,b.push(c))}},A.prototype._checkIfVisible=function(x,k,b){x.isVisible(b)?(x.displayed||x.show(),x.repositionX(),k.push(x)):x.displayed&&x.hide()},A.prototype._checkIfVisibleWithReference=function(x,k,b,w){x.isVisible(w)?void 0===b[x.id]&&(b[x.id]=!0,k.push(x)):x.displayed&&x.hide()},A.prototype.changeSubgroup=function(x,k,b){this._removeFromSubgroup(x,k),this._addToSubgroup(x,b),this.orderSubgroups()},Q.exports=A},function(Q,L,_){var A,y=(A=_(29))&&A.__esModule?A:{default:A};var D=_(68);function O(A,x,k){D.call(this,A,x,k),this.width=0,this.height=0,this.top=0,this.left=0}(O.prototype=(0,y.default)(D.prototype)).redraw=function(A,x,k){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,A),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var w=0,v=this.visibleItems.length;w<v;w++)this.visibleItems[w].repositionY(x);return!1},O.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},Q.exports=O},function(Q,L,_){var P=_(38);function y(S,D,O){if(this.props={content:{width:0}},this.overflow=!1,this.options=O,S){if(null==S.start)throw new Error('Property "start" missing in item '+S.id);if(null==S.end)throw new Error('Property "end" missing in item '+S.id)}P.call(this,S,D,O)}(y.prototype=new P(null,null,null)).baseClassName="vis-item vis-range",y.prototype.isVisible=function(S){return this.data.start<S.end&&this.data.end>S.start},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var S=this.parent.dom.foreground;if(!S)throw new Error("Cannot redraw item: parent has no foreground container element");S.appendChild(this.dom.box)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},y.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(S){this.props.content.width=S.content.width,this.height=S.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},y.prototype.redraw=function(S){var D,A,O=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(D=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(D)}.bind(this),this._repaintDomAdditionals.bind(this)];return S?O:(O.forEach(function(x){A=x()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){if(this.displayed){var S=this.dom.box;S.parentNode&&S.parentNode.removeChild(S),this.displayed=!1}},y.prototype.repositionX=function(S){var k,b,D=this.parent.width,O=this.conversion.toScreen(this.data.start),A=this.conversion.toScreen(this.data.end),x=void 0===this.data.align?this.options.align:this.data.align;!1!==this.data.limitSize&&(void 0===S||!0===S)&&(O<-D&&(O=-D),A>2*D&&(A=2*D));var w=Math.max(A-O+.5,1);switch(this.overflow?(this.options.rtl?this.right=O:this.left=O,this.width=w+this.props.content.width,b=this.props.content.width):(this.options.rtl?this.right=O:this.left=O,this.width=w,b=Math.min(A-O,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=w+"px",x){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(w-b,0)+"px":this.dom.content.style.left=Math.max(w-b,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((w-b)/2,0)+"px":this.dom.content.style.left=Math.max((w-b)/2,0)+"px";break;default:k=this.overflow?A>0?Math.max(-O,0):-b:O<0?-O:0,this.options.rtl?this.dom.content.style.right=k+"px":(this.dom.content.style.left=k+"px",this.dom.content.style.width="calc(100% - "+k+"px)")}},y.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},y.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var S=document.createElement("div");S.className="vis-drag-left",S.dragLeftItem=this,this.dom.box.appendChild(S),this.dom.dragLeft=S}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},y.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var S=document.createElement("div");S.className="vis-drag-right",S.dragRightItem=this,this.dom.box.appendChild(S),this.dom.dragRight=S}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},Q.exports=y},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=b(_(19)),D=b(_(6)),A=b(_(0)),k=b(_(1));function b(c){return c&&c.__esModule?c:{default:c}}var w=_(2),v=_(179).default,m=function(){function c(T,a,p){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,A.default)(this,c),this.parent=T,this.changedOptions=[],this.container=a,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},w.extend(this.options,this.defaultOptions),this.configureOptions=p,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new v(d),this.wrapper=void 0}return(0,k.default)(c,[{key:"setOptions",value:function(a){if(void 0!==a){this.popupHistory={},this._removePopup();var p=!0;"string"==typeof a?this.options.filter=a:a instanceof Array?this.options.filter=a.join():"object"===(void 0===a?"undefined":(0,D.default)(a))?(void 0!==a.container&&(this.options.container=a.container),void 0!==a.filter&&(this.options.filter=a.filter),void 0!==a.showButton&&(this.options.showButton=a.showButton),void 0!==a.enabled&&(p=a.enabled)):"boolean"==typeof a?(this.options.filter=!0,p=a):"function"==typeof a&&(this.options.filter=a,p=!0),!1===this.options.filter&&(p=!1),this.options.enabled=p}this._clean()}},{key:"setModuleOptions",value:function(a){this.moduleOptions=a,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var a=this;this._clean(),this.changedOptions=[];var p=this.options.filter,d=0,u=!1;for(var g in this.configureOptions)this.configureOptions.hasOwnProperty(g)&&(this.allowCreation=!1,u=!1,"function"==typeof p?u=(u=p(g,[]))||this._handleObject(this.configureOptions[g],[g],!0):(!0===p||-1!==p.indexOf(g))&&(u=!0),!1!==u&&(this.allowCreation=!0,d>0&&this._makeItem([]),this._makeHeader(g),this._handleObject(this.configureOptions[g],[g])),d++);if(!0===this.options.showButton){var M=document.createElement("div");M.className="vis-configuration vis-config-button",M.innerHTML="generate options",M.onclick=function(){a._printOptions()},M.onmouseover=function(){M.className="vis-configuration vis-config-button hover"},M.onmouseout=function(){M.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(M)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var a=0;a<this.domElements.length;a++)this.wrapper.appendChild(this.domElements[a]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var a=0;a<this.domElements.length;a++)this.wrapper.removeChild(this.domElements[a]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(a){for(var p=this.moduleOptions,d=0;d<a.length;d++){if(void 0===p[a[d]]){p=void 0;break}p=p[a[d]]}return p}},{key:"_makeItem",value:function(a){if(!0===this.allowCreation){var p=document.createElement("div");p.className="vis-configuration vis-config-item vis-config-s"+a.length;for(var d=arguments.length,u=Array(d>1?d-1:0),g=1;g<d;g++)u[g-1]=arguments[g];return u.forEach(function(M){p.appendChild(M)}),this.domElements.push(p),this.domElements.length}return 0}},{key:"_makeHeader",value:function(a){var p=document.createElement("div");p.className="vis-configuration vis-config-header",p.innerHTML=a,this._makeItem([],p)}},{key:"_makeLabel",value:function(a,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=document.createElement("div");return u.className="vis-configuration vis-config-label vis-config-s"+p.length,u.innerHTML=!0===d?"<i><b>"+a+":</b></i>":a+":",u}},{key:"_makeDropdown",value:function(a,p,d){var u=document.createElement("select");u.className="vis-configuration vis-config-select";var g=0;void 0!==p&&-1!==a.indexOf(p)&&(g=a.indexOf(p));for(var M=0;M<a.length;M++){var h=document.createElement("option");h.value=a[M],M===g&&(h.selected="selected"),h.innerHTML=a[M],u.appendChild(h)}var f=this;u.onchange=function(){f._update(this.value,d)};var E=this._makeLabel(d[d.length-1],d);this._makeItem(d,E,u)}},{key:"_makeRange",value:function(a,p,d){var u=a[0],g=a[1],M=a[2],h=a[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=g,f.max=M}catch(K){}f.step=h;var E="",I=0;if(void 0!==p){var F=1.2;p<0&&p*F<g?(f.min=Math.ceil(p*F),I=f.min,E="range increased"):p/F<g&&(f.min=Math.ceil(p/F),I=f.min,E="range increased"),p*F>M&&1!==M&&(f.max=Math.ceil(p*F),I=f.max,E="range increased"),f.value=p}else f.value=u;var V=document.createElement("input");V.className="vis-configuration vis-config-rangeinput",V.value=f.value;var z=this;f.onchange=function(){V.value=this.value,z._update(Number(this.value),d)},f.oninput=function(){V.value=this.value};var U=this._makeLabel(d[d.length-1],d),j=this._makeItem(d,U,f,V);""!==E&&this.popupHistory[j]!==I&&(this.popupHistory[j]=I,this._setupPopup(E,j))}},{key:"_setupPopup",value:function(a,p){var d=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var u=document.createElement("div");u.id="vis-configuration-popup",u.className="vis-configuration-popup",u.innerHTML=a,u.onclick=function(){d._removePopup()},this.popupCounter+=1,this.popupDiv={html:u,index:p}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var a=this;if(void 0!==this.popupDiv.html){var d=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=d.left+"px",this.popupDiv.html.style.top=d.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){a.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){a._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(a,p,d){var u=document.createElement("input");u.type="checkbox",u.className="vis-configuration vis-config-checkbox",u.checked=a,void 0!==p&&(u.checked=p,p!==a&&("object"===(void 0===a?"undefined":(0,D.default)(a))?p!==a.enabled&&this.changedOptions.push({path:d,value:p}):this.changedOptions.push({path:d,value:p})));var g=this;u.onchange=function(){g._update(this.checked,d)};var M=this._makeLabel(d[d.length-1],d);this._makeItem(d,M,u)}},{key:"_makeTextInput",value:function(a,p,d){var u=document.createElement("input");u.type="text",u.className="vis-configuration vis-config-text",u.value=p,p!==a&&this.changedOptions.push({path:d,value:p});var g=this;u.onchange=function(){g._update(this.value,d)};var M=this._makeLabel(d[d.length-1],d);this._makeItem(d,M,u)}},{key:"_makeColorField",value:function(a,p,d){var u=this,g=a[1],M=document.createElement("div");"none"!==(p=void 0===p?g:p)?(M.className="vis-configuration vis-config-colorBlock",M.style.backgroundColor=p):M.className="vis-configuration vis-config-colorBlock none",p=void 0===p?g:p,M.onclick=function(){u._showColorPicker(p,M,d)};var h=this._makeLabel(d[d.length-1],d);this._makeItem(d,h,M)}},{key:"_showColorPicker",value:function(a,p,d){var u=this;p.onclick=function(){},this.colorPicker.insertTo(p),this.colorPicker.show(),this.colorPicker.setColor(a),this.colorPicker.setUpdateCallback(function(g){var M="rgba("+g.r+","+g.g+","+g.b+","+g.a+")";p.style.backgroundColor=M,u._update(M,d)}),this.colorPicker.setCloseCallback(function(){p.onclick=function(){u._showColorPicker(a,p,d)}})}},{key:"_handleObject",value:function(a){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=!1,g=this.options.filter,M=!1;for(var h in a)if(a.hasOwnProperty(h)){u=!0;var f=a[h],E=w.copyAndExtendArray(p,h);if("function"==typeof g&&!1===(u=g(h,p))&&!(f instanceof Array)&&"string"!=typeof f&&"boolean"!=typeof f&&f instanceof Object&&(this.allowCreation=!1,u=this._handleObject(f,E,!0),this.allowCreation=!1===d),!1!==u){M=!0;var I=this._getValue(E);if(f instanceof Array)this._handleArray(f,I,E);else if("string"==typeof f)this._makeTextInput(f,I,E);else if("boolean"==typeof f)this._makeCheckbox(f,I,E);else if(f instanceof Object){var F=!0;if(-1!==p.indexOf("physics")&&this.moduleOptions.physics.solver!==h&&(F=!1),!0===F)if(void 0!==f.enabled){var V=w.copyAndExtendArray(E,"enabled"),z=this._getValue(V);if(!0===z){var U=this._makeLabel(h,E,!0);this._makeItem(E,U),M=this._handleObject(f,E)||M}else this._makeCheckbox(f,z,E)}else{var j=this._makeLabel(h,E,!0);this._makeItem(E,j),M=this._handleObject(f,E)||M}}else console.error("dont know how to handle",f,h,E)}}return M}},{key:"_handleArray",value:function(a,p,d){"string"==typeof a[0]&&"color"===a[0]?(this._makeColorField(a,p,d),a[1]!==p&&this.changedOptions.push({path:d,value:p})):"string"==typeof a[0]?(this._makeDropdown(a,p,d),a[0]!==p&&this.changedOptions.push({path:d,value:p})):"number"==typeof a[0]&&(this._makeRange(a,p,d),a[0]!==p&&this.changedOptions.push({path:d,value:Number(p)}))}},{key:"_update",value:function(a,p){var d=this._constructOptions(a,p);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",d),this.initialized=!0,this.parent.setOptions(d)}},{key:"_constructOptions",value:function(a,p){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=d;a="false"!==(a="true"===a||a)&&a;for(var g=0;g<p.length;g++)"global"!==p[g]&&(void 0===u[p[g]]&&(u[p[g]]={}),g!==p.length-1?u=u[p[g]]:u[p[g]]=a);return d}},{key:"_printOptions",value:function(){var a=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,y.default)(a,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var a={},p=0;p<this.changedOptions.length;p++)this._constructOptions(this.changedOptions[p].value,this.changedOptions[p].path,a);return a}}]),c}();L.default=m},function(Q,L,_){var k,y=(k=_(6))&&k.__esModule?k:{default:k};var D=_(14);function O(k,b){}function A(k,b){return{style:(b=void 0===b?{}:b).style||k.options.drawPoints.style,styles:b.styles||k.options.drawPoints.styles,size:b.size||k.options.drawPoints.size,className:b.className||k.className}}O.draw=function(k,b,w,v){v=v||0;for(var m=function(k,b){var w=void 0;return k.options&&k.options.drawPoints&&k.options.drawPoints.onRender&&"function"==typeof k.options.drawPoints.onRender&&(w=k.options.drawPoints.onRender),b.group.options&&b.group.options.drawPoints&&b.group.options.drawPoints.onRender&&"function"==typeof b.group.options.drawPoints.onRender&&(w=b.group.options.drawPoints.onRender),w}(w,b),c=0;c<k.length;c++)if(m){var T=m(k[c],b);(!0===T||"object"===(void 0===T?"undefined":(0,y.default)(T)))&&D.drawPoint(k[c].screen_x+v,k[c].screen_y,A(b,T),w.svgElements,w.svg,k[c].label)}else D.drawPoint(k[c].screen_x+v,k[c].screen_y,A(b),w.svgElements,w.svg,k[c].label)},O.drawIcon=function(k,b,w,v,m,c){var T=.5*m,a=D.getSVGElement("rect",c.svgElements,c.svg);a.setAttributeNS(null,"x",b),a.setAttributeNS(null,"y",w-T),a.setAttributeNS(null,"width",v),a.setAttributeNS(null,"height",2*T),a.setAttributeNS(null,"class","vis-outline"),D.drawPoint(b+.5*v,w,A(k),c.svgElements,c.svg)},Q.exports=O},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M.labelOffset=0,M.selected=!1,M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"setOptions",value:function(u,g,M){this.options=u,void 0===g&&void 0===M||this.setImages(g,M)}},{key:"setImages",value:function(u,g){g&&this.selected?(this.imageObj=g,this.imageObjAlt=u):(this.imageObj=u,this.imageObjAlt=g)}},{key:"switchImages",value:function(u){var g=u&&!this.selected||!u&&this.selected;if(this.selected=u,void 0!==this.imageObjAlt&&g){var M=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=M}}},{key:"_resizeImage",value:function(){var u,g;if(!1===this.options.shapeProperties.useImageSize){var M=1,h=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?M=this.imageObj.width/this.imageObj.height:h=this.imageObj.height/this.imageObj.width),u=2*this.options.size*M,g=2*this.options.size*h}else u=this.imageObj.width,g=this.imageObj.height;this.width=u,this.height=g,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(u,g,M,h){this.initContextForDraw(u,h),u.circle(g,M,h.size),this.performFill(u,h)}},{key:"_drawImageAtPosition",value:function(u,g){if(0!=this.imageObj.width){u.globalAlpha=1,this.enableShadow(u,g);var M=1;!0===this.options.shapeProperties.interpolation&&(M=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(u,M,this.left,this.top,this.width,this.height),this.disableShadow(u,g)}}},{key:"_drawImageLabel",value:function(u,g,M,h,f){var E,I=0;if(void 0!==this.height){I=.5*this.height;var F=this.labelModule.getTextSize(u,h,f);F.lineCount>=1&&(I+=F.height/2)}E=M+I,this.options.label&&(this.labelOffset=I),this.labelModule.draw(u,g,E,h,f,"hanging")}}]),p}(c(_(23)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=v(_(19)),D=v(_(6)),A=v(_(29)),k=v(_(0)),w=v(_(1));function v(M){return M&&M.__esModule?M:{default:M}}var m=_(2),c=_(117).default,T=_(48).default,a=_(215).default,p=_(217).default,d=_(218).default,u=_(219).default,g=function(){function M(h,f,E,I){if((0,k.default)(this,M),void 0===f)throw new Error("No body provided");this.options=m.bridgeObject(E),this.globalOptions=E,this.defaultOptions=I,this.body=f,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new c(this.body,this.options,!0),this.setOptions(h)}return(0,w.default)(M,[{key:"setOptions",value:function(f){if(f){M.parseOptions(this.options,f,!0,this.globalOptions),void 0!==f.id&&(this.id=f.id),void 0!==f.from&&(this.fromId=f.from),void 0!==f.to&&(this.toId=f.to),void 0!==f.title&&(this.title=f.title),void 0!==f.value&&(f.value=parseFloat(f.value)),this.chooser=T.choosify("edge",[f,this.options,this.defaultOptions]),this.updateLabelModule(f);var I=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==f.hidden||void 0!==f.physics)&&(I=!0),I}}},{key:"getFormattingValues",value:function(){var F=this.options.color.inherit,V={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:F?void 0:this.options.color.color,inheritsColor:F,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var z=this.options.selectionWidth;"function"==typeof z?V.width=z(V.width):"number"==typeof z&&(V.width+=z),V.width=Math.max(V.width,.3/this.body.view.scale),V.color=this.options.color.highlight,V.shadow=this.options.shadow.enabled}else if(this.hover){var U=this.options.hoverWidth;"function"==typeof U?V.width=U(V.width):"number"==typeof U&&(V.width+=U),V.width=Math.max(V.width,.3/this.body.view.scale),V.color=this.options.color.hover,V.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(V,this.options.id,this.selected,this.hover),void 0!==V.color&&(V.inheritsColor=!1),!1===V.shadow&&(V.shadowColor!==this.options.shadow.color||V.shadowSize!==this.options.shadow.size||V.shadowX!==this.options.shadow.x||V.shadowY!==this.options.shadow.y)&&(V.shadow=!0));else V.shadow=this.options.shadow.enabled,V.width=Math.max(V.width,.3/this.body.view.scale);return V}},{key:"updateLabelModule",value:function(f){this.labelModule.update(this.options,[f,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var f=this.options.smooth,E=!1,I=!0;return void 0!==this.edgeType&&((this.edgeType instanceof p&&!0===f.enabled&&"dynamic"===f.type||this.edgeType instanceof a&&!0===f.enabled&&"cubicBezier"===f.type||this.edgeType instanceof d&&!0===f.enabled&&"dynamic"!==f.type&&"cubicBezier"!==f.type||this.edgeType instanceof u&&!1===f.type.enabled)&&(I=!1),!0===I&&(E=this.cleanup())),!0===I?!0===f.enabled?"dynamic"===f.type?(E=!0,this.edgeType=new p(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===f.type?new a(this.options,this.body,this.labelModule):new d(this.options,this.body,this.labelModule):this.edgeType=new u(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),E}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(f,E,I){if(void 0!==this.options.value){var F=this.options.scaling.customScalingFunction(f,E,I,this.options.value),V=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+F*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+F*V}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(f){var E=this.getFormattingValues();if(!E.hidden){var I=this.edgeType.getViaNode(),F={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,E.fromArrow&&(F.from=this.edgeType.getArrowData(f,"from",I,this.selected,this.hover,E),!1===E.arrowStrikethrough&&(this.edgeType.fromPoint=F.from.core)),E.toArrow&&(F.to=this.edgeType.getArrowData(f,"to",I,this.selected,this.hover,E),!1===E.arrowStrikethrough&&(this.edgeType.toPoint=F.to.core)),E.middleArrow&&(F.middle=this.edgeType.getArrowData(f,"middle",I,this.selected,this.hover,E)),this.edgeType.drawLine(f,E,this.selected,this.hover,I),this.drawArrows(f,F,E),this.drawLabel(f,I)}}},{key:"drawArrows",value:function(f,E,I){I.fromArrow&&this.edgeType.drawArrowHead(f,I,this.selected,this.hover,E.from),I.middleArrow&&this.edgeType.drawArrowHead(f,I,this.selected,this.hover,E.middle),I.toArrow&&this.edgeType.drawArrowHead(f,I,this.selected,this.hover,E.to)}},{key:"drawLabel",value:function(f,E){if(void 0!==this.options.label){var I=this.from,F=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(f,this.selected,this.hover),I.id!=F.id){this.labelModule.pointToSelf=!1;var V=this.edgeType.getPoint(.5,E);f.save();var z=this._getRotation(f);0!=z.angle&&(f.translate(z.x,z.y),f.rotate(z.angle)),this.labelModule.draw(f,V.x,V.y,this.selected,this.hover),f.restore()}else{this.labelModule.pointToSelf=!0;var U,j,K=this.options.selfReferenceSize;I.shape.width>I.shape.height?(U=I.x+.5*I.shape.width,j=I.y-K):(U=I.x+K,j=I.y-.5*I.shape.height),V=this._pointOnCircle(U,j,K,.125),this.labelModule.draw(f,V.x,V.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(f){var E=[];if(this.labelModule.visible()){var I=this._getRotation();T.pointInRect(this.labelModule.getSize(),f,I)&&E.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:f.x,top:f.y})&&E.push({edgeId:this.id}),E}},{key:"isOverlappingWith",value:function(f){if(this.connected){return this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,f.left,f.top)<10}return!1}},{key:"_getRotation",value:function(f){var E=this.edgeType.getViaNode(),I=this.edgeType.getPoint(.5,E);void 0!==f&&this.labelModule.calculateLabelSize(f,this.selected,this.hover,I.x,I.y);var F={x:I.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return F;var z=this.from.x-this.to.x,U=Math.atan2(this.from.y-this.to.y,z);return(U<-1&&z<0||U>0&&z<0)&&(U+=Math.PI),F.angle=U,F}},{key:"_pointOnCircle",value:function(f,E,I,F){var V=2*F*Math.PI;return{x:f+I*Math.cos(V),y:E-I*Math.sin(V)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(f,E){var I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},V=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],f,E,I),f.label=T.isValidLabel(E.label)?E.label:void 0,m.mergeOptions(f,E,"smooth",F),m.mergeOptions(f,E,"shadow",F),null!=E.dashes?f.dashes=E.dashes:!0===I&&null===E.dashes&&(f.dashes=(0,A.default)(F.dashes)),null!=E.scaling?(void 0!==E.scaling.min&&(f.scaling.min=E.scaling.min),void 0!==E.scaling.max&&(f.scaling.max=E.scaling.max),m.mergeOptions(f.scaling,E.scaling,"label",F.scaling)):!0===I&&null===E.scaling&&(f.scaling=(0,A.default)(F.scaling)),null!=E.arrows)if("string"==typeof E.arrows){var U=E.arrows.toLowerCase();f.arrows.to.enabled=-1!=U.indexOf("to"),f.arrows.middle.enabled=-1!=U.indexOf("middle"),f.arrows.from.enabled=-1!=U.indexOf("from")}else{if("object"!==(0,D.default)(E.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,y.default)(E.arrows));m.mergeOptions(f.arrows,E.arrows,"to",F.arrows),m.mergeOptions(f.arrows,E.arrows,"middle",F.arrows),m.mergeOptions(f.arrows,E.arrows,"from",F.arrows)}else!0===I&&null===E.arrows&&(f.arrows=(0,A.default)(F.arrows));if(null!=E.color){var j=E.color,K=f.color;if(V)m.deepExtend(K,F.color,!1,I);else for(var te in K)K.hasOwnProperty(te)&&delete K[te];if(m.isString(K))K.color=K,K.highlight=K,K.hover=K,K.inherit=!1,void 0===j.opacity&&(K.opacity=1);else{var oe=!1;void 0!==j.color&&(K.color=j.color,oe=!0),void 0!==j.highlight&&(K.highlight=j.highlight,oe=!0),void 0!==j.hover&&(K.hover=j.hover,oe=!0),void 0!==j.inherit&&(K.inherit=j.inherit),void 0!==j.opacity&&(K.opacity=Math.min(1,Math.max(0,j.opacity))),!0===oe?K.inherit=!1:void 0===K.inherit&&(K.inherit="from")}}else!0===I&&null===E.color&&(f.color=m.bridgeObject(F.color));!0===I&&null===E.font&&(f.font=m.bridgeObject(F.font))}}]),M}();L.default=g},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_findBorderPositionBezier",value:function(u,g){var F,V,j,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),h=10,f=0,E=0,I=1,K=.2,te=this.to,oe=!1;for(u.id===this.from.id&&(te=this.from,oe=!0);E<=I&&f<h;){var le=.5*(E+I);if(F=this.getPoint(le,M),V=Math.atan2(te.y-F.y,te.x-F.x),j=te.distanceToBorder(g,V)-Math.sqrt(Math.pow(F.x-te.x,2)+Math.pow(F.y-te.y,2)),Math.abs(j)<K)break;j<0?!1===oe?E=le:I=le:!1===oe?I=le:E=le,f++}return F.t=le,F}},{key:"_getDistanceToBezierEdge",value:function(u,g,M,h,f,E,I){var F=1e9,V=void 0,z=void 0,U=void 0,j=void 0,K=void 0,te=u,oe=g;for(z=1;z<10;z++)U=.1*z,j=Math.pow(1-U,2)*u+2*U*(1-U)*I.x+Math.pow(U,2)*M,K=Math.pow(1-U,2)*g+2*U*(1-U)*I.y+Math.pow(U,2)*h,z>0&&(F=(V=this._getDistanceToLine(te,oe,j,K,f,E))<F?V:F),te=j,oe=K;return F}},{key:"_bezierCurve",value:function(u,g,M,h){var f=void 0!==M&&void 0!==M.x,E=void 0!==h&&void 0!==h.x;u.beginPath(),u.moveTo(this.fromPoint.x,this.fromPoint.y),f&&E?u.bezierCurveTo(M.x,M.y,h.x,h.y,this.toPoint.x,this.toPoint.y):f?u.quadraticCurveTo(M.x,M.y,this.toPoint.x,this.toPoint.y):u.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(u,g),u.stroke(),this.disableShadow(u,g)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),p}(c(_(118)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(k){return k&&k.__esModule?k:{default:k}}var A=_(2),x=function(){function k(){(0,y.default)(this,k)}return(0,D.default)(k,null,[{key:"getRange",value:function(w){var p,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=1e9,c=-1e9,T=1e9,a=-1e9;if(v.length>0)for(var d=0;d<v.length;d++)T>(p=w[v[d]]).shape.boundingBox.left&&(T=p.shape.boundingBox.left),a<p.shape.boundingBox.right&&(a=p.shape.boundingBox.right),m>p.shape.boundingBox.top&&(m=p.shape.boundingBox.top),c<p.shape.boundingBox.bottom&&(c=p.shape.boundingBox.bottom);return 1e9===T&&-1e9===a&&1e9===m&&-1e9===c&&(m=0,c=0,T=0,a=0),{minX:T,maxX:a,minY:m,maxY:c}}},{key:"getRangeCore",value:function(w){var p,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=1e9,c=-1e9,T=1e9,a=-1e9;if(v.length>0)for(var d=0;d<v.length;d++)T>(p=w[v[d]]).x&&(T=p.x),a<p.x&&(a=p.x),m>p.y&&(m=p.y),c<p.y&&(c=p.y);return 1e9===T&&-1e9===a&&1e9===m&&-1e9===c&&(m=0,c=0,T=0,a=0),{minX:T,maxX:a,minY:m,maxY:c}}},{key:"findCenter",value:function(w){return{x:.5*(w.maxX+w.minX),y:.5*(w.maxY+w.minY)}}},{key:"cloneOptions",value:function(w,v){var m={};return void 0===v||"node"===v?(A.deepExtend(m,w.options,!0),m.x=w.x,m.y=w.y,m.amountOfConnections=w.edges.length):A.deepExtend(m,w.options,!0),m}}]),k}();L.default=x},function(Q,L,_){Q.exports={default:_(124),__esModule:!0}},function(Q,L,_){var P=_(50);Q.exports=Object("z").propertyIsEnumerable(0)?Object:function(y){return"String"==P(y)?y.split(""):Object(y)}},function(Q,L,_){var P=_(52),y=_(17),S=_(83),D=_(26),O=_(22),A=_(31),x=_(129),k=_(59),b=_(85),w=_(13)("iterator"),v=!([].keys&&"next"in[].keys()),c="keys",T="values",a=function(){return this};Q.exports=function(p,d,u,g,M,h,f){x(u,d,g);var oe,le,pe,E=function(Ee){if(!v&&Ee in z)return z[Ee];switch(Ee){case c:case T:return function(){return new u(this,Ee)}}return function(){return new u(this,Ee)}},I=d+" Iterator",F=M==T,V=!1,z=p.prototype,U=z[w]||z["@@iterator"]||M&&z[M],j=U||E(M),K=M?F?E("entries"):j:void 0,te="Array"==d&&z.entries||U;if(te&&(pe=b(te.call(new p)))!==Object.prototype&&pe.next&&(k(pe,I,!0),!P&&!O(pe,w)&&D(pe,w,a)),F&&U&&U.name!==T&&(V=!0,j=function(){return U.call(this)}),(!P||f)&&(v||V||!z[w])&&D(z,w,j),A[d]=j,A[I]=a,M)if(oe={values:F?j:E(T),keys:h?j:E(c),entries:K},f)for(le in oe)le in z||S(z,le,oe[le]);else y(y.P+y.F*(v||V),d,oe);return oe}},function(Q,L,_){var P=_(128);Q.exports=function(y,S,D){if(P(y),void 0===S)return y;switch(D){case 1:return function(O){return y.call(S,O)};case 2:return function(O,A){return y.call(S,O,A)};case 3:return function(O,A,x){return y.call(S,O,A,x)}}return function(){return y.apply(S,arguments)}}},function(Q,L,_){Q.exports=!_(21)&&!_(28)(function(){return 7!=Object.defineProperty(_(82)("div"),"a",{get:function(){return 7}}).a})},function(Q,L,_){var P=_(32),y=_(18).document,S=P(y)&&P(y.createElement);Q.exports=function(D){return S?y.createElement(D):{}}},function(Q,L,_){Q.exports=_(26)},function(Q,L,_){var P=_(22),y=_(25),S=_(131)(!1),D=_(56)("IE_PROTO");Q.exports=function(O,A){var w,x=y(O),k=0,b=[];for(w in x)w!=D&&P(x,w)&&b.push(w);for(;A.length>k;)P(x,w=A[k++])&&(~S(b,w)||b.push(w));return b}},function(Q,L,_){var P=_(22),y=_(41),S=_(56)("IE_PROTO"),D=Object.prototype;Q.exports=Object.getPrototypeOf||function(O){return O=y(O),P(O,S)?O[S]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?D:null}},function(Q,L,_){var P=_(50),y=_(13)("toStringTag"),S="Arguments"==P(function(){return arguments}());Q.exports=function(O){var A,x,k;return void 0===O?"Undefined":null===O?"Null":"string"==typeof(x=function(O,A){try{return O[A]}catch(x){}}(A=Object(O),y))?x:S?P(A):"Object"==(k=P(A))&&"function"==typeof A.callee?"Arguments":k}},function(Q,L,_){var P=_(17),y=_(7),S=_(28);Q.exports=function(D,O){var A=(y.Object||{})[D]||Object[D],x={};x[D]=O(A),P(P.S+P.F*S(function(){A(1)}),"Object",x)}},function(Q,L,_){var P=_(84),y=_(58).concat("length","prototype");L.f=Object.getOwnPropertyNames||function(D){return P(D,y)}},function(Q,L,_){var P=_(42),y=_(39),S=_(25),D=_(53),O=_(22),A=_(81),x=Object.getOwnPropertyDescriptor;L.f=_(21)?x:function(b,w){if(b=S(b),w=D(w,!0),A)try{return x(b,w)}catch(v){}if(O(b,w))return y(!P.f.call(b,w),b[w])}},function(Q,L,_){Q.exports={default:_(162),__esModule:!0}},function(Q,L,_){Q.exports=function(y,S){this.x=void 0!==y?y:0,this.y=void 0!==S?S:0}},function(Q,L,_){var P=_(2);function y(S,D){if(void 0===S)throw new Error("No container element defined");if(this.container=S,this.visible=!D||null==D.visible||D.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var O=this;this.frame.slide.onmousedown=function(A){O._onMouseDown(A)},this.frame.prev.onclick=function(A){O.prev(A)},this.frame.play.onclick=function(A){O.togglePlay(A)},this.frame.next.onclick=function(A){O.next(A)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}y.prototype.prev=function(){var S=this.getIndex();S>0&&(S--,this.setIndex(S))},y.prototype.next=function(){var S=this.getIndex();S<this.values.length-1&&(S++,this.setIndex(S))},y.prototype.playNext=function(){var S=new Date,D=this.getIndex();D<this.values.length-1?(D++,this.setIndex(D)):this.playLoop&&this.setIndex(D=0);var O=new Date,x=Math.max(this.playInterval-(O-S),0),k=this;this.playTimeout=setTimeout(function(){k.playNext()},x)},y.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},y.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},y.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},y.prototype.setOnChangeCallback=function(S){this.onChangeCallback=S},y.prototype.setPlayInterval=function(S){this.playInterval=S},y.prototype.getPlayInterval=function(){return this.playInterval},y.prototype.setPlayLoop=function(S){this.playLoop=S},y.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},y.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var S=this.indexToLeft(this.index);this.frame.slide.style.left=S+"px"}},y.prototype.setValues=function(S){this.values=S,this.values.length>0?this.setIndex(0):this.index=void 0},y.prototype.setIndex=function(S){if(!(S<this.values.length))throw new Error("Index out of range");this.index=S,this.redraw(),this.onChange()},y.prototype.getIndex=function(){return this.index},y.prototype.get=function(){return this.values[this.index]},y.prototype._onMouseDown=function(S){if(S.which?1===S.which:1===S.button){this.startClientX=S.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var O=this;this.onmousemove=function(A){O._onMouseMove(A)},this.onmouseup=function(A){O._onMouseUp(A)},P.addEventListener(document,"mousemove",this.onmousemove),P.addEventListener(document,"mouseup",this.onmouseup),P.preventDefault(S)}},y.prototype.leftToIndex=function(S){var D=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,A=Math.round((S-3)/D*(this.values.length-1));return A<0&&(A=0),A>this.values.length-1&&(A=this.values.length-1),A},y.prototype.indexToLeft=function(S){var D=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return S/(this.values.length-1)*D+3},y.prototype._onMouseMove=function(S){var A=this.leftToIndex(this.startSlideX+(S.clientX-this.startClientX));this.setIndex(A),P.preventDefault()},y.prototype._onMouseUp=function(S){this.frame.style.cursor="auto",P.removeEventListener(document,"mousemove",this.onmousemove),P.removeEventListener(document,"mouseup",this.onmouseup),P.preventDefault()},Q.exports=y},function(Q,L,_){function P(y,S,D,O){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(y,S,D,O)}P.prototype.isNumeric=function(y){return!isNaN(parseFloat(y))&&isFinite(y)},P.prototype.setRange=function(y,S,D,O){if(!this.isNumeric(y))throw new Error("Parameter 'start' is not numeric; value: "+y);if(!this.isNumeric(S))throw new Error("Parameter 'end' is not numeric; value: "+y);if(!this.isNumeric(D))throw new Error("Parameter 'step' is not numeric; value: "+y);this._start=y||0,this._end=S||0,this.setStep(D,O)},P.prototype.setStep=function(y,S){void 0===y||y<=0||(void 0!==S&&(this.prettyStep=S),this._step=!0===this.prettyStep?P.calculatePrettyStep(y):y)},P.calculatePrettyStep=function(y){var S=function(b){return Math.log(b)/Math.LN10},D=Math.pow(10,Math.round(S(y))),O=2*Math.pow(10,Math.round(S(y/2))),A=5*Math.pow(10,Math.round(S(y/5))),x=D;return Math.abs(O-y)<=Math.abs(x-y)&&(x=O),Math.abs(A-y)<=Math.abs(x-y)&&(x=A),x<=0&&(x=1),x},P.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},P.prototype.getStep=function(){return this._step},P.prototype.start=function(y){void 0===y&&(y=!1),this._current=this._start-this._start%this._step,y&&this.getCurrent()<this._start&&this.next()},P.prototype.next=function(){this._current+=this._step},P.prototype.end=function(){return this._current>this._end},Q.exports=P},function(Q,L,_){var z,y=(z=_(6))&&z.__esModule?z:{default:z};var D=_(2),O=_(95),A=_(34),x={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},k={dot:x.DOT,"dot-line":x.DOTLINE,"dot-color":x.DOTCOLOR,"dot-size":x.DOTSIZE,line:x.LINE,grid:x.GRID,surface:x.SURFACE,bar:x.BAR,"bar-color":x.BARCOLOR,"bar-size":x.BARSIZE},b=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],w=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],v=void 0;function m(z){for(var U in z)if(z.hasOwnProperty(U))return!1;return!0}function T(z,U){return void 0===z||""===z?U:z+function(z){return void 0===z||""===z||"string"!=typeof z?z:z.charAt(0).toUpperCase()+z.slice(1)}(U)}function a(z,U,j,K){for(var te,le=0;le<j.length;++le)U[T(K,te=j[le])]=z[te]}function p(z,U,j,K){for(var te,le=0;le<j.length;++le)void 0!==z[te=j[le]]&&(U[T(K,te)]=z[te])}function g(z,U){void 0!==z.backgroundColor&&function(z,U){var j="white",K="gray",te=1;if("string"==typeof z)j=z,K="none",te=0;else{if("object"!==(void 0===z?"undefined":(0,y.default)(z)))throw new Error("Unsupported type of backgroundColor");void 0!==z.fill&&(j=z.fill),void 0!==z.stroke&&(K=z.stroke),void 0!==z.strokeWidth&&(te=z.strokeWidth)}U.frame.style.backgroundColor=j,U.frame.style.borderColor=K,U.frame.style.borderWidth=te+"px",U.frame.style.borderStyle="solid"}(z.backgroundColor,U),function(z,U){void 0!==z&&(void 0===U.dataColor&&(U.dataColor={}),"string"==typeof z?(U.dataColor.fill=z,U.dataColor.stroke=z):(z.fill&&(U.dataColor.fill=z.fill),z.stroke&&(U.dataColor.stroke=z.stroke),void 0!==z.strokeWidth&&(U.dataColor.strokeWidth=z.strokeWidth)))}(z.dataColor,U),function(z,U){if(void 0!==z){var j;if("string"==typeof z){if(-1===(j=function(z){var U=k[z];return void 0===U?-1:U}(z)))throw new Error("Style '"+z+"' is invalid")}else{if(!function(z){var U=!1;for(var j in x)if(x[j]===z){U=!0;break}return U}(z))throw new Error("Style '"+z+"' is invalid");j=z}U.style=j}}(z.style,U),function(z,U){void 0===z?void 0===v.showLegend&&(U.showLegend=U.style===x.DOTCOLOR||U.style===x.DOTSIZE):U.showLegend=z}(z.showLegend,U),V(z.cameraPosition,U),void 0!==z.tooltip&&(U.showTooltip=z.tooltip),null!=z.onclick&&(U.onclick_callback=z.onclick),void 0!==z.tooltipStyle&&D.selectiveDeepExtend(["tooltipStyle"],U,z)}function V(z,U){var j=z;void 0!==j&&(void 0===U.camera&&(U.camera=new O),U.camera.setArmRotation(j.horizontal,j.vertical),U.camera.setArmLength(j.distance))}Q.exports.STYLE=x,Q.exports.setDefaults=function(z,U){if(void 0===z||m(z))throw new Error("No DEFAULTS passed");if(void 0===U)throw new Error("No dst passed");v=z,a(z,U,b),a(z,U,w,"default"),g(z,U),U.margin=10,U.showGrayBottom=!1,U.showTooltip=!1,U.onclick_callback=null,U.eye=new A(0,0,-1)},Q.exports.setOptions=function(z,U){if(void 0!==z){if(void 0===U)throw new Error("No dst passed");if(void 0===v||m(v))throw new Error("DEFAULTS not set for module Settings");p(z,U,b),p(z,U,w,"default"),g(z,U)}},Q.exports.setCameraPosition=V},function(Q,L,_){var A,y=(A=_(165))&&A.__esModule?A:{default:A};var D=_(34);function O(){this.armLocation=new D,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new D,this.offsetMultiplier=.6,this.cameraLocation=new D,this.cameraRotation=new D(.5*Math.PI,0,0),this.calculateCameraOrientation()}O.prototype.setOffset=function(A,x){var k=Math.abs,b=y.default,v=this.armLength*this.offsetMultiplier;k(A)>v&&(A=b(A)*v),k(x)>v&&(x=b(x)*v),this.cameraOffset.x=A,this.cameraOffset.y=x,this.calculateCameraOrientation()},O.prototype.getOffset=function(){return this.cameraOffset},O.prototype.setArmLocation=function(A,x,k){this.armLocation.x=A,this.armLocation.y=x,this.armLocation.z=k,this.calculateCameraOrientation()},O.prototype.setArmRotation=function(A,x){void 0!==A&&(this.armRotation.horizontal=A),void 0!==x&&(this.armRotation.vertical=x,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==A||void 0!==x)&&this.calculateCameraOrientation()},O.prototype.getArmRotation=function(){var A={};return A.horizontal=this.armRotation.horizontal,A.vertical=this.armRotation.vertical,A},O.prototype.setArmLength=function(A){void 0!==A&&(this.armLength=A,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},O.prototype.getArmLength=function(){return this.armLength},O.prototype.getCameraLocation=function(){return this.cameraLocation},O.prototype.getCameraRotation=function(){return this.cameraRotation},O.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var A=this.cameraRotation.x,x=this.cameraRotation.z,k=this.cameraOffset.x,b=this.cameraOffset.y,w=Math.sin,v=Math.cos;this.cameraLocation.x=this.cameraLocation.x+k*v(x)+b*-w(x)*v(A),this.cameraLocation.y=this.cameraLocation.y+k*w(x)+b*v(x)*v(A),this.cameraLocation.z=this.cameraLocation.z+b*w(A)},Q.exports=O},function(Q,L,_){var P=_(12);function y(S,D,O){this.dataGroup=S,this.column=D,this.graph=O,this.index=void 0,this.value=void 0,this.values=S.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,O.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}y.prototype.isLoaded=function(){return this.loaded},y.prototype.getLoadedProgress=function(){for(var S=this.values.length,D=0;this.dataPoints[D];)D++;return Math.round(D/S*100)},y.prototype.getLabel=function(){return this.graph.filterLabel},y.prototype.getColumn=function(){return this.column},y.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},y.prototype.getValues=function(){return this.values},y.prototype.getValue=function(S){if(S>=this.values.length)throw new Error("Index out of range");return this.values[S]},y.prototype._getDataPoints=function(S){if(void 0===S&&(S=this.index),void 0===S)return[];var D;if(this.dataPoints[S])D=this.dataPoints[S];else{var O={};O.column=this.column,O.value=this.values[S];var A=new P(this.dataGroup.getDataSet(),{filter:function(k){return k[O.column]==O.value}}).get();D=this.dataGroup._getDataPoints(A),this.dataPoints[S]=D}return D},y.prototype.setOnLoadCallback=function(S){this.onLoadCallback=S},y.prototype.selectValue=function(S){if(S>=this.values.length)throw new Error("Index out of range");this.index=S,this.value=this.values[S]},y.prototype.loadInBackground=function(S){void 0===S&&(S=0);var D=this.graph.frame;if(S<this.values.length){void 0===D.progress&&(D.progress=document.createElement("DIV"),D.progress.style.position="absolute",D.progress.style.color="gray",D.appendChild(D.progress));var O=this.getLoadedProgress();D.progress.innerHTML="Loading animation... "+O+"%",D.progress.style.bottom="60px",D.progress.style.left="10px";var A=this;setTimeout(function(){A.loadInBackground(S+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==D.progress&&(D.removeChild(D.progress),D.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},Q.exports=y},function(Q,L,_){var P=_(35),y=_(44),S=_(10),D=_(2);function O(x){this.active=!1,this.dom={container:x},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=S(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var k=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(w){k.hammer.on(w,function(v){v.stopPropagation()})}),document&&document.body&&(this.onClick=function(w){(function(x,k){for(;x;){if(x===k)return!0;x=x.parentNode}return!1})(w.target,x)||k.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=P(),this.escListener=this.deactivate.bind(this)}y(O.prototype),O.current=null,O.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},O.prototype.activate=function(){O.current&&O.current.deactivate(),O.current=this,this.active=!0,this.dom.overlay.style.display="none",D.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},O.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",D.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},O.prototype._onTapOverlay=function(x){this.activate(),x.stopPropagation()},Q.exports=O},function(Q,L,_){L.en={current:"current",time:"time"},L.en_EN=L.en,L.en_US=L.en,L.it={current:"attuale",time:"tempo"},L.it_IT=L.it,L.it_CH=L.it,L.nl={current:"huidige",time:"tijd"},L.nl_NL=L.nl,L.nl_BE=L.nl,L.de={current:"Aktuelle",time:"Zeit"},L.de_DE=L.de,L.fr={current:"actuel",time:"heure"},L.fr_FR=L.fr,L.fr_CA=L.fr,L.fr_BE=L.fr,L.es={current:"corriente",time:"hora"},L.es_ES=L.es},function(Q,L,_){var y=O(_(29)),D=O(_(6));function O(f){return f&&f.__esModule?f:{default:f}}var A=_(10),x=_(2),k=_(11),b=_(12),w=_(66),v=_(16),m=_(68),c=_(69),T=_(101),a=_(102),p=_(70),d=_(103),u=_(104).default,g="__ungrouped__",M="__background__";function h(f,E){this.body=f,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(V,z,U){var j=z.order;z.order=V.order,V.order=j},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:w.snap,onDropObjectOnItem:function(V,z,U){U(z)},onAdd:function(V,z){z(V)},onUpdate:function(V,z){z(V)},onMove:function(V,z){z(V)},onRemove:function(V,z){z(V)},onMoving:function(V,z){z(V)},onAddGroup:function(V,z){z(V)},onMoveGroup:function(V,z){z(V)},onRemoveGroup:function(V,z){z(V)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=x.extend({},this.defaultOptions),this.options.rtl=E.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:f.util.toScreen,toTime:f.util.toTime},this.dom={},this.props={},this.hammer=null;var I=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(V,z,U){I._onAdd(z.items)},update:function(V,z,U){I._onUpdate(z.items)},remove:function(V,z,U){I._onRemove(z.items)}},this.groupListeners={add:function(V,z,U){if(I._onAddGroups(z.items),I.groupsData&&I.groupsData.length>0){var j=I.groupsData.getDataSet();j.get().forEach(function(K){if(K.nestedGroups){0!=K.showNested&&(K.showNested=!0);var te=[];K.nestedGroups.forEach(function(oe){var le=j.get(oe);!le||(le.nestedInGroup=K.id,0==K.showNested&&(le.visible=!1),te=te.concat(le))}),j.update(te,U)}})}},update:function(V,z,U){I._onUpdateGroups(z.items)},remove:function(V,z,U){I._onRemoveGroups(z.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(E)}h.prototype=new v,h.types={background:d,box:T,range:p,point:a},h.prototype._create=function(){var f=document.createElement("div");f.className="vis-itemset",f["timeline-itemset"]=this,this.dom.frame=f;var E=document.createElement("div");E.className="vis-background",f.appendChild(E),this.dom.background=E;var I=document.createElement("div");I.className="vis-foreground",f.appendChild(I),this.dom.foreground=I;var F=document.createElement("div");F.className="vis-axis",this.dom.axis=F;var V=document.createElement("div");V.className="vis-labelset",this.dom.labelSet=V,this._updateUngrouped();var z=new c(M,null,this);z.show(),this.groups[M]=z,this.hammer=new A(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(U){U.isFirst&&this._onTouch(U)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:A.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new A(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:A.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},h.prototype.setOptions=function(f){if(f){x.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,f),"itemsAlwaysDraggable"in f&&("boolean"==typeof f.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=f.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,D.default)(f.itemsAlwaysDraggable)&&(x.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,f.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in f&&("string"==typeof f.orientation?this.options.orientation.item="top"===f.orientation?"top":"bottom":"object"===(0,D.default)(f.orientation)&&"item"in f.orientation&&(this.options.orientation.item=f.orientation.item)),"margin"in f&&("number"==typeof f.margin?(this.options.margin.axis=f.margin,this.options.margin.item.horizontal=f.margin,this.options.margin.item.vertical=f.margin):"object"===(0,D.default)(f.margin)&&(x.selectiveExtend(["axis"],this.options.margin,f.margin),"item"in f.margin&&("number"==typeof f.margin.item?(this.options.margin.item.horizontal=f.margin.item,this.options.margin.item.vertical=f.margin.item):"object"===(0,D.default)(f.margin.item)&&x.selectiveExtend(["horizontal","vertical"],this.options.margin.item,f.margin.item)))),"editable"in f&&("boolean"==typeof f.editable?(this.options.editable.updateTime=f.editable,this.options.editable.updateGroup=f.editable,this.options.editable.add=f.editable,this.options.editable.remove=f.editable,this.options.editable.overrideItems=!1):"object"===(0,D.default)(f.editable)&&x.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,f.editable)),"groupEditable"in f&&("boolean"==typeof f.groupEditable?(this.options.groupEditable.order=f.groupEditable,this.options.groupEditable.add=f.groupEditable,this.options.groupEditable.remove=f.groupEditable):"object"===(0,D.default)(f.groupEditable)&&x.selectiveExtend(["order","add","remove"],this.options.groupEditable,f.groupEditable));var I=function(F){var V=f[F];if(V){if(!(V instanceof Function))throw new Error("option "+F+" must be a function "+F+"(item, callback)");this.options[F]=V}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(I),this.markDirty()}},h.prototype.markDirty=function(f){this.groupIds=[],f&&f.refreshItems&&x.forEach(this.items,function(E){E.dirty=!0,E.displayed&&E.redraw()})},h.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},h.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},h.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},h.prototype.setSelection=function(f){var E,I,F,V;for(null==f&&(f=[]),Array.isArray(f)||(f=[f]),E=0,I=this.selection.length;E<I;E++)(V=this.items[F=this.selection[E]])&&V.unselect();for(this.selection=[],E=0,I=f.length;E<I;E++)(V=this.items[F=f[E]])&&(this.selection.push(F),V.select())},h.prototype.getSelection=function(){return this.selection.concat([])},h.prototype.getVisibleItems=function(){var E,I,f=this.body.range.getRange();this.options.rtl?(E=this.body.util.toScreen(f.start),I=this.body.util.toScreen(f.end)):(I=this.body.util.toScreen(f.start),E=this.body.util.toScreen(f.end));var F=[];for(var V in this.groups)if(this.groups.hasOwnProperty(V))for(var z=this.groups[V],U=z.isVisible?z.visibleItems:[],j=0;j<U.length;j++){var K=U[j];this.options.rtl?K.right<I&&K.right+K.width>E&&F.push(K.id):K.left<E&&K.left+K.width>I&&F.push(K.id)}return F},h.prototype._deselect=function(f){for(var E=this.selection,I=0,F=E.length;I<F;I++)if(E[I]==f){E.splice(I,1);break}},h.prototype.redraw=function(){var f=this.options.margin,E=this.body.range,I=x.option.asSize,F=this.options,V=F.orientation.item,z=!1,U=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,U.className="vis-itemset",z=this._orderGroups()||z;var j=E.end-E.start,pe=j!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||E.start!=this.lastRangeStart||F.stack!=this.lastStack||F.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=j,this.lastRangeStart=E.start,this.lastStack=F.stack,this.lastStackSubgroups=F.stackSubgroups,this.props.lastWidth=this.props.width;var Ee=this._firstGroup(),Ce={item:f.item,axis:f.axis},_e={item:f.item,axis:f.item.vertical/2},ge=0,ue=f.axis+f.item.vertical;this.groups[M].redraw(E,_e,pe);var he={},be=0;if(x.forEach(this.groups,function(Be,ze){ze!==M&&(he[ze]=Be.redraw(E,Be==Ee?Ce:_e,pe,!0),be=he[ze].length)}),be>0){for(var Ie={},xe=0;xe<be;xe++)x.forEach(he,function(Be,ze){Ie[ze]=Be[xe]()});x.forEach(this.groups,function(Be,ze){ze!==M&&(z=Ie[ze]||z,ge+=Be.height)}),ge=Math.max(ge,ue)}return ge=Math.max(ge,ue),U.style.height=I(ge),this.props.width=U.offsetWidth,this.props.height=ge,this.dom.axis.style.top=I("top"==V?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,z=this._isResized()||z},h.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[g]||null},h.prototype._updateUngrouped=function(){var E,I,f=this.groups[g];if(this.groupsData){if(f)for(I in f.hide(),delete this.groups[g],this.items)if(this.items.hasOwnProperty(I)){(E=this.items[I]).parent&&E.parent.remove(E);var F=this._getGroupId(E.data),V=this.groups[F];V&&V.add(E)||E.hide()}}else if(!f){for(I in f=new m(null,null,this),this.groups[g]=f,this.items)this.items.hasOwnProperty(I)&&f.add(E=this.items[I]);f.show()}},h.prototype.getLabelSet=function(){return this.dom.labelSet},h.prototype.setItems=function(f){var I,E=this,F=this.itemsData;if(f){if(!(f instanceof k||f instanceof b))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=f}else this.itemsData=null;if(F&&(x.forEach(this.itemListeners,function(z,U){F.off(U,z)}),I=F.getIds(),this._onRemove(I)),this.itemsData){var V=this.id;x.forEach(this.itemListeners,function(z,U){E.itemsData.on(U,z,V)}),I=this.itemsData.getIds(),this._onAdd(I),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},h.prototype.getItems=function(){return this.itemsData},h.prototype.setGroups=function(f){var I,E=this;if(this.groupsData&&(x.forEach(this.groupListeners,function(z,U){E.groupsData.off(U,z)}),I=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(I)),f){if(!(f instanceof k||f instanceof b))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=f}else this.groupsData=null;if(this.groupsData){var F=this.groupsData;this.groupsData instanceof b&&(F=this.groupsData.getDataSet()),F.get().forEach(function(z){z.nestedGroups&&z.nestedGroups.forEach(function(U){var j=F.get(U);j.nestedInGroup=z.id,0==z.showNested&&(j.visible=!1),F.update(j)})});var V=this.id;x.forEach(this.groupListeners,function(z,U){E.groupsData.on(U,z,V)}),I=this.groupsData.getIds(),this._onAddGroups(I)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},h.prototype.getGroups=function(){return this.groupsData},h.prototype.removeItem=function(f){var E=this.itemsData.get(f),I=this.itemsData.getDataSet();E&&this.options.onRemove(E,function(F){F&&I.remove(f)})},h.prototype._getType=function(f){return f.type||this.options.type||(f.end?"range":"box")},h.prototype._getGroupId=function(f){return"background"==this._getType(f)&&null==f.group?M:this.groupsData?f.group:g},h.prototype._onAdd=h.prototype._onUpdate=function(f){var E=this;f.forEach(function(I){var j,F=E.itemsData.get(I,E.itemOptions),V=E.items[I],z=F?E._getType(F):null,U=h.types[z];if(V&&(U&&V instanceof U?E._updateItem(V,F):(j=V.selected,E._removeItem(V),V=null)),!V&&F){if(!U)throw"rangeoverflow"==z?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+z+'"');(V=new U(F,E.conversion,E.options)).id=I,E._addItem(V),j&&(this.selection.push(I),V.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},h.prototype._onRemove=function(f){var E=0,I=this;f.forEach(function(F){var V=I.items[F];V&&(E++,I._removeItem(V))}),E&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},h.prototype._order=function(){x.forEach(this.groups,function(f){f.order()})},h.prototype._onUpdateGroups=function(f){this._onAddGroups(f)},h.prototype._onAddGroups=function(f){var E=this;f.forEach(function(I){var F=E.groupsData.get(I),V=E.groups[I];if(V)V.setData(F);else{if(I==g||I==M)throw new Error("Illegal group id. "+I+" is a reserved id.");var z=(0,y.default)(E.options);for(var U in x.extend(z,{height:null}),V=new m(I,F,E),E.groups[I]=V,E.items)if(E.items.hasOwnProperty(U)){var j=E.items[U];j.data.group==I&&V.add(j)}V.order(),V.show()}}),this.body.emitter.emit("_change",{queue:!0})},h.prototype._onRemoveGroups=function(f){var E=this.groups;f.forEach(function(I){var F=E[I];F&&(F.hide(),delete E[I])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},h.prototype._orderGroups=function(){if(this.groupsData){var f=this.groupsData.getIds({order:this.options.groupOrder});f=this._orderNestedGroups(f);var E=!x.equalArray(f,this.groupIds);if(E){var I=this.groups;f.forEach(function(F){I[F].hide()}),f.forEach(function(F){I[F].show()}),this.groupIds=f}return E}return!1},h.prototype._orderNestedGroups=function(f){var E=[];return f.forEach(function(I){var F=this.groupsData.get(I);if(F.nestedInGroup||E.push(I),F.nestedGroups){var z=this.groupsData.get({filter:function(j){return j.nestedInGroup==I},order:this.options.groupOrder}).map(function(U){return U.id});E=E.concat(z)}},this),E},h.prototype._addItem=function(f){this.items[f.id]=f;var E=this._getGroupId(f.data),I=this.groups[E];I?I&&I.data&&I.data.showNested&&(f.groupShowing=!0):f.groupShowing=!1,I&&I.add(f)},h.prototype._updateItem=function(f,E){f.setData(E);var I=this._getGroupId(f.data),F=this.groups[I];F?F&&F.data&&F.data.showNested&&(f.groupShowing=!0):f.groupShowing=!1},h.prototype._removeItem=function(f){f.hide(),delete this.items[f.id];var E=this.selection.indexOf(f.id);-1!=E&&this.selection.splice(E,1),f.parent&&f.parent.remove(f)},h.prototype._constructByEndArray=function(f){for(var E=[],I=0;I<f.length;I++)f[I]instanceof p&&E.push(f[I]);return E},h.prototype._onTouch=function(f){this.touchParams.item=this.itemFromTarget(f),this.touchParams.dragLeftItem=f.target.dragLeftItem||!1,this.touchParams.dragRightItem=f.target.dragRightItem||!1,this.touchParams.itemProps=null},h.prototype._getGroupIndex=function(f){for(var E=0;E<this.groupIds.length;E++)if(f==this.groupIds[E])return E},h.prototype._onDragStart=function(f){if(!this.touchParams.itemIsDragging){var F,E=this.touchParams.item||null,I=this;if(E&&(E.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||null!=E.editable&&!E.editable.updateTime&&!E.editable.updateGroup&&!this.options.editable.overrideItems)return;var V=this.touchParams.dragLeftItem,z=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=E,V)F={item:V,initialX:f.center.x,dragLeft:!0,data:this._cloneItemData(E.data)},this.touchParams.itemProps=[F];else if(z)F={item:z,initialX:f.center.x,dragRight:!0,data:this._cloneItemData(E.data)},this.touchParams.itemProps=[F];else if(this.options.editable.add&&(f.srcEvent.ctrlKey||f.srcEvent.metaKey))this._onDragStartAddItem(f);else{this.groupIds.length<1&&this.redraw();var U=this._getGroupIndex(E.data.group),j=this.options.itemsAlwaysDraggable.item&&!E.selected?[E.id]:this.getSelection();this.touchParams.itemProps=j.map(function(K){var te=I.items[K],oe=I._getGroupIndex(te.data.group);return{item:te,initialX:f.center.x,groupOffset:U-oe,data:this._cloneItemData(te.data)}}.bind(this))}f.stopPropagation()}else this.options.editable.add&&(f.srcEvent.ctrlKey||f.srcEvent.metaKey)&&this._onDragStartAddItem(f)}},h.prototype._onDragStartAddItem=function(f){var E,I,F=this.options.snap||null;this.options.rtl?I=(E=x.getAbsoluteRight(this.dom.frame))-f.center.x+10:(E=x.getAbsoluteLeft(this.dom.frame),I=f.center.x-E-10);var V=this.body.util.toTime(I),z=this.body.util.getScale(),U=this.body.util.getStep(),j=F?F(V,z,U):V,te={type:"range",start:j,end:j,content:"new item"},oe=x.randomUUID();te[this.itemsData._fieldId]=oe;var le=this.groupFromTarget(f);le&&(te.group=le.groupId);var pe=new p(te,this.conversion,this.options);pe.id=oe,pe.data=this._cloneItemData(te),this._addItem(pe),this.touchParams.selectedItem=pe;var Ee={item:pe,initialX:f.center.x,data:pe.data};this.options.rtl?Ee.dragLeft=!0:Ee.dragRight=!0,this.touchParams.itemProps=[Ee],f.stopPropagation()},h.prototype._onDrag=function(f){if(this.touchParams.itemProps){f.stopPropagation();var F,E=this,I=this.options.snap||null;F=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var V=this.body.util.getScale(),z=this.body.util.getStep(),U=this.touchParams.selectedItem,j=(this.options.editable.overrideItems||null==U.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=U.editable&&U.editable.updateGroup,K=null;if(j&&U&&null!=U.data.group){var te=E.groupFromTarget(f);te&&(K=this._getGroupIndex(te.groupId))}this.touchParams.itemProps.forEach(function(oe){var Ee,Ce,_e,ge,ue,le=E.body.util.toTime(f.center.x-F),pe=E.body.util.toTime(oe.initialX-F);Ee=this.options.rtl?-(le-pe):le-pe;var he=this._cloneItemData(oe.item.data);if(null==oe.item.editable||oe.item.editable.updateTime||oe.item.editable.updateGroup||E.options.editable.overrideItems){if((this.options.editable.overrideItems||null==U.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=U.editable&&U.editable.updateTime)if(oe.dragLeft)this.options.rtl?null!=he.end&&(_e=x.convert(oe.data.end,"Date"),ue=new Date(_e.valueOf()+Ee),he.end=I?I(ue,V,z):ue):null!=he.start&&(Ce=x.convert(oe.data.start,"Date"),ge=new Date(Ce.valueOf()+Ee),he.start=I?I(ge,V,z):ge);else if(oe.dragRight)this.options.rtl?null!=he.start&&(Ce=x.convert(oe.data.start,"Date"),ge=new Date(Ce.valueOf()+Ee),he.start=I?I(ge,V,z):ge):null!=he.end&&(_e=x.convert(oe.data.end,"Date"),ue=new Date(_e.valueOf()+Ee),he.end=I?I(ue,V,z):ue);else if(null!=he.start)if(Ce=x.convert(oe.data.start,"Date").valueOf(),ge=new Date(Ce+Ee),null!=he.end){var Oe=(_e=x.convert(oe.data.end,"Date")).valueOf()-Ce.valueOf();he.start=I?I(ge,V,z):ge,he.end=new Date(he.start.valueOf()+Oe)}else he.start=I?I(ge,V,z):ge;if(j&&!oe.dragLeft&&!oe.dragRight&&null!=K&&null!=he.group){var Ie=K-oe.groupOffset;Ie=Math.max(0,Ie),Ie=Math.min(E.groupIds.length-1,Ie),he.group=E.groupIds[Ie]}he=this._cloneItemData(he),E.options.onMoving(he,function(xe){xe&&oe.item.setData(this._cloneItemData(xe,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},h.prototype._moveToGroup=function(f,E){var I=this.groups[E];if(I&&I.groupId!=f.data.group){var F=f.parent;F.remove(f),F.order(),f.data.group=I.groupId,I.add(f),I.order()}},h.prototype._onDragEnd=function(f){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){f.stopPropagation();var E=this,I=this.itemsData.getDataSet(),F=this.touchParams.itemProps;this.touchParams.itemProps=null,F.forEach(function(V){var z=V.item.id;if(null!=E.itemsData.get(z,E.itemOptions)){var j=this._cloneItemData(V.item.data);E.options.onMove(j,function(K){K?(K[I._fieldId]=z,I.update(K)):(V.item.setData(V.data),E.body.emitter.emit("_change"))})}else E.options.onAdd(V.item.data,function(K){E._removeItem(V.item),K&&E.itemsData.getDataSet().add(K),E.body.emitter.emit("_change")})}.bind(this))}},h.prototype._onGroupClick=function(f){var E=this.groupFromTarget(f);if(E&&E.nestedGroups){var I=this.groupsData.getDataSet(),F=I.get(E.groupId);null==F.showNested&&(F.showNested=!0),F.showNested=!F.showNested;var V=I.get(E.nestedGroups).map(function(U){return U.visible=F.showNested,U});I.update(V.concat(F)),F.showNested?(x.removeClassName(E.dom.label,"collapsed"),x.addClassName(E.dom.label,"expanded")):(x.removeClassName(E.dom.label,"expanded"),x.addClassName(E.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},h.prototype._onGroupDragStart=function(f){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(f),this.groupTouchParams.group&&(f.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},h.prototype._onGroupDrag=function(f){if(this.options.groupEditable.order&&this.groupTouchParams.group){f.stopPropagation();var E=this.groupsData;this.groupsData instanceof b&&(E=this.groupsData.getDataSet());var I=this.groupFromTarget(f);if(I&&I.height!=this.groupTouchParams.group.height){var F=I.top<this.groupTouchParams.group.top,V=f.center?f.center.y:f.clientY,z=x.getAbsoluteTop(I.dom.foreground),U=this.groupTouchParams.group.height;if(F){if(z+U<V)return}else if(z+I.height-U>V)return}if(I&&I!=this.groupTouchParams.group){var K=E.get(I.groupId),te=E.get(this.groupTouchParams.group.groupId);te&&K&&(this.options.groupOrderSwap(te,K,E),E.update(te),E.update(K));var oe=E.getIds({order:this.options.groupOrder});if(!x.equalArray(oe,this.groupTouchParams.originalOrder))for(var le=this.groupTouchParams.originalOrder,pe=this.groupTouchParams.group.groupId,Ee=Math.min(le.length,oe.length),Ce=0,_e=0,ge=0;Ce<Ee;){for(;Ce+_e<Ee&&Ce+ge<Ee&&oe[Ce+_e]==le[Ce+ge];)Ce++;if(Ce+_e>=Ee)break;if(oe[Ce+_e]==pe)_e=1;else if(le[Ce+ge]==pe)ge=1;else{var ue=oe.indexOf(le[Ce+ge]),he=E.get(oe[Ce+_e]),be=E.get(le[Ce+ge]);this.options.groupOrderSwap(he,be,E),E.update(he),E.update(be);var Oe=oe[Ce+_e];oe[Ce+_e]=le[Ce+ge],oe[ue]=Oe,Ce++}}}}},h.prototype._onGroupDragEnd=function(f){if(this.options.groupEditable.order&&this.groupTouchParams.group){f.stopPropagation();var E=this,I=E.groupTouchParams.group.groupId,F=E.groupsData.getDataSet(),V=x.extend({},F.get(I));E.options.onMoveGroup(V,function(z){if(z)z[F._fieldId]=I,F.update(z);else{var U=F.getIds({order:E.options.groupOrder});if(!x.equalArray(U,E.groupTouchParams.originalOrder))for(var j=E.groupTouchParams.originalOrder,K=Math.min(j.length,U.length),te=0;te<K;){for(;te<K&&U[te]==j[te];)te++;if(te>=K)break;var oe=U.indexOf(j[te]),le=F.get(U[te]),pe=F.get(j[te]);E.options.groupOrderSwap(le,pe,F),F.update(le),F.update(pe);var Ee=U[te];U[te]=j[te],U[oe]=Ee,te++}}}),E.body.emitter.emit("groupDragged",{groupId:I})}},h.prototype._onSelectItem=function(f){if(this.options.selectable){if(f.srcEvent&&(f.srcEvent.ctrlKey||f.srcEvent.metaKey)||f.srcEvent&&f.srcEvent.shiftKey)return void this._onMultiSelectItem(f);var F=this.getSelection(),V=this.itemFromTarget(f);this.setSelection(V?[V.id]:[]);var U=this.getSelection();(U.length>0||F.length>0)&&this.body.emitter.emit("select",{items:U,event:f})}},h.prototype._onMouseOver=function(f){var E=this.itemFromTarget(f);if(E&&E!==this.itemFromRelatedTarget(f)){var F=E.getTitle();if(this.options.showTooltips&&F){null==this.popup&&(this.popup=new u(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(F);var V=this.body.dom.centerContainer;this.popup.setPosition(f.clientX-x.getAbsoluteLeft(V)+V.offsetLeft,f.clientY-x.getAbsoluteTop(V)+V.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:E.id,event:f})}},h.prototype._onMouseOut=function(f){var E=this.itemFromTarget(f);E&&E!==this.itemFromRelatedTarget(f)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:E.id,event:f}))},h.prototype._onMouseMove=function(f){if(this.itemFromTarget(f)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var I=this.body.dom.centerContainer;this.popup.setPosition(f.clientX-x.getAbsoluteLeft(I)+I.offsetLeft,f.clientY-x.getAbsoluteTop(I)+I.offsetTop),this.popup.show()}},h.prototype._onMouseWheel=function(f){this.touchParams.itemIsDragging&&this._onDragEnd(f)},h.prototype._onUpdateItem=function(f){if(this.options.selectable&&this.options.editable.add){var E=this;if(f){var I=E.itemsData.get(f.id);this.options.onUpdate(I,function(F){F&&E.itemsData.getDataSet().update(F)})}}},h.prototype._onDropObjectOnItem=function(f){var E=this.itemFromTarget(f),I=JSON.parse(f.dataTransfer.getData("text"));this.options.onDropObjectOnItem(I,E)},h.prototype._onAddItem=function(f){if(this.options.selectable&&this.options.editable.add){var F,V,E=this,I=this.options.snap||null;this.options.rtl?V=(F=x.getAbsoluteRight(this.dom.frame))-f.center.x:(F=x.getAbsoluteLeft(this.dom.frame),V=f.center.x-F);var K,te,z=this.body.util.toTime(V),U=this.body.util.getScale(),j=this.body.util.getStep();"drop"==f.type?((te=JSON.parse(f.dataTransfer.getData("text"))).content=te.content?te.content:"new item",te.start=te.start?te.start:I?I(z,U,j):z,te.type=te.type||"box",te[this.itemsData._fieldId]=te.id||x.randomUUID(),"range"==te.type&&!te.end&&(K=this.body.util.toTime(V+this.props.width/5),te.end=I?I(K,U,j):K)):((te={start:I?I(z,U,j):z,content:"new item"})[this.itemsData._fieldId]=x.randomUUID(),"range"===this.options.type&&(K=this.body.util.toTime(V+this.props.width/5),te.end=I?I(K,U,j):K));var oe=this.groupFromTarget(f);oe&&(te.group=oe.groupId),te=this._cloneItemData(te),this.options.onAdd(te,function(le){le&&(E.itemsData.getDataSet().add(le),"drop"==f.type&&E.setSelection([le.id]))})}},h.prototype._onMultiSelectItem=function(f){if(this.options.selectable){var E=this.itemFromTarget(f);if(E){var I=this.options.multiselect?this.getSelection():[];if(f.srcEvent&&f.srcEvent.shiftKey&&this.options.multiselect){var V=this.itemsData.get(E.id).group,z=void 0;this.options.multiselectPerGroup&&I.length>0&&(z=this.itemsData.get(I[0]).group),(!this.options.multiselectPerGroup||null==z||z==V)&&I.push(E.id);var U=h._getItemRange(this.itemsData.get(I,this.itemOptions));if(!this.options.multiselectPerGroup||z==V)for(var j in I=[],this.items)if(this.items.hasOwnProperty(j)){var K=this.items[j],te=K.data.start;te>=U.min&&(void 0!==K.data.end?K.data.end:te)<=U.max&&(!this.options.multiselectPerGroup||z==this.itemsData.get(K.id).group)&&!(K instanceof d)&&I.push(K.id)}}else{var le=I.indexOf(E.id);-1==le?I.push(E.id):I.splice(le,1)}this.setSelection(I),this.body.emitter.emit("select",{items:this.getSelection(),event:f})}}},h._getItemRange=function(f){var E=null,I=null;return f.forEach(function(F){(null==I||F.start<I)&&(I=F.start),null!=F.end?(null==E||F.end>E)&&(E=F.end):(null==E||F.start>E)&&(E=F.start)}),{min:I,max:E}},h.prototype.itemFromElement=function(f){for(var E=f;E;){if(E.hasOwnProperty("timeline-item"))return E["timeline-item"];E=E.parentNode}return null},h.prototype.itemFromTarget=function(f){return this.itemFromElement(f.target)},h.prototype.itemFromRelatedTarget=function(f){return this.itemFromElement(f.relatedTarget)},h.prototype.groupFromTarget=function(f){var E=f.center?f.center.y:f.clientY,I=this.groupIds;I.length<=0&&this.groupsData&&(I=this.groupsData.getIds({order:this.options.groupOrder}));for(var F=0;F<I.length;F++){var z=this.groups[I[F]],U=z.dom.foreground,j=x.getAbsoluteTop(U);if(E>j&&E<j+U.offsetHeight)return z;if("top"===this.options.orientation.item){if(F===this.groupIds.length-1&&E>j)return z}else if(0===F&&E<j+U.offset)return z}return null},h.itemSetFromTarget=function(f){for(var E=f.target;E;){if(E.hasOwnProperty("timeline-itemset"))return E["timeline-itemset"];E=E.parentNode}return null},h.prototype._cloneItemData=function(f,E){var I=x.extend({},f);return E||(E=this.itemsData.getDataSet()._options.type),null!=I.start&&(I.start=x.convert(I.start,E&&E.start||"Date")),null!=I.end&&(I.end=x.convert(I.end,E&&E.end||"Date")),I},Q.exports=h},function(Q,L,_){var P=.001;L.orderByStart=function(y){y.sort(function(S,D){return S.data.start-D.data.start})},L.orderByEnd=function(y){y.sort(function(S,D){return("end"in S.data?S.data.end:S.data.start)-("end"in D.data?D.data.end:D.data.start)})},L.stack=function(y,S,D){if(D)for(var O=0;O<y.length;O++)y[O].top=null;for(O=0;O<y.length;O++){var A=y[O];if(A.stack&&null===A.top){A.top=S.axis;do{for(var x=null,k=0,b=y.length;k<b;k++){var w=y[k];if(null!==w.top&&w!==A&&w.stack&&L.collision(A,w,S.item,w.options.rtl)){x=w;break}}null!=x&&(A.top=x.top+x.height+S.item.vertical)}while(x)}}},L.substack=function(y,S,D){for(var O=0;O<y.length;O++)y[O].top=null;var A=D.height;for(O=0;O<y.length;O++){var x=y[O];if(x.stack&&null===x.top){x.top=x.baseTop;do{for(var k=null,b=0,w=y.length;b<w;b++){var v=y[b];if(null!==v.top&&v!==x&&L.collision(x,v,S.item,v.options.rtl)){k=v;break}}null!=k&&(x.top=k.top+k.height+S.item.vertical),x.top+x.height>A&&(A=x.top+x.height)}while(k)}}D.height=A-D.top+.5*S.item.vertical},L.nostack=function(y,S,D,O){for(var A=0;A<y.length;A++)if(null==y[A].data.subgroup)y[A].top=S.item.vertical;else if(void 0!==y[A].data.subgroup&&O){var x=0;for(var k in D)D.hasOwnProperty(k)&&1==D[k].visible&&D[k].index<D[y[A].data.subgroup].index&&(D[y[A].data.subgroup].top=x+=D[k].height);y[A].top=x+.5*S.item.vertical}O||L.stackSubgroups(y,S,D)},L.stackSubgroups=function(y,S,D){for(var O in D)if(D.hasOwnProperty(O)){D[O].top=0;do{var A=null;for(var x in D)if(null!==D[x].top&&x!==O&&D[O].index>D[x].index&&L.collisionByTimes(D[O],D[x])){A=D[x];break}null!=A&&(D[O].top=A.top+A.height)}while(A)}for(var k=0;k<y.length;k++)void 0!==y[k].data.subgroup&&(y[k].top=D[y[k].data.subgroup].top+.5*S.item.vertical)},L.stackSubgroupsWithInnerStack=function(y,S,D){var O=!1,A=[];for(var x in D)D[x].hasOwnProperty("index")?A[D[x].index]=x:A.push(x);for(var k=0;k<A.length;k++)if(D.hasOwnProperty(x=A[k])){for(var b in O=O||D[x].stack,D[x].top=0,D)D[b].visible&&D[x].index>D[b].index&&(D[x].top+=D[b].height);for(var w=y[x],v=0;v<w.length;v++)void 0!==w[v].data.subgroup&&(w[v].top=D[w[v].data.subgroup].top+.5*S.item.vertical,D[x].stack&&(w[v].baseTop=w[v].top));O&&D[x].stack&&L.substack(y[x],S,D[x])}},L.collision=function(y,S,D,O){return O?y.right-D.horizontal+P<S.right+S.width&&y.right+y.width+D.horizontal-P>S.right&&y.top-D.vertical+P<S.top+S.height&&y.top+y.height+D.vertical-P>S.top:y.left-D.horizontal+P<S.left+S.width&&y.left+y.width+D.horizontal-P>S.left&&y.top-D.vertical+P<S.top+S.height&&y.top+y.height+D.vertical-P>S.top},L.collisionByTimes=function(y,S){return y.start<=S.start&&y.end>=S.start&&y.top<S.top+S.height&&y.top+y.height>S.top||S.start<=y.start&&S.end>=y.start&&S.top<y.top+y.height&&S.top+S.height>y.top}},function(Q,L,_){var P=_(38);function y(S,D,O){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=O,S&&null==S.start)throw new Error('Property "start" missing in item '+S);P.call(this,S,D,O)}(y.prototype=new P(null,null,null)).isVisible=function(S){var O=this.options.align,A=this.width*S.getMillisecondsPerPixel();return"right"==O?this.data.start.getTime()>S.start&&this.data.start.getTime()-A<S.end:"left"==O?this.data.start.getTime()+A>S.start&&this.data.start.getTime()<S.end:this.data.start.getTime()+A/2>S.start&&this.data.start.getTime()-A/2<S.end},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var S=this.parent.dom.foreground;if(!S)throw new Error("Cannot redraw item: parent has no foreground container element");S.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var D=this.parent.dom.background;if(!D)throw new Error("Cannot redraw item: parent has no background container element");D.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var O=this.parent.dom.axis;if(!D)throw new Error("Cannot redraw item: parent has no axis container element");O.appendChild(this.dom.dot)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var D=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+D,this.dom.line.className="vis-item vis-line"+D,this.dom.dot.className="vis-item vis-dot"+D}},y.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(S){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=S.dot.height,this.props.dot.width=S.dot.width,this.props.line.width=S.line.width,this.width=S.box.width,this.height=S.box.height,this.options.rtl?this.dom.box.style.right=S.previous.right:this.dom.box.style.left=S.previous.left,this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},y.prototype.redraw=function(S){var D,A,O=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(D=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(D)}.bind(this),this._repaintDomAdditionals.bind(this)];return S?O:(O.forEach(function(x){A=x()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){if(this.displayed){var S=this.dom;S.box.parentNode&&S.box.parentNode.removeChild(S.box),S.line.parentNode&&S.line.parentNode.removeChild(S.line),S.dot.parentNode&&S.dot.parentNode.removeChild(S.dot),this.displayed=!1}},y.prototype.repositionX=function(){var S=this.conversion.toScreen(this.data.start),D=this.options.align;"right"==D?this.options.rtl?(this.right=S-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=S-this.props.line.width+"px",this.dom.dot.style.right=S-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=S-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=S-this.props.line.width+"px",this.dom.dot.style.left=S-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==D?this.options.rtl?(this.right=S,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=S+"px",this.dom.dot.style.right=S+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=S,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=S+"px",this.dom.dot.style.left=S+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=S-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=S-this.props.line.width+"px",this.dom.dot.style.right=S-this.props.dot.width/2+"px"):(this.left=S-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=S-this.props.line.width/2+"px",this.dom.dot.style.left=S-this.props.dot.width/2+"px")},y.prototype.repositionY=function(){var D=this.dom.box,O=this.dom.line,A=this.dom.dot;if("top"==this.options.orientation.item)D.style.top=(this.top||0)+"px",O.style.top="0",O.style.height=this.parent.top+this.top+1+"px",O.style.bottom="";else{var x=this.parent.itemSet.props.height,k=x-this.parent.top-this.parent.height+this.top;D.style.top=(this.parent.height-this.top-this.height||0)+"px",O.style.top=x-k+"px",O.style.bottom="0"}A.style.top=-this.props.dot.height/2+"px"},y.prototype.getWidthLeft=function(){return this.width/2},y.prototype.getWidthRight=function(){return this.width/2},Q.exports=y},function(Q,L,_){var P=_(38);function y(S,D,O){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=O,S&&null==S.start)throw new Error('Property "start" missing in item '+S);P.call(this,S,D,O)}(y.prototype=new P(null,null,null)).isVisible=function(S){var D=this.width*S.getMillisecondsPerPixel();return this.data.start.getTime()+D>S.start&&this.data.start<S.end},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var S=this.parent.dom.foreground;if(!S)throw new Error("Cannot redraw item: parent has no foreground container element");S.appendChild(this.dom.point)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var D=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+D,this.dom.dot.className="vis-item vis-dot"+D}},y.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(S){this.props.dot.width=S.dot.width,this.props.dot.height=S.dot.height,this.props.content.height=S.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=S.point.width,this.height=S.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},y.prototype.redraw=function(S){var D,A,O=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(D=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(D)}.bind(this),this._repaintDomAdditionals.bind(this)];return S?O:(O.forEach(function(x){A=x()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},y.prototype.repositionX=function(){var S=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=S-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=S-this.props.dot.width,this.dom.point.style.left=this.left+"px")},y.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},y.prototype.getWidthLeft=function(){return this.props.dot.width},y.prototype.getWidthRight=function(){return this.props.dot.width},Q.exports=y},function(Q,L,_){var P=_(38),y=_(69),S=_(70);function D(O,A,x){if(this.props={content:{width:0}},this.overflow=!1,O){if(null==O.start)throw new Error('Property "start" missing in item '+O.id);if(null==O.end)throw new Error('Property "end" missing in item '+O.id)}P.call(this,O,A,x)}(D.prototype=new P(null,null,null)).baseClassName="vis-item vis-background",D.prototype.stack=!1,D.prototype.isVisible=function(O){return this.data.start<O.end&&this.data.end>O.start},D.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},D.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var O=this.parent.dom.background;if(!O)throw new Error("Cannot redraw item: parent has no background container element");O.appendChild(this.dom.box)}this.displayed=!0},D.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},D.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},D.prototype._updateDomComponentsSizes=function(O){this.props.content.width=O.content.width,this.height=0,this.dirty=!1},D.prototype._repaintDomAdditionals=function(){},D.prototype.redraw=function(O){var A,k,x=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(A=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(A)}.bind(this),this._repaintDomAdditionals.bind(this)];return O?x:(x.forEach(function(b){k=b()}),k)},D.prototype.show=S.prototype.show,D.prototype.hide=S.prototype.hide,D.prototype.repositionX=S.prototype.repositionX,D.prototype.repositionY=function(O){var A,x=this.options.orientation.item;if(void 0!==this.data.subgroup){var k=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[k].height+"px",this.dom.box.style.top="top"==x?this.parent.top+this.parent.subgroups[k].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[k].top-this.parent.subgroups[k].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof y?(A=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==x?"0":"",this.dom.box.style.top="top"==x?"0":""):(A=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=A+"px"},Q.exports=D},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(k,b){(0,y.default)(this,x),this.container=k,this.overflowMethod=b||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,D.default)(x,[{key:"setPosition",value:function(b,w){this.x=parseInt(b),this.y=parseInt(w)}},{key:"setText",value:function(b){b instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(b)):this.frame.innerHTML=b}},{key:"show",value:function(b){if(void 0===b&&(b=!0),!0===b){var w=this.frame.clientHeight,v=this.frame.clientWidth,m=this.frame.parentNode.clientHeight,c=this.frame.parentNode.clientWidth,T=0,a=0;if("flip"==this.overflowMethod){var p=!1,d=!0;this.y-w<this.padding&&(d=!1),this.x+v>c-this.padding&&(p=!0),T=p?this.x-v:this.x,a=d?this.y-w:this.y}else(a=this.y-w)+w+this.padding>m&&(a=m-w-this.padding),a<this.padding&&(a=this.padding),(T=this.x)+v+this.padding>c&&(T=c-v-this.padding),T<this.padding&&(T=this.padding);this.frame.style.left=T+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",D="array",O="date",A="object",k="moment";L.allOptions={configure:{enabled:{boolean:y},filter:{boolean:y,function:"function"},container:{dom:"dom"},__type__:{object:A,boolean:y,function:"function"}},align:{string:P},rtl:{boolean:y,undefined:"undefined"},rollingMode:{follow:{boolean:y},offset:{number:S,undefined:"undefined"},__type__:{object:A}},verticalScroll:{boolean:y,undefined:"undefined"},horizontalScroll:{boolean:y,undefined:"undefined"},autoResize:{boolean:y},throttleRedraw:{number:S},clickToUse:{boolean:y},dataAttributes:{string:P,array:D},editable:{add:{boolean:y,undefined:"undefined"},remove:{boolean:y,undefined:"undefined"},updateGroup:{boolean:y,undefined:"undefined"},updateTime:{boolean:y,undefined:"undefined"},overrideItems:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},end:{number:S,date:O,string:P,moment:k},format:{minorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},week:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A,function:"function"}},majorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},week:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A,function:"function"}},__type__:{object:A}},moment:{function:"function"},groupOrder:{string:P,function:"function"},groupEditable:{add:{boolean:y,undefined:"undefined"},remove:{boolean:y,undefined:"undefined"},order:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},groupOrderSwap:{function:"function"},height:{string:P,number:S},hiddenDates:{start:{date:O,number:S,string:P,moment:k},end:{date:O,number:S,string:P,moment:k},repeat:{string:P},__type__:{object:A,array:D}},itemsAlwaysDraggable:{item:{boolean:y,undefined:"undefined"},range:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},limitSize:{boolean:y},locale:{string:P},locales:{__any__:{any:"any"},__type__:{object:A}},margin:{axis:{number:S},item:{horizontal:{number:S,undefined:"undefined"},vertical:{number:S,undefined:"undefined"},__type__:{object:A,number:S}},__type__:{object:A,number:S}},max:{date:O,number:S,string:P,moment:k},maxHeight:{number:S,string:P},maxMinorChars:{number:S},min:{date:O,number:S,string:P,moment:k},minHeight:{number:S,string:P},moveable:{boolean:y},multiselect:{boolean:y},multiselectPerGroup:{boolean:y},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:P,undefined:"undefined"},item:{string:P,undefined:"undefined"},__type__:{string:P,object:A}},selectable:{boolean:y},showCurrentTime:{boolean:y},showMajorLabels:{boolean:y},showMinorLabels:{boolean:y},stack:{boolean:y},stackSubgroups:{boolean:y},snap:{function:"function",null:"null"},start:{date:O,number:S,string:P,moment:k},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:P,function:"function"},showTooltips:{boolean:y},tooltip:{followMouse:{boolean:y},overflowMethod:{string:["cap","flip"]},__type__:{object:A}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:y,object:A}},timeAxis:{scale:{string:P,undefined:"undefined"},step:{number:S,undefined:"undefined"},__type__:{object:A}},type:{string:P},width:{string:P,number:S},zoomable:{boolean:y},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:S},zoomMin:{number:S},__type__:{object:A}},L.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(Q,L,_){var d,y=(d=_(6))&&d.__esModule?d:{default:d};var D=_(2),O=_(14),A=_(11),x=_(12),k=_(16),b=_(107),w=_(109),v=_(112),m=_(110),c=_(111),T=_(72),a="__ungrouped__";function p(d,u){this.id=D.randomUUID(),this.body=d,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=D.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var g=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(h,f,E){g._onAdd(f.items)},update:function(h,f,E){g._onUpdate(f.items)},remove:function(h,f,E){g._onRemove(f.items)}},this.groupListeners={add:function(h,f,E){g._onAddGroups(f.items)},update:function(h,f,E){g._onUpdateGroups(f.items)},remove:function(h,f,E){g._onRemoveGroups(f.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(u),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){g.lastStart=g.body.range.start,g.svg.style.left=D.option.asSize(-g.props.width),g.forceGraphUpdate=!0,g.redraw.call(g)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(p.prototype=new k)._create=function(){var d=document.createElement("div");d.className="vis-line-graph",this.dom.frame=d,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",d.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new b(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new b(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new v(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new v(this.body,this.options.legend,"right",this.options.groups),this.show()},p.prototype.setOptions=function(d){if(d){void 0===d.graphHeight&&void 0!==d.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==d.graphHeight&&parseInt((d.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),D.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,d),D.mergeOptions(this.options,d,"interpolation"),D.mergeOptions(this.options,d,"drawPoints"),D.mergeOptions(this.options,d,"shaded"),D.mergeOptions(this.options,d,"legend"),d.interpolation&&"object"==(0,y.default)(d.interpolation)&&d.interpolation.parametrization&&("uniform"==d.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==d.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==d.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==d.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(a)&&this.groups[a].setOptions(d)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},p.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},p.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},p.prototype.setItems=function(d){var g,u=this,M=this.itemsData;if(d){if(!(d instanceof A||d instanceof x))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=d}else this.itemsData=null;if(M&&(D.forEach(this.itemListeners,function(f,E){M.off(E,f)}),g=M.getIds(),this._onRemove(g)),this.itemsData){var h=this.id;D.forEach(this.itemListeners,function(f,E){u.itemsData.on(E,f,h)}),g=this.itemsData.getIds(),this._onAdd(g)}},p.prototype.setGroups=function(d){var g,u=this;if(this.groupsData){D.forEach(this.groupListeners,function(f,E){u.groupsData.off(E,f)}),g=this.groupsData.getIds(),this.groupsData=null;for(var M=0;M<g.length;M++)this._removeGroup(g[M])}if(d){if(!(d instanceof A||d instanceof x))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=d}else this.groupsData=null;if(this.groupsData){var h=this.id;D.forEach(this.groupListeners,function(f,E){u.groupsData.on(E,f,h)}),g=this.groupsData.getIds(),this._onAddGroups(g)}},p.prototype._onUpdate=function(d){this._updateAllGroupData(d)},p.prototype._onAdd=function(d){this._onUpdate(d)},p.prototype._onRemove=function(d){this._onUpdate(d)},p.prototype._onUpdateGroups=function(d){this._updateAllGroupData(null,d)},p.prototype._onAddGroups=function(d){this._onUpdateGroups(d)},p.prototype._onRemoveGroups=function(d){for(var u=0;u<d.length;u++)this._removeGroup(d[u]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},p.prototype._removeGroup=function(d){this.groups.hasOwnProperty(d)&&("right"==this.groups[d].options.yAxisOrientation?(this.yAxisRight.removeGroup(d),this.legendRight.removeGroup(d),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(d),this.legendLeft.removeGroup(d),this.legendLeft.redraw()),delete this.groups[d])},p.prototype._updateGroup=function(d,u){this.groups.hasOwnProperty(u)?(this.groups[u].update(d),"right"==this.groups[u].options.yAxisOrientation?(this.yAxisRight.updateGroup(u,this.groups[u]),this.legendRight.updateGroup(u,this.groups[u]),this.yAxisLeft.removeGroup(u),this.legendLeft.removeGroup(u)):(this.yAxisLeft.updateGroup(u,this.groups[u]),this.legendLeft.updateGroup(u,this.groups[u]),this.yAxisRight.removeGroup(u),this.legendRight.removeGroup(u))):(this.groups[u]=new w(d,u,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[u].options.yAxisOrientation?(this.yAxisRight.addGroup(u,this.groups[u]),this.legendRight.addGroup(u,this.groups[u])):(this.yAxisLeft.addGroup(u,this.groups[u]),this.legendLeft.addGroup(u,this.groups[u]))),this.legendLeft.redraw(),this.legendRight.redraw()},p.prototype._updateAllGroupData=function(d,u){if(null!=this.itemsData){var g={},M=this.itemsData.get(),h=this.itemsData._fieldId,f={};d&&d.map(function(le){f[le]=le});for(var E={},I=0;I<M.length;I++){var F=M[I],V=F.group;null==V&&(V=a),E.hasOwnProperty(V)?E[V]++:E[V]=1}var z={};if(!u&&d)for(V in this.groups)if(this.groups.hasOwnProperty(V)){var U=(oe=this.groups[V]).getItems();g[V]=U.filter(function(le){return z[le[h]]=le[h],le[h]!==f[le[h]]});var j=E[V];E[V]-=g[V].length,g[V].length<j&&(g[V][j-1]={})}for(I=0;I<M.length;I++)if(null==(V=(F=M[I]).group)&&(V=a),u||!d||F[h]===f[F[h]]||!z.hasOwnProperty(F[h])){g.hasOwnProperty(V)||(g[V]=new Array(E[V]));var K=D.bridgeObject(F);K.x=D.convert(F.x,"Date"),K.end=D.convert(F.end,"Date"),K.orginalY=F.y,K.y=Number(F.y),K[h]=F[h];var te=g[V].length-E[V]--;g[V][te]=K}for(V in this.groups)this.groups.hasOwnProperty(V)&&(g.hasOwnProperty(V)||(g[V]=new Array(0)));for(V in g)if(g.hasOwnProperty(V))if(0==g[V].length)this.groups.hasOwnProperty(V)&&this._removeGroup(V);else{var oe=void 0;null!=this.groupsData&&(oe=this.groupsData.get(V)),null==oe&&(oe={id:V,content:this.options.defaultGroup+V}),this._updateGroup(oe,V),this.groups[V].setItems(g[V])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},p.prototype.redraw=function(){var d=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,d=this._isResized()||d;var u=this.body.range.end-this.body.range.start,g=u!=this.lastVisibleInterval;return this.lastVisibleInterval=u,1==d&&(this.svg.style.width=D.option.asSize(3*this.props.width),this.svg.style.left=D.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==d||1==g||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(d=this._updateGraph()||d,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),d},p.prototype._getSortedGroupIds=function(){var d=[];for(var u in this.groups)if(this.groups.hasOwnProperty(u)){var g=this.groups[u];1==g.visible&&(void 0===this.options.groups.visibility[u]||1==this.options.groups.visibility[u])&&d.push({id:u,zIndex:g.options.zIndex})}D.insertSort(d,function(f,E){var I=f.zIndex,F=E.zIndex;return void 0===I&&(I=0),void 0===F&&(F=0),I==F?0:I<F?-1:1});for(var M=new Array(d.length),h=0;h<d.length;h++)M[h]=d[h].id;return M},p.prototype._updateGraph=function(){if(O.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var d,u,g={},h=this.body.util.toGlobalTime(-this.body.domProps.root.width),f=this.body.util.toGlobalTime(2*this.body.domProps.root.width),E=this._getSortedGroupIds();if(E.length>0){var I={};for(this._getRelevantData(E,I,h,f),this._applySampling(E,I),u=0;u<E.length;u++)this._convertXcoordinates(I[E[u]]);if(this._getYRanges(E,I,g),1==this._updateYAxis(E,g))return O.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var F=void 0;for(u=0;u<E.length;u++)d=this.groups[E[u]],!0===this.options.stack&&"line"===this.options.style&&(null==d.options.excludeFromStacking||!d.options.excludeFromStacking)&&(null!=F&&(this._stack(I[d.id],I[F.id]),1==d.options.shaded.enabled&&"group"!==d.options.shaded.orientation&&("top"==d.options.shaded.orientation&&"group"!==F.options.shaded.orientation?(F.options.shaded.orientation="group",F.options.shaded.groupId=d.id):(d.options.shaded.orientation="group",d.options.shaded.groupId=F.id))),F=d),this._convertYcoordinates(I[E[u]],d);var V={};for(u=0;u<E.length;u++)if("line"===(d=this.groups[E[u]]).options.style&&1==d.options.shaded.enabled){var z=I[E[u]];if(null==z||0==z.length)continue;if(V.hasOwnProperty(E[u])||(V[E[u]]=c.calcPath(z,d)),"group"===d.options.shaded.orientation){var U=d.options.shaded.groupId;if(-1===E.indexOf(U)){console.log(d.id+": Unknown shading group target given:"+U);continue}V.hasOwnProperty(U)||(V[U]=c.calcPath(I[U],this.groups[U])),c.drawShading(V[E[u]],d,V[U],this.framework)}else c.drawShading(V[E[u]],d,void 0,this.framework)}for(m.draw(E,I,this.framework),u=0;u<E.length;u++)if(d=this.groups[E[u]],I[E[u]].length>0)switch(d.options.style){case"line":V.hasOwnProperty(E[u])||(V[E[u]]=c.calcPath(I[E[u]],d)),c.draw(V[E[u]],d,this.framework);case"point":case"points":("point"==d.options.style||"points"==d.options.style||1==d.options.drawPoints.enabled)&&T.draw(I[E[u]],d,this.framework)}}}return O.cleanupElements(this.svgElements),!1},p.prototype._stack=function(d,u){var g,M,f,E;g=0;for(var I=0;I<d.length;I++){f=void 0,E=void 0;for(var F=g;F<u.length;F++){if(u[F].x===d[I].x){f=u[F],E=u[F],g=F;break}if(u[F].x>d[I].x){E=u[F],f=0==F?E:u[F-1],g=F;break}}void 0===E&&(f=u[u.length-1],E=u[u.length-1]),d[I].y=0==(M=E.x-f.x)?d[I].orginalY+E.y:d[I].orginalY+(E.y-f.y)/M*(d[I].x-f.x)+f.y}},p.prototype._getRelevantData=function(d,u,g,M){var h,f,E;if(d.length>0)for(f=0;f<d.length;f++){var F=(h=this.groups[d[f]]).getItems();if(1==h.options.sort){var V=function(te,oe){return te.getTime()==oe.getTime()?0:te<oe?-1:1},z=Math.max(0,D.binarySearchValue(F,g,"x","before",V)),U=Math.min(F.length,D.binarySearchValue(F,M,"x","after",V)+1);U<=0&&(U=F.length);var j=new Array(U-z);for(E=z;E<U;E++)j[E-z]=h.itemsData[E];u[d[f]]=j}else u[d[f]]=h.itemsData}},p.prototype._applySampling=function(d,u){if(d.length>0)for(var M=0;M<d.length;M++)if(1==this.groups[d[M]].options.sampling){var h=u[d[M]];if(h.length>0){var f,E=h.length,F=E/(this.body.util.toGlobalScreen(h[h.length-1].x)-this.body.util.toGlobalScreen(h[0].x));f=Math.min(Math.ceil(.2*E),Math.max(1,Math.round(F)));for(var V=new Array(E),z=0;z<E;z+=f)V[Math.round(z/f)]=h[z];u[d[M]]=V.splice(0,Math.round(E/f))}}},p.prototype._getYRanges=function(d,u,g){var M,h,f,F,E=[],I=[];if(d.length>0){for(f=0;f<d.length;f++)F=this.groups[d[f]].options,(M=u[d[f]]).length>0&&(h=this.groups[d[f]],!0===F.stack&&"bar"===F.style?"left"===F.yAxisOrientation?E=E.concat(M):I=I.concat(M):g[d[f]]=h.getYRange(M,d[f]));m.getStackedYRange(E,g,d,"__barStackLeft","left"),m.getStackedYRange(I,g,d,"__barStackRight","right")}},p.prototype._updateYAxis=function(d,u){var V,z,g=!1,M=!1,h=!1,f=1e9,E=1e9,I=-1e9,F=-1e9;if(d.length>0){for(var U=0;U<d.length;U++){var j=this.groups[d[U]];j&&"right"!=j.options.yAxisOrientation?(M=!0,f=1e9,I=-1e9):j&&j.options.yAxisOrientation&&(h=!0,E=1e9,F=-1e9)}for(U=0;U<d.length;U++)u.hasOwnProperty(d[U])&&!0!==u[d[U]].ignore&&(V=u[d[U]].min,z=u[d[U]].max,"right"!=u[d[U]].yAxisOrientation?(M=!0,f=f>V?V:f,I=I<z?z:I):(h=!0,E=E>V?V:E,F=F<z?z:F));1==M&&this.yAxisLeft.setRange(f,I),1==h&&this.yAxisRight.setRange(E,F)}g=this._toggleAxisVisiblity(M,this.yAxisLeft)||g,g=this._toggleAxisVisiblity(h,this.yAxisRight)||g,1==h&&1==M?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!M,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==h?this.yAxisRight.width:0,g=this.yAxisLeft.redraw()||g,g=this.yAxisRight.redraw()||g):g=this.yAxisRight.redraw()||g;var K=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(U=0;U<K.length;U++)-1!=d.indexOf(K[U])&&d.splice(d.indexOf(K[U]),1);return g},p.prototype._toggleAxisVisiblity=function(d,u){var g=!1;return 0==d?u.dom.frame.parentNode&&0==u.hidden&&(u.hide(),g=!0):!u.dom.frame.parentNode&&1==u.hidden&&(u.show(),g=!0),g},p.prototype._convertXcoordinates=function(d){for(var u=this.body.util.toScreen,g=0;g<d.length;g++)d[g].screen_x=u(d[g].x)+this.props.width,d[g].screen_y=d[g].y,d[g].screen_end=null!=d[g].end?u(d[g].end)+this.props.width:void 0},p.prototype._convertYcoordinates=function(d,u){var g=this.yAxisLeft,M=Number(this.svg.style.height.replace("px",""));"right"==u.options.yAxisOrientation&&(g=this.yAxisRight);for(var h=0;h<d.length;h++)d[h].screen_y=Math.round(g.convertValue(d[h].y));u.setZeroPosition(Math.min(M,g.convertValue(0)))},Q.exports=p},function(Q,L,_){var b,y=(b=_(8))&&b.__esModule?b:{default:b};var D=_(2),O=_(14),A=_(16),x=_(108);function k(b,w,v,m){this.id=D.randomUUID(),this.body=b,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=m,this.linegraphSVG=v,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=D.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(w),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var c=this;this.body.emitter.on("verticalDrag",function(){c.dom.lineContainer.style.top=c.body.domProps.scrollTop+"px"})}(k.prototype=new A).addGroup=function(b,w){this.groups.hasOwnProperty(b)||(this.groups[b]=w),this.amountOfGroups+=1},k.prototype.updateGroup=function(b,w){this.groups.hasOwnProperty(b)||(this.amountOfGroups+=1),this.groups[b]=w},k.prototype.removeGroup=function(b){this.groups.hasOwnProperty(b)&&(delete this.groups[b],this.amountOfGroups-=1)},k.prototype.setOptions=function(b){if(b){var w=!1;this.options.orientation!=b.orientation&&void 0!==b.orientation&&(w=!0),D.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,b),this.minWidth=Number((""+this.options.width).replace("px","")),!0===w&&this.dom.frame&&(this.hide(),this.show())}},k.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},k.prototype._redrawGroupIcons=function(){O.prepareElements(this.svgElements);var b,w=this.options.iconWidth,c=11.5;b="left"===this.options.orientation?4:this.width-w-4;var T=(0,y.default)(this.groups);T.sort(function(d,u){return d<u?-1:1});for(var a=0;a<T.length;a++){var p=T[a];!0===this.groups[p].visible&&(void 0===this.linegraphOptions.visibility[p]||!0===this.linegraphOptions.visibility[p])&&(this.groups[p].getLegend(w,15,this.framework,b,c),c+=19)}O.cleanupElements(this.svgElements),this.iconsRemoved=!1},k.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(O.prepareElements(this.svgElements),O.cleanupElements(this.svgElements),this.iconsRemoved=!0)},k.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},k.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},k.prototype.setRange=function(b,w){this.range.start=b,this.range.end=w},k.prototype.redraw=function(){var b=!1,w=0;for(var v in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(v)&&!0===this.groups[v].visible&&(void 0===this.linegraphOptions.visibility[v]||!0===this.linegraphOptions.visibility[v])&&w++;if(0===this.amountOfGroups||0===w)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var m=this.props,c=this.dom.frame;c.className="vis-data-axis",this._calculateCharSize();var T=this.options.orientation,p=this.options.showMajorLabels;m.minorLabelHeight=this.options.showMinorLabels?m.minorCharHeight:0,m.majorLabelHeight=p?m.majorCharHeight:0,m.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,m.minorLineHeight=1,m.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,m.majorLineHeight=1,"left"===T?(c.style.top="0",c.style.left="0",c.style.bottom="",c.style.width=this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(c.style.top="",c.style.bottom="0",c.style.left="0",c.style.width=this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),b=this._redrawLabels(),b=this._isResized()||b,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(T)}return b},k.prototype._redrawLabels=function(){var b=this,w=!1;O.prepareElements(this.DOMelements.lines),O.prepareElements(this.DOMelements.labels);var v=this.options.orientation,m=null!=this.options[v].range?this.options[v].range:{},c=!0;null!=m.max&&(this.range.end=m.max,c=!1);var T=!0;null!=m.min&&(this.range.start=m.min,T=!1),this.scale=new x(this.range.start,this.range.end,T,c,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[v].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(u){var g=u.y,M=u.major;b.options.showMinorLabels&&!1===M&&b._redrawLabel(g-2,u.val,v,"vis-y-axis vis-minor",b.props.minorCharHeight),M&&g>=0&&b._redrawLabel(g-2,u.val,v,"vis-y-axis vis-major",b.props.majorCharHeight),!0===b.master&&(M?b._redrawLine(g,v,"vis-grid vis-horizontal vis-major",b.options.majorLinesOffset,b.props.majorLineWidth):b._redrawLine(g,v,"vis-grid vis-horizontal vis-minor",b.options.minorLinesOffset,b.props.minorLineWidth))});var p=0;void 0!==this.options[v].title&&void 0!==this.options[v].title.text&&(p=this.props.titleCharHeight);var d=!0===this.options.icons?Math.max(this.options.iconWidth,p)+this.options.labelOffsetX+15:p+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-d&&!0===this.options.visible?(this.width=this.maxLabelSize+d,this.options.width=this.width+"px",O.cleanupElements(this.DOMelements.lines),O.cleanupElements(this.DOMelements.labels),this.redraw(),w=!0):this.maxLabelSize<this.width-d&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+d),this.options.width=this.width+"px",O.cleanupElements(this.DOMelements.lines),O.cleanupElements(this.DOMelements.labels),this.redraw(),w=!0):(O.cleanupElements(this.DOMelements.lines),O.cleanupElements(this.DOMelements.labels),w=!1),w},k.prototype.convertValue=function(b){return this.scale.convertValue(b)},k.prototype.screenToValue=function(b){return this.scale.screenToValue(b)},k.prototype._redrawLabel=function(b,w,v,m,c){var T=O.getDOMElement("div",this.DOMelements.labels,this.dom.frame);T.className=m,T.innerHTML=w,"left"===v?(T.style.left="-"+this.options.labelOffsetX+"px",T.style.textAlign="right"):(T.style.right="-"+this.options.labelOffsetX+"px",T.style.textAlign="left"),T.style.top=b-.5*c+this.options.labelOffsetY+"px",w+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<w.length*a&&(this.maxLabelSize=w.length*a)},k.prototype._redrawLine=function(b,w,v,m,c){if(!0===this.master){var T=O.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);T.className=v,T.innerHTML="","left"===w?T.style.left=this.width-m+"px":T.style.right=this.width-m+"px",T.style.width=c+"px",T.style.top=b+"px"}},k.prototype._redrawTitle=function(b){if(O.prepareElements(this.DOMelements.title),void 0!==this.options[b].title&&void 0!==this.options[b].title.text){var w=O.getDOMElement("div",this.DOMelements.title,this.dom.frame);w.className="vis-y-axis vis-title vis-"+b,w.innerHTML=this.options[b].title.text,void 0!==this.options[b].title.style&&D.addCssText(w,this.options[b].title.style),"left"===b?w.style.left=this.props.titleCharHeight+"px":w.style.right=this.props.titleCharHeight+"px",w.style.width=this.height+"px"}O.cleanupElements(this.DOMelements.title)},k.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var b=document.createTextNode("0"),w=document.createElement("div");w.className="vis-y-axis vis-minor vis-measure",w.appendChild(b),this.dom.frame.appendChild(w),this.props.minorCharHeight=w.clientHeight,this.props.minorCharWidth=w.clientWidth,this.dom.frame.removeChild(w)}if(!("majorCharHeight"in this.props)){var v=document.createTextNode("0"),m=document.createElement("div");m.className="vis-y-axis vis-major vis-measure",m.appendChild(v),this.dom.frame.appendChild(m),this.props.majorCharHeight=m.clientHeight,this.props.majorCharWidth=m.clientWidth,this.dom.frame.removeChild(m)}if(!("titleCharHeight"in this.props)){var c=document.createTextNode("0"),T=document.createElement("div");T.className="vis-y-axis vis-title vis-measure",T.appendChild(c),this.dom.frame.appendChild(T),this.props.titleCharHeight=T.clientHeight,this.props.titleCharWidth=T.clientWidth,this.dom.frame.removeChild(T)}},Q.exports=k},function(Q,L,_){function P(y,S,D,O,A,x){var k=arguments.length>6&&void 0!==arguments[6]&&arguments[6],b=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=A,this.majorCharHeight=x,this._start=y,this._end=S,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=k,this.autoScaleStart=D,this.autoScaleEnd=O,this.formattingFunction=b,D||O){var w=this,v=function(c){var T=c-c%(w.magnitudefactor*w.minorSteps[w.minorStepIdx]);return c%(w.magnitudefactor*w.minorSteps[w.minorStepIdx])>w.magnitudefactor*w.minorSteps[w.minorStepIdx]*.5?T+w.magnitudefactor*w.minorSteps[w.minorStepIdx]:T};D&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=v(this._start)),O&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=v(this._end)),this.determineScale()}}P.prototype.setCharHeight=function(y){this.majorCharHeight=y},P.prototype.setHeight=function(y){this.containerHeight=y},P.prototype.determineScale=function(){var y=this._end-this._start;this.scale=this.containerHeight/y;var S=this.majorCharHeight/this.scale,D=y>0?Math.round(Math.log(y)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,D);var O=0;D<0&&(O=D);for(var A=!1,x=O;Math.abs(x)<=Math.abs(D);x++){this.magnitudefactor=Math.pow(10,x);for(var k=0;k<this.minorSteps.length;k++)if(this.magnitudefactor*this.minorSteps[k]>=S){A=!0,this.minorStepIdx=k;break}if(!0===A)break}},P.prototype.is_major=function(y){return y%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},P.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},P.prototype.getFirstMajor=function(){var y=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(y-this._start%y)%y)},P.prototype.formatValue=function(y){var S=y.toPrecision(5);return"function"==typeof this.formattingFunction&&(S=this.formattingFunction(y)),"number"==typeof S?""+S:"string"==typeof S?S:y.toPrecision(5)},P.prototype.getLines=function(){for(var y=[],S=this.getStep(),O=this._start+(S-this._start%S)%S;this._end-O>1e-5;O+=S)O!=this._start&&y.push({major:this.is_major(O),y:this.convertValue(O),val:this.formatValue(O)});return y},P.prototype.followScale=function(y){var S=this.minorStepIdx,D=this._start,O=this._end,A=this,x=function(){A.magnitudefactor*=2},k=function(){A.magnitudefactor/=2};y.minorStepIdx<=1&&this.minorStepIdx<=1||y.minorStepIdx>1&&this.minorStepIdx>1||(y.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==S||x(),x()):(this.minorStepIdx=2,1==S||k(),k()));for(var b=y.convertValue(0),w=y.getStep()*y.scale,v=!1,m=0;!v&&m++<5;){this.scale=w/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=D,this._end=this._start+c;var T=this._end*this.scale,a=this.magnitudefactor*this.majorSteps[this.minorStepIdx],p=this.getFirstMajor()-y.getFirstMajor();if(this.zeroAlign?(this._end+=(b-T)/this.scale,this._start=this._end-c):this.autoScaleStart?(this._start-=p/this.scale,this._end=this._start+c):(this._start+=a-p/this.scale,this._end=this._start+c),!this.autoScaleEnd&&this._end>O+1e-5)k(),v=!1;else{if(!this.autoScaleStart&&this._start<D-1e-5){if(!(this.zeroAlign&&D>=0)){k(),v=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&c<O-D?(x(),v=!1):v=!0}}},P.prototype.convertValue=function(y){return this.containerHeight-(y-this._start)*this.scale},P.prototype.screenToValue=function(y){return(this.containerHeight-y)/this.scale+this._start},Q.exports=P},function(Q,L,_){var b,y=(b=_(6))&&b.__esModule?b:{default:b};var D=_(2),O=_(110),A=_(111),x=_(72);function k(b,w,v,m){this.id=w,this.options=D.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],v),this.usingDefaultStyle=void 0===b.className,this.groupsUsingDefaultStyles=m,this.zeroPosition=0,this.update(b),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===b.visible||b.visible}k.prototype.setItems=function(b){null!=b?(this.itemsData=b,1==this.options.sort&&D.insertSort(this.itemsData,function(w,v){return w.x>v.x?1:-1})):this.itemsData=[]},k.prototype.getItems=function(){return this.itemsData},k.prototype.setZeroPosition=function(b){this.zeroPosition=b},k.prototype.setOptions=function(b){void 0!==b&&(D.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,b),"function"==typeof b.drawPoints&&(b.drawPoints={onRender:b.drawPoints}),D.mergeOptions(this.options,b,"interpolation"),D.mergeOptions(this.options,b,"drawPoints"),D.mergeOptions(this.options,b,"shaded"),b.interpolation&&"object"==(0,y.default)(b.interpolation)&&b.interpolation.parametrization&&("uniform"==b.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==b.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},k.prototype.update=function(b){this.group=b,this.content=b.content||"graph",this.className=b.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===b.visible||b.visible,this.style=b.style,this.setOptions(b.options)},k.prototype.getLegend=function(b,w,v,m,c){switch(null!=v&&null!=v||(v={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),(null==m||null==m)&&(m=0),(null==c||null==c)&&(c=.5*w),this.options.style){case"line":A.drawIcon(this,m,c,b,w,v);break;case"points":case"point":x.drawIcon(this,m,c,b,w,v);break;case"bar":O.drawIcon(this,m,c,b,w,v)}return{icon:v.svg,label:this.content,orientation:this.options.yAxisOrientation}},k.prototype.getYRange=function(b){for(var w=b[0].y,v=b[0].y,m=0;m<b.length;m++)w=w>b[m].y?b[m].y:w,v=v<b[m].y?b[m].y:v;return{min:w,max:v,yAxisOrientation:this.options.yAxisOrientation}},Q.exports=k},function(Q,L,_){var P=_(14),y=_(72);function S(D,O){}S.drawIcon=function(D,O,A,x,k,b){var w=.5*k,v=P.getSVGElement("rect",b.svgElements,b.svg);v.setAttributeNS(null,"x",O),v.setAttributeNS(null,"y",A-w),v.setAttributeNS(null,"width",x),v.setAttributeNS(null,"height",2*w),v.setAttributeNS(null,"class","vis-outline");var m=Math.round(.3*x),T=D.options.barChart.width/m,a=Math.round(.4*k),p=Math.round(.75*k),d=Math.round((x-2*m)/3);if(P.drawBar(O+.5*m+d,A+w-a-1,m,a,D.className+" vis-bar",b.svgElements,b.svg,D.style),P.drawBar(O+1.5*m+d+2,A+w-p-1,m,p,D.className+" vis-bar",b.svgElements,b.svg,D.style),1==D.options.drawPoints.enabled){var u={style:D.options.drawPoints.style,styles:D.options.drawPoints.styles,size:D.options.drawPoints.size/T,className:D.className};P.drawPoint(O+.5*m+d,A+w-a-1,u,b.svgElements,b.svg),P.drawPoint(O+1.5*m+d+2,A+w-p-1,u,b.svgElements,b.svg)}},S.draw=function(D,O,A){var b,w,v,m,c,T,x=[],k={},a=0;for(c=0;c<D.length;c++)if("bar"===(m=A.groups[D[c]]).options.style&&!0===m.visible&&(void 0===A.options.groups.visibility[D[c]]||!0===A.options.groups.visibility[D[c]]))for(T=0;T<O[D[c]].length;T++)x.push({screen_x:O[D[c]][T].screen_x,screen_end:O[D[c]][T].screen_end,screen_y:O[D[c]][T].screen_y,x:O[D[c]][T].x,end:O[D[c]][T].end,y:O[D[c]][T].y,groupId:D[c],label:O[D[c]][T].label}),a+=1;if(0!==a)for(x.sort(function(f,E){return f.screen_x===E.screen_x?f.groupId<E.groupId?-1:1:f.screen_x-E.screen_x}),S._getDataIntersections(k,x),c=0;c<x.length;c++){var p=null!=(m=A.groups[x[c].groupId]).options.barChart.minWidth?m.options.barChart.minWidth:.1*m.options.barChart.width,d=0;if(void 0===k[w=x[c].screen_x])c+1<x.length&&(b=Math.abs(x[c+1].screen_x-w)),v=S._getSafeDrawData(b,m,p);else{var u=c+(k[w].amount-k[w].resolved);u<x.length&&(b=Math.abs(x[u].screen_x-w)),v=S._getSafeDrawData(b,m,p),k[w].resolved+=1,!0===m.options.stack&&!0!==m.options.excludeFromStacking?x[c].screen_y<m.zeroPosition?(d=k[w].accumulatedNegative,k[w].accumulatedNegative+=m.zeroPosition-x[c].screen_y):(d=k[w].accumulatedPositive,k[w].accumulatedPositive+=m.zeroPosition-x[c].screen_y):!0===m.options.barChart.sideBySide&&(v.width=v.width/k[w].amount,v.offset+=k[w].resolved*v.width-.5*v.width*(k[w].amount+1))}var g=v.width,M=x[c].screen_x;M+=null!=x[c].screen_end?.5*(g=x[c].screen_end-x[c].screen_x):v.offset,P.drawBar(M,x[c].screen_y-d,g,m.zeroPosition-x[c].screen_y,m.className+" vis-bar",A.svgElements,A.svg,m.style),!0===m.options.drawPoints.enabled&&y.draw([{screen_x:x[c].screen_x,screen_y:x[c].screen_y-d,x:x[c].x,y:x[c].y,groupId:x[c].groupId,label:x[c].label}],m,A,v.offset)}},S._getDataIntersections=function(D,O){for(var A,x=0;x<O.length;x++)x+1<O.length&&(A=Math.abs(O[x+1].screen_x-O[x].screen_x)),x>0&&(A=Math.min(A,Math.abs(O[x-1].screen_x-O[x].screen_x))),0===A&&(void 0===D[O[x].screen_x]&&(D[O[x].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),D[O[x].screen_x].amount+=1)},S._getSafeDrawData=function(D,O,A){var x,k;return D<O.options.barChart.width&&D>0?(x=D<A?A:D,k=0,"left"===O.options.barChart.align?k-=.5*D:"right"===O.options.barChart.align&&(k+=.5*D)):(x=O.options.barChart.width,k=0,"left"===O.options.barChart.align?k-=.5*O.options.barChart.width:"right"===O.options.barChart.align&&(k+=.5*O.options.barChart.width)),{width:x,offset:k}},S.getStackedYRange=function(D,O,A,x,k){if(D.length>0){D.sort(function(w,v){return w.screen_x===v.screen_x?w.groupId<v.groupId?-1:1:w.screen_x-v.screen_x});var b={};S._getDataIntersections(b,D),O[x]=S._getStackedYRange(b,D),O[x].yAxisOrientation=k,A.push(x)}},S._getStackedYRange=function(D,O){for(var A,x=O[0].screen_y,k=O[0].screen_y,b=0;b<O.length;b++)void 0===D[A=O[b].screen_x]?(x=x>O[b].screen_y?O[b].screen_y:x,k=k<O[b].screen_y?O[b].screen_y:k):O[b].screen_y<0?D[A].accumulatedNegative+=O[b].screen_y:D[A].accumulatedPositive+=O[b].screen_y;for(var w in D)D.hasOwnProperty(w)&&(x=(x=x>D[w].accumulatedNegative?D[w].accumulatedNegative:x)>D[w].accumulatedPositive?D[w].accumulatedPositive:x,k=(k=k<D[w].accumulatedNegative?D[w].accumulatedNegative:k)<D[w].accumulatedPositive?D[w].accumulatedPositive:k);return{min:x,max:k}},Q.exports=S},function(Q,L,_){var P=_(14);function y(S,D){}y.calcPath=function(S,D){if(null!=S&&S.length>0)return 1==D.options.interpolation.enabled?y._catmullRom(S,D):y._linear(S)},y.drawIcon=function(S,D,O,A,x,k){var w,v,b=.5*x,m=P.getSVGElement("rect",k.svgElements,k.svg);m.setAttributeNS(null,"x",D),m.setAttributeNS(null,"y",O-b),m.setAttributeNS(null,"width",A),m.setAttributeNS(null,"height",2*b),m.setAttributeNS(null,"class","vis-outline"),(w=P.getSVGElement("path",k.svgElements,k.svg)).setAttributeNS(null,"class",S.className),void 0!==S.style&&w.setAttributeNS(null,"style",S.style),w.setAttributeNS(null,"d","M"+D+","+O+" L"+(D+A)+","+O),1==S.options.shaded.enabled&&((v=P.getSVGElement("path",k.svgElements,k.svg)).setAttributeNS(null,"d","top"==S.options.shaded.orientation?"M"+D+", "+(O-b)+"L"+D+","+O+" L"+(D+A)+","+O+" L"+(D+A)+","+(O-b):"M"+D+","+O+" L"+D+","+(O+b)+" L"+(D+A)+","+(O+b)+"L"+(D+A)+","+O),v.setAttributeNS(null,"class",S.className+" vis-icon-fill"),void 0!==S.options.shaded.style&&""!==S.options.shaded.style&&v.setAttributeNS(null,"style",S.options.shaded.style)),1==S.options.drawPoints.enabled&&P.drawPoint(D+.5*A,O,{style:S.options.drawPoints.style,styles:S.options.drawPoints.styles,size:S.options.drawPoints.size,className:S.className},k.svgElements,k.svg)},y.drawShading=function(S,D,O,A){if(1==D.options.shaded.enabled){var x=Number(A.svg.style.height.replace("px","")),k=P.getSVGElement("path",A.svgElements,A.svg),b="L";1==D.options.interpolation.enabled&&(b="C");var w,v;v="top"==D.options.shaded.orientation?0:"bottom"==D.options.shaded.orientation?x:Math.min(Math.max(0,D.zeroPosition),x),w="group"==D.options.shaded.orientation&&null!=O&&null!=O?"M"+S[0][0]+","+S[0][1]+" "+this.serializePath(S,b,!1)+" L"+O[O.length-1][0]+","+O[O.length-1][1]+" "+this.serializePath(O,b,!0)+O[0][0]+","+O[0][1]+" Z":"M"+S[0][0]+","+S[0][1]+" "+this.serializePath(S,b,!1)+" V"+v+" H"+S[0][0]+" Z",k.setAttributeNS(null,"class",D.className+" vis-fill"),void 0!==D.options.shaded.style&&k.setAttributeNS(null,"style",D.options.shaded.style),k.setAttributeNS(null,"d",w)}},y.draw=function(S,D,O){if(null!=S&&null!=S){var A=P.getSVGElement("path",O.svgElements,O.svg);A.setAttributeNS(null,"class",D.className),void 0!==D.style&&A.setAttributeNS(null,"style",D.style);var x="L";1==D.options.interpolation.enabled&&(x="C"),A.setAttributeNS(null,"d","M"+S[0][0]+","+S[0][1]+" "+this.serializePath(S,x,!1))}},y.serializePath=function(S,D,O){if(S.length<2)return"";var x,A=D;if(O)for(x=S.length-2;x>0;x--)A+=S[x][0]+","+S[x][1]+" ";else for(x=1;x<S.length;x++)A+=S[x][0]+","+S[x][1]+" ";return A},y._catmullRomUniform=function(S){var D,O,A,x,k,b,w=[];w.push([Math.round(S[0].screen_x),Math.round(S[0].screen_y)]);for(var v=1/6,m=S.length,c=0;c<m-1;c++)b={screen_x:((O=S[c]).screen_x+6*(A=S[c+1]).screen_x-(x=c+2<m?S[c+2]:A).screen_x)*v,screen_y:(O.screen_y+6*A.screen_y-x.screen_y)*v},w.push([(k={screen_x:(6*O.screen_x-(D=0==c?S[0]:S[c-1]).screen_x+A.screen_x)*v,screen_y:(6*O.screen_y-D.screen_y+A.screen_y)*v}).screen_x,k.screen_y]),w.push([b.screen_x,b.screen_y]),w.push([A.screen_x,A.screen_y]);return w},y._catmullRom=function(S,D){var O=D.options.interpolation.alpha;if(0==O||void 0===O)return this._catmullRomUniform(S);var A,x,k,b,w,v,m,c,T,a,p,d,u,g,M,h,f,E,I,F=[];F.push([Math.round(S[0].screen_x),Math.round(S[0].screen_y)]);for(var V=S.length,z=0;z<V-1;z++)A=0==z?S[0]:S[z-1],x=S[z],k=S[z+1],b=z+2<V?S[z+2]:k,m=Math.sqrt(Math.pow(A.screen_x-x.screen_x,2)+Math.pow(A.screen_y-x.screen_y,2)),c=Math.sqrt(Math.pow(x.screen_x-k.screen_x,2)+Math.pow(x.screen_y-k.screen_y,2)),T=Math.sqrt(Math.pow(k.screen_x-b.screen_x,2)+Math.pow(k.screen_y-b.screen_y,2)),g=Math.pow(T,O),h=Math.pow(T,2*O),M=Math.pow(c,O),f=Math.pow(c,2*O),I=Math.pow(m,O),E=Math.pow(m,2*O),(d=3*I*(I+M))>0&&(d=1/d),(u=3*g*(g+M))>0&&(u=1/u),0==(w={screen_x:(-f*A.screen_x+(a=2*E+3*I*M+f)*x.screen_x+E*k.screen_x)*d,screen_y:(-f*A.screen_y+a*x.screen_y+E*k.screen_y)*d}).screen_x&&0==w.screen_y&&(w=x),0==(v={screen_x:(h*x.screen_x+(p=2*h+3*g*M+f)*k.screen_x-f*b.screen_x)*u,screen_y:(h*x.screen_y+p*k.screen_y-f*b.screen_y)*u}).screen_x&&0==v.screen_y&&(v=k),F.push([w.screen_x,w.screen_y]),F.push([v.screen_x,v.screen_y]),F.push([k.screen_x,k.screen_y]);return F},y._linear=function(S){for(var D=[],O=0;O<S.length;O++)D.push([S[O].screen_x,S[O].screen_y]);return D},Q.exports=y},function(Q,L,_){var k,y=(k=_(8))&&k.__esModule?k:{default:k};var D=_(2),O=_(14),A=_(16);function x(k,b,w,v){this.body=k,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=w,this.options=D.extend({},this.defaultOptions),this.linegraphOptions=v,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(b)}(x.prototype=new A).clear=function(){this.groups={},this.amountOfGroups=0},x.prototype.addGroup=function(k,b){1!=b.options.excludeFromLegend&&(this.groups.hasOwnProperty(k)||(this.groups[k]=b),this.amountOfGroups+=1)},x.prototype.updateGroup=function(k,b){this.groups[k]=b},x.prototype.removeGroup=function(k){this.groups.hasOwnProperty(k)&&(delete this.groups[k],this.amountOfGroups-=1)},x.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},x.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},x.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},x.prototype.setOptions=function(k){D.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,k)},x.prototype.redraw=function(){var k=0,b=(0,y.default)(this.groups);b.sort(function(T,a){return T<a?-1:1});for(var w=0;w<b.length;w++){var v=b[w];1==this.groups[v].visible&&(void 0===this.linegraphOptions.visibility[v]||1==this.linegraphOptions.visibility[v])&&k++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==k)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var c="";for(w=0;w<b.length;w++)1==this.groups[v=b[w]].visible&&(void 0===this.linegraphOptions.visibility[v]||1==this.linegraphOptions.visibility[v])&&(c+=this.groups[v].content+"<br />");this.dom.textArea.innerHTML=c,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},x.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var k=(0,y.default)(this.groups);k.sort(function(d,u){return d<u?-1:1}),O.resetElements(this.svgElements);var b=window.getComputedStyle(this.dom.frame).paddingTop,w=Number(b.replace("px","")),v=w,m=this.options.iconSize,c=.75*this.options.iconSize,T=w+.5*c+3;this.svg.style.width=m+5+w+"px";for(var a=0;a<k.length;a++){var p=k[a];1==this.groups[p].visible&&(void 0===this.linegraphOptions.visibility[p]||1==this.linegraphOptions.visibility[p])&&(this.groups[p].getLegend(m,c,this.framework,v,T),T+=c+this.options.iconSpacing)}}},Q.exports=x},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",O="date",A="object",k="moment";L.allOptions={configure:{enabled:{boolean:y},filter:{boolean:y,function:"function"},container:{dom:"dom"},__type__:{object:A,boolean:y,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:P},sort:{boolean:y},sampling:{boolean:y},stack:{boolean:y},graphHeight:{string:P,number:S},shaded:{enabled:{boolean:y},orientation:{string:["bottom","top","zero","group"]},groupId:{object:A},__type__:{boolean:y,object:A}},style:{string:["line","bar","points"]},barChart:{width:{number:S},minWidth:{number:S},sideBySide:{boolean:y},align:{string:["left","center","right"]},__type__:{object:A}},interpolation:{enabled:{boolean:y},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:S},__type__:{object:A,boolean:y}},drawPoints:{enabled:{boolean:y},onRender:{function:"function"},size:{number:S},style:{string:["square","circle"]},__type__:{object:A,boolean:y,function:"function"}},dataAxis:{showMinorLabels:{boolean:y},showMajorLabels:{boolean:y},icons:{boolean:y},width:{string:P,number:S},visible:{boolean:y},alignZeros:{boolean:y},left:{range:{min:{number:S,undefined:"undefined"},max:{number:S,undefined:"undefined"},__type__:{object:A}},format:{function:"function"},title:{text:{string:P,number:S,undefined:"undefined"},style:{string:P,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},right:{range:{min:{number:S,undefined:"undefined"},max:{number:S,undefined:"undefined"},__type__:{object:A}},format:{function:"function"},title:{text:{string:P,number:S,undefined:"undefined"},style:{string:P,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},__type__:{object:A}},legend:{enabled:{boolean:y},icons:{boolean:y},left:{visible:{boolean:y},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:A}},right:{visible:{boolean:y},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:A}},__type__:{object:A,boolean:y}},groups:{visibility:{any:"any"},__type__:{object:A}},autoResize:{boolean:y},throttleRedraw:{number:S},clickToUse:{boolean:y},end:{number:S,date:O,string:P,moment:k},format:{minorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A}},majorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},moment:{function:"function"},height:{string:P,number:S},hiddenDates:{start:{date:O,number:S,string:P,moment:k},end:{date:O,number:S,string:P,moment:k},repeat:{string:P},__type__:{object:A,array:"array"}},locale:{string:P},locales:{__any__:{any:"any"},__type__:{object:A}},max:{date:O,number:S,string:P,moment:k},maxHeight:{number:S,string:P},maxMinorChars:{number:S},min:{date:O,number:S,string:P,moment:k},minHeight:{number:S,string:P},moveable:{boolean:y},multiselect:{boolean:y},orientation:{string:P},showCurrentTime:{boolean:y},showMajorLabels:{boolean:y},showMinorLabels:{boolean:y},start:{date:O,number:S,string:P,moment:k},timeAxis:{scale:{string:P,undefined:"undefined"},step:{number:S,undefined:"undefined"},__type__:{object:A}},width:{string:P,number:S},zoomable:{boolean:y},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:S},zoomMin:{number:S},zIndex:{number:S},__type__:{object:A}},L.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(Q,L,_){var ue,y=(ue=_(29))&&ue.__esModule?ue:{default:ue};function D(ue){return b=ue,function(){var ue={};if(w=0,v=b.charAt(0),I(),"strict"===m&&(ue.strict=!0,I()),("graph"===m||"digraph"===m)&&(ue.type=m,I()),c===x_IDENTIFIER&&(ue.id=m,I()),"{"!=m)throw le("Angle bracket { expected");if(I(),V(ue),"}"!=m)throw le("Angle bracket } expected");if(I(),""!==m)throw le("End of file expected");return I(),delete ue.node,delete ue.edge,delete ue.graph,ue}()}var O={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},A=(0,y.default)(O);A.color="color.color",A.style="dashes";var x_NULL=0,x_DELIMITER=1,x_IDENTIFIER=2,x_UNKNOWN=3,k={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},b="",w=0,v="",m="",c=x_NULL;function a(){w++,v=b.charAt(w)}function p(){return b.charAt(w+1)}var d=/[a-zA-Z_0-9.:#]/;function u(ue){return d.test(ue)}function g(ue,he){if(ue||(ue={}),he)for(var be in he)he.hasOwnProperty(be)&&(ue[be]=he[be]);return ue}function M(ue,he,be){for(var Oe=he.split("."),Ie=ue;Oe.length;){var xe=Oe.shift();Oe.length?(Ie[xe]||(Ie[xe]={}),Ie=Ie[xe]):Ie[xe]=be}}function h(ue,he){for(var be,Oe,Ie=null,xe=[ue],Be=ue;Be.parent;)xe.push(Be.parent),Be=Be.parent;if(Be.nodes)for(be=0,Oe=Be.nodes.length;be<Oe;be++)if(he.id===Be.nodes[be].id){Ie=Be.nodes[be];break}for(Ie||(Ie={id:he.id},ue.node&&(Ie.attr=g(Ie.attr,ue.node))),be=xe.length-1;be>=0;be--){var ze=xe[be];ze.nodes||(ze.nodes=[]),-1===ze.nodes.indexOf(Ie)&&ze.nodes.push(Ie)}he.attr&&(Ie.attr=g(Ie.attr,he.attr))}function f(ue,he){if(ue.edges||(ue.edges=[]),ue.edges.push(he),ue.edge){var be=g({},ue.edge);he.attr=g(be,he.attr)}}function E(ue,he,be,Oe,Ie){var xe={from:he,to:be,type:Oe};return ue.edge&&(xe.attr=g({},ue.edge)),xe.attr=g(xe.attr||{},Ie),xe}function I(){for(c=x_NULL,m="";" "===v||"\t"===v||"\n"===v||"\r"===v;)a();do{var ue=!1;if("#"===v){for(var he=w-1;" "===b.charAt(he)||"\t"===b.charAt(he);)he--;if("\n"===b.charAt(he)||""===b.charAt(he)){for(;""!=v&&"\n"!=v;)a();ue=!0}}if("/"===v&&"/"===p()){for(;""!=v&&"\n"!=v;)a();ue=!0}if("/"===v&&"*"===p()){for(;""!=v;){if("*"===v&&"/"===p()){a(),a();break}a()}ue=!0}for(;" "===v||"\t"===v||"\n"===v||"\r"===v;)a()}while(ue);if(""!==v){var be=v+p();if(k[be])return c=x_DELIMITER,m=be,a(),void a();if(k[v])return c=x_DELIMITER,m=v,void a();if(u(v)||"-"===v){for(m+=v,a();u(v);)m+=v,a();return"false"===m?m=!1:"true"===m?m=!0:isNaN(Number(m))||(m=Number(m)),void(c=x_IDENTIFIER)}if('"'===v){for(a();""!=v&&('"'!=v||'"'===v&&'"'===p());)'"'===v?(m+=v,a()):"\\"===v&&"n"===p()?(m+="\n",a()):m+=v,a();if('"'!=v)throw le('End of string " expected');return a(),void(c=x_IDENTIFIER)}for(c=x_UNKNOWN;""!=v;)m+=v,a();throw new SyntaxError('Syntax error in part "'+pe(m,30)+'"')}c=x_DELIMITER}function V(ue){for(;""!==m&&"}"!=m;)z(ue),";"===m&&I()}function z(ue){var he=U(ue);if(he)te(ue,he);else if(!function(ue){return"node"===m?(I(),ue.node=oe(),"node"):"edge"===m?(I(),ue.edge=oe(),"edge"):"graph"===m?(I(),ue.graph=oe(),"graph"):null}(ue)){if(c!=x_IDENTIFIER)throw le("Identifier expected");var Oe=m;if(I(),"="===m){if(I(),c!=x_IDENTIFIER)throw le("Identifier expected");ue[Oe]=m,I()}else!function(ue,he){var be={id:he},Oe=oe();Oe&&(be.attr=Oe),h(ue,be),te(ue,he)}(ue,Oe)}}function U(ue){var he=null;if("subgraph"===m&&((he={}).type="subgraph",I(),c===x_IDENTIFIER&&(he.id=m,I())),"{"===m){if(I(),he||(he={}),he.parent=ue,he.node=ue.node,he.edge=ue.edge,he.graph=ue.graph,V(he),"}"!=m)throw le("Angle bracket } expected");I(),delete he.node,delete he.edge,delete he.graph,delete he.parent,ue.subgraphs||(ue.subgraphs=[]),ue.subgraphs.push(he)}return he}function te(ue,he){for(;"->"===m||"--"===m;){var be,Oe=m;I();var Ie=U(ue);if(Ie)be=Ie;else{if(c!=x_IDENTIFIER)throw le("Identifier or subgraph expected");h(ue,{id:be=m}),I()}f(ue,E(ue,he,be,Oe,oe())),he=be}}function oe(){for(var ue=null,he={dashed:!0,solid:!1,dotted:[1,5]};"["===m;){for(I(),ue={};""!==m&&"]"!=m;){if(c!=x_IDENTIFIER)throw le("Attribute name expected");var be=m;if(I(),"="!=m)throw le("Equal sign = expected");if(I(),c!=x_IDENTIFIER)throw le("Attribute value expected");var Oe=m;"style"===be&&(Oe=he[Oe]),M(ue,be,Oe),I(),","==m&&I()}if("]"!=m)throw le("Bracket ] expected");I()}return ue}function le(ue){return new SyntaxError(ue+', got "'+pe(m,30)+'" (char '+w+")")}function pe(ue,he){return ue.length<=he?ue:ue.substr(0,27)+"..."}function Ce(ue,he,be){for(var Oe=he.split("."),Ie=Oe.pop(),xe=ue,Be=0;Be<Oe.length;Be++){var ze=Oe[Be];ze in xe||(xe[ze]={}),xe=xe[ze]}return xe[Ie]=be,ue}function _e(ue,he){var be={};for(var Oe in ue)if(ue.hasOwnProperty(Oe)){var Ie=he[Oe];Array.isArray(Ie)?Ie.forEach(function(xe){Ce(be,xe,ue[Oe])}):Ce(be,"string"==typeof Ie?Ie:Oe,ue[Oe])}return be}L.parseDOT=D,L.DOTToGraph=function(ue){var he=D(ue),be={nodes:[],edges:[],options:{}};if(he.nodes&&he.nodes.forEach(function(Ie){var xe={id:Ie.id,label:String(Ie.label||Ie.id)};g(xe,_e(Ie.attr,O)),xe.image&&(xe.shape="image"),be.nodes.push(xe)}),he.edges){var Oe=function(xe){var Be={from:xe.from,to:xe.to};return g(Be,_e(xe.attr,A)),Be.arrows="->"===xe.type?"to":void 0,Be};he.edges.forEach(function(Ie){var xe,Be;xe=Ie.from instanceof Object?Ie.from.nodes:{id:Ie.from},Be=Ie.to instanceof Object?Ie.to.nodes:{id:Ie.to},Ie.from instanceof Object&&Ie.from.edges&&Ie.from.edges.forEach(function(ze){var it=Oe(ze);be.edges.push(it)}),function(ue,he,be){Array.isArray(ue)?ue.forEach(function(Oe){Array.isArray(he)?he.forEach(function(Ie){be(Oe,Ie)}):be(Oe,he)}):Array.isArray(he)?he.forEach(function(Oe){be(ue,Oe)}):be(ue,he)}(xe,Be,function(ze,it){var en=E(be,ze.id,it.id,Ie.type,Ie.attr),hn=Oe(en);be.edges.push(hn)}),Ie.to instanceof Object&&Ie.to.edges&&Ie.to.edges.forEach(function(ze){var it=Oe(ze);be.edges.push(it)})})}return he.attr&&(be.options=he.attr),be}},function(Q,L,_){L.parseGephi=function(y,S){var D=[],O=[],A={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==S&&(void 0!==S.fixed&&(A.nodes.fixed=S.fixed),void 0!==S.parseColor&&(A.nodes.parseColor=S.parseColor),void 0!==S.inheritColor&&(A.edges.inheritColor=S.inheritColor));for(var x=y.edges,k=y.nodes,b=0;b<x.length;b++){var w={},v=x[b];w.id=v.id,w.from=v.source,w.to=v.target,w.attributes=v.attributes,w.label=v.label,w.title=void 0!==v.attributes?v.attributes.title:void 0,"Directed"===v.type&&(w.arrows="to"),v.color&&!1===A.inheritColor&&(w.color=v.color),D.push(w)}for(var m=0;m<k.length;m++){var c={},T=k[m];c.id=T.id,c.attributes=T.attributes,c.x=T.x,c.y=T.y,c.label=T.label,c.title=void 0!==T.attributes?T.attributes.title:T.title,c.color=!0===A.nodes.parseColor?T.color:void 0!==T.color?{background:T.color,border:T.color,highlight:{background:T.color,border:T.color},hover:{background:T.color,border:T.color}}:void 0,c.size=T.size,c.fixed=A.nodes.fixed&&void 0!==T.x&&void 0!==T.y,O.push(c)}return{nodes:O,edges:D}}},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=x(_(0)),D=x(_(1)),A=x(_(185));function x(b){return b&&b.__esModule?b:{default:b}}var k=function(){function b(w){(0,y.default)(this,b),this.images={},this.imageBroken={},this.callback=w}return(0,D.default)(b,[{key:"_tryloadBrokenUrl",value:function(v,m,c){if(void 0!==v&&void 0!==c){if(void 0===m)return void console.warn("No broken url image defined");c.onerror=function(){console.error("Could not load brokenImage:",m)},c.image.src=m}}},{key:"_redrawWithImage",value:function(v){this.callback&&this.callback(v)}},{key:"load",value:function(v,m){var c=this,T=this.images[v];if(T)return T;var a=new A.default;return this.images[v]=a,a.image.onload=function(){c._fixImageCoordinates(a.image),a.init(),c._redrawWithImage(a)},a.image.onerror=function(){console.error("Could not load image:",v),c._tryloadBrokenUrl(v,m,a)},a.image.src=v,a}},{key:"_fixImageCoordinates",value:function(v){0===v.width&&(document.body.appendChild(v),v.width=v.offsetWidth,v.height=v.offsetHeight,document.body.removeChild(v))}}]),b}();L.default=k},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=b(_(30)),D=b(_(6)),A=b(_(0)),k=b(_(1));function b(a){return a&&a.__esModule?a:{default:a}}var w=_(2),v=_(48).default,m=_(191).default,c=["bold","ital","boldital","mono"],T=function(){function a(p,d){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,A.default)(this,a),this.body=p,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(d),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=u}return(0,k.default)(a,[{key:"setOptions",value:function(d){if(this.elementOptions=d,this.initFontOptions(d.font),v.isValidLabel(d.label)?this.labelDirty=!0:d.label="",null!=d.font)if("string"==typeof d.font)this.baseSize=this.fontOptions.size;else if("object"===(0,D.default)(d.font)){var u=d.font.size;void 0!==u&&(this.baseSize=u)}}},{key:"initFontOptions",value:function(d){var u=this;w.forEach(c,function(g){u.fontOptions[g]={}}),a.parseFontString(this.fontOptions,d)?this.fontOptions.vadjust=0:w.forEach(d,function(g,M){null!=g&&"object"!==(void 0===g?"undefined":(0,D.default)(g))&&(u.fontOptions[M]=g)})}},{key:"constrain",value:function(d){var u={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},g=w.topMost(d,"widthConstraint");if("number"==typeof g)u.maxWdt=Number(g),u.minWdt=Number(g);else if("object"===(void 0===g?"undefined":(0,D.default)(g))){var M=w.topMost(d,["widthConstraint","maximum"]);"number"==typeof M&&(u.maxWdt=Number(M));var h=w.topMost(d,["widthConstraint","minimum"]);"number"==typeof h&&(u.minWdt=Number(h))}var f=w.topMost(d,"heightConstraint");if("number"==typeof f)u.minHgt=Number(f);else if("object"===(void 0===f?"undefined":(0,D.default)(f))){var E=w.topMost(d,["heightConstraint","minimum"]);"number"==typeof E&&(u.minHgt=Number(E));var I=w.topMost(d,["heightConstraint","valign"]);"string"==typeof I&&("top"===I||"bottom"===I)&&(u.valign=I)}return u}},{key:"update",value:function(d,u){this.setOptions(d,!0),this.propagateFonts(u),w.deepExtend(this.fontOptions,this.constrain(u)),this.fontOptions.chooser=v.choosify("label",u)}},{key:"adjustSizes",value:function(d){var u=d?d.right+d.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=u,this.fontOptions.minWdt-=u),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=d?d.top+d.bottom:0)}},{key:"addFontOptionsToPile",value:function(d,u){for(var g=0;g<u.length;++g)this.addFontToPile(d,u[g])}},{key:"addFontToPile",value:function(d,u){void 0!==u&&null!=u.font&&d.push(u.font)}},{key:"getBasicOptions",value:function(d){for(var u={},g=0;g<d.length;++g){var M=d[g],h={};a.parseFontString(h,M)&&(M=h),w.forEach(M,function(f,E){void 0!==f&&(u.hasOwnProperty(E)||(u[E]=-1!==c.indexOf(E)?{}:f))})}return u}},{key:"getFontOption",value:function(d,u,g){for(var M=void 0,h=0;h<d.length;++h){var f=d[h];if(f.hasOwnProperty(u)){if(null==(M=f[u]))continue;var E={};if(a.parseFontString(E,M)&&(M=E),M.hasOwnProperty(g))return M[g]}}if(this.fontOptions.hasOwnProperty(g))return this.fontOptions[g];throw new Error("Did not find value for multi-font for property: '"+g+"'")}},{key:"getFontOptions",value:function(d,u){for(var g={},M=["color","size","face","mod","vadjust"],h=0;h<M.length;++h){var f=M[h];g[f]=this.getFontOption(d,u,f)}return g}},{key:"propagateFonts",value:function(d){var u=this,g=[];this.addFontOptionsToPile(g,d),this.fontOptions=this.getBasicOptions(g);for(var M=function(E){var I=c[E],F=u.fontOptions[I],V=u.getFontOptions(g,I);w.forEach(V,function(z,U){F[U]=z}),F.size=Number(F.size),F.vadjust=Number(F.vadjust)},h=0;h<c.length;++h)M(h)}},{key:"draw",value:function(d,u,g,M,h){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var E=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&E<this.elementOptions.scaling.label.drawThreshold-1||(E>=this.elementOptions.scaling.label.maxVisible&&(E=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(d,M,h,u,g,f),this._drawBackground(d),this._drawText(d,u,this.size.yLine,f,E))}}},{key:"_drawBackground",value:function(d){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){d.fillStyle=this.fontOptions.background;var u=this.getSize();d.fillRect(u.left,u.top,u.width,u.height)}}},{key:"_drawText",value:function(d,u,g){var h=arguments[4],f=this._setAlignment(d,u,g,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),E=(0,y.default)(f,2);u=E[0],g=E[1],d.textAlign="left",u-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(g-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(g+=(this.size.height-this.size.labelHeight)/2));for(var I=0;I<this.lineCount;I++){var F=this.lines[I];if(F&&F.blocks){var V=0;this.isEdgeLabel||"center"===this.fontOptions.align?V+=(this.size.width-F.width)/2:"right"===this.fontOptions.align&&(V+=this.size.width-F.width);for(var z=0;z<F.blocks.length;z++){var U=F.blocks[z];d.font=U.font;var j=this._getColor(U.color,h,U.strokeColor),K=(0,y.default)(j,2),te=K[0],oe=K[1];U.strokeWidth>0&&(d.lineWidth=U.strokeWidth,d.strokeStyle=oe,d.lineJoin="round"),d.fillStyle=te,U.strokeWidth>0&&d.strokeText(U.text,u+V,g+U.vadjust),d.fillText(U.text,u+V,g+U.vadjust),V+=U.width}g+=F.height}}}},{key:"_setAlignment",value:function(d,u,g,M){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){u=0,g=0;"top"===this.fontOptions.align?(d.textBaseline="alphabetic",g-=4):"bottom"===this.fontOptions.align?(d.textBaseline="hanging",g+=4):d.textBaseline="middle"}else d.textBaseline=M;return[u,g]}},{key:"_getColor",value:function(d,u,g){var M=d||"#000000",h=g||"#ffffff";if(u<=this.elementOptions.scaling.label.drawThreshold){var f=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-u)));M=w.overrideOpacity(M,f),h=w.overrideOpacity(h,f)}return[M,h]}},{key:"getTextSize",value:function(d){return this._processLabel(d,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var u=this.size.left,g=this.size.top-1;if(this.isEdgeLabel){var M=.5*-this.size.width;switch(this.fontOptions.align){case"middle":u=M,g=.5*-this.size.height;break;case"top":u=M,g=-(this.size.height+2);break;case"bottom":u=M,g=2}}return{left:u,top:g,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(d,u,g){var M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(d,u,g),this.size.left=M-.5*this.size.width,this.size.top=h-.5*this.size.height,this.size.yLine=h+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===f&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(d,u,g,M){var h=function(F,V,z){return"normal"===V?"mod"===z?"":F[z]:void 0!==F[V][z]?F[V][z]:F[z]},f={color:h(this.fontOptions,M,"color"),size:h(this.fontOptions,M,"size"),face:h(this.fontOptions,M,"face"),mod:h(this.fontOptions,M,"mod"),vadjust:h(this.fontOptions,M,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(u||g)&&("normal"===M&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?f.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(f,this.elementOptions.id,u,g));var E="";return void 0!==f.mod&&""!==f.mod&&(E+=f.mod+" "),d.font=(E+=f.size+"px "+f.face).replace(/"/g,""),f.font=d.font,f.height=f.size,f}},{key:"differentState",value:function(d,u){return d!==this.selectedState||u!==this.hoverState}},{key:"_processLabelText",value:function(d,u,g,M){return new m(d,this,u,g).process(M)}},{key:"_processLabel",value:function(d,u,g){if(!1!==this.labelDirty||this.differentState(u,g)){var M=this._processLabelText(d,u,g,this.elementOptions.label);this.fontOptions.minWdt>0&&M.width<this.fontOptions.minWdt&&(M.width=this.fontOptions.minWdt),this.size.labelHeight=M.height,this.fontOptions.minHgt>0&&M.height<this.fontOptions.minHgt&&(M.height=this.fontOptions.minHgt),this.lines=M.lines,this.lineCount=M.lines.length,this.size.width=M.width,this.size.height=M.height,this.selectedState=u,this.hoverState=g,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(d,u){if(!u||"string"!=typeof u)return!1;var g=u.split(" ");return d.size=g[0].replace("px",""),d.face=g[1],d.color=g[2],!0}}]),a}();L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=x(_(30)),D=x(_(0)),A=x(_(1));function x(v){return v&&v.__esModule?v:{default:v}}var k=_(2),b=_(119).default,w=function(){function v(m,c,T){(0,D.default)(this,v),this.body=c,this.labelModule=T,this.options={},this.setOptions(m),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,A.default)(v,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(c){this.options=c,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(c,T,a,p,d){c.strokeStyle=this.getColor(c,T,a,p),c.lineWidth=T.width,!1!==T.dashes?this._drawDashedLine(c,T,d):this._drawLine(c,T,d)}},{key:"_drawLine",value:function(c,T,a,p,d){if(this.from!=this.to)this._line(c,T,a,p,d);else{var u=this._getCircleData(c),g=(0,y.default)(u,3);this._circle(c,T,g[0],g[1],g[2])}}},{key:"_drawDashedLine",value:function(c,T,a,p,d){c.lineCap="round";var u=[5,5];if(!0===Array.isArray(T.dashes)&&(u=T.dashes),void 0!==c.setLineDash){if(c.save(),c.setLineDash(u),c.lineDashOffset=0,this.from!=this.to)this._line(c,T,a);else{var g=this._getCircleData(c),M=(0,y.default)(g,3);this._circle(c,T,M[0],M[1],M[2])}c.setLineDash([0]),c.lineDashOffset=0,c.restore()}else{if(this.from!=this.to)c.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,u);else{var I=this._getCircleData(c),F=(0,y.default)(I,3);this._circle(c,T,F[0],F[1],F[2])}this.enableShadow(c,T),c.stroke(),this.disableShadow(c,T)}}},{key:"findBorderPosition",value:function(c,T,a){return this.from!=this.to?this._findBorderPosition(c,T,a):this._findBorderPositionCircle(c,T,a)}},{key:"findBorderPositions",value:function(c){var T={},a={};if(this.from!=this.to)T=this._findBorderPosition(this.from,c),a=this._findBorderPosition(this.to,c);else{var p=this._getCircleData(c).slice(0,2),d=(0,y.default)(p,2),u=d[0],g=d[1];T=this._findBorderPositionCircle(this.from,c,{x:u,y:g,low:.25,high:.6,direction:-1}),a=this._findBorderPositionCircle(this.from,c,{x:u,y:g,low:.6,high:.8,direction:1})}return{from:T,to:a}}},{key:"_getCircleData",value:function(c){var T=void 0,a=void 0,p=this.from,d=this.options.selfReferenceSize;return void 0!==c&&void 0===p.shape.width&&p.shape.resize(c),p.shape.width>p.shape.height?(T=p.x+.5*p.shape.width,a=p.y-d):(T=p.x+d,a=p.y-.5*p.shape.height),[T,a,d]}},{key:"_pointOnCircle",value:function(c,T,a,p){var d=2*p*Math.PI;return{x:c+a*Math.cos(d),y:T-a*Math.sin(d)}}},{key:"_findBorderPositionCircle",value:function(c,T,a){for(var p=a.x,d=a.y,u=a.low,g=a.high,M=a.direction,f=0,E=this.options.selfReferenceSize,I=void 0,F=void 0,U=void 0,K=.5*(u+g);u<=g&&f<10&&(I=this._pointOnCircle(p,d,E,K=.5*(u+g)),F=Math.atan2(c.y-I.y,c.x-I.x),U=c.distanceToBorder(T,F)-Math.sqrt(Math.pow(I.x-c.x,2)+Math.pow(I.y-c.y,2)),!(Math.abs(U)<.05));)U>0?M>0?u=K:g=K:M>0?g=K:u=K,f++;return I.t=K,I}},{key:"getLineWidth",value:function(c,T){return!0===c?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===T?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(c,T,a,p){if(!1!==T.inheritsColor){if("both"===T.inheritsColor&&this.from.id!==this.to.id){var d=c.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),u=void 0,g=void 0;return u=this.from.options.color.highlight.border,g=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(u=k.overrideOpacity(this.from.options.color.border,T.opacity),g=k.overrideOpacity(this.to.options.color.border,T.opacity)):!0===this.from.selected&&!1===this.to.selected?g=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(u=this.from.options.color.border),d.addColorStop(0,u),d.addColorStop(1,g),d}return k.overrideOpacity("to"===T.inheritsColor?this.to.options.color.border:this.from.options.color.border,T.opacity)}return k.overrideOpacity(T.color,T.opacity)}},{key:"_circle",value:function(c,T,a,p,d){this.enableShadow(c,T),c.beginPath(),c.arc(a,p,d,0,2*Math.PI,!1),c.stroke(),this.disableShadow(c,T)}},{key:"getDistanceToEdge",value:function(c,T,a,p,d,u,g,M){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(c,T,a,p,d,u,g);else{var f=this._getCircleData(void 0),E=(0,y.default)(f,3),V=E[2],z=E[0]-d,U=E[1]-u;h=Math.abs(Math.sqrt(z*z+U*U)-V)}return h}},{key:"_getDistanceToLine",value:function(c,T,a,p,d,u){var g=a-c,M=p-T,f=((d-c)*g+(u-T)*M)/(g*g+M*M);f>1?f=1:f<0&&(f=0);var F=c+f*g-d,V=T+f*M-u;return Math.sqrt(F*F+V*V)}},{key:"getArrowData",value:function(c,T,a,p,d,u){var g=void 0,M=void 0,h=void 0,f=void 0,E=void 0,I=void 0,F=void 0,V=u.width;if("from"===T?(h=this.from,f=this.to,E=.1,I=u.fromArrowScale,F=u.fromArrowType):"to"===T?(h=this.to,f=this.from,E=-.1,I=u.toArrowScale,F=u.toArrowType):(h=this.to,f=this.from,I=u.middleArrowScale,F=u.middleArrowType),h!=f)if("middle"!==T)if(!0===this.options.smooth.enabled){M=this.findBorderPosition(h,c,{via:a});var z=this.getPoint(Math.max(0,Math.min(1,M.t+E)),a);g=Math.atan2(M.y-z.y,M.x-z.x)}else g=Math.atan2(h.y-f.y,h.x-f.x),M=this.findBorderPosition(h,c);else g=Math.atan2(h.y-f.y,h.x-f.x),M=this.getPoint(.5,a);else{var U=this._getCircleData(c),j=(0,y.default)(U,3),K=j[0],te=j[1],oe=j[2];"from"===T?g=-2*(M=this.findBorderPosition(this.from,c,{x:K,y:te,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===T?g=-2*(M=this.findBorderPosition(this.from,c,{x:K,y:te,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(M=this._pointOnCircle(K,te,oe,.175),g=3.9269908169872414)}"middle"===T&&I<0&&(V*=-1);var le=15*I+3*V;return{point:M,core:{x:M.x-.9*le*Math.cos(g),y:M.y-.9*le*Math.sin(g)},angle:g,length:le,type:F}}},{key:"drawArrowHead",value:function(c,T,a,p,d){c.strokeStyle=this.getColor(c,T,a,p),c.fillStyle=c.strokeStyle,c.lineWidth=T.width,b.draw(c,d),this.enableShadow(c,T),c.fill(),this.disableShadow(c,T)}},{key:"enableShadow",value:function(c,T){!0===T.shadow&&(c.shadowColor=T.shadowColor,c.shadowBlur=T.shadowSize,c.shadowOffsetX=T.shadowX,c.shadowOffsetY=T.shadowY)}},{key:"disableShadow",value:function(c,T){!0===T.shadow&&(c.shadowColor="rgba(0,0,0,0)",c.shadowBlur=0,c.shadowOffsetX=0,c.shadowOffsetY=0)}}]),v}();L.default=w},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=v(_(3)),D=v(_(4)),A=v(_(5)),k=v(_(0)),w=v(_(1));function v(d){return d&&d.__esModule?d:{default:d}}var m=function(){function d(){(0,k.default)(this,d)}return(0,w.default)(d,null,[{key:"transform",value:function(g,M){g instanceof Array||(g=[g]);for(var h=M.point.x,f=M.point.y,E=M.angle,I=M.length,F=0;F<g.length;++F){var V=g[F],z=V.x*Math.cos(E)-V.y*Math.sin(E),U=V.x*Math.sin(E)+V.y*Math.cos(E);V.x=h+I*z,V.y=f+I*U}}},{key:"drawPath",value:function(g,M){g.beginPath(),g.moveTo(M[0].x,M[0].y);for(var h=1;h<M.length;++h)g.lineTo(M[h].x,M[h].y);g.closePath()}}]),d}(),c=function(d){function u(){return(0,k.default)(this,u),(0,D.default)(this,(u.__proto__||(0,y.default)(u)).apply(this,arguments))}return(0,A.default)(u,d),(0,w.default)(u,null,[{key:"draw",value:function(M,h){var f=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];m.transform(f,h),m.drawPath(M,f)}}]),u}(m),T=function(){function d(){(0,k.default)(this,d)}return(0,w.default)(d,null,[{key:"draw",value:function(g,M){var h={x:-.4,y:0};m.transform(h,M),g.circle(h.x,h.y,.4*M.length)}}]),d}(),a=function(){function d(){(0,k.default)(this,d)}return(0,w.default)(d,null,[{key:"draw",value:function(g,M){var h=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];m.transform(h,M),m.drawPath(g,h)}}]),d}(),p=function(){function d(){(0,k.default)(this,d)}return(0,w.default)(d,null,[{key:"draw",value:function(g,M){var h;switch(M.type&&(h=M.type.toLowerCase()),h){case"circle":T.draw(g,M);break;case"bar":a.draw(g,M);break;case"arrow":default:c.draw(g,M)}}}]),d}();L.default=p},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(k,b,w){(0,y.default)(this,x),this.body=k,this.physicsBody=b,this.setOptions(w),this.randomSeed=5}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var b=1e4*Math.sin(this.randomSeed++);return b-Math.floor(b)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var b=void 0,w=this.body.nodes,v=this.physicsBody.physicsNodeIndices,m=v.length,c=this._formBarnesHutTree(w,v);this.barnesHutTree=c;for(var T=0;T<m;T++)(b=w[v[T]]).options.mass>0&&this._getForceContributions(c.root,b)}}},{key:"_getForceContributions",value:function(b,w){this._getForceContribution(b.children.NW,w),this._getForceContribution(b.children.NE,w),this._getForceContribution(b.children.SW,w),this._getForceContribution(b.children.SE,w)}},{key:"_getForceContribution",value:function(b,w){if(b.childrenCount>0){var v,m,c;v=b.centerOfMass.x-w.x,m=b.centerOfMass.y-w.y,(c=Math.sqrt(v*v+m*m))*b.calcSize>this.thetaInversed?this._calculateForces(c,v,m,w,b):4===b.childrenCount?this._getForceContributions(b,w):b.children.data.id!=w.id&&this._calculateForces(c,v,m,w,b)}}},{key:"_calculateForces",value:function(b,w,v,m,c){0===b&&(w=b=.1),this.overlapAvoidanceFactor<1&&m.shape.radius&&(b=Math.max(.1+this.overlapAvoidanceFactor*m.shape.radius,b-m.shape.radius));var T=this.options.gravitationalConstant*c.mass*m.options.mass/Math.pow(b,3),p=v*T;this.physicsBody.forces[m.id].x+=w*T,this.physicsBody.forces[m.id].y+=p}},{key:"_formBarnesHutTree",value:function(b,w){for(var v=void 0,m=w.length,c=b[w[0]].x,T=b[w[0]].y,a=b[w[0]].x,p=b[w[0]].y,d=1;d<m;d++){var u=b[w[d]],g=u.x,M=u.y;u.options.mass>0&&(g<c&&(c=g),g>a&&(a=g),M<T&&(T=M),M>p&&(p=M))}var h=Math.abs(a-c)-Math.abs(p-T);h>0?(T-=.5*h,p+=.5*h):(c+=.5*h,a-=.5*h);var E=Math.max(1e-5,Math.abs(a-c)),I=.5*E,F=.5*(c+a),V=.5*(T+p),z={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:F-I,maxX:F+I,minY:V-I,maxY:V+I},size:E,calcSize:1/E,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(z.root);for(var U=0;U<m;U++)(v=b[w[U]]).options.mass>0&&this._placeInTree(z.root,v);return z}},{key:"_updateBranchMass",value:function(b,w){var v=b.centerOfMass,m=b.mass+w.options.mass,c=1/m;v.x=v.x*b.mass+w.x*w.options.mass,v.x*=c,v.y=v.y*b.mass+w.y*w.options.mass,v.y*=c,b.mass=m;var T=Math.max(Math.max(w.height,w.radius),w.width);b.maxWidth=b.maxWidth<T?T:b.maxWidth}},{key:"_placeInTree",value:function(b,w,v){(1!=v||void 0===v)&&this._updateBranchMass(b,w);var m=b.children.NW.range;this._placeInRegion(b,w,m.maxX>w.x?m.maxY>w.y?"NW":"SW":m.maxY>w.y?"NE":"SE")}},{key:"_placeInRegion",value:function(b,w,v){var m=b.children[v];switch(m.childrenCount){case 0:m.children.data=w,m.childrenCount=1,this._updateBranchMass(m,w);break;case 1:m.children.data.x===w.x&&m.children.data.y===w.y?(w.x+=this.seededRandom(),w.y+=this.seededRandom()):(this._splitBranch(m),this._placeInTree(m,w));break;case 4:this._placeInTree(m,w)}}},{key:"_splitBranch",value:function(b){var w=null;1===b.childrenCount&&(w=b.children.data,b.mass=0,b.centerOfMass.x=0,b.centerOfMass.y=0),b.childrenCount=4,b.children.data=null,this._insertRegion(b,"NW"),this._insertRegion(b,"NE"),this._insertRegion(b,"SW"),this._insertRegion(b,"SE"),null!=w&&this._placeInTree(b,w)}},{key:"_insertRegion",value:function(b,w){var v=void 0,m=void 0,c=void 0,T=void 0,a=.5*b.size;switch(w){case"NW":v=b.range.minX,m=b.range.minX+a,c=b.range.minY,T=b.range.minY+a;break;case"NE":v=b.range.minX+a,m=b.range.maxX,c=b.range.minY,T=b.range.minY+a;break;case"SW":v=b.range.minX,m=b.range.minX+a,c=b.range.minY+a,T=b.range.maxY;break;case"SE":v=b.range.minX+a,m=b.range.maxX,c=b.range.minY+a,T=b.range.maxY}b.children[w]={centerOfMass:{x:0,y:0},mass:0,range:{minX:v,maxX:m,minY:c,maxY:T},size:.5*b.size,calcSize:2*b.calcSize,children:{data:null},maxWidth:0,level:b.level+1,childrenCount:0}}},{key:"_debug",value:function(b,w){void 0!==this.barnesHutTree&&(b.lineWidth=1,this._drawBranch(this.barnesHutTree.root,b,w))}},{key:"_drawBranch",value:function(b,w,v){void 0===v&&(v="#FF0000"),4===b.childrenCount&&(this._drawBranch(b.children.NW,w),this._drawBranch(b.children.NE,w),this._drawBranch(b.children.SE,w),this._drawBranch(b.children.SW,w)),w.strokeStyle=v,w.beginPath(),w.moveTo(b.range.minX,b.range.minY),w.lineTo(b.range.maxX,b.range.minY),w.stroke(),w.beginPath(),w.moveTo(b.range.maxX,b.range.minY),w.lineTo(b.range.maxX,b.range.maxY),w.stroke(),w.beginPath(),w.moveTo(b.range.maxX,b.range.maxY),w.lineTo(b.range.minX,b.range.maxY),w.stroke(),w.beginPath(),w.moveTo(b.range.minX,b.range.maxY),w.lineTo(b.range.minX,b.range.minY),w.stroke()}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(k,b,w){(0,y.default)(this,x),this.body=k,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b=void 0,w=void 0,v=void 0,m=void 0,c=this.body.nodes,T=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,p=0;p<T.length;p++)b=-(m=c[T[p]]).x,w=-m.y,v=Math.sqrt(b*b+w*w),this._calculateForces(v,b,w,a,m)}},{key:"_calculateForces",value:function(b,w,v,m,c){var T=0===b?0:this.options.centralGravity/b;m[c.id].x=w*T,m[c.id].y=v*T}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",D="array",O="object",k=["arrow","circle","bar"],b={configure:{enabled:{boolean:y},filter:{boolean:y,string:P,array:D,function:"function"},container:{dom:"dom"},showButton:{boolean:y},__type__:{object:O,boolean:y,string:P,array:D,function:"function"}},edges:{arrows:{to:{enabled:{boolean:y},scaleFactor:{number:S},type:{string:k},__type__:{object:O,boolean:y}},middle:{enabled:{boolean:y},scaleFactor:{number:S},type:{string:k},__type__:{object:O,boolean:y}},from:{enabled:{boolean:y},scaleFactor:{number:S},type:{string:k},__type__:{object:O,boolean:y}},__type__:{string:["from","to","middle"],object:O}},arrowStrikethrough:{boolean:y},chosen:{label:{boolean:y,function:"function"},edge:{boolean:y,function:"function"},__type__:{object:O,boolean:y}},color:{color:{string:P},highlight:{string:P},hover:{string:P},inherit:{string:["from","to","both"],boolean:y},opacity:{number:S},__type__:{object:O,string:P}},dashes:{boolean:y,array:D},font:{color:{string:P},size:{number:S},face:{string:P},background:{string:P},strokeWidth:{number:S},strokeColor:{string:P},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:S},multi:{boolean:y,string:P},bold:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},boldital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},ital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},mono:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},__type__:{object:O,string:P}},hidden:{boolean:y},hoverWidth:{function:"function",number:S},label:{string:P,undefined:"undefined"},labelHighlightBold:{boolean:y},length:{number:S,undefined:"undefined"},physics:{boolean:y},scaling:{min:{number:S},max:{number:S},label:{enabled:{boolean:y},min:{number:S},max:{number:S},maxVisible:{number:S},drawThreshold:{number:S},__type__:{object:O,boolean:y}},customScalingFunction:{function:"function"},__type__:{object:O}},selectionWidth:{function:"function",number:S},selfReferenceSize:{number:S},shadow:{enabled:{boolean:y},color:{string:P},size:{number:S},x:{number:S},y:{number:S},__type__:{object:O,boolean:y}},smooth:{enabled:{boolean:y},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:S},forceDirection:{string:["horizontal","vertical","none"],boolean:y},__type__:{object:O,boolean:y}},title:{string:P,undefined:"undefined"},width:{number:S},widthConstraint:{maximum:{number:S},__type__:{object:O,boolean:y,number:S}},value:{number:S,undefined:"undefined"},__type__:{object:O}},groups:{useDefaultGroups:{boolean:y},__any__:"get from nodes, will be overwritten below",__type__:{object:O}},interaction:{dragNodes:{boolean:y},dragView:{boolean:y},hideEdgesOnDrag:{boolean:y},hideNodesOnDrag:{boolean:y},hover:{boolean:y},keyboard:{enabled:{boolean:y},speed:{x:{number:S},y:{number:S},zoom:{number:S},__type__:{object:O}},bindToWindow:{boolean:y},__type__:{object:O,boolean:y}},multiselect:{boolean:y},navigationButtons:{boolean:y},selectable:{boolean:y},selectConnectedEdges:{boolean:y},hoverConnectedEdges:{boolean:y},tooltipDelay:{number:S},zoomView:{boolean:y},__type__:{object:O}},layout:{randomSeed:{undefined:"undefined",number:S},improvedLayout:{boolean:y},hierarchical:{enabled:{boolean:y},levelSeparation:{number:S},nodeSpacing:{number:S},treeSpacing:{number:S},blockShifting:{boolean:y},edgeMinimization:{boolean:y},parentCentralization:{boolean:y},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:O,boolean:y}},__type__:{object:O}},manipulation:{enabled:{boolean:y},initiallyActive:{boolean:y},addNode:{boolean:y,function:"function"},addEdge:{boolean:y,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:O,boolean:y,function:"function"}},deleteNode:{boolean:y,function:"function"},deleteEdge:{boolean:y,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:O,boolean:y}},nodes:{borderWidth:{number:S},borderWidthSelected:{number:S,undefined:"undefined"},brokenImage:{string:P,undefined:"undefined"},chosen:{label:{boolean:y,function:"function"},node:{boolean:y,function:"function"},__type__:{object:O,boolean:y}},color:{border:{string:P},background:{string:P},highlight:{border:{string:P},background:{string:P},__type__:{object:O,string:P}},hover:{border:{string:P},background:{string:P},__type__:{object:O,string:P}},__type__:{object:O,string:P}},fixed:{x:{boolean:y},y:{boolean:y},__type__:{object:O,boolean:y}},font:{align:{string:P},color:{string:P},size:{number:S},face:{string:P},background:{string:P},strokeWidth:{number:S},strokeColor:{string:P},vadjust:{number:S},multi:{boolean:y,string:P},bold:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},boldital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},ital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},mono:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:O,string:P}},__type__:{object:O,string:P}},group:{string:P,number:S,undefined:"undefined"},heightConstraint:{minimum:{number:S},valign:{string:P},__type__:{object:O,boolean:y,number:S}},hidden:{boolean:y},icon:{face:{string:P},code:{string:P},size:{number:S},color:{string:P},__type__:{object:O}},id:{string:P,number:S},image:{selected:{string:P,undefined:"undefined"},unselected:{string:P,undefined:"undefined"},__type__:{object:O,string:P}},label:{string:P,undefined:"undefined"},labelHighlightBold:{boolean:y},level:{number:S,undefined:"undefined"},margin:{top:{number:S},right:{number:S},bottom:{number:S},left:{number:S},__type__:{object:O,number:S}},mass:{number:S},physics:{boolean:y},scaling:{min:{number:S},max:{number:S},label:{enabled:{boolean:y},min:{number:S},max:{number:S},maxVisible:{number:S},drawThreshold:{number:S},__type__:{object:O,boolean:y}},customScalingFunction:{function:"function"},__type__:{object:O}},shadow:{enabled:{boolean:y},color:{string:P},size:{number:S},x:{number:S},y:{number:S},__type__:{object:O,boolean:y}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:y,array:D},borderRadius:{number:S},interpolation:{boolean:y},useImageSize:{boolean:y},useBorderWithImage:{boolean:y},__type__:{object:O}},size:{number:S},title:{string:P,dom:"dom",undefined:"undefined"},value:{number:S,undefined:"undefined"},widthConstraint:{minimum:{number:S},maximum:{number:S},__type__:{object:O,boolean:y,number:S}},x:{number:S},y:{number:S},__type__:{object:O}},physics:{enabled:{boolean:y},barnesHut:{gravitationalConstant:{number:S},centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},damping:{number:S},avoidOverlap:{number:S},__type__:{object:O}},forceAtlas2Based:{gravitationalConstant:{number:S},centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},damping:{number:S},avoidOverlap:{number:S},__type__:{object:O}},repulsion:{centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},nodeDistance:{number:S},damping:{number:S},__type__:{object:O}},hierarchicalRepulsion:{centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},nodeDistance:{number:S},damping:{number:S},__type__:{object:O}},maxVelocity:{number:S},minVelocity:{number:S},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:y},iterations:{number:S},updateInterval:{number:S},onlyDynamicEdges:{boolean:y},fit:{boolean:y},__type__:{object:O,boolean:y}},timestep:{number:S},adaptiveTimestep:{boolean:y},__type__:{object:O,boolean:y}},autoResize:{boolean:y},clickToUse:{boolean:y},locale:{string:P},locales:{__any__:{any:"any"},__type__:{object:O}},height:{string:P},width:{string:P},__type__:{object:O}};b.groups.__any__=b.nodes,b.manipulation.controlNodeStyle=b.nodes;L.allOptions=b,L.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(Q,L,_){var P=_(2);P.extend(L,_(159)),P.extend(L,_(177)),P.extend(L,_(181))},function(Q,L,_){_(49),_(60),Q.exports=_(136)},function(Q,L,_){var P=_(126),y=_(127),S=_(31),D=_(25);Q.exports=_(79)(Array,"Array",function(O,A){this._t=D(O),this._i=0,this._k=A},function(){var O=this._t,A=this._k,x=this._i++;return!O||x>=O.length?(this._t=void 0,y(1)):y(0,"keys"==A?x:"values"==A?O[x]:[x,O[x]])},"values"),S.Arguments=S.Array,P("keys"),P("values"),P("entries")},function(Q,L){Q.exports=function(){}},function(Q,L){Q.exports=function(_,P){return{value:P,done:!!_}}},function(Q,L){Q.exports=function(_){if("function"!=typeof _)throw TypeError(_+" is not a function!");return _}},function(Q,L,_){var P=_(54),y=_(39),S=_(59),D={};_(26)(D,_(13)("iterator"),function(){return this}),Q.exports=function(O,A,x){O.prototype=P(D,{next:y(1,x)}),S(O,A+" Iterator")}},function(Q,L,_){var P=_(20),y=_(27),S=_(33);Q.exports=_(21)?Object.defineProperties:function(O,A){y(O);for(var w,x=S(A),k=x.length,b=0;k>b;)P.f(O,w=x[b++],A[w]);return O}},function(Q,L,_){var P=_(25),y=_(132),S=_(133);Q.exports=function(D){return function(O,A,x){var v,k=P(O),b=y(k.length),w=S(x,b);if(D&&A!=A){for(;b>w;)if((v=k[w++])!=v)return!0}else for(;b>w;w++)if((D||w in k)&&k[w]===A)return D||w||0;return!D&&-1}}},function(Q,L,_){var P=_(55),y=Math.min;Q.exports=function(S){return S>0?y(P(S),9007199254740991):0}},function(Q,L,_){var P=_(55),y=Math.max,S=Math.min;Q.exports=function(D,O){return(D=P(D))<0?y(D+O,0):S(D,O)}},function(Q,L,_){var P=_(18).document;Q.exports=P&&P.documentElement},function(Q,L,_){var P=_(55),y=_(51);Q.exports=function(S){return function(D,O){var b,w,A=String(y(D)),x=P(O),k=A.length;return x<0||x>=k?S?"":void 0:(b=A.charCodeAt(x))<55296||b>56319||x+1===k||(w=A.charCodeAt(x+1))<56320||w>57343?S?A.charAt(x):b:S?A.slice(x,x+2):w-56320+(b-55296<<10)+65536}}},function(Q,L,_){var P=_(27),y=_(137);Q.exports=_(7).getIterator=function(S){var D=y(S);if("function"!=typeof D)throw TypeError(S+" is not iterable!");return P(D.call(S))}},function(Q,L,_){var P=_(86),y=_(13)("iterator"),S=_(31);Q.exports=_(7).getIteratorMethod=function(D){if(null!=D)return D[y]||D["@@iterator"]||S[P(D)]}},function(Q,L,_){_(139);var P=_(7).Object;Q.exports=function(S,D){return P.create(S,D)}},function(Q,L,_){var P=_(17);P(P.S,"Object",{create:_(54)})},function(Q,L,_){_(141),Q.exports=_(7).Object.keys},function(Q,L,_){var P=_(41),y=_(33);_(87)("keys",function(){return function(D){return y(P(D))}})},function(Q,L,_){Q.exports={default:_(143),__esModule:!0}},function(Q,L,_){_(60),_(49),Q.exports=_(61).f("iterator")},function(Q,L,_){Q.exports={default:_(145),__esModule:!0}},function(Q,L,_){_(146),_(151),_(152),_(153),Q.exports=_(7).Symbol},function(Q,L,_){var P=_(18),y=_(22),S=_(21),D=_(17),O=_(83),A=_(147).KEY,x=_(28),k=_(57),b=_(59),w=_(40),v=_(13),m=_(61),c=_(62),T=_(148),a=_(149),p=_(27),d=_(25),u=_(53),g=_(39),M=_(54),h=_(150),f=_(89),E=_(20),I=_(33),F=f.f,V=E.f,z=h.f,U=P.Symbol,j=P.JSON,K=j&&j.stringify,te="prototype",oe=v("_hidden"),le=v("toPrimitive"),pe={}.propertyIsEnumerable,Ee=k("symbol-registry"),Ce=k("symbols"),_e=k("op-symbols"),ge=Object[te],ue="function"==typeof U,he=P.QObject,be=!he||!he[te]||!he[te].findChild,Oe=S&&x(function(){return 7!=M(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a})?function(Ge,Re,Ve){var nt=F(ge,Re);nt&&delete ge[Re],V(Ge,Re,Ve),nt&&Ge!==ge&&V(ge,Re,nt)}:V,Ie=function(Ge){var Re=Ce[Ge]=M(U[te]);return Re._k=Ge,Re},xe=ue&&"symbol"==typeof U.iterator?function(Ge){return"symbol"==typeof Ge}:function(Ge){return Ge instanceof U},Be=function(Re,Ve,nt){return Re===ge&&Be(_e,Ve,nt),p(Re),Ve=u(Ve,!0),p(nt),y(Ce,Ve)?(nt.enumerable?(y(Re,oe)&&Re[oe][Ve]&&(Re[oe][Ve]=!1),nt=M(nt,{enumerable:g(0,!1)})):(y(Re,oe)||V(Re,oe,g(1,{})),Re[oe][Ve]=!0),Oe(Re,Ve,nt)):V(Re,Ve,nt)},ze=function(Re,Ve){p(Re);for(var $e,nt=T(Ve=d(Ve)),_t=0,Wt=nt.length;Wt>_t;)Be(Re,$e=nt[_t++],Ve[$e]);return Re},en=function(Re){var Ve=pe.call(this,Re=u(Re,!0));return!(this===ge&&y(Ce,Re)&&!y(_e,Re))&&(!(Ve||!y(this,Re)||!y(Ce,Re)||y(this,oe)&&this[oe][Re])||Ve)},hn=function(Re,Ve){if(Re=d(Re),Ve=u(Ve,!0),Re!==ge||!y(Ce,Ve)||y(_e,Ve)){var nt=F(Re,Ve);return nt&&y(Ce,Ve)&&!(y(Re,oe)&&Re[oe][Ve])&&(nt.enumerable=!0),nt}},at=function(Re){for(var Wt,Ve=z(d(Re)),nt=[],_t=0;Ve.length>_t;)!y(Ce,Wt=Ve[_t++])&&Wt!=oe&&Wt!=A&&nt.push(Wt);return nt},Et=function(Re){for(var $e,Ve=Re===ge,nt=z(Ve?_e:d(Re)),_t=[],Wt=0;nt.length>Wt;)y(Ce,$e=nt[Wt++])&&(!Ve||y(ge,$e))&&_t.push(Ce[$e]);return _t};ue||(O((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var Re=w(arguments.length>0?arguments[0]:void 0),Ve=function(nt){this===ge&&Ve.call(_e,nt),y(this,oe)&&y(this[oe],Re)&&(this[oe][Re]=!1),Oe(this,Re,g(1,nt))};return S&&be&&Oe(ge,Re,{configurable:!0,set:Ve}),Ie(Re)})[te],"toString",function(){return this._k}),f.f=hn,E.f=Be,_(88).f=h.f=at,_(42).f=en,_(63).f=Et,S&&!_(52)&&O(ge,"propertyIsEnumerable",en,!0),m.f=function(Ge){return Ie(v(Ge))}),D(D.G+D.W+D.F*!ue,{Symbol:U});for(var Xt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rn=0;Xt.length>rn;)v(Xt[rn++]);for(var gn=I(v.store),Qt=0;gn.length>Qt;)c(gn[Qt++]);D(D.S+D.F*!ue,"Symbol",{for:function(Ge){return y(Ee,Ge+="")?Ee[Ge]:Ee[Ge]=U(Ge)},keyFor:function(Re){if(!xe(Re))throw TypeError(Re+" is not a symbol!");for(var Ve in Ee)if(Ee[Ve]===Re)return Ve},useSetter:function(){be=!0},useSimple:function(){be=!1}}),D(D.S+D.F*!ue,"Object",{create:function(Re,Ve){return void 0===Ve?M(Re):ze(M(Re),Ve)},defineProperty:Be,defineProperties:ze,getOwnPropertyDescriptor:hn,getOwnPropertyNames:at,getOwnPropertySymbols:Et}),j&&D(D.S+D.F*(!ue||x(function(){var Ge=U();return"[null]"!=K([Ge])||"{}"!=K({a:Ge})||"{}"!=K(Object(Ge))})),"JSON",{stringify:function(Re){if(void 0!==Re&&!xe(Re)){for(var _t,Wt,Ve=[Re],nt=1;arguments.length>nt;)Ve.push(arguments[nt++]);return"function"==typeof(_t=Ve[1])&&(Wt=_t),(Wt||!a(_t))&&(_t=function($e,Cn){if(Wt&&(Cn=Wt.call(this,$e,Cn)),!xe(Cn))return Cn}),Ve[1]=_t,K.apply(j,Ve)}}}),U[te][le]||_(26)(U[te],le,U[te].valueOf),b(U,"Symbol"),b(Math,"Math",!0),b(P.JSON,"JSON",!0)},function(Q,L,_){var P=_(40)("meta"),y=_(32),S=_(22),D=_(20).f,O=0,A=Object.isExtensible||function(){return!0},x=!_(28)(function(){return A(Object.preventExtensions({}))}),k=function(c){D(c,P,{value:{i:"O"+ ++O,w:{}}})},m=Q.exports={KEY:P,NEED:!1,fastKey:function(c,T){if(!y(c))return"symbol"==typeof c?c:("string"==typeof c?"S":"P")+c;if(!S(c,P)){if(!A(c))return"F";if(!T)return"E";k(c)}return c[P].i},getWeak:function(c,T){if(!S(c,P)){if(!A(c))return!0;if(!T)return!1;k(c)}return c[P].w},onFreeze:function(c){return x&&m.NEED&&A(c)&&!S(c,P)&&k(c),c}}},function(Q,L,_){var P=_(33),y=_(63),S=_(42);Q.exports=function(D){var O=P(D),A=y.f;if(A)for(var w,x=A(D),k=S.f,b=0;x.length>b;)k.call(D,w=x[b++])&&O.push(w);return O}},function(Q,L,_){var P=_(50);Q.exports=Array.isArray||function(S){return"Array"==P(S)}},function(Q,L,_){var P=_(25),y=_(88).f,S={}.toString,D="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Q.exports.f=function(x){return D&&"[object Window]"==S.call(x)?function(A){try{return y(A)}catch(x){return D.slice()}}(x):y(P(x))}},function(Q,L){},function(Q,L,_){_(62)("asyncIterator")},function(Q,L,_){_(62)("observable")},function(Q,L,_){(function(P){P.exports=function(){var S,u;function D(){return S.apply(null,arguments)}function A(R){return R instanceof Array||"[object Array]"===Object.prototype.toString.call(R)}function x(R){return null!=R&&"[object Object]"===Object.prototype.toString.call(R)}function b(R){return void 0===R}function w(R){return"number"==typeof R||"[object Number]"===Object.prototype.toString.call(R)}function v(R){return R instanceof Date||"[object Date]"===Object.prototype.toString.call(R)}function m(R,H){var q,Y=[];for(q=0;q<R.length;++q)Y.push(H(R[q],q));return Y}function c(R,H){return Object.prototype.hasOwnProperty.call(R,H)}function T(R,H){for(var Y in H)c(H,Y)&&(R[Y]=H[Y]);return c(H,"toString")&&(R.toString=H.toString),c(H,"valueOf")&&(R.valueOf=H.valueOf),R}function a(R,H,Y,q){return vg(R,H,Y,q,!0).utc()}function d(R){return null==R._pf&&(R._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),R._pf}function g(R){if(null==R._isValid){var H=d(R),Y=u.call(H.parsedDateParts,function(se){return null!=se}),q=!isNaN(R._d.getTime())&&H.overflow<0&&!H.empty&&!H.invalidMonth&&!H.invalidWeekday&&!H.weekdayMismatch&&!H.nullInput&&!H.invalidFormat&&!H.userInvalidated&&(!H.meridiem||H.meridiem&&Y);if(R._strict&&(q=q&&0===H.charsLeftOver&&0===H.unusedTokens.length&&void 0===H.bigHour),null!=Object.isFrozen&&Object.isFrozen(R))return q;R._isValid=q}return R._isValid}function M(R){var H=a(NaN);return null!=R?T(d(H),R):d(H).userInvalidated=!0,H}u=Array.prototype.some?Array.prototype.some:function(R){for(var H=Object(this),Y=H.length>>>0,q=0;q<Y;q++)if(q in H&&R.call(this,H[q],q,H))return!0;return!1};var h=D.momentProperties=[];function f(R,H){var Y,q,se;if(b(H._isAMomentObject)||(R._isAMomentObject=H._isAMomentObject),b(H._i)||(R._i=H._i),b(H._f)||(R._f=H._f),b(H._l)||(R._l=H._l),b(H._strict)||(R._strict=H._strict),b(H._tzm)||(R._tzm=H._tzm),b(H._isUTC)||(R._isUTC=H._isUTC),b(H._offset)||(R._offset=H._offset),b(H._pf)||(R._pf=d(H)),b(H._locale)||(R._locale=H._locale),h.length>0)for(Y=0;Y<h.length;Y++)b(se=H[q=h[Y]])||(R[q]=se);return R}var E=!1;function I(R){f(this,R),this._d=new Date(null!=R._d?R._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===E&&(E=!0,D.updateOffset(this),E=!1)}function F(R){return R instanceof I||null!=R&&null!=R._isAMomentObject}function V(R){return R<0?Math.ceil(R)||0:Math.floor(R)}function z(R){var H=+R,Y=0;return 0!==H&&isFinite(H)&&(Y=V(H)),Y}function U(R,H,Y){var De,q=Math.min(R.length,H.length),se=Math.abs(R.length-H.length),me=0;for(De=0;De<q;De++)(Y&&R[De]!==H[De]||!Y&&z(R[De])!==z(H[De]))&&me++;return me+se}function j(R){!1===D.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+R)}function K(R,H){var Y=!0;return T(function(){if(null!=D.deprecationHandler&&D.deprecationHandler(null,R),Y){for(var se,q=[],me=0;me<arguments.length;me++){if(se="","object"==typeof arguments[me]){for(var De in se+="\n["+me+"] ",arguments[0])se+=De+": "+arguments[0][De]+", ";se=se.slice(0,-2)}else se=arguments[me];q.push(se)}j(R+"\nArguments: "+Array.prototype.slice.call(q).join("")+"\n"+(new Error).stack),Y=!1}return H.apply(this,arguments)},H)}var _e,te={};function oe(R,H){null!=D.deprecationHandler&&D.deprecationHandler(R,H),te[R]||(j(H),te[R]=!0)}function le(R){return R instanceof Function||"[object Function]"===Object.prototype.toString.call(R)}function Ee(R,H){var q,Y=T({},R);for(q in H)c(H,q)&&(x(R[q])&&x(H[q])?(Y[q]={},T(Y[q],R[q]),T(Y[q],H[q])):null!=H[q]?Y[q]=H[q]:delete Y[q]);for(q in R)c(R,q)&&!c(H,q)&&x(R[q])&&(Y[q]=T({},Y[q]));return Y}function Ce(R){null!=R&&this.set(R)}D.suppressDeprecationWarnings=!1,D.deprecationHandler=null,_e=Object.keys?Object.keys:function(R){var H,Y=[];for(H in R)c(R,H)&&Y.push(H);return Y};var at={};function Et(R,H){var Y=R.toLowerCase();at[Y]=at[Y+"s"]=at[H]=R}function Xt(R){return"string"==typeof R?at[R]||at[R.toLowerCase()]:void 0}function rn(R){var Y,q,H={};for(q in R)c(R,q)&&(Y=Xt(q))&&(H[Y]=R[q]);return H}var gn={};function Qt(R,H){gn[R]=H}function Re(R,H,Y){var q=""+Math.abs(R);return(R>=0?Y?"+":"":"-")+Math.pow(10,Math.max(0,H-q.length)).toString().substr(1)+q}var Ve=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_t={},Wt={};function $e(R,H,Y,q){var se=q;"string"==typeof q&&(se=function(){return this[q]()}),R&&(Wt[R]=se),H&&(Wt[H[0]]=function(){return Re(se.apply(this,arguments),H[1],H[2])}),Y&&(Wt[Y]=function(){return this.localeData().ordinal(se.apply(this,arguments),R)})}function Cn(R){return R.match(/\[[\s\S]/)?R.replace(/^\[|\]$/g,""):R.replace(/\\/g,"")}function Mo(R,H){return R.isValid()?(H=Oo(H,R.localeData()),_t[H]=_t[H]||function(R){var Y,q,H=R.match(Ve);for(Y=0,q=H.length;Y<q;Y++)H[Y]=Wt[H[Y]]?Wt[H[Y]]:Cn(H[Y]);return function(se){var De,me="";for(De=0;De<q;De++)me+=le(H[De])?H[De].call(se,R):H[De];return me}}(H),_t[H](R)):R.localeData().invalidDate()}function Oo(R,H){var Y=5;function q(se){return H.longDateFormat(se)||se}for(nt.lastIndex=0;Y>=0&&nt.test(R);)R=R.replace(nt,q),nt.lastIndex=0,Y-=1;return R}var ca=/\d/,ei=/\d\d/,fa=/\d{3}/,pa=/\d{4}/,ko=/[+-]?\d{6}/,tn=/\d\d?/,al=/\d\d\d\d?/,ll=/\d\d\d\d\d\d?/,Tt=/\d{1,3}/,Qs=/\d{1,4}/,ft=/[+-]?\d{1,6}/,Io=/\d+/,Xs=/[+-]?\d+/,Gt=/Z|[+-]\d\d:?\d\d/gi,Ye=/Z|[+-]\d\d(?::?\d\d)?/gi,Ao=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$i={};function Xe(R,H,Y){$i[R]=le(H)?H:function(q,se){return q&&Y?Y:H}}function ga(R,H){return c($i,R)?$i[R](H._strict,H._locale):new RegExp(function(R){return sn(R.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(H,Y,q,se,me){return Y||q||se||me}))}(R))}function sn(R){return R.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ma={};function on(R,H){var Y,q=H;for("string"==typeof R&&(R=[R]),w(H)&&(q=function(se,me){me[H]=z(se)}),Y=0;Y<R.length;Y++)ma[R[Y]]=q}function Zs(R,H){on(R,function(Y,q,se,me){se._w=se._w||{},H(Y,se._w,se,me)})}function vs(R,H,Y){null!=H&&c(ma,R)&&ma[R](H,Y._a,Y,R)}function ur(R){return Gr(R)?366:365}function Gr(R){return R%4==0&&R%100!=0||R%400==0}$e("Y",0,0,function(){var R=this.year();return R<=9999?""+R:"+"+R}),$e(0,["YY",2],0,function(){return this.year()%100}),$e(0,["YYYY",4],0,"year"),$e(0,["YYYYY",5],0,"year"),$e(0,["YYYYYY",6,!0],0,"year"),Et("year","y"),Qt("year",1),Xe("Y",Xs),Xe("YY",tn,ei),Xe("YYYY",Qs,pa),Xe("YYYYY",ft,ko),Xe("YYYYYY",ft,ko),on(["YYYYY","YYYYYY"],0),on("YYYY",function(R,H){H[0]=2===R.length?D.parseTwoDigitYear(R):z(R)}),on("YY",function(R,H){H[0]=D.parseTwoDigitYear(R)}),on("Y",function(R,H){H[0]=parseInt(R,10)}),D.parseTwoDigitYear=function(R){return z(R)+(z(R)>68?1900:2e3)};var Kt,Js=Vn("FullYear",!0);function Vn(R,H){return function(Y){return null!=Y?(Po(this,R,Y),D.updateOffset(this,H),this):Yt(this,R)}}function Yt(R,H){return R.isValid()?R._d["get"+(R._isUTC?"UTC":"")+H]():NaN}function Po(R,H,Y){R.isValid()&&!isNaN(Y)&&("FullYear"===H&&Gr(R.year())?R._d["set"+(R._isUTC?"UTC":"")+H](Y,R.month(),fn(Y,R.month())):R._d["set"+(R._isUTC?"UTC":"")+H](Y))}function fn(R,H){if(isNaN(R)||isNaN(H))return NaN;var Y=function(R,H){return(R%H+H)%H}(H,12);return R+=(H-Y)/12,1===Y?Gr(R)?29:28:31-Y%7%2}Kt=Array.prototype.indexOf?Array.prototype.indexOf:function(R){var H;for(H=0;H<this.length;++H)if(this[H]===R)return H;return-1},$e("M",["MM",2],"Mo",function(){return this.month()+1}),$e("MMM",0,0,function(R){return this.localeData().monthsShort(this,R)}),$e("MMMM",0,0,function(R){return this.localeData().months(this,R)}),Et("month","M"),Qt("month",8),Xe("M",tn),Xe("MM",tn,ei),Xe("MMM",function(R,H){return H.monthsShortRegex(R)}),Xe("MMMM",function(R,H){return H.monthsRegex(R)}),on(["M","MM"],function(R,H){H[1]=z(R)-1}),on(["MMM","MMMM"],function(R,H,Y,q){var se=Y._locale.monthsParse(R,q,Y._strict);null!=se?H[1]=se:d(Y).invalidMonth=R});var In=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Yi="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var va="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function fi(R,H,Y){var q,se,me,De=R.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],q=0;q<12;++q)me=a([2e3,q]),this._shortMonthsParse[q]=this.monthsShort(me,"").toLocaleLowerCase(),this._longMonthsParse[q]=this.months(me,"").toLocaleLowerCase();return Y?"MMM"===H?-1!==(se=Kt.call(this._shortMonthsParse,De))?se:null:-1!==(se=Kt.call(this._longMonthsParse,De))?se:null:"MMM"===H?-1!==(se=Kt.call(this._shortMonthsParse,De))||-1!==(se=Kt.call(this._longMonthsParse,De))?se:null:-1!==(se=Kt.call(this._longMonthsParse,De))||-1!==(se=Kt.call(this._shortMonthsParse,De))?se:null}function to(R,H){var Y;if(!R.isValid())return R;if("string"==typeof H)if(/^\d+$/.test(H))H=z(H);else if(!w(H=R.localeData().monthsParse(H)))return R;return Y=Math.min(R.date(),fn(R.year(),H)),R._d["set"+(R._isUTC?"UTC":"")+"Month"](H,Y),R}function Ro(R){return null!=R?(to(this,R),D.updateOffset(this,!0),this):Yt(this,"Month")}var no=Ao;var pi=Ao;function pl(){function R(De,bt){return bt.length-De.length}var se,me,H=[],Y=[],q=[];for(se=0;se<12;se++)me=a([2e3,se]),H.push(this.monthsShort(me,"")),Y.push(this.months(me,"")),q.push(this.months(me,"")),q.push(this.monthsShort(me,""));for(H.sort(R),Y.sort(R),q.sort(R),se=0;se<12;se++)H[se]=sn(H[se]),Y[se]=sn(Y[se]);for(se=0;se<24;se++)q[se]=sn(q[se]);this._monthsRegex=new RegExp("^("+q.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Y.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+H.join("|")+")","i")}function Ki(R,H,Y,q,se,me,De){var bt=new Date(R,H,Y,q,se,me,De);return R<100&&R>=0&&isFinite(bt.getFullYear())&&bt.setFullYear(R),bt}function Gn(R){var H=new Date(Date.UTC.apply(null,arguments));return R<100&&R>=0&&isFinite(H.getUTCFullYear())&&H.setUTCFullYear(R),H}function ya(R,H,Y){var q=7+H-Y;return-(7+Gn(R,0,q).getUTCDay()-H)%7+q-1}function ju(R,H,Y,q,se){var kt,$t,bt=1+7*(H-1)+(7+Y-q)%7+ya(R,q,se);return bt<=0?$t=ur(kt=R-1)+bt:bt>ur(R)?(kt=R+1,$t=bt-ur(R)):(kt=R,$t=bt),{year:kt,dayOfYear:$t}}function ee(R,H,Y){var me,De,q=ya(R.year(),H,Y),se=Math.floor((R.dayOfYear()-q-1)/7)+1;return se<1?me=se+ie(De=R.year()-1,H,Y):se>ie(R.year(),H,Y)?(me=se-ie(R.year(),H,Y),De=R.year()+1):(De=R.year(),me=se),{week:me,year:De}}function ie(R,H,Y){var q=ya(R,H,Y),se=ya(R+1,H,Y);return(ur(R)-q+se)/7}$e("w",["ww",2],"wo","week"),$e("W",["WW",2],"Wo","isoWeek"),Et("week","w"),Et("isoWeek","W"),Qt("week",5),Qt("isoWeek",5),Xe("w",tn),Xe("ww",tn,ei),Xe("W",tn),Xe("WW",tn,ei),Zs(["w","ww","W","WW"],function(R,H,Y,q){H[q.substr(0,1)]=z(R)});$e("d",0,"do","day"),$e("dd",0,0,function(R){return this.localeData().weekdaysMin(this,R)}),$e("ddd",0,0,function(R){return this.localeData().weekdaysShort(this,R)}),$e("dddd",0,0,function(R){return this.localeData().weekdays(this,R)}),$e("e",0,0,"weekday"),$e("E",0,0,"isoWeekday"),Et("day","d"),Et("weekday","e"),Et("isoWeekday","E"),Qt("day",11),Qt("weekday",11),Qt("isoWeekday",11),Xe("d",tn),Xe("e",tn),Xe("E",tn),Xe("dd",function(R,H){return H.weekdaysMinRegex(R)}),Xe("ddd",function(R,H){return H.weekdaysShortRegex(R)}),Xe("dddd",function(R,H){return H.weekdaysRegex(R)}),Zs(["dd","ddd","dddd"],function(R,H,Y,q){var se=Y._locale.weekdaysParse(R,q,Y._strict);null!=se?H.d=se:d(Y).invalidWeekday=R}),Zs(["d","e","E"],function(R,H,Y,q){H[q]=z(R)});var bi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var gl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var og="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function ba(R,H,Y){var q,se,me,De=R.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],q=0;q<7;++q)me=a([2e3,1]).day(q),this._minWeekdaysParse[q]=this.weekdaysMin(me,"").toLocaleLowerCase(),this._shortWeekdaysParse[q]=this.weekdaysShort(me,"").toLocaleLowerCase(),this._weekdaysParse[q]=this.weekdays(me,"").toLocaleLowerCase();return Y?"dddd"===H?-1!==(se=Kt.call(this._weekdaysParse,De))?se:null:"ddd"===H?-1!==(se=Kt.call(this._shortWeekdaysParse,De))?se:null:-1!==(se=Kt.call(this._minWeekdaysParse,De))?se:null:"dddd"===H?-1!==(se=Kt.call(this._weekdaysParse,De))||-1!==(se=Kt.call(this._shortWeekdaysParse,De))||-1!==(se=Kt.call(this._minWeekdaysParse,De))?se:null:"ddd"===H?-1!==(se=Kt.call(this._shortWeekdaysParse,De))||-1!==(se=Kt.call(this._weekdaysParse,De))||-1!==(se=Kt.call(this._minWeekdaysParse,De))?se:null:-1!==(se=Kt.call(this._minWeekdaysParse,De))||-1!==(se=Kt.call(this._weekdaysParse,De))||-1!==(se=Kt.call(this._shortWeekdaysParse,De))?se:null}var Xh=Ao;var _i=Ao;var Jh=Ao;function gi(){function R(Di,Jr){return Jr.length-Di.length}var me,De,bt,kt,$t,H=[],Y=[],q=[],se=[];for(me=0;me<7;me++)De=a([2e3,1]).day(me),bt=this.weekdaysMin(De,""),kt=this.weekdaysShort(De,""),$t=this.weekdays(De,""),H.push(bt),Y.push(kt),q.push($t),se.push(bt),se.push(kt),se.push($t);for(H.sort(R),Y.sort(R),q.sort(R),se.sort(R),me=0;me<7;me++)Y[me]=sn(Y[me]),q[me]=sn(q[me]),se[me]=sn(se[me]);this._weekdaysRegex=new RegExp("^("+se.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Y.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+H.join("|")+")","i")}function oi(){return this.hours()%12||12}function ws(R,H){$e(R,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),H)})}function Pi(R,H){return H._meridiemParse}$e("H",["HH",2],0,"hour"),$e("h",["hh",2],0,oi),$e("k",["kk",2],0,function(){return this.hours()||24}),$e("hmm",0,0,function(){return""+oi.apply(this)+Re(this.minutes(),2)}),$e("hmmss",0,0,function(){return""+oi.apply(this)+Re(this.minutes(),2)+Re(this.seconds(),2)}),$e("Hmm",0,0,function(){return""+this.hours()+Re(this.minutes(),2)}),$e("Hmmss",0,0,function(){return""+this.hours()+Re(this.minutes(),2)+Re(this.seconds(),2)}),ws("a",!0),ws("A",!1),Et("hour","h"),Qt("hour",13),Xe("a",Pi),Xe("A",Pi),Xe("H",tn),Xe("h",tn),Xe("k",tn),Xe("HH",tn,ei),Xe("hh",tn,ei),Xe("kk",tn,ei),Xe("hmm",al),Xe("hmmss",ll),Xe("Hmm",al),Xe("Hmmss",ll),on(["H","HH"],3),on(["k","kk"],function(R,H,Y){var q=z(R);H[3]=24===q?0:q}),on(["a","A"],function(R,H,Y){Y._isPm=Y._locale.isPM(R),Y._meridiem=R}),on(["h","hh"],function(R,H,Y){H[3]=z(R),d(Y).bigHour=!0}),on("hmm",function(R,H,Y){var q=R.length-2;H[3]=z(R.substr(0,q)),H[4]=z(R.substr(q)),d(Y).bigHour=!0}),on("hmmss",function(R,H,Y){var q=R.length-4,se=R.length-2;H[3]=z(R.substr(0,q)),H[4]=z(R.substr(q,2)),H[5]=z(R.substr(se)),d(Y).bigHour=!0}),on("Hmm",function(R,H,Y){var q=R.length-2;H[3]=z(R.substr(0,q)),H[4]=z(R.substr(q))}),on("Hmmss",function(R,H,Y){var q=R.length-4,se=R.length-2;H[3]=z(R.substr(0,q)),H[4]=z(R.substr(q,2)),H[5]=z(R.substr(se))});var An,Ot=Vn("Hours",!0),pn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Yi,monthsShort:va,week:{dow:0,doy:6},weekdays:bi,weekdaysMin:og,weekdaysShort:gl,meridiemParse:/[ap]\.?m?\.?/i},Ut={},dr={};function Es(R){return R&&R.toLowerCase().replace("_","-")}function Fo(R){var H=null;if(!Ut[R]&&void 0!==P&&P&&P.exports)try{H=An._abbr,function(){var se=new Error('Cannot find module "./locale"');throw se.code="MODULE_NOT_FOUND",se}(),hr(H)}catch(q){}return Ut[R]}function hr(R,H){var Y;return R&&(Y=b(H)?Ri(R):mt(R,H))&&(An=Y),An._abbr}function mt(R,H){if(null!==H){var Y=pn;if(H.abbr=R,null!=Ut[R])oe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Y=Ut[R]._config;else if(null!=H.parentLocale){if(null==Ut[H.parentLocale])return dr[H.parentLocale]||(dr[H.parentLocale]=[]),dr[H.parentLocale].push({name:R,config:H}),null;Y=Ut[H.parentLocale]._config}return Ut[R]=new Ce(Ee(Y,H)),dr[R]&&dr[R].forEach(function(q){mt(q.name,q.config)}),hr(R),Ut[R]}return delete Ut[R],null}function Ri(R){var H;if(R&&R._locale&&R._locale._abbr&&(R=R._locale._abbr),!R)return An;if(!A(R)){if(H=Fo(R))return H;R=[R]}return function(R){for(var Y,q,se,me,H=0;H<R.length;){for(Y=(me=Es(R[H]).split("-")).length,q=(q=Es(R[H+1]))?q.split("-"):null;Y>0;){if(se=Fo(me.slice(0,Y).join("-")))return se;if(q&&q.length>=Y&&U(me,q,!0)>=Y-1)break;Y--}H++}return null}(R)}function _s(R){var H,Y=R._a;return Y&&-2===d(R).overflow&&(H=Y[1]<0||Y[1]>11?1:Y[2]<1||Y[2]>fn(Y[0],Y[1])?2:Y[3]<0||Y[3]>24||24===Y[3]&&(0!==Y[4]||0!==Y[5]||0!==Y[6])?3:Y[4]<0||Y[4]>59?4:Y[5]<0||Y[5]>59?5:Y[6]<0||Y[6]>999?6:-1,d(R)._overflowDayOfYear&&(H<0||H>2)&&(H=2),d(R)._overflowWeeks&&-1===H&&(H=7),d(R)._overflowWeekday&&-1===H&&(H=8),d(R).overflow=H),R}function Kn(R,H,Y){return null!=R?R:null!=H?H:Y}function Ds(R){var H,Y,se,me,q=[];if(!R._d){for(se=function(R){var H=new Date(D.now());return R._useUTC?[H.getUTCFullYear(),H.getUTCMonth(),H.getUTCDate()]:[H.getFullYear(),H.getMonth(),H.getDate()]}(R),R._w&&null==R._a[2]&&null==R._a[1]&&function(R){var H,Y,q,se,me,De,bt,kt;if(null!=(H=R._w).GG||null!=H.W||null!=H.E)me=1,De=4,Y=Kn(H.GG,R._a[0],ee(Dn(),1,4).year),q=Kn(H.W,1),((se=Kn(H.E,1))<1||se>7)&&(kt=!0);else{me=R._locale._week.dow,De=R._locale._week.doy;var $t=ee(Dn(),me,De);Y=Kn(H.gg,R._a[0],$t.year),q=Kn(H.w,$t.week),null!=H.d?((se=H.d)<0||se>6)&&(kt=!0):null!=H.e?(se=H.e+me,(H.e<0||H.e>6)&&(kt=!0)):se=me}q<1||q>ie(Y,me,De)?d(R)._overflowWeeks=!0:null!=kt?d(R)._overflowWeekday=!0:(bt=ju(Y,q,se,me,De),R._a[0]=bt.year,R._dayOfYear=bt.dayOfYear)}(R),null!=R._dayOfYear&&(me=Kn(R._a[0],se[0]),(R._dayOfYear>ur(me)||0===R._dayOfYear)&&(d(R)._overflowDayOfYear=!0),Y=Gn(me,0,R._dayOfYear),R._a[1]=Y.getUTCMonth(),R._a[2]=Y.getUTCDate()),H=0;H<3&&null==R._a[H];++H)R._a[H]=q[H]=se[H];for(;H<7;H++)R._a[H]=q[H]=null==R._a[H]?2===H?1:0:R._a[H];24===R._a[3]&&0===R._a[4]&&0===R._a[5]&&0===R._a[6]&&(R._nextDay=!0,R._a[3]=0),R._d=(R._useUTC?Gn:Ki).apply(null,q),null!=R._tzm&&R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm),R._nextDay&&(R._a[3]=24),R._w&&void 0!==R._w.d&&R._w.d!==R._d.getDay()&&(d(R).weekdayMismatch=!0)}}var an=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cg=/Z|[+-]\d\d(?::?\d\d)?/,io=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ea=/^\/?Date\((\-?\d+)/i;function _a(R){var H,Y,me,De,bt,kt,q=R._i,se=an.exec(q)||hg.exec(q);if(se){for(d(R).iso=!0,H=0,Y=io.length;H<Y;H++)if(io[H][1].exec(se[1])){De=io[H][0],me=!1!==io[H][2];break}if(null==De)return void(R._isValid=!1);if(se[3]){for(H=0,Y=wa.length;H<Y;H++)if(wa[H][1].exec(se[3])){bt=(se[2]||" ")+wa[H][0];break}if(null==bt)return void(R._isValid=!1)}if(!me&&null!=bt)return void(R._isValid=!1);if(se[4]){if(!cg.exec(se[4]))return void(R._isValid=!1);kt="Z"}R._f=De+(bt||"")+(kt||""),Yu(R)}else R._isValid=!1}var ro=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function fg(R){var H=parseInt(R,10);return H<=49?2e3+H:H<=999?1900+H:H}var Gu={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Da(R){var H=ro.exec(function(R){return R.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(R._i));if(H){var Y=function(R,H,Y,q,se,me){var De=[fg(R),va.indexOf(H),parseInt(Y,10),parseInt(q,10),parseInt(se,10)];return me&&De.push(parseInt(me,10)),De}(H[4],H[3],H[2],H[5],H[6],H[7]);if(!function(R,H,Y){return!R||gl.indexOf(R)===new Date(H[0],H[1],H[2]).getDay()||(d(Y).weekdayMismatch=!0,Y._isValid=!1,!1)}(H[1],Y,R))return;R._a=Y,R._tzm=function(R,H,Y){if(R)return Gu[R];if(H)return 0;var q=parseInt(Y,10),se=q%100;return(q-se)/100*60+se}(H[8],H[9],H[10]),R._d=Gn.apply(null,R._a),R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm),d(R).rfc2822=!0}else R._isValid=!1}function Yu(R){if(R._f!==D.ISO_8601)if(R._f!==D.RFC_2822){R._a=[],d(R).empty=!0;var Y,q,se,me,De,H=""+R._i,bt=H.length,kt=0;for(se=Oo(R._f,R._locale).match(Ve)||[],Y=0;Y<se.length;Y++)(q=(H.match(ga(me=se[Y],R))||[])[0])&&((De=H.substr(0,H.indexOf(q))).length>0&&d(R).unusedInput.push(De),H=H.slice(H.indexOf(q)+q.length),kt+=q.length),Wt[me]?(q?d(R).empty=!1:d(R).unusedTokens.push(me),vs(me,q,R)):R._strict&&!q&&d(R).unusedTokens.push(me);d(R).charsLeftOver=bt-kt,H.length>0&&d(R).unusedInput.push(H),R._a[3]<=12&&!0===d(R).bigHour&&R._a[3]>0&&(d(R).bigHour=void 0),d(R).parsedDateParts=R._a.slice(0),d(R).meridiem=R._meridiem,R._a[3]=function(R,H,Y){var q;return null==Y?H:null!=R.meridiemHour?R.meridiemHour(H,Y):(null!=R.isPM&&((q=R.isPM(Y))&&H<12&&(H+=12),!q&&12===H&&(H=0)),H)}(R._locale,R._a[3],R._meridiem),Ds(R),_s(R)}else Da(R);else _a(R)}function mg(R){var H=R._i,Y=R._f;return R._locale=R._locale||Ri(R._l),null===H||void 0===Y&&""===H?M({nullInput:!0}):("string"==typeof H&&(R._i=H=R._locale.preparse(H)),F(H)?new I(_s(H)):(v(H)?R._d=H:A(Y)?function(R){var H,Y,q,se,me;if(0===R._f.length)return d(R).invalidFormat=!0,void(R._d=new Date(NaN));for(se=0;se<R._f.length;se++)me=0,H=f({},R),null!=R._useUTC&&(H._useUTC=R._useUTC),H._f=R._f[se],Yu(H),g(H)&&(me+=d(H).charsLeftOver,me+=10*d(H).unusedTokens.length,d(H).score=me,(null==q||me<q)&&(q=me,Y=H));T(R,Y||H)}(R):Y?Yu(R):function(R){var H=R._i;b(H)?R._d=new Date(D.now()):v(H)?R._d=new Date(H.valueOf()):"string"==typeof H?function(R){var H=Ea.exec(R._i);null===H?(_a(R),!1===R._isValid&&(delete R._isValid,Da(R),!1===R._isValid&&(delete R._isValid,D.createFromInputFallback(R)))):R._d=new Date(+H[1])}(R):A(H)?(R._a=m(H.slice(0),function(Y){return parseInt(Y,10)}),Ds(R)):x(H)?function(R){if(!R._d){var H=rn(R._i);R._a=m([H.year,H.month,H.day||H.date,H.hour,H.minute,H.second,H.millisecond],function(Y){return Y&&parseInt(Y,10)}),Ds(R)}}(R):w(H)?R._d=new Date(H):D.createFromInputFallback(R)}(R),g(R)||(R._d=null),R))}function vg(R,H,Y,q,se){var me={};return(!0===Y||!1===Y)&&(q=Y,Y=void 0),(x(R)&&function(R){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(R).length;var H;for(H in R)if(R.hasOwnProperty(H))return!1;return!0}(R)||A(R)&&0===R.length)&&(R=void 0),me._isAMomentObject=!0,me._useUTC=me._isUTC=se,me._l=Y,me._i=R,me._f=H,me._strict=q,function(R){var H=new I(_s(mg(R)));return H._nextDay&&(H.add(1,"d"),H._nextDay=void 0),H}(me)}function Dn(R,H,Y,q){return vg(R,H,Y,q,!1)}D.createFromInputFallback=K("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(R){R._d=new Date(R._i+(R._useUTC?" UTC":""))}),D.ISO_8601=function(){},D.RFC_2822=function(){};var N0=K("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=Dn.apply(null,arguments);return this.isValid()&&R.isValid()?R<this?this:R:M()}),F0=K("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=Dn.apply(null,arguments);return this.isValid()&&R.isValid()?R>this?this:R:M()});function yg(R,H){var Y,q;if(1===H.length&&A(H[0])&&(H=H[0]),!H.length)return Dn();for(Y=H[0],q=1;q<H.length;++q)(!H[q].isValid()||H[q][R](Y))&&(Y=H[q]);return Y}var yl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Lo(R){var H=rn(R),Y=H.year||0,q=H.quarter||0,se=H.month||0,me=H.week||0,De=H.day||0,bt=H.hour||0,kt=H.minute||0,$t=H.second||0,Di=H.millisecond||0;this._isValid=function(R){for(var H in R)if(-1===Kt.call(yl,H)||null!=R[H]&&isNaN(R[H]))return!1;for(var Y=!1,q=0;q<yl.length;++q)if(R[yl[q]]){if(Y)return!1;parseFloat(R[yl[q]])!==z(R[yl[q]])&&(Y=!0)}return!0}(H),this._milliseconds=+Di+1e3*$t+6e4*kt+1e3*bt*60*60,this._days=+De+7*me,this._months=+se+3*q+12*Y,this._data={},this._locale=Ri(),this._bubble()}function ec(R){return R instanceof Lo}function tc(R){return R<0?-1*Math.round(-1*R):Math.round(R)}function bg(R,H){$e(R,0,0,function(){var Y=this.utcOffset(),q="+";return Y<0&&(Y=-Y,q="-"),q+Re(~~(Y/60),2)+H+Re(~~Y%60,2)})}bg("Z",":"),bg("ZZ",""),Xe("Z",Ye),Xe("ZZ",Ye),on(["Z","ZZ"],function(R,H,Y){Y._useUTC=!0,Y._tzm=bl(Ye,R)});var so=/([\+\-]|\d\d)/gi;function bl(R,H){var Y=(H||"").match(R);if(null===Y)return null;var se=((Y[Y.length-1]||[])+"").match(so)||["-",0,0],me=60*se[1]+z(se[2]);return 0===me?0:"+"===se[0]?me:-me}function Qn(R,H){var Y,q;return H._isUTC?(Y=H.clone(),q=(F(R)||v(R)?R.valueOf():Dn(R).valueOf())-Y.valueOf(),Y._d.setTime(Y._d.valueOf()+q),D.updateOffset(Y,!1),Y):Dn(R).local()}function Cl(R){return 15*-Math.round(R._d.getTimezoneOffset()/15)}function wl(){return!!this.isValid()&&this._isUTC&&0===this._offset}D.updateOffset=function(){};var Dg=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Qu=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tr(R,H){var se,me,De,Y=R,q=null;return ec(R)?Y={ms:R._milliseconds,d:R._days,M:R._months}:w(R)?(Y={},H?Y[H]=R:Y.milliseconds=R):(q=Dg.exec(R))?(se="-"===q[1]?-1:1,Y={y:0,d:z(q[2])*se,h:z(q[3])*se,m:z(q[4])*se,s:z(q[5])*se,ms:z(tc(1e3*q[6]))*se}):(q=Qu.exec(R))?Y={y:Zt(q[2],se="-"===q[1]?-1:1),M:Zt(q[3],se),w:Zt(q[4],se),d:Zt(q[5],se),h:Zt(q[6],se),m:Zt(q[7],se),s:Zt(q[8],se)}:null==Y?Y={}:"object"==typeof Y&&("from"in Y||"to"in Y)&&(De=function(R,H){var Y;return R.isValid()&&H.isValid()?(H=Qn(H,R),R.isBefore(H)?Y=Sg(R,H):((Y=Sg(H,R)).milliseconds=-Y.milliseconds,Y.months=-Y.months),Y):{milliseconds:0,months:0}}(Dn(Y.from),Dn(Y.to)),(Y={}).ms=De.milliseconds,Y.M=De.months),me=new Lo(Y),ec(R)&&c(R,"_locale")&&(me._locale=R._locale),me}function Zt(R,H){var Y=R&&parseFloat(R.replace(",","."));return(isNaN(Y)?0:Y)*H}function Sg(R,H){var Y={milliseconds:0,months:0};return Y.months=H.month()-R.month()+12*(H.year()-R.year()),R.clone().add(Y.months,"M").isAfter(H)&&--Y.months,Y.milliseconds=+H-+R.clone().add(Y.months,"M"),Y}function ac(R,H){return function(Y,q){var me;return null!==q&&!isNaN(+q)&&(oe(H,"moment()."+H+"(period, number) is deprecated. Please use moment()."+H+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),me=Y,Y=q,q=me),Rn(this,Tr(Y="string"==typeof Y?+Y:Y,q),R),this}}function Rn(R,H,Y,q){var se=H._milliseconds,me=tc(H._days),De=tc(H._months);!R.isValid()||(q=null==q||q,De&&to(R,Yt(R,"Month")+De*Y),me&&Po(R,"Date",Yt(R,"Date")+me*Y),se&&R._d.setTime(R._d.valueOf()+se*Y),q&&D.updateOffset(R,me||De))}Tr.fn=Lo.prototype,Tr.invalid=function(){return Tr(NaN)};var Tg=ac(1,"add"),U0=ac(-1,"subtract");function _l(R,H){var Y=12*(H.year()-R.year())+(H.month()-R.month()),q=R.clone().add(Y,"months");return-(Y+(H-q<0?(H-q)/(q-R.clone().add(Y-1,"months")):(H-q)/(R.clone().add(Y+1,"months")-q)))||0}function dc(R){var H;return void 0===R?this._locale._abbr:(null!=(H=Ri(R))&&(this._locale=H),this)}D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",D.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Me=K("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(R){return void 0===R?this.localeData():this.locale(R)});function Ft(){return this._locale}function Li(R,H){$e(0,[R,R.length],0,H)}function td(R,H,Y,q,se){var me;return null==R?ee(this,q,se).year:(H>(me=ie(R,q,se))&&(H=me),Ng.call(this,R,H,Y,q,se))}function Ng(R,H,Y,q,se){var me=ju(R,H,Y,q,se),De=Gn(me.year,0,me.dayOfYear);return this.year(De.getUTCFullYear()),this.month(De.getUTCMonth()),this.date(De.getUTCDate()),this}$e(0,["gg",2],0,function(){return this.weekYear()%100}),$e(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Li("gggg","weekYear"),Li("ggggg","weekYear"),Li("GGGG","isoWeekYear"),Li("GGGGG","isoWeekYear"),Et("weekYear","gg"),Et("isoWeekYear","GG"),Qt("weekYear",1),Qt("isoWeekYear",1),Xe("G",Xs),Xe("g",Xs),Xe("GG",tn,ei),Xe("gg",tn,ei),Xe("GGGG",Qs,pa),Xe("gggg",Qs,pa),Xe("GGGGG",ft,ko),Xe("ggggg",ft,ko),Zs(["gggg","ggggg","GGGG","GGGGG"],function(R,H,Y,q){H[q.substr(0,2)]=z(R)}),Zs(["gg","GG"],function(R,H,Y,q){H[q]=D.parseTwoDigitYear(R)}),$e("Q",0,"Qo","quarter"),Et("quarter","Q"),Qt("quarter",7),Xe("Q",ca),on("Q",function(R,H){H[1]=3*(z(R)-1)}),$e("D",["DD",2],"Do","date"),Et("date","D"),Qt("date",9),Xe("D",tn),Xe("DD",tn,ei),Xe("Do",function(R,H){return R?H._dayOfMonthOrdinalParse||H._ordinalParse:H._dayOfMonthOrdinalParseLenient}),on(["D","DD"],2),on("Do",function(R,H){H[2]=z(R.match(tn)[0])});var Tl=Vn("Date",!0);$e("DDD",["DDDD",3],"DDDo","dayOfYear"),Et("dayOfYear","DDD"),Qt("dayOfYear",4),Xe("DDD",Tt),Xe("DDDD",fa),on(["DDD","DDDD"],function(R,H,Y){Y._dayOfYear=z(R)}),$e("m",["mm",2],0,"minute"),Et("minute","m"),Qt("minute",14),Xe("m",tn),Xe("mm",tn,ei),on(["m","mm"],4);var fc=Vn("Minutes",!1);$e("s",["ss",2],0,"second"),Et("second","s"),Qt("second",15),Xe("s",tn),Xe("ss",tn,ei),on(["s","ss"],5);var Ts,id=Vn("Seconds",!1);for($e("S",0,0,function(){return~~(this.millisecond()/100)}),$e(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$e(0,["SSS",3],0,"millisecond"),$e(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$e(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$e(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$e(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$e(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$e(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Et("millisecond","ms"),Qt("millisecond",16),Xe("S",Tt,ca),Xe("SS",Tt,ei),Xe("SSS",Tt,fa),Ts="SSSS";Ts.length<=9;Ts+="S")Xe(Ts,Io);function pc(R,H){H[6]=z(1e3*("0."+R))}for(Ts="S";Ts.length<=9;Ts+="S")on(Ts,pc);var xl=Vn("Milliseconds",!1);$e("z",0,0,"zoneAbbr"),$e("zz",0,0,"zoneName");var Fe=I.prototype;function yc(R){return R}Fe.add=Tg,Fe.calendar=function(R,H){var Y=R||Dn(),q=Qn(Y,this).startOf("day"),se=D.calendarFormat(this,q)||"sameElse",me=H&&(le(H[se])?H[se].call(this,Y):H[se]);return this.format(me||this.localeData().calendar(se,this,Dn(Y)))},Fe.clone=function(){return new I(this)},Fe.diff=function(R,H,Y){var q,se,De;if(!this.isValid())return NaN;if(!(q=Qn(R,this)).isValid())return NaN;switch(se=6e4*(q.utcOffset()-this.utcOffset()),H=Xt(H)){case"year":De=_l(this,q)/12;break;case"month":De=_l(this,q);break;case"quarter":De=_l(this,q)/3;break;case"second":De=(this-q)/1e3;break;case"minute":De=(this-q)/6e4;break;case"hour":De=(this-q)/36e5;break;case"day":De=(this-q-se)/864e5;break;case"week":De=(this-q-se)/6048e5;break;default:De=this-q}return Y?De:V(De)},Fe.endOf=function(R){return void 0===(R=Xt(R))||"millisecond"===R?this:("date"===R&&(R="day"),this.startOf(R).add(1,"isoWeek"===R?"week":R).subtract(1,"ms"))},Fe.format=function(R){R||(R=this.isUtc()?D.defaultFormatUtc:D.defaultFormat);var H=Mo(this,R);return this.localeData().postformat(H)},Fe.from=function(R,H){return this.isValid()&&(F(R)&&R.isValid()||Dn(R).isValid())?Tr({to:this,from:R}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()},Fe.fromNow=function(R){return this.from(Dn(),R)},Fe.to=function(R,H){return this.isValid()&&(F(R)&&R.isValid()||Dn(R).isValid())?Tr({from:this,to:R}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()},Fe.toNow=function(R){return this.to(Dn(),R)},Fe.get=function(R){return le(this[R=Xt(R)])?this[R]():this},Fe.invalidAt=function(){return d(this).overflow},Fe.isAfter=function(R,H){var Y=F(R)?R:Dn(R);return!(!this.isValid()||!Y.isValid())&&("millisecond"===(H=Xt(b(H)?"millisecond":H))?this.valueOf()>Y.valueOf():Y.valueOf()<this.clone().startOf(H).valueOf())},Fe.isBefore=function(R,H){var Y=F(R)?R:Dn(R);return!(!this.isValid()||!Y.isValid())&&("millisecond"===(H=Xt(b(H)?"millisecond":H))?this.valueOf()<Y.valueOf():this.clone().endOf(H).valueOf()<Y.valueOf())},Fe.isBetween=function(R,H,Y,q){return("("===(q=q||"()")[0]?this.isAfter(R,Y):!this.isBefore(R,Y))&&(")"===q[1]?this.isBefore(H,Y):!this.isAfter(H,Y))},Fe.isSame=function(R,H){var q,Y=F(R)?R:Dn(R);return!(!this.isValid()||!Y.isValid())&&("millisecond"===(H=Xt(H||"millisecond"))?this.valueOf()===Y.valueOf():(q=Y.valueOf(),this.clone().startOf(H).valueOf()<=q&&q<=this.clone().endOf(H).valueOf()))},Fe.isSameOrAfter=function(R,H){return this.isSame(R,H)||this.isAfter(R,H)},Fe.isSameOrBefore=function(R,H){return this.isSame(R,H)||this.isBefore(R,H)},Fe.isValid=function(){return g(this)},Fe.lang=Me,Fe.locale=dc,Fe.localeData=Ft,Fe.max=F0,Fe.min=N0,Fe.parsingFlags=function(){return T({},d(this))},Fe.set=function(R,H){if("object"==typeof R)for(var Y=function(R){var H=[];for(var Y in R)H.push({unit:Y,priority:gn[Y]});return H.sort(function(q,se){return q.priority-se.priority}),H}(R=rn(R)),q=0;q<Y.length;q++)this[Y[q].unit](R[Y[q].unit]);else if(le(this[R=Xt(R)]))return this[R](H);return this},Fe.startOf=function(R){switch(R=Xt(R)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===R&&this.weekday(0),"isoWeek"===R&&this.isoWeekday(1),"quarter"===R&&this.month(3*Math.floor(this.month()/3)),this},Fe.subtract=U0,Fe.toArray=function(){var R=this;return[R.year(),R.month(),R.date(),R.hour(),R.minute(),R.second(),R.millisecond()]},Fe.toObject=function(){var R=this;return{years:R.year(),months:R.month(),date:R.date(),hours:R.hours(),minutes:R.minutes(),seconds:R.seconds(),milliseconds:R.milliseconds()}},Fe.toDate=function(){return new Date(this.valueOf())},Fe.toISOString=function(){if(!this.isValid())return null;var R=this.clone().utc();return R.year()<0||R.year()>9999?Mo(R,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):le(Date.prototype.toISOString)?this.toDate().toISOString():Mo(R,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Fe.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var R="moment",H="";this.isLocal()||(R=0===this.utcOffset()?"moment.utc":"moment.parseZone",H="Z");var Y="["+R+'("]',q=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(Y+q+"-MM-DD[T]HH:mm:ss.SSS"+H+'[")]')},Fe.toJSON=function(){return this.isValid()?this.toISOString():null},Fe.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Fe.unix=function(){return Math.floor(this.valueOf()/1e3)},Fe.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Fe.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Fe.year=Js,Fe.isLeapYear=function(){return Gr(this.year())},Fe.weekYear=function(R){return td.call(this,R,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Fe.isoWeekYear=function(R){return td.call(this,R,this.isoWeek(),this.isoWeekday(),1,4)},Fe.quarter=Fe.quarters=function(R){return null==R?Math.ceil((this.month()+1)/3):this.month(3*(R-1)+this.month()%3)},Fe.month=Ro,Fe.daysInMonth=function(){return fn(this.year(),this.month())},Fe.week=Fe.weeks=function(R){var H=this.localeData().week(this);return null==R?H:this.add(7*(R-H),"d")},Fe.isoWeek=Fe.isoWeeks=function(R){var H=ee(this,1,4).week;return null==R?H:this.add(7*(R-H),"d")},Fe.weeksInYear=function(){var R=this.localeData()._week;return ie(this.year(),R.dow,R.doy)},Fe.isoWeeksInYear=function(){return ie(this.year(),1,4)},Fe.date=Tl,Fe.day=Fe.days=function(R){if(!this.isValid())return null!=R?this:NaN;var H=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=R?(R=function(R,H){return"string"!=typeof R?R:isNaN(R)?"number"==typeof(R=H.weekdaysParse(R))?R:null:parseInt(R,10)}(R,this.localeData()),this.add(R-H,"d")):H},Fe.weekday=function(R){if(!this.isValid())return null!=R?this:NaN;var H=(this.day()+7-this.localeData()._week.dow)%7;return null==R?H:this.add(R-H,"d")},Fe.isoWeekday=function(R){if(!this.isValid())return null!=R?this:NaN;if(null!=R){var H=function(R,H){return"string"==typeof R?H.weekdaysParse(R)%7||7:isNaN(R)?null:R}(R,this.localeData());return this.day(this.day()%7?H:H-7)}return this.day()||7},Fe.dayOfYear=function(R){var H=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==R?H:this.add(R-H,"d")},Fe.hour=Fe.hours=Ot,Fe.minute=Fe.minutes=fc,Fe.second=Fe.seconds=id,Fe.millisecond=Fe.milliseconds=xl,Fe.utcOffset=function(R,H,Y){var se,q=this._offset||0;if(!this.isValid())return null!=R?this:NaN;if(null!=R){if("string"==typeof R){if(null===(R=bl(Ye,R)))return this}else Math.abs(R)<16&&!Y&&(R*=60);return!this._isUTC&&H&&(se=Cl(this)),this._offset=R,this._isUTC=!0,null!=se&&this.add(se,"m"),q!==R&&(!H||this._changeInProgress?Rn(this,Tr(R-q,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,D.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?q:Cl(this)},Fe.utc=function(R){return this.utcOffset(0,R)},Fe.local=function(R){return this._isUTC&&(this.utcOffset(0,R),this._isUTC=!1,R&&this.subtract(Cl(this),"m")),this},Fe.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var R=bl(Gt,this._i);null!=R?this.utcOffset(R):this.utcOffset(0,!0)}return this},Fe.hasAlignedHourOffset=function(R){return!!this.isValid()&&(R=R?Dn(R).utcOffset():0,(this.utcOffset()-R)%60==0)},Fe.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Fe.isLocal=function(){return!!this.isValid()&&!this._isUTC},Fe.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Fe.isUtc=wl,Fe.isUTC=wl,Fe.zoneAbbr=function(){return this._isUTC?"UTC":""},Fe.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Fe.dates=K("dates accessor is deprecated. Use date instead.",Tl),Fe.months=K("months accessor is deprecated. Use month instead",Ro),Fe.years=K("years accessor is deprecated. Use year instead",Js),Fe.zone=K("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(R,H){return null!=R?("string"!=typeof R&&(R=-R),this.utcOffset(R,H),this):-this.utcOffset()}),Fe.isDSTShifted=K("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!b(this._isDSTShifted))return this._isDSTShifted;var R={};if(f(R,this),(R=mg(R))._a){var H=R._isUTC?a(R._a):Dn(R._a);this._isDSTShifted=this.isValid()&&U(R._a,H.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var ln=Ce.prototype;function ti(R,H,Y,q){var se=Ri(),me=a().set(q,H);return se[Y](me,R)}function Qr(R,H,Y){if(w(R)&&(H=R,R=void 0),R=R||"",null!=H)return ti(R,H,Y,"month");var q,se=[];for(q=0;q<12;q++)se[q]=ti(R,q,Y,"month");return se}function vn(R,H,Y,q){"boolean"==typeof R?(w(H)&&(Y=H,H=void 0),H=H||""):(Y=H=R,R=!1,w(H)&&(Y=H,H=void 0),H=H||"");var se=Ri(),me=R?se._week.dow:0;if(null!=Y)return ti(H,(Y+me)%7,q,"day");var De,bt=[];for(De=0;De<7;De++)bt[De]=ti(H,(De+me)%7,q,"day");return bt}ln.calendar=function(R,H,Y){var q=this._calendar[R]||this._calendar.sameElse;return le(q)?q.call(H,Y):q},ln.longDateFormat=function(R){var H=this._longDateFormat[R],Y=this._longDateFormat[R.toUpperCase()];return H||!Y?H:(this._longDateFormat[R]=Y.replace(/MMMM|MM|DD|dddd/g,function(q){return q.slice(1)}),this._longDateFormat[R])},ln.invalidDate=function(){return this._invalidDate},ln.ordinal=function(R){return this._ordinal.replace("%d",R)},ln.preparse=yc,ln.postformat=yc,ln.relativeTime=function(R,H,Y,q){var se=this._relativeTime[Y];return le(se)?se(R,H,Y,q):se.replace(/%d/i,R)},ln.pastFuture=function(R,H){var Y=this._relativeTime[R>0?"future":"past"];return le(Y)?Y(H):Y.replace(/%s/i,H)},ln.set=function(R){var H,Y;for(Y in R)le(H=R[Y])?this[Y]=H:this["_"+Y]=H;this._config=R,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ln.months=function(R,H){return R?A(this._months)?this._months[R.month()]:this._months[(this._months.isFormat||In).test(H)?"format":"standalone"][R.month()]:A(this._months)?this._months:this._months.standalone},ln.monthsShort=function(R,H){return R?A(this._monthsShort)?this._monthsShort[R.month()]:this._monthsShort[In.test(H)?"format":"standalone"][R.month()]:A(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ln.monthsParse=function(R,H,Y){var q,se,me;if(this._monthsParseExact)return fi.call(this,R,H,Y);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),q=0;q<12;q++){if(se=a([2e3,q]),Y&&!this._longMonthsParse[q]&&(this._longMonthsParse[q]=new RegExp("^"+this.months(se,"").replace(".","")+"$","i"),this._shortMonthsParse[q]=new RegExp("^"+this.monthsShort(se,"").replace(".","")+"$","i")),!Y&&!this._monthsParse[q]&&(me="^"+this.months(se,"")+"|^"+this.monthsShort(se,""),this._monthsParse[q]=new RegExp(me.replace(".",""),"i")),Y&&"MMMM"===H&&this._longMonthsParse[q].test(R))return q;if(Y&&"MMM"===H&&this._shortMonthsParse[q].test(R))return q;if(!Y&&this._monthsParse[q].test(R))return q}},ln.monthsRegex=function(R){return this._monthsParseExact?(c(this,"_monthsRegex")||pl.call(this),R?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=pi),this._monthsStrictRegex&&R?this._monthsStrictRegex:this._monthsRegex)},ln.monthsShortRegex=function(R){return this._monthsParseExact?(c(this,"_monthsRegex")||pl.call(this),R?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=no),this._monthsShortStrictRegex&&R?this._monthsShortStrictRegex:this._monthsShortRegex)},ln.week=function(R){return ee(R,this._week.dow,this._week.doy).week},ln.firstDayOfYear=function(){return this._week.doy},ln.firstDayOfWeek=function(){return this._week.dow},ln.weekdays=function(R,H){return R?A(this._weekdays)?this._weekdays[R.day()]:this._weekdays[this._weekdays.isFormat.test(H)?"format":"standalone"][R.day()]:A(this._weekdays)?this._weekdays:this._weekdays.standalone},ln.weekdaysMin=function(R){return R?this._weekdaysMin[R.day()]:this._weekdaysMin},ln.weekdaysShort=function(R){return R?this._weekdaysShort[R.day()]:this._weekdaysShort},ln.weekdaysParse=function(R,H,Y){var q,se,me;if(this._weekdaysParseExact)return ba.call(this,R,H,Y);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),q=0;q<7;q++){if(se=a([2e3,1]).day(q),Y&&!this._fullWeekdaysParse[q]&&(this._fullWeekdaysParse[q]=new RegExp("^"+this.weekdays(se,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[q]=new RegExp("^"+this.weekdaysShort(se,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[q]=new RegExp("^"+this.weekdaysMin(se,"").replace(".",".?")+"$","i")),this._weekdaysParse[q]||(me="^"+this.weekdays(se,"")+"|^"+this.weekdaysShort(se,"")+"|^"+this.weekdaysMin(se,""),this._weekdaysParse[q]=new RegExp(me.replace(".",""),"i")),Y&&"dddd"===H&&this._fullWeekdaysParse[q].test(R))return q;if(Y&&"ddd"===H&&this._shortWeekdaysParse[q].test(R))return q;if(Y&&"dd"===H&&this._minWeekdaysParse[q].test(R))return q;if(!Y&&this._weekdaysParse[q].test(R))return q}},ln.weekdaysRegex=function(R){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||gi.call(this),R?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Xh),this._weekdaysStrictRegex&&R?this._weekdaysStrictRegex:this._weekdaysRegex)},ln.weekdaysShortRegex=function(R){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||gi.call(this),R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_i),this._weekdaysShortStrictRegex&&R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ln.weekdaysMinRegex=function(R){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||gi.call(this),R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jh),this._weekdaysMinStrictRegex&&R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ln.isPM=function(R){return"p"===(R+"").toLowerCase().charAt(0)},ln.meridiem=function(R,H,Y){return R>11?Y?"pm":"PM":Y?"am":"AM"},hr("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(R){var H=R%10;return R+(1===z(R%100/10)?"th":1===H?"st":2===H?"nd":3===H?"rd":"th")}}),D.lang=K("moment.lang is deprecated. Use moment.locale instead.",hr),D.langData=K("moment.langData is deprecated. Use moment.localeData instead.",Ri);var Xr=Math.abs;function Ta(R,H,Y,q){var se=Tr(H,Y);return R._milliseconds+=q*se._milliseconds,R._days+=q*se._days,R._months+=q*se._months,R._bubble()}function sd(R){return R<0?Math.floor(R):Math.ceil(R)}function Zr(R){return 4800*R/146097}function oo(R){return 146097*R/4800}function Ji(R){return function(){return this.as(R)}}var od=Ji("ms"),$g=Ji("s"),Gg=Ji("m"),$0=Ji("h"),G0=Ji("d"),Il=Ji("w"),bc=Ji("M"),ad=Ji("y");function xs(R){return function(){return this.isValid()?this._data[R]:NaN}}var Ho=xs("milliseconds"),Yg=xs("seconds"),zo=xs("minutes"),ld=xs("hours"),Pl=xs("days"),Y0=xs("months"),wc=xs("years");var Ms=Math.round,Mr={ss:44,s:45,m:45,h:22,d:26,M:11};function xa(R,H,Y,q,se){return se.relativeTime(H||1,!!Y,R,q)}var hd=Math.abs;function ao(R){return(R>0)-(R<0)||+R}function Ma(){if(!this.isValid())return this.localeData().invalidDate();var q,se,R=hd(this._milliseconds)/1e3,H=hd(this._days),Y=hd(this._months);q=V(R/60),se=V(q/60),R%=60,q%=60;var De=V(Y/12),bt=Y%=12,kt=H,$t=se,Di=q,Jr=R?R.toFixed(3).replace(/\.?0+$/,""):"",Or=this.asSeconds();if(!Or)return"P0D";var Uo=Or<0?"-":"",lo=ao(this._months)!==ao(Or)?"-":"",Oa=ao(this._days)!==ao(Or)?"-":"",ka=ao(this._milliseconds)!==ao(Or)?"-":"";return Uo+"P"+(De?lo+De+"Y":"")+(bt?lo+bt+"M":"")+(kt?Oa+kt+"D":"")+($t||Di||Jr?"T":"")+($t?ka+$t+"H":"")+(Di?ka+Di+"M":"")+(Jr?ka+Jr+"S":"")}var Bt=Lo.prototype;return Bt.isValid=function(){return this._isValid},Bt.abs=function(){var R=this._data;return this._milliseconds=Xr(this._milliseconds),this._days=Xr(this._days),this._months=Xr(this._months),R.milliseconds=Xr(R.milliseconds),R.seconds=Xr(R.seconds),R.minutes=Xr(R.minutes),R.hours=Xr(R.hours),R.months=Xr(R.months),R.years=Xr(R.years),this},Bt.add=function(R,H){return Ta(this,R,H,1)},Bt.subtract=function(R,H){return Ta(this,R,H,-1)},Bt.as=function(R){if(!this.isValid())return NaN;var H,Y,q=this._milliseconds;if("month"===(R=Xt(R))||"year"===R)return Y=this._months+Zr(H=this._days+q/864e5),"month"===R?Y:Y/12;switch(H=this._days+Math.round(oo(this._months)),R){case"week":return H/7+q/6048e5;case"day":return H+q/864e5;case"hour":return 24*H+q/36e5;case"minute":return 1440*H+q/6e4;case"second":return 86400*H+q/1e3;case"millisecond":return Math.floor(864e5*H)+q;default:throw new Error("Unknown unit "+R)}},Bt.asMilliseconds=od,Bt.asSeconds=$g,Bt.asMinutes=Gg,Bt.asHours=$0,Bt.asDays=G0,Bt.asWeeks=Il,Bt.asMonths=bc,Bt.asYears=ad,Bt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},Bt._bubble=function(){var se,me,De,bt,kt,R=this._milliseconds,H=this._days,Y=this._months,q=this._data;return R>=0&&H>=0&&Y>=0||R<=0&&H<=0&&Y<=0||(R+=864e5*sd(oo(Y)+H),H=0,Y=0),q.milliseconds=R%1e3,se=V(R/1e3),q.seconds=se%60,me=V(se/60),q.minutes=me%60,De=V(me/60),q.hours=De%24,H+=V(De/24),Y+=kt=V(Zr(H)),H-=sd(oo(kt)),bt=V(Y/12),Y%=12,q.days=H,q.months=Y,q.years=bt,this},Bt.clone=function(){return Tr(this)},Bt.get=function(R){return R=Xt(R),this.isValid()?this[R+"s"]():NaN},Bt.milliseconds=Ho,Bt.seconds=Yg,Bt.minutes=zo,Bt.hours=ld,Bt.days=Pl,Bt.weeks=function(){return V(this.days()/7)},Bt.months=Y0,Bt.years=wc,Bt.humanize=function(R){if(!this.isValid())return this.localeData().invalidDate();var H=this.localeData(),Y=function(R,H,Y){var q=Tr(R).abs(),se=Ms(q.as("s")),me=Ms(q.as("m")),De=Ms(q.as("h")),bt=Ms(q.as("d")),kt=Ms(q.as("M")),$t=Ms(q.as("y")),Di=se<=Mr.ss&&["s",se]||se<Mr.s&&["ss",se]||me<=1&&["m"]||me<Mr.m&&["mm",me]||De<=1&&["h"]||De<Mr.h&&["hh",De]||bt<=1&&["d"]||bt<Mr.d&&["dd",bt]||kt<=1&&["M"]||kt<Mr.M&&["MM",kt]||$t<=1&&["y"]||["yy",$t];return Di[2]=H,Di[3]=+R>0,Di[4]=Y,xa.apply(null,Di)}(this,!R,H);return R&&(Y=H.pastFuture(+this,Y)),H.postformat(Y)},Bt.toISOString=Ma,Bt.toString=Ma,Bt.toJSON=Ma,Bt.locale=dc,Bt.localeData=Ft,Bt.toIsoString=K("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ma),Bt.lang=Me,$e("X",0,0,"unix"),$e("x",0,0,"valueOf"),Xe("x",Xs),Xe("X",/[+-]?\d+(\.\d{1,3})?/),on("X",function(R,H,Y){Y._d=new Date(1e3*parseFloat(R,10))}),on("x",function(R,H,Y){Y._d=new Date(z(R))}),D.version="2.19.1",S=Dn,D.fn=Fe,D.min=function(){return yg("isBefore",[].slice.call(arguments,0))},D.max=function(){return yg("isAfter",[].slice.call(arguments,0))},D.now=function(){return Date.now?Date.now():+new Date},D.utc=a,D.unix=function(R){return Dn(1e3*R)},D.months=function(R,H){return Qr(R,H,"months")},D.isDate=v,D.locale=hr,D.invalid=M,D.duration=Tr,D.isMoment=F,D.weekdays=function(R,H,Y){return vn(R,H,Y,"weekdays")},D.parseZone=function(){return Dn.apply(null,arguments).parseZone()},D.localeData=Ri,D.isDuration=ec,D.monthsShort=function(R,H){return Qr(R,H,"monthsShort")},D.weekdaysMin=function(R,H,Y){return vn(R,H,Y,"weekdaysMin")},D.defineLocale=mt,D.updateLocale=function(R,H){if(null!=H){var Y,q=pn;null!=Ut[R]&&(q=Ut[R]._config),(Y=new Ce(H=Ee(q,H))).parentLocale=Ut[R],Ut[R]=Y,hr(R)}else null!=Ut[R]&&(null!=Ut[R].parentLocale?Ut[R]=Ut[R].parentLocale:null!=Ut[R]&&delete Ut[R]);return Ut[R]},D.locales=function(){return _e(Ut)},D.weekdaysShort=function(R,H,Y){return vn(R,H,Y,"weekdaysShort")},D.normalizeUnits=Xt,D.relativeTimeRounding=function(R){return void 0===R?Ms:"function"==typeof R&&(Ms=R,!0)},D.relativeTimeThreshold=function(R,H){return void 0!==Mr[R]&&(void 0===H?Mr[R]:(Mr[R]=H,"s"===R&&(Mr.ss=H-1),!0))},D.calendarFormat=function(R,H){var Y=R.diff(H,"days",!0);return Y<-6?"sameElse":Y<-1?"lastWeek":Y<0?"lastDay":Y<1?"sameDay":Y<2?"nextDay":Y<7?"nextWeek":"sameElse"},D.prototype=Fe,D}()}).call(L,_(155)(Q))},function(Q,L){Q.exports=function(_){return _.webpackPolyfill||(_.deprecate=function(){},_.paths=[],_.children||(_.children=[]),Object.defineProperty(_,"loaded",{enumerable:!0,get:function(){return _.l}}),Object.defineProperty(_,"id",{enumerable:!0,get:function(){return _.i}}),_.webpackPolyfill=1),_}},function(Q,L){function _(P){throw new Error("Cannot find module '"+P+"'.")}_.keys=function(){return[]},_.resolve=_,Q.exports=_,_.id=156},function(Q,L,_){(function(P){var y,S="undefined"!=typeof window?window:void 0!==P?P:null;if(S&&S.crypto&&crypto.getRandomValues){var D=new Uint8Array(16);y=function(){return crypto.getRandomValues(D),D}}if(!y){var O=new Array(16);y=function(){for(var h,M=0;M<16;M++)0==(3&M)&&(h=4294967296*Math.random()),O[M]=h>>>((3&M)<<3)&255;return O}}for(var A=[],x={},k=0;k<256;k++)A[k]=(k+256).toString(16).substr(1),x[A[k]]=k;function w(g,M){var h=M||0;return A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]}var v=y(),m=[1|v[0],v[1],v[2],v[3],v[4],v[5]],c=16383&(v[6]<<8|v[7]),T=0,a=0;function d(g,M,h){var f=M&&h||0;"string"==typeof g&&(M="binary"==g?new Array(16):null,g=null);var E=(g=g||{}).random||(g.rng||y)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,M)for(var I=0;I<16;I++)M[f+I]=E[I];return M||w(E)}var u=d;u.v1=function(g,M,h){var f=M&&h||0,E=M||[],I=void 0!==(g=g||{}).clockseq?g.clockseq:c,F=void 0!==g.msecs?g.msecs:(new Date).getTime(),V=void 0!==g.nsecs?g.nsecs:a+1,z=F-T+(V-a)/1e4;if(z<0&&void 0===g.clockseq&&(I=I+1&16383),(z<0||F>T)&&void 0===g.nsecs&&(V=0),V>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");T=F,a=V,c=I;var U=(1e4*(268435455&(F+=122192928e5))+V)%4294967296;E[f++]=U>>>24&255,E[f++]=U>>>16&255,E[f++]=U>>>8&255,E[f++]=255&U;var j=F/4294967296*1e4&268435455;E[f++]=j>>>8&255,E[f++]=255&j,E[f++]=j>>>24&15|16,E[f++]=j>>>16&255,E[f++]=I>>>8|128,E[f++]=255&I;for(var K=g.node||m,te=0;te<6;te++)E[f+te]=K[te];return M||w(E)},u.v4=d,u.parse=function(g,M,h){var f=M&&h||0,E=0;for(M=M||[],g.toLowerCase().replace(/[0-9a-f]{2}/g,function(I){E<16&&(M[f+E++]=x[I])});E<16;)M[f+E++]=0;return M},u.unparse=w,Q.exports=u}).call(L,_(158))},function(Q,L){var _;_=function(){return this}();try{_=_||Function("return this")()||(0,eval)("this")}catch(P){"object"==typeof window&&(_=window)}Q.exports=_},function(Q,L,_){L.util=_(2),L.DOMutil=_(14),L.DataSet=_(11),L.DataView=_(12),L.Queue=_(43),L.Graph3d=_(161),L.graph3d={Camera:_(95),Filter:_(96),Point2d:_(91),Point3d:_(34),Slider:_(92),StepNumber:_(93)},L.moment=_(9),L.Hammer=_(10),L.keycharm=_(35)},function(Q,L,_){var P=_(7),y=P.JSON||(P.JSON={stringify:JSON.stringify});Q.exports=function(D){return y.stringify.apply(y,arguments)}},function(Q,L,_){var h,y=(h=_(90))&&h.__esModule?h:{default:h};var D=_(44),O=_(2),A=_(34),x=_(91),k=_(92),b=_(93),w=_(94),v=_(15).default,c=_(15).printStyle,a=_(172).allOptions,p=_(173),d=void 0;function u(h,f,E){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=h,this.dataGroup=new p,this.dataPoints=null,this.create(),w.setDefaults(u.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(E),this.setData(f)}function g(h){return"clientX"in h?h.clientX:h.targetTouches[0]&&h.targetTouches[0].clientX||0}function M(h){return"clientY"in h?h.clientY:h.targetTouches[0]&&h.targetTouches[0].clientY||0}u.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(f){return f},yValueLabel:function(f){return f},zValueLabel:function(f){return f},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:d,animationInterval:1e3,animationPreload:!1,animationAutoStart:d,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(u.STYLE=w.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:d,backgroundColor:d,xBarWidth:d,yBarWidth:d,valueMin:d,valueMax:d,xMin:d,xMax:d,xStep:d,yMin:d,yMax:d,yStep:d,zMin:d,zMax:d,zStep:d},D(u.prototype),u.prototype._setScale=function(){this.scale=new A(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var h=this.xRange.center()*this.scale.x,f=this.yRange.center()*this.scale.y,E=this.zRange.center()*this.scale.z;this.camera.setArmLocation(h,f,E)},u.prototype._convert3Dto2D=function(h){var f=this._convertPointToTranslation(h);return this._convertTranslationToScreen(f)},u.prototype._convertPointToTranslation=function(h){var f=this.camera.getCameraLocation(),E=this.camera.getCameraRotation(),I=h.x*this.scale.x,F=h.y*this.scale.y,V=h.z*this.scale.z,z=f.x,U=f.y,j=f.z,K=Math.sin(E.x),te=Math.cos(E.x),oe=Math.sin(E.y),le=Math.cos(E.y),pe=Math.sin(E.z),Ee=Math.cos(E.z);return new A(le*(pe*(F-U)+Ee*(I-z))-oe*(V-j),K*(le*(V-j)+oe*(pe*(F-U)+Ee*(I-z)))+te*(Ee*(F-U)-pe*(I-z)),te*(le*(V-j)+oe*(pe*(F-U)+Ee*(I-z)))-K*(Ee*(F-U)-pe*(I-z)))},u.prototype._convertTranslationToScreen=function(h){var U,j,I=this.eye.z,F=h.x,V=h.y,z=h.z;return this.showPerspective?(U=I/z*(F-this.eye.x),j=I/z*(V-this.eye.y)):(U=F*(-I/this.camera.getArmLength()),j=V*(-I/this.camera.getArmLength())),new x(this.currentXCenter+U*this.frame.canvas.clientWidth,this.currentYCenter-j*this.frame.canvas.clientWidth)},u.prototype._calcTranslations=function(h){for(var f=0;f<h.length;f++){var E=h[f];E.trans=this._convertPointToTranslation(E.point),E.screen=this._convertTranslationToScreen(E.trans);var I=this._convertPointToTranslation(E.bottom);E.dist=this.showPerspective?I.length():-I.z}h.sort(function(z,U){return U.dist-z.dist})},u.prototype._initializeRanges=function(){var h=this.dataGroup;this.xRange=h.xRange,this.yRange=h.yRange,this.zRange=h.zRange,this.valueRange=h.valueRange,this.xStep=h.xStep,this.yStep=h.yStep,this.zStep=h.zStep,this.xBarWidth=h.xBarWidth,this.yBarWidth=h.yBarWidth,this.colX=h.colX,this.colY=h.colY,this.colZ=h.colZ,this.colValue=h.colValue,this._setScale()},u.prototype.getDataPoints=function(h){for(var f=[],E=0;E<h.length;E++){var I=new A;I.x=h[E][this.colX]||0,I.y=h[E][this.colY]||0,I.z=h[E][this.colZ]||0,I.data=h[E],void 0!==this.colValue&&(I.value=h[E][this.colValue]||0);var F={};F.point=I,F.bottom=new A(I.x,I.y,this.zRange.min),F.trans=void 0,F.screen=void 0,f.push(F)}return f},u.prototype._getDataPoints=function(h){var f,E,I,F,V=[];if(this.style===u.STYLE.GRID||this.style===u.STYLE.SURFACE){var z=this.dataGroup.getDistinctValues(this.colX,h),U=this.dataGroup.getDistinctValues(this.colY,h);V=this.getDataPoints(h);var j=[];for(I=0;I<V.length;I++){var K=z.indexOf((F=V[I]).point.x),te=U.indexOf(F.point.y);void 0===j[K]&&(j[K]=[]),j[K][te]=F}for(f=0;f<j.length;f++)for(E=0;E<j[f].length;E++)j[f][E]&&(j[f][E].pointRight=f<j.length-1?j[f+1][E]:void 0,j[f][E].pointTop=E<j[f].length-1?j[f][E+1]:void 0,j[f][E].pointCross=f<j.length-1&&E<j[f].length-1?j[f+1][E+1]:void 0)}else if(this._checkValueField(h),V=this.getDataPoints(h),this.style===u.STYLE.LINE)for(I=0;I<V.length;I++)I>0&&(V[I-1].pointNext=V[I]);return V},u.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var h=document.createElement("DIV");h.style.color="red",h.style.fontWeight="bold",h.style.padding="10px",h.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(h),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var f=this;O.addEventListener(this.frame.canvas,"mousedown",function(j){f._onMouseDown(j)}),O.addEventListener(this.frame.canvas,"touchstart",function(j){f._onTouchStart(j)}),O.addEventListener(this.frame.canvas,"mousewheel",function(j){f._onWheel(j)}),O.addEventListener(this.frame.canvas,"mousemove",function(j){f._onTooltip(j)}),O.addEventListener(this.frame.canvas,"click",function(j){f._onClick(j)}),this.containerElement.appendChild(this.frame)},u.prototype._setSize=function(h,f){this.frame.style.width=h,this.frame.style.height=f,this._resizeCanvas()},u.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},u.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},u.prototype.animationStop=function(){!this.frame.filter||!this.frame.filter.slider||this.frame.filter.slider.stop()},u.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},u.prototype.getCameraPosition=function(){var h=this.camera.getArmRotation();return h.distance=this.camera.getArmLength(),h},u.prototype._readData=function(h){this.dataPoints=this.dataGroup.initializeData(this,h,this.style),this._initializeRanges(),this._redrawFilter()},u.prototype.setData=function(h){null!=h&&(this._readData(h),this.redraw(),this.animationStart())},u.prototype.setOptions=function(h){void 0!==h&&(!0===v.validate(h,a)&&console.log("%cErrors have been found in the supplied options object.",c),this.animationStop(),w.setOptions(h,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},u.prototype.setPointDrawingMethod=function(){var h=void 0;switch(this.style){case u.STYLE.BAR:h=u.prototype._redrawBarGraphPoint;break;case u.STYLE.BARCOLOR:h=u.prototype._redrawBarColorGraphPoint;break;case u.STYLE.BARSIZE:h=u.prototype._redrawBarSizeGraphPoint;break;case u.STYLE.DOT:h=u.prototype._redrawDotGraphPoint;break;case u.STYLE.DOTLINE:h=u.prototype._redrawDotLineGraphPoint;break;case u.STYLE.DOTCOLOR:h=u.prototype._redrawDotColorGraphPoint;break;case u.STYLE.DOTSIZE:h=u.prototype._redrawDotSizeGraphPoint;break;case u.STYLE.SURFACE:h=u.prototype._redrawSurfaceGraphPoint;break;case u.STYLE.GRID:h=u.prototype._redrawGridGraphPoint;break;case u.STYLE.LINE:h=u.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=h},u.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},u.prototype._getContext=function(){var f=this.frame.canvas.getContext("2d");return f.lineJoin="round",f.lineCap="round",f},u.prototype._redrawClear=function(){var h=this.frame.canvas;h.getContext("2d").clearRect(0,0,h.width,h.height)},u.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},u.prototype._getLegendWidth=function(){return this.style===u.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===u.STYLE.BARSIZE?this.xBarWidth:20},u.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==u.STYLE.LINE&&this.style!==u.STYLE.BARSIZE){var h=this.style===u.STYLE.BARSIZE||this.style===u.STYLE.DOTSIZE,f=this.style===u.STYLE.DOTSIZE||this.style===u.STYLE.DOTCOLOR||this.style===u.STYLE.BARCOLOR,E=Math.max(.25*this.frame.clientHeight,100),I=this.margin,F=this._getLegendWidth(),V=this.frame.clientWidth-this.margin,z=V-F,U=I+E,j=this._getContext();if(j.lineWidth=1,j.font="14px arial",!1===h){var oe,te=E;for(oe=0;oe<te;oe++){var Ee=this._hsv2rgb((oe-0)/(te-0)*240,1,1);j.strokeStyle=Ee,j.beginPath(),j.moveTo(z,I+oe),j.lineTo(V,I+oe),j.stroke()}j.strokeStyle=this.axisColor,j.strokeRect(z,I,F,E)}else{var Ce;this.style===u.STYLE.DOTSIZE&&(Ce=F*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),j.strokeStyle=this.axisColor,j.fillStyle=this.dataColor.fill,j.beginPath(),j.moveTo(z,I),j.lineTo(V,I),j.lineTo(z+Ce,U),j.lineTo(z,U),j.closePath(),j.fill(),j.stroke()}var be,Oe,ge=f?this.valueRange.min:this.zRange.min,ue=f?this.valueRange.max:this.zRange.max,he=new b(ge,ue,(ue-ge)/5,!0);for(he.start(!0);!he.end();)oe=U-(he.getCurrent()-ge)/(ue-ge)*E,be=new x(z-5,oe),Oe=new x(z,oe),this._line(j,be,Oe),j.textAlign="right",j.textBaseline="middle",j.fillStyle=this.axisColor,j.fillText(he.getCurrent(),z-10,oe),he.next();j.textAlign="right",j.textBaseline="top",j.fillText(this.legendLabel,V,U+this.margin)}},u.prototype._redrawFilter=function(){var h=this.dataGroup.dataFilter,f=this.frame.filter;if(f.innerHTML="",h){var I=new k(f,{visible:this.showAnimationControls});f.slider=I,f.style.padding="10px",I.setValues(h.values),I.setPlayInterval(this.animationInterval);var F=this;I.setOnChangeCallback(function(){var U=F.dataGroup.dataFilter,j=I.getIndex();U.selectValue(j),F.dataPoints=U._getDataPoints(),F.redraw()})}else f.slider=void 0},u.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},u.prototype._redrawInfo=function(){var h=this.dataGroup.getInfo();if(void 0!==h){var f=this._getContext();f.font="14px arial",f.lineStyle="gray",f.fillStyle="gray",f.textAlign="left",f.textBaseline="top",f.fillText(h,this.margin,this.margin)}},u.prototype._line=function(h,f,E,I){void 0!==I&&(h.strokeStyle=I),h.beginPath(),h.moveTo(f.x,f.y),h.lineTo(E.x,E.y),h.stroke()},u.prototype.drawAxisLabelX=function(h,f,E,I,F){void 0===F&&(F=0);var V=this._convert3Dto2D(f);Math.cos(2*I)>0?(h.textAlign="center",h.textBaseline="top",V.y+=F):Math.sin(2*I)<0?(h.textAlign="right",h.textBaseline="middle"):(h.textAlign="left",h.textBaseline="middle"),h.fillStyle=this.axisColor,h.fillText(E,V.x,V.y)},u.prototype.drawAxisLabelY=function(h,f,E,I,F){void 0===F&&(F=0);var V=this._convert3Dto2D(f);Math.cos(2*I)<0?(h.textAlign="center",h.textBaseline="top",V.y+=F):Math.sin(2*I)>0?(h.textAlign="right",h.textBaseline="middle"):(h.textAlign="left",h.textBaseline="middle"),h.fillStyle=this.axisColor,h.fillText(E,V.x,V.y)},u.prototype.drawAxisLabelZ=function(h,f,E,I){void 0===I&&(I=0);var F=this._convert3Dto2D(f);h.textAlign="right",h.textBaseline="middle",h.fillStyle=this.axisColor,h.fillText(E,F.x-I,F.y)},u.prototype._line3d=function(h,f,E,I){var F=this._convert3Dto2D(f),V=this._convert3Dto2D(E);this._line(h,F,V,I)},u.prototype._redrawAxis=function(){var f,E,I,V,z,U,te,oe,h=this._getContext();h.font=24/this.camera.getArmLength()+"px arial";var be,at,Et,le=.025/this.scale.x,pe=.025/this.scale.y,Ee=5/this.camera.getArmLength(),Ce=this.camera.getArmRotation().horizontal,_e=new x(Math.cos(Ce),Math.sin(Ce)),ge=this.xRange,ue=this.yRange,he=this.zRange;for(h.lineWidth=1,(I=new b(ge.min,ge.max,this.xStep,void 0===this.defaultXStep)).start(!0);!I.end();){var Oe=I.getCurrent();if(this.showGrid?(f=new A(Oe,ue.min,he.min),E=new A(Oe,ue.max,he.min),this._line3d(h,f,E,this.gridColor)):this.showXAxis&&(f=new A(Oe,ue.min,he.min),E=new A(Oe,ue.min+le,he.min),this._line3d(h,f,E,this.axisColor),f=new A(Oe,ue.max,he.min),E=new A(Oe,ue.max-le,he.min),this._line3d(h,f,E,this.axisColor)),this.showXAxis){be=new A(Oe,U=_e.x>0?ue.min:ue.max,he.min);var Ie="  "+this.xValueLabel(Oe)+"  ";this.drawAxisLabelX(h,be,Ie,Ce,Ee)}I.next()}for(h.lineWidth=1,(I=new b(ue.min,ue.max,this.yStep,void 0===this.defaultYStep)).start(!0);!I.end();){var xe=I.getCurrent();if(this.showGrid?(f=new A(ge.min,xe,he.min),E=new A(ge.max,xe,he.min),this._line3d(h,f,E,this.gridColor)):this.showYAxis&&(f=new A(ge.min,xe,he.min),E=new A(ge.min+pe,xe,he.min),this._line3d(h,f,E,this.axisColor),f=new A(ge.max,xe,he.min),E=new A(ge.max-pe,xe,he.min),this._line3d(h,f,E,this.axisColor)),this.showYAxis){be=new A(z=_e.y>0?ge.min:ge.max,xe,he.min);var Be="  "+this.yValueLabel(xe)+"  ";this.drawAxisLabelY(h,be,Be,Ce,Ee)}I.next()}if(this.showZAxis){for(h.lineWidth=1,(I=new b(he.min,he.max,this.zStep,void 0===this.defaultZStep)).start(!0),z=_e.x>0?ge.min:ge.max,U=_e.y<0?ue.min:ue.max;!I.end();){var ze=I.getCurrent(),it=new A(z,U,ze),en=this._convert3Dto2D(it);E=new x(en.x-Ee,en.y),this._line(h,en,E,this.axisColor);var hn=this.zValueLabel(ze)+" ";this.drawAxisLabelZ(h,it,hn,5),I.next()}h.lineWidth=1,f=new A(z,U,he.min),E=new A(z,U,he.max),this._line3d(h,f,E,this.axisColor)}this.showXAxis&&(h.lineWidth=1,at=new A(ge.min,ue.min,he.min),Et=new A(ge.max,ue.min,he.min),this._line3d(h,at,Et,this.axisColor),at=new A(ge.min,ue.max,he.min),Et=new A(ge.max,ue.max,he.min),this._line3d(h,at,Et,this.axisColor)),this.showYAxis&&(h.lineWidth=1,f=new A(ge.min,ue.min,he.min),E=new A(ge.min,ue.max,he.min),this._line3d(h,f,E,this.axisColor),f=new A(ge.max,ue.min,he.min),E=new A(ge.max,ue.max,he.min),this._line3d(h,f,E,this.axisColor));var Xt=this.xLabel;Xt.length>0&&this.showXAxis&&(oe=.1/this.scale.y,V=new A(z=(ge.max+3*ge.min)/4,U=_e.x>0?ue.min-oe:ue.max+oe,he.min),this.drawAxisLabelX(h,V,Xt,Ce));var rn=this.yLabel;rn.length>0&&this.showYAxis&&(te=.1/this.scale.x,V=new A(z=_e.y>0?ge.min-te:ge.max+te,U=(ue.max+3*ue.min)/4,he.min),this.drawAxisLabelY(h,V,rn,Ce));var gn=this.zLabel;gn.length>0&&this.showZAxis&&(30,V=new A(z=_e.x>0?ge.min:ge.max,U=_e.y<0?ue.min:ue.max,(he.max+3*he.min)/4),this.drawAxisLabelZ(h,V,gn,30))},u.prototype._hsv2rgb=function(h,f,E){var I,F,V,z,U,j;switch(z=E*f,U=Math.floor(h/60),j=z*(1-Math.abs(h/60%2-1)),U){case 0:I=z,F=j,V=0;break;case 1:I=j,F=z,V=0;break;case 2:I=0,F=z,V=j;break;case 3:I=0,F=j,V=z;break;case 4:I=j,F=0,V=z;break;case 5:I=z,F=0,V=j;break;default:I=0,F=0,V=0}return"RGB("+parseInt(255*I)+","+parseInt(255*F)+","+parseInt(255*V)+")"},u.prototype._getStrokeWidth=function(h){return void 0!==h?this.showPerspective?1/-h.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},u.prototype._redrawBar=function(h,f,E,I,F,V){var z,U=this,j=f.point,K=this.zRange.min,te=[{point:new A(j.x-E,j.y-I,j.z)},{point:new A(j.x+E,j.y-I,j.z)},{point:new A(j.x+E,j.y+I,j.z)},{point:new A(j.x-E,j.y+I,j.z)}],oe=[{point:new A(j.x-E,j.y-I,K)},{point:new A(j.x+E,j.y-I,K)},{point:new A(j.x+E,j.y+I,K)},{point:new A(j.x-E,j.y+I,K)}];te.forEach(function(_e){_e.screen=U._convert3Dto2D(_e.point)}),oe.forEach(function(_e){_e.screen=U._convert3Dto2D(_e.point)});var le=[{corners:te,center:A.avg(oe[0].point,oe[2].point)},{corners:[te[0],te[1],oe[1],oe[0]],center:A.avg(oe[1].point,oe[0].point)},{corners:[te[1],te[2],oe[2],oe[1]],center:A.avg(oe[2].point,oe[1].point)},{corners:[te[2],te[3],oe[3],oe[2]],center:A.avg(oe[3].point,oe[2].point)},{corners:[te[3],te[0],oe[0],oe[3]],center:A.avg(oe[0].point,oe[3].point)}];f.surfaces=le;for(var pe=0;pe<le.length;pe++){var Ee=this._convertPointToTranslation((z=le[pe]).center);z.dist=this.showPerspective?Ee.length():-Ee.z}le.sort(function(_e,ge){return ge.dist-_e.dist||(_e.corners===te?1:ge.corners===te?-1:0)}),h.lineWidth=this._getStrokeWidth(f),h.strokeStyle=V,h.fillStyle=F;for(var Ce=2;Ce<le.length;Ce++)this._polygon(h,(z=le[Ce]).corners)},u.prototype._polygon=function(h,f,E,I){if(!(f.length<2)){void 0!==E&&(h.fillStyle=E),void 0!==I&&(h.strokeStyle=I),h.beginPath(),h.moveTo(f[0].screen.x,f[0].screen.y);for(var F=1;F<f.length;++F){var V=f[F];h.lineTo(V.screen.x,V.screen.y)}h.closePath(),h.fill(),h.stroke()}},u.prototype._drawCircle=function(h,f,E,I,F){var V=this._calcRadius(f,F);h.lineWidth=this._getStrokeWidth(f),h.strokeStyle=I,h.fillStyle=E,h.beginPath(),h.arc(f.screen.x,f.screen.y,V,0,2*Math.PI,!0),h.fill(),h.stroke()},u.prototype._getColorsRegular=function(h){var f=240*(1-(h.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(f,1,1),border:this._hsv2rgb(f,1,.8)}},u.prototype._getColorsColor=function(h){var f,E;if("string"==typeof h.point.value)f=h.point.value,E=h.point.value;else{var I=240*(1-(h.point.value-this.valueRange.min)*this.scale.value);f=this._hsv2rgb(I,1,1),E=this._hsv2rgb(I,1,.8)}return{fill:f,border:E}},u.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},u.prototype._calcRadius=function(h,f){var E;return void 0===f&&(f=this._dotSize()),(E=this.showPerspective?f/-h.trans.z:f*(-this.eye.z/this.camera.getArmLength()))<0&&(E=0),E},u.prototype._redrawBarGraphPoint=function(h,f){var E=this.xBarWidth/2,I=this.yBarWidth/2,F=this._getColorsRegular(f);this._redrawBar(h,f,E,I,F.fill,F.border)},u.prototype._redrawBarColorGraphPoint=function(h,f){var E=this.xBarWidth/2,I=this.yBarWidth/2,F=this._getColorsColor(f);this._redrawBar(h,f,E,I,F.fill,F.border)},u.prototype._redrawBarSizeGraphPoint=function(h,f){var E=(f.point.value-this.valueRange.min)/this.valueRange.range(),I=this.xBarWidth/2*(.8*E+.2),F=this.yBarWidth/2*(.8*E+.2),V=this._getColorsSize();this._redrawBar(h,f,I,F,V.fill,V.border)},u.prototype._redrawDotGraphPoint=function(h,f){var E=this._getColorsRegular(f);this._drawCircle(h,f,E.fill,E.border)},u.prototype._redrawDotLineGraphPoint=function(h,f){var E=this._convert3Dto2D(f.bottom);h.lineWidth=1,this._line(h,E,f.screen,this.gridColor),this._redrawDotGraphPoint(h,f)},u.prototype._redrawDotColorGraphPoint=function(h,f){var E=this._getColorsColor(f);this._drawCircle(h,f,E.fill,E.border)},u.prototype._redrawDotSizeGraphPoint=function(h,f){var E=this._dotSize(),I=(f.point.value-this.valueRange.min)/this.valueRange.range(),F=E*this.dotSizeMinFraction,z=F+(E*this.dotSizeMaxFraction-F)*I,U=this._getColorsSize();this._drawCircle(h,f,U.fill,U.border,z)},u.prototype._redrawSurfaceGraphPoint=function(h,f){var E=f.pointRight,I=f.pointTop,F=f.pointCross;if(void 0!==f&&void 0!==E&&void 0!==I&&void 0!==F){var z,U,V=!0;if(this.showGrayBottom||this.showShadow){var j=A.subtract(F.trans,f.trans),K=A.subtract(I.trans,E.trans),te=A.crossProduct(j,K),oe=te.length();V=te.z>0}if(V){var Ce,pe=240*(1-((f.point.z+E.point.z+I.point.z+F.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(Ce=Math.min(1+te.x/oe/2,1),U=z=this._hsv2rgb(pe,1,Ce)):(z=this._hsv2rgb(pe,1,Ce=1),U=this.axisColor)}else z="gray",U=this.axisColor;h.lineWidth=this._getStrokeWidth(f),this._polygon(h,[f,E,F,I],z,U)}},u.prototype._drawGridLine=function(h,f,E){if(void 0!==f&&void 0!==E){var F=240*(1-((f.point.z+E.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);h.lineWidth=2*this._getStrokeWidth(f),h.strokeStyle=this._hsv2rgb(F,1,1),this._line(h,f.screen,E.screen)}},u.prototype._redrawGridGraphPoint=function(h,f){this._drawGridLine(h,f,f.pointRight),this._drawGridLine(h,f,f.pointTop)},u.prototype._redrawLineGraphPoint=function(h,f){void 0!==f.pointNext&&(h.lineWidth=this._getStrokeWidth(f),h.strokeStyle=this.dataColor.stroke,this._line(h,f.screen,f.pointNext.screen))},u.prototype._redrawDataGraph=function(){var f,h=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),f=0;f<this.dataPoints.length;f++)this._pointDrawingMethod.call(this,h,this.dataPoints[f])},u.prototype._storeMousePosition=function(h){this.startMouseX=g(h),this.startMouseY=M(h),this._startCameraOffset=this.camera.getOffset()},u.prototype._onMouseDown=function(h){if(h=h||window.event,this.leftButtonDown&&this._onMouseUp(h),this.leftButtonDown=h.which?1===h.which:1===h.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(h),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var f=this;this.onmousemove=function(E){f._onMouseMove(E)},this.onmouseup=function(E){f._onMouseUp(E)},O.addEventListener(document,"mousemove",f.onmousemove),O.addEventListener(document,"mouseup",f.onmouseup),O.preventDefault(h)}},u.prototype._onMouseMove=function(h){this.moving=!0,h=h||window.event;var f=parseFloat(g(h))-this.startMouseX,E=parseFloat(M(h))-this.startMouseY;if(h&&!0===h.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-f/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+E/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(h);else{var U=this.startArmRotation.horizontal+f/200,j=this.startArmRotation.vertical+E/200,te=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(U))<te&&(U=Math.round(U/Math.PI)*Math.PI-.001),Math.abs(Math.cos(U))<te&&(U=(Math.round(U/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(j))<te&&(j=Math.round(j/Math.PI)*Math.PI),Math.abs(Math.cos(j))<te&&(j=(Math.round(j/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(U,j)}this.redraw();var oe=this.getCameraPosition();this.emit("cameraPositionChange",oe),O.preventDefault(h)},u.prototype._onMouseUp=function(h){this.frame.style.cursor="auto",this.leftButtonDown=!1,O.removeEventListener(document,"mousemove",this.onmousemove),O.removeEventListener(document,"mouseup",this.onmouseup),O.preventDefault(h)},u.prototype._onClick=function(h){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var f=this.frame.getBoundingClientRect(),E=g(h)-f.left,I=M(h)-f.top,F=this._dataPointFromXY(E,I);F&&this.onclick_callback(F.point.data)}O.preventDefault(h)}},u.prototype._onTooltip=function(h){var E=this.frame.getBoundingClientRect(),I=g(h)-E.left,F=M(h)-E.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var V=this._dataPointFromXY(I,F);V!==this.tooltip.dataPoint&&(V?this._showTooltip(V):this._hideTooltip())}else{var z=this;this.tooltipTimeout=setTimeout(function(){z.tooltipTimeout=null;var U=z._dataPointFromXY(I,F);U&&z._showTooltip(U)},300)}}},u.prototype._onTouchStart=function(h){this.touchDown=!0;var f=this;this.ontouchmove=function(E){f._onTouchMove(E)},this.ontouchend=function(E){f._onTouchEnd(E)},O.addEventListener(document,"touchmove",f.ontouchmove),O.addEventListener(document,"touchend",f.ontouchend),this._onMouseDown(h)},u.prototype._onTouchMove=function(h){this._onMouseMove(h)},u.prototype._onTouchEnd=function(h){this.touchDown=!1,O.removeEventListener(document,"touchmove",this.ontouchmove),O.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(h)},u.prototype._onWheel=function(h){h||(h=window.event);var f=0;if(h.wheelDelta?f=h.wheelDelta/120:h.detail&&(f=-h.detail/3),f){var E=this.camera.getArmLength();this.camera.setArmLength(E*(1-f/10)),this.redraw(),this._hideTooltip()}var F=this.getCameraPosition();this.emit("cameraPositionChange",F),O.preventDefault(h)},u.prototype._insideTriangle=function(h,f){var E=f[0],I=f[1],F=f[2];function V(K){return K>0?1:K<0?-1:0}var z=V((I.x-E.x)*(h.y-E.y)-(I.y-E.y)*(h.x-E.x)),U=V((F.x-I.x)*(h.y-I.y)-(F.y-I.y)*(h.x-I.x)),j=V((E.x-F.x)*(h.y-F.y)-(E.y-F.y)*(h.x-F.x));return!(0!=z&&0!=U&&z!=U||0!=U&&0!=j&&U!=j||0!=z&&0!=j&&z!=j)},u.prototype._dataPointFromXY=function(h,f){var E,F=null,V=null,z=null,U=new x(h,f);if(this.style===u.STYLE.BAR||this.style===u.STYLE.BARCOLOR||this.style===u.STYLE.BARSIZE)for(E=this.dataPoints.length-1;E>=0;E--){var j=(F=this.dataPoints[E]).surfaces;if(j)for(var K=j.length-1;K>=0;K--){var oe=j[K].corners,pe=[oe[2].screen,oe[3].screen,oe[0].screen];if(this._insideTriangle(U,[oe[0].screen,oe[1].screen,oe[2].screen])||this._insideTriangle(U,pe))return F}}else for(E=0;E<this.dataPoints.length;E++){var Ee=(F=this.dataPoints[E]).screen;if(Ee){var Ce=Math.abs(h-Ee.x),_e=Math.abs(f-Ee.y),ge=Math.sqrt(Ce*Ce+_e*_e);(null===z||ge<z)&&ge<100&&(z=ge,V=F)}}return V},u.prototype.hasBars=function(h){return h==u.STYLE.BAR||h==u.STYLE.BARCOLOR||h==u.STYLE.BARSIZE},u.prototype._showTooltip=function(h){var f,E,I;this.tooltip?(f=this.tooltip.dom.content,E=this.tooltip.dom.line,I=this.tooltip.dom.dot):(f=document.createElement("div"),(0,y.default)(f.style,{},this.tooltipStyle.content),f.style.position="absolute",E=document.createElement("div"),(0,y.default)(E.style,{},this.tooltipStyle.line),E.style.position="absolute",I=document.createElement("div"),(0,y.default)(I.style,{},this.tooltipStyle.dot),I.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:f,line:E,dot:I}}),this._hideTooltip(),this.tooltip.dataPoint=h,f.innerHTML="function"==typeof this.showTooltip?this.showTooltip(h.point):"<table><tr><td>"+this.xLabel+":</td><td>"+h.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+h.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+h.point.z+"</td></tr></table>",f.style.left="0",f.style.top="0",this.frame.appendChild(f),this.frame.appendChild(E),this.frame.appendChild(I);var F=f.offsetWidth,V=f.offsetHeight,z=E.offsetHeight,U=I.offsetWidth,j=I.offsetHeight,K=h.screen.x-F/2;K=Math.min(Math.max(K,10),this.frame.clientWidth-10-F),E.style.left=h.screen.x+"px",E.style.top=h.screen.y-z+"px",f.style.left=K+"px",f.style.top=h.screen.y-z-V+"px",I.style.left=h.screen.x-U/2+"px",I.style.top=h.screen.y-j/2+"px"},u.prototype._hideTooltip=function(){if(this.tooltip)for(var h in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(h)){var f=this.tooltip.dom[h];f&&f.parentNode&&f.parentNode.removeChild(f)}},u.prototype.setCameraPosition=function(h){w.setCameraPosition(h,this),this.redraw()},u.prototype.setSize=function(h,f){this._setSize(h,f),this.redraw()},Q.exports=u},function(Q,L,_){_(163),Q.exports=_(7).Object.assign},function(Q,L,_){var P=_(17);P(P.S+P.F,"Object",{assign:_(164)})},function(Q,L,_){var P=_(33),y=_(63),S=_(42),D=_(41),O=_(78),A=Object.assign;Q.exports=!A||_(28)(function(){var x={},k={},b=Symbol(),w="abcdefghijklmnopqrst";return x[b]=7,w.split("").forEach(function(v){k[v]=v}),7!=A({},x)[b]||Object.keys(A({},k)).join("")!=w})?function(k,b){for(var w=D(k),v=arguments.length,m=1,c=y.f,T=S.f;v>m;)for(var g,a=O(arguments[m++]),p=c?P(a).concat(c(a)):P(a),d=p.length,u=0;d>u;)T.call(a,g=p[u++])&&(w[g]=a[g]);return w}:A},function(Q,L,_){Q.exports={default:_(166),__esModule:!0}},function(Q,L,_){_(167),Q.exports=_(7).Math.sign},function(Q,L,_){var P=_(17);P(P.S,"Math",{sign:_(168)})},function(Q,L){Q.exports=Math.sign||function(P){return 0==(P=+P)||P!=P?P:P<0?-1:1}},function(Q,L,_){Q.exports={default:_(170),__esModule:!0}},function(Q,L,_){_(171);var P=_(7).Object;Q.exports=function(S,D,O){return P.defineProperty(S,D,O)}},function(Q,L,_){var P=_(17);P(P.S+P.F*!_(21),"Object",{defineProperty:_(20).f})},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",D="object",O={fill:{string:P},stroke:{string:P},strokeWidth:{number:S},__type__:{string:P,object:D,undefined:"undefined"}};L.allOptions={animationAutoStart:{boolean:y,undefined:"undefined"},animationInterval:{number:S},animationPreload:{boolean:y},axisColor:{string:P},backgroundColor:O,xBarWidth:{number:S,undefined:"undefined"},yBarWidth:{number:S,undefined:"undefined"},cameraPosition:{distance:{number:S},horizontal:{number:S},vertical:{number:S},__type__:{object:D}},xCenter:{string:P},yCenter:{string:P},dataColor:O,dotSizeMinFraction:{number:S},dotSizeMaxFraction:{number:S},dotSizeRatio:{number:S},filterLabel:{string:P},gridColor:{string:P},onclick:{function:"function"},keepAspectRatio:{boolean:y},xLabel:{string:P},yLabel:{string:P},zLabel:{string:P},legendLabel:{string:P},xMin:{number:S,undefined:"undefined"},yMin:{number:S,undefined:"undefined"},zMin:{number:S,undefined:"undefined"},xMax:{number:S,undefined:"undefined"},yMax:{number:S,undefined:"undefined"},zMax:{number:S,undefined:"undefined"},showAnimationControls:{boolean:y,undefined:"undefined"},showGrid:{boolean:y},showLegend:{boolean:y,undefined:"undefined"},showPerspective:{boolean:y},showShadow:{boolean:y},showXAxis:{boolean:y},showYAxis:{boolean:y},showZAxis:{boolean:y},xStep:{number:S,undefined:"undefined"},yStep:{number:S,undefined:"undefined"},zStep:{number:S,undefined:"undefined"},style:{number:S,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:y,function:"function"},tooltipStyle:{content:{color:{string:P},background:{string:P},border:{string:P},borderRadius:{string:P},boxShadow:{string:P},padding:{string:P},__type__:{object:D}},line:{borderLeft:{string:P},height:{string:P},width:{string:P},__type__:{object:D}},dot:{border:{string:P},borderRadius:{string:P},height:{string:P},width:{string:P},__type__:{object:D}},__type__:{object:D}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:S,undefined:"undefined"},valueMin:{number:S,undefined:"undefined"},verticalRatio:{number:S},height:{string:P},width:{string:P},__type__:{object:D}}},function(Q,L,_){var P=_(11),y=_(12),S=_(174),D=_(96),O=_(94),A=_(34);function x(){this.dataTable=null}x.prototype.initializeData=function(k,b,w){if(void 0!==b){var v;if(Array.isArray(b)&&(b=new P(b)),!(b instanceof P||b instanceof y))throw new Error("Array, DataSet, or DataView expected");if(0!=(v=b.get()).length){this.style=w,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=b,this.dataTable=v;var m=this;this._onChange=function(){k.setData(m.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var c=k.hasBars(w);if(c&&(this.xBarWidth=void 0!==k.defaultXBarWidth?k.defaultXBarWidth:this.getSmallestDifference(v,this.colX)||1,this.yBarWidth=void 0!==k.defaultYBarWidth?k.defaultYBarWidth:this.getSmallestDifference(v,this.colY)||1),this._initializeRange(v,this.colX,k,c),this._initializeRange(v,this.colY,k,c),this._initializeRange(v,this.colZ,k,!1),v[0].hasOwnProperty("style")){this.colValue="style";var T=this.getColumnRange(v,this.colValue);this._setRangeDefaults(T,k.defaultValueMin,k.defaultValueMax),this.valueRange=T}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new D(this,"filter",k),this.dataFilter.setOnLoadCallback(function(){k.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},x.prototype._collectRangeSettings=function(k,b){if(-1==["x","y","z"].indexOf(k))throw new Error("Column '"+k+"' invalid");var v=k.toUpperCase();return{barWidth:this[k+"BarWidth"],min:b["default"+v+"Min"],max:b["default"+v+"Max"],step:b["default"+v+"Step"],range_label:k+"Range",step_label:k+"Step"}},x.prototype._initializeRange=function(k,b,w,v){var c=this._collectRangeSettings(b,w),T=this.getColumnRange(k,b);v&&"z"!=b&&T.expand(c.barWidth/2),this._setRangeDefaults(T,c.min,c.max),this[c.range_label]=T,this[c.step_label]=void 0!==c.step?c.step:T.range()/5},x.prototype.getDistinctValues=function(k,b){void 0===b&&(b=this.dataTable);for(var w=[],v=0;v<b.length;v++){var m=b[v][k]||0;-1===w.indexOf(m)&&w.push(m)}return w.sort(function(c,T){return c-T})},x.prototype.getSmallestDifference=function(k,b){for(var w=this.getDistinctValues(k,b),v=null,m=1;m<w.length;m++){var c=w[m]-w[m-1];(null==v||v>c)&&(v=c)}return v},x.prototype.getColumnRange=function(k,b){for(var w=new S,v=0;v<k.length;v++)w.adjust(k[v][b]);return w},x.prototype.getNumberOfRows=function(){return this.dataTable.length},x.prototype._setRangeDefaults=function(k,b,w){void 0!==b&&(k.min=b),void 0!==w&&(k.max=w),k.max<=k.min&&(k.max=k.min+1)},x.prototype.getDataTable=function(){return this.dataTable},x.prototype.getDataSet=function(){return this.dataSet},x.prototype.getDataPoints=function(k){for(var b=[],w=0;w<k.length;w++){var v=new A;v.x=k[w][this.colX]||0,v.y=k[w][this.colY]||0,v.z=k[w][this.colZ]||0,v.data=k[w],void 0!==this.colValue&&(v.value=k[w][this.colValue]||0);var m={};m.point=v,m.bottom=new A(v.x,v.y,this.zRange.min),m.trans=void 0,m.screen=void 0,b.push(m)}return b},x.prototype.initDataAsMatrix=function(k){var b,w,v,m,c=this.getDistinctValues(this.colX,k),T=this.getDistinctValues(this.colY,k),a=this.getDataPoints(k),p=[];for(v=0;v<a.length;v++){var d=c.indexOf((m=a[v]).point.x),u=T.indexOf(m.point.y);void 0===p[d]&&(p[d]=[]),p[d][u]=m}for(b=0;b<p.length;b++)for(w=0;w<p[b].length;w++)p[b][w]&&(p[b][w].pointRight=b<p.length-1?p[b+1][w]:void 0,p[b][w].pointTop=w<p[b].length-1?p[b][w+1]:void 0,p[b][w].pointCross=b<p.length-1&&w<p[b].length-1?p[b+1][w+1]:void 0);return a},x.prototype.getInfo=function(){var k=this.dataFilter;if(k)return k.getLabel()+": "+k.getSelectedValue()},x.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},x.prototype._getDataPoints=function(k){var b=[];if(this.style===O.STYLE.GRID||this.style===O.STYLE.SURFACE)b=this.initDataAsMatrix(k);else if(this._checkValueField(k),b=this.getDataPoints(k),this.style===O.STYLE.LINE)for(var w=0;w<b.length;w++)w>0&&(b[w-1].pointNext=b[w]);return b},x.prototype._checkValueField=function(k){if(this.style===O.STYLE.BARCOLOR||this.style===O.STYLE.BARSIZE||this.style===O.STYLE.DOTCOLOR||this.style===O.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===k[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},Q.exports=x},function(Q,L,_){function P(){this.min=void 0,this.max=void 0}P.prototype.adjust=function(y){void 0!==y&&((void 0===this.min||this.min>y)&&(this.min=y),(void 0===this.max||this.max<y)&&(this.max=y))},P.prototype.combine=function(y){this.add(y.min),this.add(y.max)},P.prototype.expand=function(y){if(void 0!==y){var S=this.min-y,D=this.max+y;if(S>D)throw new Error("Passed expansion value makes range invalid");this.min=S,this.max=D}},P.prototype.range=function(){return this.max-this.min},P.prototype.center=function(){return(this.min+this.max)/2},Q.exports=P},function(Q,L,_){var P,S;void 0!==(S="function"==typeof(P=function(){var D=null;return function O(A,x){var k=x||{preventDefault:!1};if(A.Manager){var b=A,w=function(a,p){var d=Object.create(k);return p&&b.assign(d,p),O(new b(a,d),d)};return b.assign(w,b),w.Manager=function(a,p){var d=Object.create(k);return p&&b.assign(d,p),O(new b.Manager(a,d),d)},w}var v=Object.create(A),m=A.element;function c(a){return a.match(/[^ ]+/g)}function T(a){if("hammer.input"!==a.type){if(a.srcEvent._handled||(a.srcEvent._handled={}),a.srcEvent._handled[a.type])return;a.srcEvent._handled[a.type]=!0}var p=!1;a.stopPropagation=function(){p=!0};var d=a.srcEvent.stopPropagation.bind(a.srcEvent);"function"==typeof d&&(a.srcEvent.stopPropagation=function(){d(),a.stopPropagation()}),a.firstTarget=D;for(var u=D;u&&!p;){var g=u.hammer;if(g)for(var M,h=0;h<g.length;h++)if(M=g[h]._handlers[a.type])for(var f=0;f<M.length&&!p;f++)M[f](a);u=u.parentNode}}return m.hammer||(m.hammer=[]),m.hammer.push(v),A.on("hammer.input",function(a){(!0===k.preventDefault||k.preventDefault===a.pointerType)&&a.preventDefault(),a.isFirst&&(D=a.target)}),v._handlers={},v.on=function(a,p){return c(a).forEach(function(d){var u=v._handlers[d];u||(v._handlers[d]=u=[],A.on(d,T)),u.push(p)}),v},v.off=function(a,p){return c(a).forEach(function(d){var u=v._handlers[d];u&&((u=p?u.filter(function(g){return g!==p}):[]).length>0?v._handlers[d]=u:(A.off(d,T),delete v._handlers[d]))}),v},v.emit=function(a,p){D=p.target,A.emit(a,p)},v.destroy=function(){var a=A.element.hammer,p=a.indexOf(v);-1!==p&&a.splice(p,1),a.length||delete A.element.hammer,v._handlers={},A.destroy()},v}})?P.apply(L,[]):P)&&(Q.exports=S)},function(Q,L,_){var P;!function(y,S,D,O){var p,A=["","webkit","Moz","MS","ms","o"],x=S.createElement("div"),b=Math.round,w=Math.abs,v=Date.now;function m(ee,ie,de){return setTimeout(M(ee,de),ie)}function c(ee,ie,de){return!!Array.isArray(ee)&&(T(ee,de[ie],de),!0)}function T(ee,ie,de){var ve;if(ee)if(ee.forEach)ee.forEach(ie,de);else if(ee.length!==O)for(ve=0;ve<ee.length;)ie.call(de,ee[ve],ve,ee),ve++;else for(ve in ee)ee.hasOwnProperty(ve)&&ie.call(de,ee[ve],ve,ee)}function a(ee,ie,de){var ve="DEPRECATED METHOD: "+ie+"\n"+de+" AT \n";return function(){var Ae=new Error("get-stack-trace"),Pe=Ae&&Ae.stack?Ae.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Mt=y.console&&(y.console.warn||y.console.log);return Mt&&Mt.call(y.console,ve,Pe),ee.apply(this,arguments)}}p="function"!=typeof Object.assign?function(ie){if(ie===O||null===ie)throw new TypeError("Cannot convert undefined or null to object");for(var de=Object(ie),ve=1;ve<arguments.length;ve++){var Ae=arguments[ve];if(Ae!==O&&null!==Ae)for(var Pe in Ae)Ae.hasOwnProperty(Pe)&&(de[Pe]=Ae[Pe])}return de}:Object.assign;var d=a(function(ie,de,ve){for(var Ae=Object.keys(de),Pe=0;Pe<Ae.length;)(!ve||ve&&ie[Ae[Pe]]===O)&&(ie[Ae[Pe]]=de[Ae[Pe]]),Pe++;return ie},"extend","Use `assign`."),u=a(function(ie,de){return d(ie,de,!0)},"merge","Use `assign`.");function g(ee,ie,de){var Ae,ve=ie.prototype;(Ae=ee.prototype=Object.create(ve)).constructor=ee,Ae._super=ve,de&&p(Ae,de)}function M(ee,ie){return function(){return ee.apply(ie,arguments)}}function h(ee,ie){return"function"==typeof ee?ee.apply(ie&&ie[0]||O,ie):ee}function f(ee,ie){return ee===O?ie:ee}function E(ee,ie,de){T(z(ie),function(ve){ee.addEventListener(ve,de,!1)})}function I(ee,ie,de){T(z(ie),function(ve){ee.removeEventListener(ve,de,!1)})}function F(ee,ie){for(;ee;){if(ee==ie)return!0;ee=ee.parentNode}return!1}function V(ee,ie){return ee.indexOf(ie)>-1}function z(ee){return ee.trim().split(/\s+/g)}function U(ee,ie,de){if(ee.indexOf&&!de)return ee.indexOf(ie);for(var ve=0;ve<ee.length;){if(de&&ee[ve][de]==ie||!de&&ee[ve]===ie)return ve;ve++}return-1}function j(ee){return Array.prototype.slice.call(ee,0)}function K(ee,ie,de){for(var ve=[],Ae=[],Pe=0;Pe<ee.length;){var Mt=ie?ee[Pe][ie]:ee[Pe];U(Ae,Mt)<0&&ve.push(ee[Pe]),Ae[Pe]=Mt,Pe++}return de&&(ve=ie?ve.sort(function(mn,pt){return mn[ie]>pt[ie]}):ve.sort()),ve}function te(ee,ie){for(var de,ve,Ae=ie[0].toUpperCase()+ie.slice(1),Pe=0;Pe<A.length;){if((ve=(de=A[Pe])?de+Ae:ie)in ee)return ve;Pe++}return O}var oe=1;function pe(ee){var ie=ee.ownerDocument||ee;return ie.defaultView||ie.parentWindow||y}var Ce="ontouchstart"in y,_e=te(y,"PointerEvent")!==O,ge=Ce&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ue="touch",be="mouse",Ge=["x","y"],Re=["clientX","clientY"];function Ve(ee,ie){var de=this;this.manager=ee,this.callback=ie,this.element=ee.element,this.target=ee.options.inputTarget,this.domHandler=function(ve){h(ee.options.enable,[ee])&&de.handler(ve)},this.init()}function _t(ee,ie,de){var ve=de.pointers.length,Ae=de.changedPointers.length,Pe=1&ie&&ve-Ae==0,Mt=12&ie&&ve-Ae==0;de.isFirst=!!Pe,de.isFinal=!!Mt,Pe&&(ee.session={}),de.eventType=ie,function(ee,ie){var de=ee.session,ve=ie.pointers,Ae=ve.length;de.firstInput||(de.firstInput=xo(ie)),Ae>1&&!de.firstMultiple?de.firstMultiple=xo(ie):1===Ae&&(de.firstMultiple=!1);var Pe=de.firstInput,Mt=de.firstMultiple,Yn=Mt?Mt.center:Pe.center,mn=ie.center=Mo(ve);ie.timeStamp=v(),ie.deltaTime=ie.timeStamp-Pe.timeStamp,ie.angle=fa(Yn,mn),ie.distance=ei(Yn,mn),function(ee,ie){var de=ie.center,ve=ee.offsetDelta||{},Ae=ee.prevDelta||{},Pe=ee.prevInput||{};(1===ie.eventType||4===Pe.eventType)&&(Ae=ee.prevDelta={x:Pe.deltaX||0,y:Pe.deltaY||0},ve=ee.offsetDelta={x:de.x,y:de.y}),ie.deltaX=Ae.x+(de.x-ve.x),ie.deltaY=Ae.y+(de.y-ve.y)}(de,ie),ie.offsetDirection=ca(ie.deltaX,ie.deltaY);var pt=Oo(ie.deltaTime,ie.deltaX,ie.deltaY);ie.overallVelocityX=pt.x,ie.overallVelocityY=pt.y,ie.overallVelocity=w(pt.x)>w(pt.y)?pt.x:pt.y,ie.scale=Mt?function(ee,ie){return ei(ie[0],ie[1],Re)/ei(ee[0],ee[1],Re)}(Mt.pointers,ve):1,ie.rotation=Mt?function(ee,ie){return fa(ie[1],ie[0],Re)+fa(ee[1],ee[0],Re)}(Mt.pointers,ve):0,ie.maxPointers=de.prevInput?ie.pointers.length>de.prevInput.maxPointers?ie.pointers.length:de.prevInput.maxPointers:ie.pointers.length,function(ee,ie){var Ae,Pe,Mt,Yn,de=ee.lastInterval||ie,ve=ie.timeStamp-de.timeStamp;if(8!=ie.eventType&&(ve>25||de.velocity===O)){var mn=ie.deltaX-de.deltaX,pt=ie.deltaY-de.deltaY,bi=Oo(ve,mn,pt);Pe=bi.x,Mt=bi.y,Ae=w(bi.x)>w(bi.y)?bi.x:bi.y,Yn=ca(mn,pt),ee.lastInterval=ie}else Ae=de.velocity,Pe=de.velocityX,Mt=de.velocityY,Yn=de.direction;ie.velocity=Ae,ie.velocityX=Pe,ie.velocityY=Mt,ie.direction=Yn}(de,ie);var bi=ee.element;F(ie.srcEvent.target,bi)&&(bi=ie.srcEvent.target),ie.target=bi}(ee,de),ee.emit("hammer.input",de),ee.recognize(de),ee.session.prevInput=de}function xo(ee){for(var ie=[],de=0;de<ee.pointers.length;)ie[de]={clientX:b(ee.pointers[de].clientX),clientY:b(ee.pointers[de].clientY)},de++;return{timeStamp:v(),pointers:ie,center:Mo(ie),deltaX:ee.deltaX,deltaY:ee.deltaY}}function Mo(ee){var ie=ee.length;if(1===ie)return{x:b(ee[0].clientX),y:b(ee[0].clientY)};for(var de=0,ve=0,Ae=0;Ae<ie;)de+=ee[Ae].clientX,ve+=ee[Ae].clientY,Ae++;return{x:b(de/ie),y:b(ve/ie)}}function Oo(ee,ie,de){return{x:ie/ee||0,y:de/ee||0}}function ca(ee,ie){return ee===ie?1:w(ee)>=w(ie)?ee<0?2:4:ie<0?8:16}function ei(ee,ie,de){de||(de=Ge);var ve=ie[de[0]]-ee[de[0]],Ae=ie[de[1]]-ee[de[1]];return Math.sqrt(ve*ve+Ae*Ae)}function fa(ee,ie,de){return de||(de=Ge),180*Math.atan2(ie[de[1]]-ee[de[1]],ie[de[0]]-ee[de[0]])/Math.PI}Ve.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(pe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(pe(this.element),this.evWin,this.domHandler)}};var tn={mousedown:1,mousemove:2,mouseup:4},al="mousedown",ll="mousemove mouseup";function Tt(){this.evEl=al,this.evWin=ll,this.pressed=!1,Ve.apply(this,arguments)}g(Tt,Ve,{handler:function(ie){var de=tn[ie.type];1&de&&0===ie.button&&(this.pressed=!0),2&de&&1!==ie.which&&(de=4),this.pressed&&(4&de&&(this.pressed=!1),this.callback(this.manager,de,{pointers:[ie],changedPointers:[ie],pointerType:be,srcEvent:ie}))}});var Qs={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ft={2:ue,3:"pen",4:be,5:"kinect"},Io="pointerdown",Xs="pointermove pointerup pointercancel";function Gt(){this.evEl=Io,this.evWin=Xs,Ve.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y.MSPointerEvent&&!y.PointerEvent&&(Io="MSPointerDown",Xs="MSPointerMove MSPointerUp MSPointerCancel"),g(Gt,Ve,{handler:function(ie){var de=this.store,ve=!1,Ae=ie.type.toLowerCase().replace("ms",""),Pe=Qs[Ae],Mt=ft[ie.pointerType]||ie.pointerType,Yn=Mt==ue,mn=U(de,ie.pointerId,"pointerId");1&Pe&&(0===ie.button||Yn)?mn<0&&(de.push(ie),mn=de.length-1):12&Pe&&(ve=!0),!(mn<0)&&(de[mn]=ie,this.callback(this.manager,Pe,{pointers:de,changedPointers:[ie],pointerType:Mt,srcEvent:ie}),ve&&de.splice(mn,1))}});var Ye={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ul="touchstart",Ao="touchstart touchmove touchend touchcancel";function $i(){this.evTarget=ul,this.evWin=Ao,this.started=!1,Ve.apply(this,arguments)}function Xe(ee,ie){var de=j(ee.touches),ve=j(ee.changedTouches);return 12&ie&&(de=K(de.concat(ve),"identifier",!0)),[de,ve]}g($i,Ve,{handler:function(ie){var de=Ye[ie.type];if(1===de&&(this.started=!0),this.started){var ve=Xe.call(this,ie,de);12&de&&ve[0].length-ve[1].length==0&&(this.started=!1),this.callback(this.manager,de,{pointers:ve[0],changedPointers:ve[1],pointerType:ue,srcEvent:ie})}}});var ga={touchstart:1,touchmove:2,touchend:4,touchcancel:8},dt="touchstart touchmove touchend touchcancel";function sn(){this.evTarget=dt,this.targetIds={},Ve.apply(this,arguments)}function ma(ee,ie){var de=j(ee.touches),ve=this.targetIds;if(3&ie&&1===de.length)return ve[de[0].identifier]=!0,[de,de];var Ae,Pe,Mt=j(ee.changedTouches),Yn=[],mn=this.target;if(Pe=de.filter(function(pt){return F(pt.target,mn)}),1===ie)for(Ae=0;Ae<Pe.length;)ve[Pe[Ae].identifier]=!0,Ae++;for(Ae=0;Ae<Mt.length;)ve[Mt[Ae].identifier]&&Yn.push(Mt[Ae]),12&ie&&delete ve[Mt[Ae].identifier],Ae++;return Yn.length?[K(Pe.concat(Yn),"identifier",!0),Yn]:void 0}g(sn,Ve,{handler:function(ie){var de=ga[ie.type],ve=ma.call(this,ie,de);!ve||this.callback(this.manager,de,{pointers:ve[0],changedPointers:ve[1],pointerType:ue,srcEvent:ie})}});function vs(){Ve.apply(this,arguments);var ee=M(this.handler,this);this.touch=new sn(this.manager,ee),this.mouse=new Tt(this.manager,ee),this.primaryTouch=null,this.lastTouches=[]}function cn(ee,ie){1&ee?(this.primaryTouch=ie.changedPointers[0].identifier,ar.call(this,ie)):12&ee&&ar.call(this,ie)}function ar(ee){var ie=ee.changedPointers[0];if(ie.identifier===this.primaryTouch){var de={x:ie.clientX,y:ie.clientY};this.lastTouches.push(de);var ve=this.lastTouches;setTimeout(function(){var Pe=ve.indexOf(de);Pe>-1&&ve.splice(Pe,1)},2500)}}function Gi(ee){for(var ie=ee.srcEvent.clientX,de=ee.srcEvent.clientY,ve=0;ve<this.lastTouches.length;ve++){var Ae=this.lastTouches[ve],Pe=Math.abs(ie-Ae.x),Mt=Math.abs(de-Ae.y);if(Pe<=25&&Mt<=25)return!0}return!1}g(vs,Ve,{handler:function(ie,de,ve){var Pe=ve.pointerType==be;if(!(Pe&&ve.sourceCapabilities&&ve.sourceCapabilities.firesTouchEvents)){if(ve.pointerType==ue)cn.call(this,de,ve);else if(Pe&&Gi.call(this,ve))return;this.callback(ie,de,ve)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var kn=te(x.style,"touchAction"),_n=kn!==O,lr="compute",dl="manipulation",ys="none",ur="pan-x",Gr="pan-y",Js=function(){if(!_n)return!1;var ee={},ie=y.CSS&&y.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(de){ee[de]=!ie||y.CSS.supports("touch-action",de)}),ee}();function hl(ee,ie){this.manager=ee,this.set(ie)}hl.prototype={set:function(ee){ee==lr&&(ee=this.compute()),_n&&this.manager.element.style&&Js[ee]&&(this.manager.element.style[kn]=ee),this.actions=ee.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var ee=[];return T(this.manager.recognizers,function(ie){h(ie.options.enable,[ie])&&(ee=ee.concat(ie.getTouchAction()))}),function(ee){if(V(ee,ys))return ys;var ie=V(ee,ur),de=V(ee,Gr);return ie&&de?ys:ie||de?ie?ur:Gr:V(ee,dl)?dl:"auto"}(ee.join(" "))},preventDefaults:function(ee){var ie=ee.srcEvent,de=ee.offsetDirection;if(!this.manager.session.prevented){var ve=this.actions,Ae=V(ve,ys)&&!Js[ys],Pe=V(ve,Gr)&&!Js[Gr],Mt=V(ve,ur)&&!Js[ur];if(Ae&&1===ee.pointers.length&&ee.distance<2&&ee.deltaTime<250)return;return Mt&&Pe||!(Ae||Pe&&6&de||Mt&&24&de)?void 0:this.preventSrc(ie)}ie.preventDefault()},preventSrc:function(ee){this.manager.session.prevented=!0,ee.preventDefault()}};function Yi(ee){this.options=p({},this.defaults,ee||{}),this.id=oe++,this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function cl(ee){return 16&ee?"cancel":8&ee?"end":4&ee?"move":2&ee?"start":""}function va(ee){return 16==ee?"down":8==ee?"up":2==ee?"left":4==ee?"right":""}function eo(ee,ie){var de=ie.manager;return de?de.get(ee):ee}function fi(){Yi.apply(this,arguments)}function bs(){fi.apply(this,arguments),this.pX=null,this.pY=null}function to(){fi.apply(this,arguments)}function Ro(){Yi.apply(this,arguments),this._timer=null,this._input=null}function Je(){fi.apply(this,arguments)}function no(){fi.apply(this,arguments)}function No(){Yi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function pi(ee,ie){return(ie=ie||{}).recognizers=f(ie.recognizers,pi.defaults.preset),new Ki(ee,ie)}Yi.prototype={defaults:{},set:function(ee){return p(this.options,ee),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(ee){if(c(ee,"recognizeWith",this))return this;var ie=this.simultaneous;return ie[(ee=eo(ee,this)).id]||(ie[ee.id]=ee,ee.recognizeWith(this)),this},dropRecognizeWith:function(ee){return c(ee,"dropRecognizeWith",this)||(ee=eo(ee,this),delete this.simultaneous[ee.id]),this},requireFailure:function(ee){if(c(ee,"requireFailure",this))return this;var ie=this.requireFail;return-1===U(ie,ee=eo(ee,this))&&(ie.push(ee),ee.requireFailure(this)),this},dropRequireFailure:function(ee){if(c(ee,"dropRequireFailure",this))return this;ee=eo(ee,this);var ie=U(this.requireFail,ee);return ie>-1&&this.requireFail.splice(ie,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(ee){return!!this.simultaneous[ee.id]},emit:function(ee){var ie=this,de=this.state;function ve(Ae){ie.manager.emit(Ae,ee)}de<8&&ve(ie.options.event+cl(de)),ve(ie.options.event),ee.additionalEvent&&ve(ee.additionalEvent),de>=8&&ve(ie.options.event+cl(de))},tryEmit:function(ee){if(this.canEmit())return this.emit(ee);this.state=32},canEmit:function(){for(var ee=0;ee<this.requireFail.length;){if(!(33&this.requireFail[ee].state))return!1;ee++}return!0},recognize:function(ee){var ie=p({},ee);if(!h(this.options.enable,[this,ie]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(ie),30&this.state&&this.tryEmit(ie)},process:function(ee){},getTouchAction:function(){},reset:function(){}},g(fi,Yi,{defaults:{pointers:1},attrTest:function(ee){var ie=this.options.pointers;return 0===ie||ee.pointers.length===ie},process:function(ee){var ie=this.state,de=ee.eventType,ve=6&ie,Ae=this.attrTest(ee);return ve&&(8&de||!Ae)?16|ie:ve||Ae?4&de?8|ie:2&ie?4|ie:2:32}}),g(bs,fi,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var ee=this.options.direction,ie=[];return 6&ee&&ie.push(Gr),24&ee&&ie.push(ur),ie},directionTest:function(ee){var ie=this.options,de=!0,ve=ee.distance,Ae=ee.direction,Pe=ee.deltaX,Mt=ee.deltaY;return Ae&ie.direction||(6&ie.direction?(Ae=0===Pe?1:Pe<0?2:4,de=Pe!=this.pX,ve=Math.abs(ee.deltaX)):(Ae=0===Mt?1:Mt<0?8:16,de=Mt!=this.pY,ve=Math.abs(ee.deltaY))),ee.direction=Ae,de&&ve>ie.threshold&&Ae&ie.direction},attrTest:function(ee){return fi.prototype.attrTest.call(this,ee)&&(2&this.state||!(2&this.state)&&this.directionTest(ee))},emit:function(ee){this.pX=ee.deltaX,this.pY=ee.deltaY;var ie=va(ee.direction);ie&&(ee.additionalEvent=this.options.event+ie),this._super.emit.call(this,ee)}}),g(to,fi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ys]},attrTest:function(ee){return this._super.attrTest.call(this,ee)&&(Math.abs(ee.scale-1)>this.options.threshold||2&this.state)},emit:function(ee){1!==ee.scale&&(ee.additionalEvent=this.options.event+(ee.scale<1?"in":"out")),this._super.emit.call(this,ee)}}),g(Ro,Yi,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(ee){var ie=this.options,de=ee.pointers.length===ie.pointers,ve=ee.distance<ie.threshold,Ae=ee.deltaTime>ie.time;if(this._input=ee,!ve||!de||12&ee.eventType&&!Ae)this.reset();else if(1&ee.eventType)this.reset(),this._timer=m(function(){this.state=8,this.tryEmit()},ie.time,this);else if(4&ee.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(ee){8===this.state&&(ee&&4&ee.eventType?this.manager.emit(this.options.event+"up",ee):(this._input.timeStamp=v(),this.manager.emit(this.options.event,this._input)))}}),g(Je,fi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ys]},attrTest:function(ee){return this._super.attrTest.call(this,ee)&&(Math.abs(ee.rotation)>this.options.threshold||2&this.state)}}),g(no,fi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bs.prototype.getTouchAction.call(this)},attrTest:function(ee){var de,ie=this.options.direction;return 30&ie?de=ee.overallVelocity:6&ie?de=ee.overallVelocityX:24&ie&&(de=ee.overallVelocityY),this._super.attrTest.call(this,ee)&&ie&ee.offsetDirection&&ee.distance>this.options.threshold&&ee.maxPointers==this.options.pointers&&w(de)>this.options.velocity&&4&ee.eventType},emit:function(ee){var ie=va(ee.offsetDirection);ie&&this.manager.emit(this.options.event+ie,ee),this.manager.emit(this.options.event,ee)}}),g(No,Yi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[dl]},process:function(ee){var ie=this.options,de=ee.pointers.length===ie.pointers,ve=ee.distance<ie.threshold,Ae=ee.deltaTime<ie.time;if(this.reset(),1&ee.eventType&&0===this.count)return this.failTimeout();if(ve&&Ae&&de){if(4!=ee.eventType)return this.failTimeout();var Pe=!this.pTime||ee.timeStamp-this.pTime<ie.interval,Mt=!this.pCenter||ei(this.pCenter,ee.center)<ie.posThreshold;if(this.pTime=ee.timeStamp,this.pCenter=ee.center,Mt&&Pe?this.count+=1:this.count=1,this._input=ee,0==this.count%ie.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=8,this.tryEmit()},ie.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),pi.VERSION="2.0.7",pi.defaults={domEvents:!1,touchAction:lr,enable:!0,inputTarget:null,inputClass:null,preset:[[Je,{enable:!1}],[to,{enable:!1},["rotate"]],[no,{direction:6}],[bs,{direction:6},["swipe"]],[No],[No,{event:"doubletap",taps:2},["tap"]],[Ro]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ki(ee,ie){this.options=p({},pi.defaults,ie||{}),this.options.inputTarget=this.options.inputTarget||ee,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=ee,this.input=function(ee){return new(ee.options.inputClass||(_e?Gt:ge?sn:Ce?vs:Tt))(ee,_t)}(this),this.touchAction=new hl(this,this.options.touchAction),Gn(this,!0),T(this.options.recognizers,function(de){var ve=this.add(new de[0](de[1]));de[2]&&ve.recognizeWith(de[2]),de[3]&&ve.requireFailure(de[3])},this)}function Gn(ee,ie){var ve,de=ee.element;de.style&&(T(ee.options.cssProps,function(Ae,Pe){ve=te(de.style,Pe),ie?(ee.oldCssProps[ve]=de.style[ve],de.style[ve]=Ae):de.style[ve]=ee.oldCssProps[ve]||""}),ie||(ee.oldCssProps={}))}Ki.prototype={set:function(ee){return p(this.options,ee),ee.touchAction&&this.touchAction.update(),ee.inputTarget&&(this.input.destroy(),this.input.target=ee.inputTarget,this.input.init()),this},stop:function(ee){this.session.stopped=ee?2:1},recognize:function(ee){var ie=this.session;if(!ie.stopped){this.touchAction.preventDefaults(ee);var de,ve=this.recognizers,Ae=ie.curRecognizer;(!Ae||Ae&&8&Ae.state)&&(Ae=ie.curRecognizer=null);for(var Pe=0;Pe<ve.length;)de=ve[Pe],2===ie.stopped||Ae&&de!=Ae&&!de.canRecognizeWith(Ae)?de.reset():de.recognize(ee),!Ae&&14&de.state&&(Ae=ie.curRecognizer=de),Pe++}},get:function(ee){if(ee instanceof Yi)return ee;for(var ie=this.recognizers,de=0;de<ie.length;de++)if(ie[de].options.event==ee)return ie[de];return null},add:function(ee){if(c(ee,"add",this))return this;var ie=this.get(ee.options.event);return ie&&this.remove(ie),this.recognizers.push(ee),ee.manager=this,this.touchAction.update(),ee},remove:function(ee){if(c(ee,"remove",this))return this;if(ee=this.get(ee)){var ie=this.recognizers,de=U(ie,ee);-1!==de&&(ie.splice(de,1),this.touchAction.update())}return this},on:function(ee,ie){if(ee!==O&&ie!==O){var de=this.handlers;return T(z(ee),function(ve){de[ve]=de[ve]||[],de[ve].push(ie)}),this}},off:function(ee,ie){if(ee!==O){var de=this.handlers;return T(z(ee),function(ve){ie?de[ve]&&de[ve].splice(U(de[ve],ie),1):delete de[ve]}),this}},emit:function(ee,ie){this.options.domEvents&&function(ee,ie){var de=S.createEvent("Event");de.initEvent(ee,!0,!0),de.gesture=ie,ie.target.dispatchEvent(de)}(ee,ie);var de=this.handlers[ee]&&this.handlers[ee].slice();if(de&&de.length){ie.type=ee,ie.preventDefault=function(){ie.srcEvent.preventDefault()};for(var ve=0;ve<de.length;)de[ve](ie),ve++}},destroy:function(){this.element&&Gn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(pi,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ki,Input:Ve,TouchAction:hl,TouchInput:sn,MouseInput:Tt,PointerEventInput:Gt,TouchMouseInput:vs,SingleTouchInput:$i,Recognizer:Yi,AttrRecognizer:fi,Tap:No,Pan:bs,Swipe:no,Pinch:to,Rotate:Je,Press:Ro,on:E,off:I,each:T,merge:u,extend:d,assign:p,inherit:g,bindFn:M,prefixed:te}),(void 0!==y?y:"undefined"!=typeof self?self:{}).Hammer=pi,(P=function(){return pi}.call(L,_,L,Q))!==O&&(Q.exports=P)}(window,document)},function(Q,L,_){L.util=_(2),L.DOMutil=_(14),L.DataSet=_(11),L.DataView=_(12),L.Queue=_(43),L.Timeline=_(178),L.Graph2d=_(180),L.timeline={Core:_(65),DateUtil:_(36),Range:_(64),stack:_(100),TimeStep:_(66),components:{items:{Item:_(38),BackgroundItem:_(103),BoxItem:_(101),PointItem:_(102),RangeItem:_(70)},BackgroundGroup:_(69),Component:_(16),CurrentTime:_(67),CustomTime:_(46),DataAxis:_(107),DataScale:_(108),GraphGroup:_(109),Group:_(68),ItemSet:_(99),Legend:_(112),LineGraph:_(106),TimeAxis:_(45)}},L.moment=_(9),L.Hammer=_(10),L.keycharm=_(35)},function(Q,L,_){var P=_(9),y=_(2),S=_(11),D=_(12),O=_(64),A=_(65),x=_(45),k=_(67),b=_(46),w=_(99),v=_(15).printStyle,m=_(105).allOptions,c=_(105).configureOptions,T=_(71).default,a=_(15).default;function p(M,h,f,E){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(f)||f instanceof S||f instanceof D)&&f instanceof Object){var I=E;E=f,f=I}E&&E.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var F=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:P,width:null,height:null,maxHeight:null,minHeight:null},this.options=y.deepExtend({},this.defaultOptions),this._create(M),!E||E&&void 0===E.rtl){this.dom.root.style.visibility="hidden";for(var V,z=this.dom.root;!V&&z;)V=window.getComputedStyle(z,null).direction,z=z.parentElement;this.options.rtl=V&&"rtl"==V.toLowerCase()}else this.options.rtl=E.rtl;this.options.rollingMode=E&&E.rollingMode,this.options.onInitialDrawComplete=E&&E.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return F.timeAxis.step.scale},getStep:function(){return F.timeAxis.step.step},toScreen:F._toScreen.bind(F),toGlobalScreen:F._toGlobalScreen.bind(F),toTime:F._toTime.bind(F),toGlobalTime:F._toGlobalTime.bind(F)}},this.range=new O(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new x(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new k(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new w(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(U){F.emit("click",F.getEventProperties(U))},this.dom.root.ondblclick=function(U){F.emit("doubleClick",F.getEventProperties(U))},this.dom.root.oncontextmenu=function(U){F.emit("contextmenu",F.getEventProperties(U))},this.dom.root.onmouseover=function(U){F.emit("mouseOver",F.getEventProperties(U))},window.PointerEvent?(this.dom.root.onpointerdown=function(U){F.emit("mouseDown",F.getEventProperties(U))},this.dom.root.onpointermove=function(U){F.emit("mouseMove",F.getEventProperties(U))},this.dom.root.onpointerup=function(U){F.emit("mouseUp",F.getEventProperties(U))}):(this.dom.root.onmousemove=function(U){F.emit("mouseMove",F.getEventProperties(U))},this.dom.root.onmousedown=function(U){F.emit("mouseDown",F.getEventProperties(U))},this.dom.root.onmouseup=function(U){F.emit("mouseUp",F.getEventProperties(U))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!F.initialFitDone)if(F.initialFitDone=!0,null!=F.options.start||null!=F.options.end){if(null==F.options.start||null==F.options.end)var U=F.getItemRange();F.setWindow(null!=F.options.start?F.options.start:U.min,null!=F.options.end?F.options.end:U.max,{animation:!1})}else F.fit({animation:!1});!F.initialDrawDone&&F.initialRangeChangeDone&&(F.initialDrawDone=!0,F.dom.root.style.visibility="visible",F.options.onInitialDrawComplete&&setTimeout(function(){return F.options.onInitialDrawComplete()},0))}}),E&&this.setOptions(E),f&&this.setGroups(f),h&&this.setItems(h),this._redraw()}function d(M){return y.convert(M.data.start,"Date").valueOf()}function u(M){return y.convert(null!=M.data.end?M.data.end:M.data.start,"Date").valueOf()}function g(M,h){var f=M.props.leftContainer.height,E=M.props.left.height,I=h.parent,F=I.top,V=!0,z=M.timeAxis.options.orientation.axis,U=function(){return"bottom"==z?I.height-h.top-h.height:h.top},j=-1*M._getScrollTop(),K=F+U(),te=h.height;return K<j?F+f<=F+U()+te&&(F+=U()-M.itemSet.options.margin.item.vertical):K+te>j+f?F+=U()+te-f+M.itemSet.options.margin.item.vertical:V=!1,{shouldScroll:V,scrollOffset:F=Math.min(F,E-f),itemTop:K}}(p.prototype=new A)._createConfigurator=function(){return new T(this,this.dom.container,c)},p.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},p.prototype.setOptions=function(M){if(!0===a.validate(M,m)&&console.log("%cErrors have been found in the supplied options object.",v),A.prototype.setOptions.call(this,M),"type"in M&&M.type!==this.options.type){this.options.type=M.type;var f=this.itemsData;if(f){var E=this.getSelection();this.setItems(null),this.setItems(f),this.setSelection(E)}}},p.prototype.setItems=function(M){var h;h=M?M instanceof S||M instanceof D?M:new S(M,{type:{start:"Date",end:"Date"}}):null,this.itemsData=h,this.itemSet&&this.itemSet.setItems(h)},p.prototype.setGroups=function(M){var h;if(M){var f=function(I){return!1!==I.visible};h=M instanceof S||M instanceof D?new D(M,{filter:f}):new S(M.filter(f))}else h=null;this.groupsData=h,this.itemSet.setGroups(h)},p.prototype.setData=function(M){M&&M.groups&&this.setGroups(M.groups),M&&M.items&&this.setItems(M.items)},p.prototype.setSelection=function(M,h){this.itemSet&&this.itemSet.setSelection(M),h&&h.focus&&this.focus(M,h)},p.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},p.prototype.focus=function(M,h){if(this.itemsData&&null!=M){var f=Array.isArray(M)?M:[M],E=this.itemsData.getDataSet().get(f,{type:{start:"Date",end:"Date"}}),I=null,F=null;if(E.forEach(function(Ce){var _e=Ce.start.valueOf(),ge="end"in Ce?Ce.end.valueOf():Ce.start.valueOf();(null===I||_e<I)&&(I=_e),(null===F||ge>F)&&(F=ge)}),null!==I&&null!==F){var V=this,z=this.itemSet.items[f[0]],U=-1*this._getScrollTop(),j=null,te=function(){var _e=g(V,z);_e.shouldScroll&&_e.itemTop!=j.itemTop&&(V._setScrollTop(-_e.scrollOffset),V._redraw())},le=(I+F)/2,pe=Math.max(this.range.end-this.range.start,1.1*(F-I)),Ee=!h||void 0===h.animation||h.animation;Ee||(j={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(le-pe/2,le+pe/2,{animation:Ee},function(){te(),setTimeout(te,100)},function(_e,ge,ue){var he=g(V,z);if(j||(j=he),j.itemTop!=he.itemTop||j.shouldScroll){j.itemTop!=he.itemTop&&he.shouldScroll&&(j=he,U=-1*V._getScrollTop());var Oe=j.scrollOffset;V._setScrollTop(-(ue?Oe:U+(Oe-U)*_e)),ge||V._redraw()}})}}},p.prototype.fit=function(M,h){var E,f=!M||void 0===M.animation||M.animation,I=this.itemsData&&this.itemsData.getDataSet();1===I.length&&void 0===I.get()[0].end?(E=this.getDataRange(),this.moveTo(E.min.valueOf(),{animation:f},h)):(E=this.getItemRange(),this.range.setRange(E.min,E.max,{animation:f},h))},p.prototype.getItemRange=function(){var M=this.getDataRange(),h=null!==M.min?M.min.valueOf():null,f=null!==M.max?M.max.valueOf():null,E=null,I=null;if(null!=h&&null!=f){var F=f-h;F<=0&&(F=10);var V=F/this.props.center.width,z={},U=0;if(y.forEach(this.itemSet.items,function(pe,Ee){pe.groupShowing&&(z[Ee]=pe.redraw(!0),U=z[Ee].length)}),U>0)for(var K=0;K<U;K++)y.forEach(z,function(pe){pe[K]()});if(y.forEach(this.itemSet.items,function(pe){var _e,ge,Ee=d(pe),Ce=u(pe);this.options.rtl?(_e=Ee-(pe.getWidthRight()+10)*V,ge=Ce+(pe.getWidthLeft()+10)*V):(_e=Ee-(pe.getWidthLeft()+10)*V,ge=Ce+(pe.getWidthRight()+10)*V),_e<h&&(h=_e,E=pe),ge>f&&(f=ge,I=pe)}.bind(this)),E&&I){var te=E.getWidthLeft()+10,oe=I.getWidthRight()+10,le=this.props.center.width-te-oe;le>0&&(this.options.rtl?(h=d(E)-oe*F/le,f=u(I)+te*F/le):(h=d(E)-te*F/le,f=u(I)+oe*F/le))}}return{min:null!=h?new Date(h):null,max:null!=f?new Date(f):null}},p.prototype.getDataRange=function(){var M=null,h=null,f=this.itemsData&&this.itemsData.getDataSet();return f&&f.forEach(function(E){var I=y.convert(E.start,"Date").valueOf(),F=y.convert(null!=E.end?E.end:E.start,"Date").valueOf();(null===M||I<M)&&(M=I),(null===h||F>h)&&(h=F)}),{min:null!=M?new Date(M):null,max:null!=h?new Date(h):null}},p.prototype.getEventProperties=function(M){var E,h=M.center?M.center.x:M.clientX,f=M.center?M.center.y:M.clientY;E=this.options.rtl?y.getAbsoluteRight(this.dom.centerContainer)-h:h-y.getAbsoluteLeft(this.dom.centerContainer);var I=f-y.getAbsoluteTop(this.dom.centerContainer),F=this.itemSet.itemFromTarget(M),V=this.itemSet.groupFromTarget(M),z=b.customTimeFromTarget(M),U=this.itemSet.options.snap||null,j=this.body.util.getScale(),K=this.body.util.getStep(),te=this._toTime(E),oe=U?U(te,j,K):te,le=y.getTarget(M),pe=null;return null!=F?pe="item":null!=z?pe="custom-time":y.hasParent(le,this.timeAxis.dom.foreground)||this.timeAxis2&&y.hasParent(le,this.timeAxis2.dom.foreground)?pe="axis":y.hasParent(le,this.itemSet.dom.labelSet)?pe="group-label":y.hasParent(le,this.currentTime.bar)?pe="current-time":y.hasParent(le,this.dom.center)&&(pe="background"),{event:M,item:F?F.id:null,group:V?V.groupId:null,what:pe,pageX:M.srcEvent?M.srcEvent.pageX:M.pageX,pageY:M.srcEvent?M.srcEvent.pageY:M.pageY,x:E,y:I,time:te,snappedTime:oe}},p.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},Q.exports=p},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=x(_(19)),D=x(_(0)),A=x(_(1));function x(m){return m&&m.__esModule?m:{default:m}}var k=_(10),b=_(37),w=_(2),v=function(){function m(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,D.default)(this,m),this.pixelRatio=c,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,A.default)(m,[{key:"insertTo",value:function(T){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=T,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(T){if("function"!=typeof T)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=T}},{key:"setCloseCallback",value:function(T){if("function"!=typeof T)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=T}},{key:"_isColorString",value:function(T){if("string"==typeof T)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[T]}},{key:"setColor",value:function(T){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==T){var p=void 0,d=this._isColorString(T);if(void 0!==d&&(T=d),!0===w.isString(T)){if(!0===w.isValidRGB(T)){var u=T.substr(4).substr(0,T.length-5).split(",");p={r:u[0],g:u[1],b:u[2],a:1}}else if(!0===w.isValidRGBA(T)){var g=T.substr(5).substr(0,T.length-6).split(",");p={r:g[0],g:g[1],b:g[2],a:g[3]}}else if(!0===w.isValidHex(T)){var M=w.hexToRGB(T);p={r:M.r,g:M.g,b:M.b,a:1}}}else T instanceof Object&&void 0!==T.r&&void 0!==T.g&&void 0!==T.b&&(p={r:T.r,g:T.g,b:T.b,a:void 0!==T.a?T.a:"1.0"});if(void 0===p)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,y.default)(T));this._setColor(p,a)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var T=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=w.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==T.closeCallback&&(T.closeCallback(),T.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(T){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=w.extend({},T)),this.color=T;var p=w.RGBToHSV(T.r,T.g,T.b),d=2*Math.PI,u=this.r*p.s,g=this.centerCoordinates.x+u*Math.sin(d*p.h),M=this.centerCoordinates.y+u*Math.cos(d*p.h);this.colorPickerSelector.style.left=g-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=M-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(T)}},{key:"_setOpacity",value:function(T){this.color.a=T/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(T){var a=w.RGBToHSV(this.color.r,this.color.g,this.color.b);a.v=T/100;var p=w.HSVToRGB(a.h,a.s,a.v);p.a=this.color.a,this.color=p,this._updatePicker()}},{key:"_updatePicker",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,a=w.RGBToHSV(T.r,T.g,T.b),p=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1)),p.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),p.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),p.putImageData(this.hueCircle,0,0),p.fillStyle="rgba(0,0,0,"+(1-a.v)+")",p.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),p.fill(),this.brightnessRange.value=100*a.v,this.opacityRange.value=100*T.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var T=document.createElement("DIV");T.style.color="red",T.style.fontWeight="bold",T.style.padding="10px",T.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(T)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(d){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(d){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var p=this;this.opacityRange.onchange=function(){p._setOpacity(this.value)},this.opacityRange.oninput=function(){p._setOpacity(this.value)},this.brightnessRange.onchange=function(){p._setBrightness(this.value)},this.brightnessRange.oninput=function(){p._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var T=this;this.drag={},this.pinch={},this.hammer=new k(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),b.onTouch(this.hammer,function(a){T._moveSelector(a)}),this.hammer.on("tap",function(a){T._moveSelector(a)}),this.hammer.on("panstart",function(a){T._moveSelector(a)}),this.hammer.on("panmove",function(a){T._moveSelector(a)}),this.hammer.on("panend",function(a){T._moveSelector(a)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var T=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(T.webkitBackingStorePixelRatio||T.mozBackingStorePixelRatio||T.msBackingStorePixelRatio||T.oBackingStorePixelRatio||T.backingStorePixelRatio||1)),T.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,p=this.colorPickerCanvas.clientHeight;T.clearRect(0,0,a,p);var d=void 0,u=void 0,g=void 0,M=void 0;this.centerCoordinates={x:.5*a,y:.5*p},this.r=.49*a;var h=2*Math.PI/360,E=1/this.r,I=void 0;for(g=0;g<360;g++)for(M=0;M<this.r;M++)d=this.centerCoordinates.x+M*Math.sin(h*g),u=this.centerCoordinates.y+M*Math.cos(h*g),I=w.HSVToRGB(.002777777777777778*g,M*E,1),T.fillStyle="rgb("+I.r+","+I.g+","+I.b+")",T.fillRect(d-.5,u-.5,2,2);T.strokeStyle="rgba(0,0,0,1)",T.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),T.stroke(),this.hueCircle=T.getImageData(0,0,a,p)}this.generated=!0}},{key:"_moveSelector",value:function(T){var a=this.colorPickerDiv.getBoundingClientRect(),u=.5*this.colorPickerDiv.clientHeight,g=.5*this.colorPickerDiv.clientWidth,M=T.center.x-a.left-g,h=T.center.y-a.top-u,f=Math.atan2(M,h),E=.98*Math.min(Math.sqrt(M*M+h*h),g),I=Math.cos(f)*E+u,F=Math.sin(f)*E+g;this.colorPickerSelector.style.top=I-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=F-.5*this.colorPickerSelector.clientWidth+"px";var V=f/(2*Math.PI);V=V<0?V+1:V;var z=E/this.r,U=w.RGBToHSV(this.color.r,this.color.g,this.color.b);U.h=V,U.s=z;var j=w.HSVToRGB(U.h,U.s,U.v);j.a=this.color.a,this.color=j,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),m}();L.default=v},function(Q,L,_){var P=_(9),y=_(2),S=_(11),D=_(12),O=_(64),A=_(65),x=_(45),k=_(67),b=_(46),w=_(106),v=_(15).printStyle,m=_(113).allOptions,c=_(113).configureOptions,T=_(71).default,a=_(15).default;function p(d,u,g,M){if(!(Array.isArray(g)||g instanceof S||g instanceof D)&&g instanceof Object){var h=M;M=g,g=h}M&&M.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:P,width:null,height:null,maxHeight:null,minHeight:null},this.options=y.deepExtend({},this.defaultOptions),this._create(d),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}},this.range=new O(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new x(this.body),this.components.push(this.timeAxis),this.currentTime=new k(this.body),this.components.push(this.currentTime),this.linegraph=new w(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(E){f.emit("click",f.getEventProperties(E))}),this.on("doubletap",function(E){f.emit("doubleClick",f.getEventProperties(E))}),this.dom.root.oncontextmenu=function(E){f.emit("contextmenu",f.getEventProperties(E))},M&&this.setOptions(M),g&&this.setGroups(g),u&&this.setItems(u),this._redraw()}(p.prototype=new A).setOptions=function(d){!0===a.validate(d,m)&&console.log("%cErrors have been found in the supplied options object.",v),A.prototype.setOptions.call(this,d)},p.prototype.setItems=function(d){var g,u=null==this.itemsData;g=d?d instanceof S||d instanceof D?d:new S(d,{type:{start:"Date",end:"Date"}}):null,this.itemsData=g,this.linegraph&&this.linegraph.setItems(g),u&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},p.prototype.setGroups=function(d){var u;u=d?d instanceof S||d instanceof D?d:new S(d):null,this.groupsData=u,this.linegraph.setGroups(u)},p.prototype.getLegend=function(d,u,g){return void 0===u&&(u=15),void 0===g&&(g=15),void 0!==this.linegraph.groups[d]?this.linegraph.groups[d].getLegend(u,g):"cannot find group:'"+d+"'"},p.prototype.isGroupVisible=function(d){return void 0!==this.linegraph.groups[d]&&this.linegraph.groups[d].visible&&(void 0===this.linegraph.options.groups.visibility[d]||1==this.linegraph.options.groups.visibility[d])},p.prototype.getDataRange=function(){var d=null,u=null;for(var g in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(g)&&1==this.linegraph.groups[g].visible)for(var M=0;M<this.linegraph.groups[g].itemsData.length;M++){var f=y.convert(this.linegraph.groups[g].itemsData[M].x,"Date").valueOf();d=null==d||d>f?f:d,u=null==u||u<f?f:u}return{min:null!=d?new Date(d):null,max:null!=u?new Date(u):null}},p.prototype.getEventProperties=function(d){var g=d.center?d.center.y:d.clientY,M=(d.center?d.center.x:d.clientX)-y.getAbsoluteLeft(this.dom.centerContainer),h=g-y.getAbsoluteTop(this.dom.centerContainer),f=this._toTime(M),E=b.customTimeFromTarget(d),I=y.getTarget(d),F=null;y.hasParent(I,this.timeAxis.dom.foreground)||this.timeAxis2&&y.hasParent(I,this.timeAxis2.dom.foreground)?F="axis":y.hasParent(I,this.linegraph.yAxisLeft.dom.frame)||y.hasParent(I,this.linegraph.yAxisRight.dom.frame)?F="data-axis":y.hasParent(I,this.linegraph.legendLeft.dom.frame)||y.hasParent(I,this.linegraph.legendRight.dom.frame)?F="legend":null!=E?F="custom-time":y.hasParent(I,this.currentTime.bar)?F="current-time":y.hasParent(I,this.dom.center)&&(F="background");var V=[],z=this.linegraph.yAxisLeft,U=this.linegraph.yAxisRight;return!z.hidden&&this.itemsData.length>0&&V.push(z.screenToValue(h)),!U.hidden&&this.itemsData.length>0&&V.push(U.screenToValue(h)),{event:d,what:F,pageX:d.srcEvent?d.srcEvent.pageX:d.pageX,pageY:d.srcEvent?d.srcEvent.pageY:d.pageY,x:M,y:h,time:f,value:V}},p.prototype._createConfigurator=function(){return new T(this,this.dom.container,c)},Q.exports=p},function(Q,L,_){L.util=_(2),L.DOMutil=_(14),L.DataSet=_(11),L.DataView=_(12),L.Queue=_(43),L.Network=_(182),L.network={Images:_(116),dotparser:_(114),gephiParser:_(115),allOptions:_(122)},L.network.convertDot=function(P){return L.network.dotparser.DOTToGraph(P)},L.network.convertGephi=function(P,y){return L.network.gephiParser.parseGephi(P,y)},L.moment=_(9),L.Hammer=_(10),L.keycharm=_(35)},function(Q,L,_){_(183);var P=_(44),y=_(2),S=_(114),D=_(115),O=_(97),A=_(184),x=_(116).default,k=_(186).default,b=_(187).default,w=_(214).default,v=_(220).default,m=_(227).default,c=_(229).default,T=_(230).default,a=_(231).default,p=_(232).default,d=_(234).default,u=_(235).default,g=_(237).default,M=_(71).default,h=_(15).default,E=_(15).printStyle,I=_(122),F=I.allOptions,V=I.configureOptions,z=_(238).default;function U(j,K,te){var oe=this;if(!(this instanceof U))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:A,clickToUse:!1},y.extend(this.options,this.defaultOptions),this.body={container:j,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new x(function(){return oe.body.emitter.emit("_requestRedraw")}),this.groups=new k,this.canvas=new T(this.body),this.selectionHandler=new d(this.body,this.canvas),this.interactionHandler=new p(this.body,this.canvas,this.selectionHandler),this.view=new a(this.body,this.canvas),this.renderer=new c(this.body,this.canvas),this.physics=new v(this.body),this.layoutEngine=new u(this.body),this.clustering=new m(this.body),this.manipulation=new g(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new b(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new w(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new z(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(te),this.setData(K)}P(U.prototype),U.prototype.setOptions=function(j){var K=this;if(void 0!==j){if(!0===h.validate(j,F)&&console.log("%cErrors have been found in the supplied options object.",E),y.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,j),j=this.layoutEngine.setOptions(j.layout,j),this.canvas.setOptions(j),this.groups.setOptions(j.groups),this.nodesHandler.setOptions(j.nodes),this.edgesHandler.setOptions(j.edges),this.physics.setOptions(j.physics),this.manipulation.setOptions(j.manipulation,j,this.options),this.interactionHandler.setOptions(j.interaction),this.renderer.setOptions(j.interaction),this.selectionHandler.setOptions(j.interaction),void 0!==j.groups&&this.body.emitter.emit("refreshNodes"),"configure"in j&&(this.configurator||(this.configurator=new M(this,this.body.container,V,this.canvas.pixelRatio)),this.configurator.setOptions(j.configure)),this.configurator&&!0===this.configurator.options.enabled){var le={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};y.deepExtend(le.nodes,this.nodesHandler.options),y.deepExtend(le.edges,this.edgesHandler.options),y.deepExtend(le.layout,this.layoutEngine.options),y.deepExtend(le.interaction,this.selectionHandler.options),y.deepExtend(le.interaction,this.renderer.options),y.deepExtend(le.interaction,this.interactionHandler.options),y.deepExtend(le.manipulation,this.manipulation.options),y.deepExtend(le.physics,this.physics.options),y.deepExtend(le.global,this.canvas.options),y.deepExtend(le.global,this.options),this.configurator.setModuleOptions(le)}void 0!==j.clickToUse?!0===j.clickToUse?void 0===this.activator&&(this.activator=new O(this.canvas.frame),this.activator.on("change",function(){K.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},U.prototype._updateVisibleIndices=function(){var j=this.body.nodes,K=this.body.edges;for(var te in this.body.nodeIndices=[],this.body.edgeIndices=[],j)j.hasOwnProperty(te)&&!this.clustering._isClusteredNode(te)&&!1===j[te].options.hidden&&this.body.nodeIndices.push(j[te].id);for(var oe in K)if(K.hasOwnProperty(oe)){var le=K[oe],pe=j[le.fromId],Ee=j[le.toId],Ce=void 0!==pe&&void 0!==Ee;!this.clustering._isClusteredEdge(oe)&&!1===le.options.hidden&&Ce&&!1===pe.options.hidden&&!1===Ee.options.hidden&&this.body.edgeIndices.push(le.id)}},U.prototype.bindEventListeners=function(){var j=this;this.body.emitter.on("_dataChanged",function(){j.edgesHandler._updateState(),j.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){j.clustering._updateState(),j._updateVisibleIndices(),j._updateValueRange(j.body.nodes),j._updateValueRange(j.body.edges),j.body.emitter.emit("startSimulation"),j.body.emitter.emit("_requestRedraw")})},U.prototype.setData=function(j){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),j&&j.dot&&(j.nodes||j.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(j&&j.options),j&&j.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var K=S.DOTToGraph(j.dot);this.setData(K)}else if(j&&j.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var te=D.parseGephi(j.gephi);this.setData(te)}else this.nodesHandler.setData(j&&j.nodes,!0),this.edgesHandler.setData(j&&j.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},U.prototype.destroy=function(){for(var j in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)!this.body.nodes.hasOwnProperty(j)||delete this.body.nodes[j];for(var K in this.body.edges)!this.body.edges.hasOwnProperty(K)||delete this.body.edges[K];y.recursiveDOMDelete(this.body.container)},U.prototype._updateValueRange=function(j){var K,te=void 0,oe=void 0,le=0;for(K in j)if(j.hasOwnProperty(K)){var pe=j[K].getValue();void 0!==pe&&(te=void 0===te?pe:Math.min(pe,te),oe=void 0===oe?pe:Math.max(pe,oe),le+=pe)}if(void 0!==te&&void 0!==oe)for(K in j)j.hasOwnProperty(K)&&j[K].setValueRange(te,oe,le)},U.prototype.isActive=function(){return!this.activator||this.activator.active},U.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},U.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},U.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},U.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},U.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},U.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},U.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},U.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},U.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},U.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},U.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},U.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},U.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},U.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},U.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},U.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},U.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},U.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},U.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},U.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},U.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},U.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},U.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},U.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},U.prototype.getConnectedNodes=function(j){return void 0!==this.body.nodes[j]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},U.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},U.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},U.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},U.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},U.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},U.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},U.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},U.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},U.prototype.getNodeAt=function(){var j=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==j&&void 0!==j.id?j.id:j},U.prototype.getEdgeAt=function(){var j=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==j&&void 0!==j.id?j.id:j},U.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},U.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},U.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},U.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},U.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},U.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},U.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},U.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},U.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},U.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},U.prototype.getOptionsFromConfigurator=function(){var j={};return this.configurator&&(j=this.configurator.getOptions.apply(this.configurator)),j},Q.exports=U},function(Q,L,_){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(P,y,S){this.beginPath(),this.arc(P,y,S,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(P,y,S){this.beginPath(),this.rect(P-S,y-S,2*S,2*S),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(P,y,S){this.beginPath(),y+=.275*(S*=1.15);var D=2*S,O=D/2,A=Math.sqrt(3)/6*D,x=Math.sqrt(D*D-O*O);this.moveTo(P,y-(x-A)),this.lineTo(P+O,y+A),this.lineTo(P-O,y+A),this.lineTo(P,y-(x-A)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(P,y,S){this.beginPath(),y-=.275*(S*=1.15);var D=2*S,O=D/2,A=Math.sqrt(3)/6*D,x=Math.sqrt(D*D-O*O);this.moveTo(P,y+(x-A)),this.lineTo(P+O,y-A),this.lineTo(P-O,y-A),this.lineTo(P,y+(x-A)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(P,y,S){this.beginPath(),y+=.1*(S*=.82);for(var D=0;D<10;D++){var O=D%2==0?1.3*S:.5*S;this.lineTo(P+O*Math.sin(2*D*Math.PI/10),y-O*Math.cos(2*D*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(P,y,S){this.beginPath(),this.lineTo(P,y+S),this.lineTo(P+S,y),this.lineTo(P,y-S),this.lineTo(P-S,y),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(P,y,S,D,O){var A=Math.PI/180;S-2*O<0&&(O=S/2),D-2*O<0&&(O=D/2),this.beginPath(),this.moveTo(P+O,y),this.lineTo(P+S-O,y),this.arc(P+S-O,y+O,O,270*A,360*A,!1),this.lineTo(P+S,y+D-O),this.arc(P+S-O,y+D-O,O,0,90*A,!1),this.lineTo(P+O,y+D),this.arc(P+O,y+D-O,O,90*A,180*A,!1),this.lineTo(P,y+O),this.arc(P+O,y+O,O,180*A,270*A,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(P,y,S,D){var O=.5522848,A=S/2*O,x=D/2*O,k=P+S,b=y+D,w=P+S/2,v=y+D/2;this.beginPath(),this.moveTo(P,v),this.bezierCurveTo(P,v-x,w-A,y,w,y),this.bezierCurveTo(w+A,y,k,v-x,k,v),this.bezierCurveTo(k,v+x,w+A,b,w,b),this.bezierCurveTo(w-A,b,P,v+x,P,v),this.closePath()},CanvasRenderingContext2D.prototype.database=function(P,y,S,D){var x=D*(1/3),k=.5522848,b=S/2*k,w=x/2*k,v=P+S,m=y+x,c=P+S/2,T=y+x/2,a=y+(D-x/2),p=y+D;this.beginPath(),this.moveTo(v,T),this.bezierCurveTo(v,T+w,c+b,m,c,m),this.bezierCurveTo(c-b,m,P,T+w,P,T),this.bezierCurveTo(P,T-w,c-b,y,c,y),this.bezierCurveTo(c+b,y,v,T-w,v,T),this.lineTo(v,a),this.bezierCurveTo(v,a+w,c+b,p,c,p),this.bezierCurveTo(c-b,p,P,a+w,P,a),this.lineTo(P,T)},CanvasRenderingContext2D.prototype.dashedLine=function(P,y,S,D,O){this.beginPath(),this.moveTo(P,y);for(var A=O.length,x=S-P,k=D-y,b=k/x,w=Math.sqrt(x*x+k*k),v=0,m=!0,c=0,T=O[0];w>=.1;)(T=O[v++%A])>w&&(T=w),c=Math.sqrt(T*T/(1+b*b)),P+=c=x<0?-c:c,y+=b*c,!0===m?this.lineTo(P,y):this.moveTo(P,y),w-=T,m=!m},CanvasRenderingContext2D.prototype.hexagon=function(P,y,S){this.beginPath();var O=2*Math.PI/6;this.moveTo(P+S,y);for(var A=1;A<6;A++)this.lineTo(P+S*Math.cos(O*A),y+S*Math.sin(O*A));this.closePath()})},function(Q,L,_){L.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},L.en_EN=L.en,L.en_US=L.en,L.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},L.de_DE=L.de,L.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},L.es_ES=L.es,L.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},L.it_IT=L.it,L.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},L.nl_NL=L.nl,L.nl_BE=L.nl,L["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},L["pt-BR"]=L["pt-br"],L.pt_BR=L["pt-br"],L.pt_br=L["pt-br"],L.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},L.ru_RU=L.ru,L.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},L.zh_CN=L.cn},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(){(0,y.default)(this,x),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,D.default)(x,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var b=this.image.width,w=this.image.height;this.width=b,this.height=w;var v=Math.floor(w/2),m=Math.floor(w/4),c=Math.floor(w/8),T=Math.floor(w/16),a=Math.floor(b/2),p=Math.floor(b/4),d=Math.floor(b/8),u=Math.floor(b/16);this.canvas.width=3*p,this.canvas.height=v,this.coordinates=[[0,0,a,v],[a,0,p,m],[a,m,d,c],[5*d,m,u,T]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var b=this.canvas.getContext("2d"),w=this.coordinates[0];b.drawImage(this.image,w[0],w[1],w[2],w[3]);for(var v=1;v<this.NUM_ITERATIONS;v++){var m=this.coordinates[v-1],c=this.coordinates[v];b.drawImage(this.canvas,m[0],m[1],m[2],m[3],c[0],c[1],c[2],c[3])}}},{key:"drawImageAtPosition",value:function(b,w,v,m,c,T){if(this.initialized())if(w>2){w*=.5;for(var a=0;w>2&&a<this.NUM_ITERATIONS;)w*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var p=this.coordinates[a];b.drawImage(this.canvas,p[0],p[1],p[2],p[3],v,m,c,T)}else b.drawImage(this.image,v,m,c,T)}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(k){return k&&k.__esModule?k:{default:k}}var A=_(2),x=function(){function k(){(0,y.default)(this,k),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},A.extend(this.options,this.defaultOptions)}return(0,D.default)(k,[{key:"setOptions",value:function(w){var v=["useDefaultGroups"];if(void 0!==w)for(var m in w)w.hasOwnProperty(m)&&-1===v.indexOf(m)&&this.add(m,w[m])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(w){var m=this.groups[w];if(void 0===m&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var c=this.groupIndex%this.groupsArray.length;this.groupIndex++,(m={}).color=this.groups[this.groupsArray[c]],this.groups[w]=m}else{var T=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(m={}).color=this.defaultGroups[T],this.groups[w]=m}return m}},{key:"add",value:function(w,v){return this.groups[w]=v,this.groupsArray.push(w),v}}]),k}();L.default=x},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(v){return v&&v.__esModule?v:{default:v}}var A=_(2),x=_(11),k=_(12),b=_(47).default,w=function(){function v(m,c,T,a){var p=this;if((0,y.default)(this,v),this.body=m,this.images=c,this.groups=T,this.layoutEngine=a,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(u,g){p.add(g.items)},update:function(u,g){p.update(g.items,g.data,g.oldData)},remove:function(u,g){p.remove(g.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,g,M,h){return g===u?.5:Math.max(0,1/(g-u)*(h-u))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=A.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,D.default)(v,[{key:"bindEventListeners",value:function(){var c=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){A.forEach(c.nodesListeners,function(T,a){c.body.data.nodes&&c.body.data.nodes.off(a,T)}),delete c.body.functions.createNode,delete c.nodesListeners.add,delete c.nodesListeners.update,delete c.nodesListeners.remove,delete c.nodesListeners})}},{key:"setOptions",value:function(c){if(void 0!==c){if(b.parseOptions(this.options,c),void 0!==c.shape)for(var T in this.body.nodes)this.body.nodes.hasOwnProperty(T)&&this.body.nodes[T].updateShape();if(void 0!==c.font)for(var a in this.body.nodes)this.body.nodes.hasOwnProperty(a)&&(this.body.nodes[a].updateLabelModule(),this.body.nodes[a].needsRefresh());if(void 0!==c.size)for(var p in this.body.nodes)this.body.nodes.hasOwnProperty(p)&&this.body.nodes[p].needsRefresh();(void 0!==c.hidden||void 0!==c.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(c){var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.body.data.nodes;if(c instanceof x||c instanceof k)this.body.data.nodes=c;else if(Array.isArray(c))this.body.data.nodes=new x,this.body.data.nodes.add(c);else{if(c)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new x}if(a&&A.forEach(this.nodesListeners,function(u,g){a.off(g,u)}),this.body.nodes={},this.body.data.nodes){var p=this;A.forEach(this.nodesListeners,function(u,g){p.body.data.nodes.on(g,u)});var d=this.body.data.nodes.getIds();this.add(d,!0)}!1===T&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(c){for(var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=void 0,p=[],d=0;d<c.length;d++){var u=this.body.data.nodes.get(a=c[d]),g=this.create(u);p.push(g),this.body.nodes[a]=g}this.layoutEngine.positionInitially(p),!1===T&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(c,T,a){for(var p=this.body.nodes,d=!1,u=0;u<c.length;u++){var g=c[u],M=p[g],h=T[u];void 0!==M?M.setOptions(h)&&(d=!0):(d=!0,M=this.create(h),p[g]=M)}!d&&void 0!==a&&(d=T.some(function(f,E){var I=a[E];return I&&I.level!==f.level})),this.body.emitter.emit(!0===d?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(c){for(var T=this.body.nodes,a=0;a<c.length;a++)delete T[c[a]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(c){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b)(c,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var c=this,T=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A.forEach(this.body.nodes,function(a,p){var d=c.body.data.nodes.get(p);void 0!==d&&(!0===T&&a.setOptions({x:null,y:null}),a.setOptions({fixed:!1}),a.setOptions(d))})}},{key:"getPositions",value:function(c){var T={};if(void 0!==c){if(!0===Array.isArray(c)){for(var a=0;a<c.length;a++)if(void 0!==this.body.nodes[c[a]]){var p=this.body.nodes[c[a]];T[c[a]]={x:Math.round(p.x),y:Math.round(p.y)}}}else if(void 0!==this.body.nodes[c]){var d=this.body.nodes[c];T[c]={x:Math.round(d.x),y:Math.round(d.y)}}}else for(var u=0;u<this.body.nodeIndices.length;u++){var g=this.body.nodes[this.body.nodeIndices[u]];T[this.body.nodeIndices[u]]={x:Math.round(g.x),y:Math.round(g.y)}}return T}},{key:"storePositions",value:function(){var c=[],T=this.body.data.nodes.getDataSet();for(var a in T._data)if(T._data.hasOwnProperty(a)){var p=this.body.nodes[a];(T._data[a].x!=Math.round(p.x)||T._data[a].y!=Math.round(p.y))&&c.push({id:p.id,x:Math.round(p.x),y:Math.round(p.y)})}T.update(c)}},{key:"getBoundingBox",value:function(c){if(void 0!==this.body.nodes[c])return this.body.nodes[c].shape.boundingBox}},{key:"getConnectedNodes",value:function(c,T){var a=[];if(void 0!==this.body.nodes[c])for(var p=this.body.nodes[c],d={},u=0;u<p.edges.length;u++){var g=p.edges[u];"to"!==T&&g.toId==p.id?void 0===d[g.fromId]&&(a.push(g.fromId),d[g.fromId]=!0):"from"!==T&&g.fromId==p.id&&void 0===d[g.toId]&&(a.push(g.toId),d[g.toId]=!0)}return a}},{key:"getConnectedEdges",value:function(c){var T=[];if(void 0!==this.body.nodes[c])for(var a=this.body.nodes[c],p=0;p<a.edges.length;p++)T.push(a.edges[p].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",c);return T}},{key:"moveNode",value:function(c,T,a){var p=this;void 0!==this.body.nodes[c]?(this.body.nodes[c].x=Number(T),this.body.nodes[c].y=Number(a),setTimeout(function(){p.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",c)}}]),v}();L.default=w},function(Q,L,_){Q.exports={default:_(189),__esModule:!0}},function(Q,L,_){_(49),_(60),Q.exports=_(190)},function(Q,L,_){var P=_(86),y=_(13)("iterator"),S=_(31);Q.exports=_(7).isIterable=function(D){var O=Object(D);return void 0!==O[y]||"@@iterator"in O||S.hasOwnProperty(P(O))}},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(b){return b&&b.__esModule?b:{default:b}}var A=_(192).default,x=_(48).default,k=function(){function b(w,v,m,c){var T=this;(0,y.default)(this,b),this.ctx=w,this.parent=v,this.lines=new A(function(d,u){if(void 0===d)return 0;var g=T.parent.getFormattingValues(w,m,c,u),M=0;return""!==d&&(M=T.ctx.measureText(d).width),{width:M,values:g}})}return(0,D.default)(b,[{key:"process",value:function(v){if(!x.isValidLabel(v))return this.lines.finalize();var m=this.parent.fontOptions;v=(v=v.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var c=String(v).split("\n"),T=c.length;if(m.multi)for(var a=0;a<T;a++){var p=this.splitBlocks(c[a],m.multi);if(void 0!==p){if(0===p.length){this.lines.newLine("");continue}if(m.maxWdt>0)for(var d=0;d<p.length;d++)this.splitStringIntoLines(p[d].text,p[d].mod,!0);else for(var M=0;M<p.length;M++)this.lines.append(p[M].text,p[M].mod);this.lines.newLine()}}else if(m.maxWdt>0)for(var E=0;E<T;E++)this.splitStringIntoLines(c[E]);else for(var I=0;I<T;I++)this.lines.newLine(c[I]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(v){var m="none";return"markdown"===v||"md"===v?m="markdown":(!0===v||"html"===v)&&(m="html"),m}},{key:"splitHtmlBlocks",value:function(v){for(var m=[],c={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":c.bold&&c.ital?"boldital":c.bold?"bold":c.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(m.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(c.spacing=!0),c.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=a&&(this.buffer+=a)}};c.position<v.length;){var T=v.charAt(c.position);/[ \t]/.test(T)?c.mono?c.add(T):c.spacing=!0:/</.test(T)?c.mono||c.bold||!/<b>/.test(v.substr(c.position,3))?c.mono||c.ital||!/<i>/.test(v.substr(c.position,3))?!c.mono&&/<code>/.test(v.substr(c.position,6))?(c.emitBlock(),c.mono=!0,c.modStack.unshift("mono"),c.position+=5):!c.mono&&"bold"===c.mod()&&/<\/b>/.test(v.substr(c.position,4))?(c.emitBlock(),c.bold=!1,c.modStack.shift(),c.position+=3):!c.mono&&"ital"===c.mod()&&/<\/i>/.test(v.substr(c.position,4))?(c.emitBlock(),c.ital=!1,c.modStack.shift(),c.position+=3):"mono"===c.mod()&&/<\/code>/.test(v.substr(c.position,7))?(c.emitBlock(),c.mono=!1,c.modStack.shift(),c.position+=6):c.add(T):(c.emitBlock(),c.ital=!0,c.modStack.unshift("ital"),c.position+=2):(c.emitBlock(),c.bold=!0,c.modStack.unshift("bold"),c.position+=2):/&/.test(T)?/&lt;/.test(v.substr(c.position,4))?(c.add("<"),c.position+=3):/&amp;/.test(v.substr(c.position,5))?(c.add("&"),c.position+=4):c.add("&"):c.add(T),c.position++}return c.emitBlock(),m}},{key:"splitMarkdownBlocks",value:function(v){for(var m=[],c={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":c.bold&&c.ital?"boldital":c.bold?"bold":c.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(m.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(c.spacing=!0),c.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=a&&(this.buffer+=a)}};c.position<v.length;){var T=v.charAt(c.position);/[ \t]/.test(T)?(c.mono?c.add(T):c.spacing=!0,c.beginable=!0):/\\/.test(T)?c.position<v.length+1&&(c.position++,T=v.charAt(c.position),/ \t/.test(T)?c.spacing=!0:(c.add(T),c.beginable=!1)):c.mono||c.bold||!c.beginable&&!c.spacing||!/\*/.test(T)?c.mono||c.ital||!c.beginable&&!c.spacing||!/\_/.test(T)?!c.mono&&(c.beginable||c.spacing)&&/`/.test(T)?(c.emitBlock(),c.mono=!0,c.modStack.unshift("mono")):!c.mono&&"bold"===c.mod()&&/\*/.test(T)?c.position===v.length-1||/[.,_` \t\n]/.test(v.charAt(c.position+1))?(c.emitBlock(),c.bold=!1,c.modStack.shift()):c.add(T):!c.mono&&"ital"===c.mod()&&/\_/.test(T)?c.position===v.length-1||/[.,*` \t\n]/.test(v.charAt(c.position+1))?(c.emitBlock(),c.ital=!1,c.modStack.shift()):c.add(T):c.mono&&"mono"===c.mod()&&/`/.test(T)?c.position===v.length-1||/[.,*_ \t\n]/.test(v.charAt(c.position+1))?(c.emitBlock(),c.mono=!1,c.modStack.shift()):c.add(T):(c.add(T),c.beginable=!1):(c.emitBlock(),c.ital=!0,c.modStack.unshift("ital")):(c.emitBlock(),c.bold=!0,c.modStack.unshift("bold")),c.position++}return c.emitBlock(),m}},{key:"splitBlocks",value:function(v,m){var c=this.decodeMarkupSystem(m);return"none"===c?[{text:v,mod:"normal"}]:"markdown"===c?this.splitMarkdownBlocks(v):"html"===c?this.splitHtmlBlocks(v):void 0}},{key:"overMaxWidth",value:function(v){var m=this.ctx.measureText(v).width;return this.lines.curWidth()+m>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(v){for(var m="",c=0;c<v.length;){var a=m+(""===m?"":" ")+v[c];if(this.overMaxWidth(a))break;m=a,c++}return c}},{key:"getLongestFitWord",value:function(v){for(var m=0;m<v.length&&!this.overMaxWidth(v.slice(0,m));)m++;return m}},{key:"splitStringIntoLines",value:function(v){for(var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],T=(v=(v=v.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");T.length>0;){var a=this.getLongestFit(T);if(0===a){var p=T[0],d=this.getLongestFitWord(p);this.lines.newLine(p.slice(0,d),m),T[0]=p.slice(d)}else{var u=a;" "===T[a-1]?a--:" "===T[u]&&u++;var g=T.slice(0,a).join("");a==T.length&&c?this.lines.append(g,m):this.lines.newLine(g,m),T=T.slice(u)}}}}]),b}();L.default=k},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=x(_(90)),D=x(_(0)),A=x(_(1));function x(b){return b&&b.__esModule?b:{default:b}}var k=function(){function b(w){(0,D.default)(this,b),this.measureText=w,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,A.default)(b,[{key:"_add",value:function(v,m){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[v]&&(this.lines[v]={width:0,height:0,blocks:[]});var T=m;(void 0===m||""===m)&&(T=" ");var a=this.measureText(T,c),p=(0,y.default)({},a.values);p.text=m,p.width=a.width,p.mod=c,(void 0===m||""===m)&&(p.width=0),this.lines[v].blocks.push(p),this.lines[v].width+=p.width}},{key:"curWidth",value:function(){var v=this.lines[this.current];return void 0===v?0:v.width}},{key:"append",value:function(v){this._add(this.current,v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(v){this._add(this.current,v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var v=0;v<this.lines.length;v++){var m=this.lines[v],c=0;if(void 0!==m.blocks)for(var T=0;T<m.blocks.length;T++){var a=m.blocks[T];c<a.height&&(c=a.height)}m.height=c}}},{key:"determineLabelSize",value:function(){for(var v=0,m=0,c=0;c<this.lines.length;c++){var T=this.lines[c];T.width>v&&(v=T.width),m+=T.height}this.width=v,this.height=m}},{key:"removeEmptyBlocks",value:function(){for(var v=[],m=0;m<this.lines.length;m++){var c=this.lines[m];if(0!==c.blocks.length&&(m!==this.lines.length-1||0!==c.width)){var T={};(0,y.default)(T,c),T.blocks=[];for(var a=void 0,p=[],d=0;d<c.blocks.length;d++){var u=c.blocks[d];0!==u.width?p.push(u):void 0===a&&(a=u)}0===p.length&&void 0!==a&&p.push(a),T.blocks=p,v.push(T)}}return v}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var v=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:v}}}]),b}();L.default=k},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(g,M)){var h=this.getDimensionsFromLabel(u,g,M);this.width=h.width+this.margin.right+this.margin.left,this.height=h.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(u,g,M,h,f,E){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this.initContextForDraw(u,E),u.roundRect(this.left,this.top,this.width,this.height,E.borderRadius),this.performFill(u,E),this.updateBoundingBox(g,M,u,h,f),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,h,f)}},{key:"updateBoundingBox",value:function(u,g,M,h,f){this._updateBoundingBox(u,g,M,h,f),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(u,g){this.resize(u);var M=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(g)),Math.abs(this.height/2/Math.sin(g)))+M}}]),p}(c(_(23)).default);L.default=T},function(Q,L,_){_(195),Q.exports=_(7).Object.getPrototypeOf},function(Q,L,_){var P=_(41),y=_(85);_(87)("getPrototypeOf",function(){return function(D){return y(P(D))}})},function(Q,L,_){Q.exports={default:_(197),__esModule:!0}},function(Q,L,_){_(198),Q.exports=_(7).Object.setPrototypeOf},function(Q,L,_){var P=_(17);P(P.S,"Object",{setPrototypeOf:_(199).set})},function(Q,L,_){var P=_(32),y=_(27),S=function(D,O){if(y(D),!P(O)&&null!==O)throw TypeError(O+": can't set as prototype!")};Q.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(D,O,A){try{(A=_(80)(Function.call,_(89).f(Object.prototype,"__proto__").set,2))(D,[]),O=!(D instanceof Array)}catch(x){O=!0}return function(k,b){return S(k,b),O?k.__proto__=b:A(k,b),k}}({},!1):void 0),check:S}},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(g,M)){var h=this.getDimensionsFromLabel(u,g,M),f=Math.max(h.width+this.margin.right+this.margin.left,h.height+this.margin.top+this.margin.bottom);this.options.size=f/2,this.width=f,this.height=f,this.radius=this.width/2}}},{key:"draw",value:function(u,g,M,h,f,E){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this._drawRawCircle(u,g,M,E),this.updateBoundingBox(g,M),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,M,h,f)}},{key:"updateBoundingBox",value:function(u,g){this.boundingBox.top=g-this.options.size,this.boundingBox.left=u-this.options.size,this.boundingBox.right=u+this.options.size,this.boundingBox.bottom=g+this.options.size}},{key:"distanceToBorder",value:function(u,g){return this.resize(u),.5*this.width}}]),p}(c(_(73)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g,M,h){(0,D.default)(this,p);var f=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return f.setImages(M,h),f}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var f=2*this.options.size;return this.width=f,this.height=f,void(this.radius=.5*this.width)}this.needsRefresh(g,M)&&this._resizeImage()}},{key:"draw",value:function(u,g,M,h,f,E){this.switchImages(h),this.resize(),this.left=g-this.width/2,this.top=M-this.height/2,this._drawRawCircle(u,g,M,E),u.save(),u.clip(),this._drawImageAtPosition(u,E),u.restore(),this._drawImageLabel(u,g,M,h,f),this.updateBoundingBox(g,M)}},{key:"updateBoundingBox",value:function(u,g){this.boundingBox.top=g-this.options.size,this.boundingBox.left=u-this.options.size,this.boundingBox.right=u+this.options.size,this.boundingBox.bottom=g+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(u,g){return this.resize(u),.5*this.width}}]),p}(c(_(73)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u,g,M){if(this.needsRefresh(g,M)){var f=this.getDimensionsFromLabel(u,g,M).width+this.margin.right+this.margin.left;this.width=f,this.height=f,this.radius=this.width/2}}},{key:"draw",value:function(u,g,M,h,f,E){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this.initContextForDraw(u,E),u.database(g-this.width/2,M-this.height/2,this.width,this.height),this.performFill(u,E),this.updateBoundingBox(g,M,u,h,f),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,h,f)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(23)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,E){this._drawShape(u,"diamond",4,g,M,h,f,E)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(24)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,E){this._drawShape(u,"circle",2,g,M,h,f,E)}},{key:"distanceToBorder",value:function(u,g){return this.resize(u),this.options.size}}]),p}(c(_(24)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(g,M)){var h=this.getDimensionsFromLabel(u,g,M);this.height=2*h.height,this.width=h.width+h.height,this.radius=.5*this.width}}},{key:"draw",value:function(u,g,M,h,f,E){this.resize(u,h,f),this.left=g-.5*this.width,this.top=M-.5*this.height,this.initContextForDraw(u,E),u.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(u,E),this.updateBoundingBox(g,M,u,h,f),this.labelModule.draw(u,g,M,h,f)}},{key:"distanceToBorder",value:function(u,g){this.resize(u);var M=.5*this.width,h=.5*this.height,f=Math.sin(g)*M,E=Math.cos(g)*h;return M*h/Math.sqrt(f*f+E*E)}}]),p}(c(_(23)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u,g,M){this.needsRefresh(g,M)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(u,g,M,h,f,E){this.resize(u,h,f),this.options.icon.size=this.options.icon.size||50,this.left=g-this.width/2,this.top=M-this.height/2,this._icon(u,g,M,h,f,E),void 0!==this.options.label&&this.labelModule.draw(u,this.left+this.iconSize.width/2+this.margin.left,M+this.height/2+5,h),this.updateBoundingBox(g,M)}},{key:"updateBoundingBox",value:function(u,g){if(this.boundingBox.top=g-.5*this.options.icon.size,this.boundingBox.left=u-.5*this.options.icon.size,this.boundingBox.right=u+.5*this.options.icon.size,this.boundingBox.bottom=g+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(u,g,M,h,f,E){var I=Number(this.options.icon.size);void 0!==this.options.icon.code?(u.font=(h?"bold ":"")+I+"px "+this.options.icon.face,u.fillStyle=this.options.icon.color||"black",u.textAlign="center",u.textBaseline="middle",this.enableShadow(u,E),u.fillText(this.options.icon.code,g,M),this.disableShadow(u,E)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(23)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g,M,h){(0,D.default)(this,p);var f=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return f.setImages(M,h),f}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var f=2*this.options.size;return this.width=f,void(this.height=f)}this.needsRefresh(g,M)&&this._resizeImage()}},{key:"draw",value:function(u,g,M,h,f,E){this.switchImages(h),this.resize(),this.left=g-this.width/2,this.top=M-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(u.lineWidth=Math.min(this.width,(h?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),u.beginPath(),u.strokeStyle=h?this.options.color.highlight.border:f?this.options.color.hover.border:this.options.color.border,u.fillStyle=h?this.options.color.highlight.background:f?this.options.color.hover.background:this.options.color.background,u.rect(this.left-.5*u.lineWidth,this.top-.5*u.lineWidth,this.width+u.lineWidth,this.height+u.lineWidth),u.fill(),this.performStroke(u,E),u.closePath()),this._drawImageAtPosition(u,E),this._drawImageLabel(u,g,M,h,f),this.updateBoundingBox(g,M)}},{key:"updateBoundingBox",value:function(u,g){this.resize(),this._updateBoundingBox(u,g),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(73)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,E){this._drawShape(u,"square",2,g,M,h,f,E)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(24)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,E){this._drawShape(u,"hexagon",4,g,M,h,f,E)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(24)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,E){this._drawShape(u,"star",4,g,M,h,f,E)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(24)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u,g,M){this.needsRefresh(g,M)&&(this.textSize=this.labelModule.getTextSize(u,g,M),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(u,g,M,h,f,E){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this.enableShadow(u,E),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,h,f),this.disableShadow(u,E),this.updateBoundingBox(g,M,u,h,f)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(23)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,E){this._drawShape(u,"triangle",3,g,M,h,f,E)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(24)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,E){this._drawShape(u,"triangleDown",3,g,M,h,f,E)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(_(24)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(v){return v&&v.__esModule?v:{default:v}}var A=_(2),x=_(11),k=_(12),b=_(74).default,w=function(){function v(m,c,T){var a=this;(0,y.default)(this,v),this.body=m,this.images=c,this.groups=T,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(d,u){a.add(u.items)},update:function(d,u){a.update(u.items)},remove:function(d,u){a.remove(u.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(d,u,g,M){return u===d?.5:Math.max(0,1/(u-d)*(M-d))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},A.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,D.default)(v,[{key:"bindEventListeners",value:function(){var c=this;this.body.emitter.on("_forceDisableDynamicCurves",function(T){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===T&&(T="continuous");var p=!1;for(var d in c.body.edges)if(c.body.edges.hasOwnProperty(d)){var u=c.body.edges[d],g=c.body.data.edges._data[d];if(void 0!==g){var M=g.smooth;void 0!==M&&!0===M.enabled&&"dynamic"===M.type&&(u.setOptions(void 0===T?{smooth:!1}:{smooth:{type:T}}),p=!0)}}!0===a&&!0===p&&c.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){c.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){A.forEach(c.edgesListeners,function(T,a){c.body.data.edges&&c.body.data.edges.off(a,T)}),delete c.body.functions.createEdge,delete c.edgesListeners.add,delete c.edgesListeners.update,delete c.edgesListeners.remove,delete c.edgesListeners})}},{key:"setOptions",value:function(c){if(void 0!==c){b.parseOptions(this.options,c,!0,this.defaultOptions,!0);var T=!1;if(void 0!==c.smooth)for(var a in this.body.edges)this.body.edges.hasOwnProperty(a)&&(T=this.body.edges[a].updateEdgeType()||T);if(void 0!==c.font)for(var p in this.body.edges)this.body.edges.hasOwnProperty(p)&&this.body.edges[p].updateLabelModule();(void 0!==c.hidden||void 0!==c.physics||!0===T)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(c){var T=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=this.body.data.edges;if(c instanceof x||c instanceof k)this.body.data.edges=c;else if(Array.isArray(c))this.body.data.edges=new x,this.body.data.edges.add(c);else{if(c)throw new TypeError("Array or DataSet expected");this.body.data.edges=new x}if(p&&A.forEach(this.edgesListeners,function(u,g){p.off(g,u)}),this.body.edges={},this.body.data.edges){A.forEach(this.edgesListeners,function(u,g){T.body.data.edges.on(g,u)});var d=this.body.data.edges.getIds();this.add(d,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===a&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(c){for(var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.body.edges,p=this.body.data.edges,d=0;d<c.length;d++){var u=c[d],g=a[u];g&&g.disconnect();var M=p.get(u,{showInternalIds:!0});a[u]=this.create(M)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===T&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(c){for(var T=this.body.edges,a=this.body.data.edges,p=!1,d=0;d<c.length;d++){var u=c[d],g=a.get(u),M=T[u];void 0!==M?(M.disconnect(),p=M.setOptions(g)||p,M.connect()):(this.body.edges[u]=this.create(g),p=!0)}!0===p?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(c){var T=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==c.length){var a=this.body.edges;A.forEach(c,function(p){var d=a[p];void 0!==d&&d.remove()}),T&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var c=this;A.forEach(this.body.edges,function(T,a){var p=c.body.data.edges._data[a];void 0!==p&&T.setOptions(p)})}},{key:"create",value:function(c){return new b(c,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var c,T=this.body.nodes,a=this.body.edges;for(c in T)T.hasOwnProperty(c)&&(T[c].edges=[]);for(c in a)if(a.hasOwnProperty(c)){var p=a[c];p.from=null,p.to=null,p.connect()}}},{key:"getConnectedNodes",value:function(c){var T=[];if(void 0!==this.body.edges[c]){var a=this.body.edges[c];void 0!==a.fromId&&T.push(a.fromId),void 0!==a.toId&&T.push(a.toId)}return T}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var c=this,T=[];A.forEach(this.body.edges,function(a,p){var d=c.body.nodes[a.toId],u=c.body.nodes[a.fromId];void 0!==d&&!0===d.isCluster||void 0!==u&&!0===u.isCluster||(void 0===d||void 0===u)&&T.push(p)}),this.remove(T,!1)}},{key:"_addMissingEdges",value:function(){var c=this.body.edges,a=[];this.body.data.edges.forEach(function(p,d){void 0===c[d]&&a.push(d)}),this.add(a,!0)}}]),v}();L.default=w},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=a(_(30)),D=a(_(3)),A=a(_(0)),k=a(_(1)),w=a(_(4)),m=a(_(5));function a(d){return d&&d.__esModule?d:{default:d}}var p=function(d){function u(g,M,h){return(0,A.default)(this,u),(0,w.default)(this,(u.__proto__||(0,D.default)(u)).call(this,g,M,h))}return(0,m.default)(u,d),(0,k.default)(u,[{key:"_line",value:function(M,h,f){this._bezierCurve(M,h,f[0],f[1])}},{key:"_getViaCoordinates",value:function(){var M=this.from.x-this.to.x,h=this.from.y-this.to.y,f=void 0,E=void 0,I=void 0,F=void 0,V=this.options.smooth.roundness;return(Math.abs(M)>Math.abs(h)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(E=this.from.y,F=this.to.y,f=this.from.x-V*M,I=this.to.x+V*M):(E=this.from.y-V*h,F=this.to.y+V*h,f=this.from.x,I=this.to.x),[{x:f,y:E},{x:I,y:F}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(M,h){return this._findBorderPositionBezier(M,h)}},{key:"_getDistanceToEdge",value:function(M,h,f,E,I,F){var V=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),z=(0,y.default)(V,2);return this._getDistanceToBezierEdge(M,h,f,E,I,F,z[0],z[1])}},{key:"getPoint",value:function(M){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),f=(0,y.default)(h,2),E=f[0],I=f[1],F=M,V=[];return V[0]=Math.pow(1-F,3),V[1]=3*F*Math.pow(1-F,2),V[2]=3*Math.pow(F,2)*(1-F),V[3]=Math.pow(F,3),{x:V[0]*this.fromPoint.x+V[1]*E.x+V[2]*I.x+V[3]*this.toPoint.x,y:V[0]*this.fromPoint.y+V[1]*E.y+V[2]*I.y+V[3]*this.toPoint.y}}}]),u}(a(_(216)).default);L.default=p},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_getDistanceToBezierEdge",value:function(u,g,M,h,f,E,I,F){var V=1e9,z=void 0,U=void 0,j=void 0,K=void 0,te=void 0,oe=u,le=g,pe=[0,0,0,0];for(U=1;U<10;U++)j=.1*U,pe[0]=Math.pow(1-j,3),pe[1]=3*j*Math.pow(1-j,2),pe[2]=3*Math.pow(j,2)*(1-j),pe[3]=Math.pow(j,3),K=pe[0]*u+pe[1]*I.x+pe[2]*F.x+pe[3]*M,te=pe[0]*g+pe[1]*I.y+pe[2]*F.y+pe[3]*h,U>0&&(V=(z=this._getDistanceToLine(oe,le,K,te,f,E))<V?z:V),oe=K,le=te;return V}}]),p}(c(_(75)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=a(_(30)),D=a(_(3)),A=a(_(0)),k=a(_(1)),w=a(_(4)),m=a(_(5));function a(d){return d&&d.__esModule?d:{default:d}}var p=function(d){function u(g,M,h){(0,A.default)(this,u);var f=(0,w.default)(this,(u.__proto__||(0,D.default)(u)).call(this,g,M,h));return f._boundFunction=function(){f.positionBezierNode()},f.body.emitter.on("_repositionBezierNodes",f._boundFunction),f}return(0,m.default)(u,d),(0,k.default)(u,[{key:"setOptions",value:function(M){var h=!1;this.options.physics!==M.physics&&(h=!0),this.options=M,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===h&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var M="edgeId:"+this.id,h=this.body.functions.createNode({id:M,shape:"circle",physics:!0,hidden:!0});this.body.nodes[M]=h,this.via=h,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(M,h,f){this._bezierCurve(M,h,f)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(M){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,f=M,E=void 0,I=void 0;if(this.from===this.to){var F=this._getCircleData(this.from),V=(0,y.default)(F,3),U=V[1],j=V[2],K=2*Math.PI*(1-f);E=V[0]+j*Math.sin(K),I=U+j-j*(1-Math.cos(K))}else E=Math.pow(1-f,2)*this.fromPoint.x+2*f*(1-f)*h.x+Math.pow(f,2)*this.toPoint.x,I=Math.pow(1-f,2)*this.fromPoint.y+2*f*(1-f)*h.y+Math.pow(f,2)*this.toPoint.y;return{x:E,y:I}}},{key:"_findBorderPosition",value:function(M,h){return this._findBorderPositionBezier(M,h,this.via)}},{key:"_getDistanceToEdge",value:function(M,h,f,E,I,F){return this._getDistanceToBezierEdge(M,h,f,E,I,F,this.via)}}]),u}(a(_(75)).default);L.default=p},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_line",value:function(u,g,M){this._bezierCurve(u,g,M)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var u=void 0,g=void 0,M=this.options.smooth.roundness,h=this.options.smooth.type,f=Math.abs(this.from.x-this.to.x),E=Math.abs(this.from.y-this.to.y);if("discrete"===h||"diagonalCross"===h){var I=void 0,F=void 0;I=F=f<=E?M*E:M*f,this.from.x>this.to.x&&(I=-I),this.from.y>=this.to.y&&(F=-F),u=this.from.x+I,g=this.from.y+F,"discrete"===h&&(f<=E?u=f<M*E?this.from.x:u:g=E<M*f?this.from.y:g)}else if("straightCross"===h){var V=(1-M)*f,z=(1-M)*E;f<=E?(V=0,this.from.y<this.to.y&&(z=-z)):(this.from.x<this.to.x&&(V=-V),z=0),u=this.to.x+V,g=this.to.y+z}else if("horizontal"===h){var U=(1-M)*f;this.from.x<this.to.x&&(U=-U),u=this.to.x+U,g=this.from.y}else if("vertical"===h){var j=(1-M)*E;this.from.y<this.to.y&&(j=-j),u=this.from.x,g=this.to.y+j}else if("curvedCW"===h){f=this.to.x-this.from.x,E=this.from.y-this.to.y;var K=Math.sqrt(f*f+E*E),te=Math.PI,le=(Math.atan2(E,f)+(.5*M+.5)*te)%(2*te);u=this.from.x+(.5*M+.5)*K*Math.sin(le),g=this.from.y+(.5*M+.5)*K*Math.cos(le)}else if("curvedCCW"===h){f=this.to.x-this.from.x,E=this.from.y-this.to.y;var pe=Math.sqrt(f*f+E*E),Ee=Math.PI,_e=(Math.atan2(E,f)+(.5*-M+.5)*Ee)%(2*Ee);u=this.from.x+(.5*M+.5)*pe*Math.sin(_e),g=this.from.y+(.5*M+.5)*pe*Math.cos(_e)}else{var ge=void 0,ue=void 0;ge=ue=f<=E?M*E:M*f,this.from.x>this.to.x&&(ge=-ge),this.from.y>=this.to.y&&(ue=-ue),u=this.from.x+ge,g=this.from.y+ue,f<=E?u=this.from.x<=this.to.x?this.to.x<u?this.to.x:u:this.to.x>u?this.to.x:u:g=this.from.y>=this.to.y?this.to.y>g?this.to.y:g:this.to.y<g?this.to.y:g}return{x:u,y:g}}},{key:"_findBorderPosition",value:function(u,g){return this._findBorderPositionBezier(u,g,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(u,g,M,h,f,E){var I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(u,g,M,h,f,E,I)}},{key:"getPoint",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),M=u;return{x:Math.pow(1-M,2)*this.fromPoint.x+2*M*(1-M)*g.x+Math.pow(M,2)*this.toPoint.x,y:Math.pow(1-M,2)*this.fromPoint.y+2*M*(1-M)*g.y+Math.pow(M,2)*this.toPoint.y}}}]),p}(c(_(75)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_line",value:function(u,g){u.beginPath(),u.moveTo(this.fromPoint.x,this.fromPoint.y),u.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(u,g),u.stroke(),this.disableShadow(u,g)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(u){return{x:(1-u)*this.fromPoint.x+u*this.toPoint.x,y:(1-u)*this.fromPoint.y+u*this.toPoint.y}}},{key:"_findBorderPosition",value:function(u,g){var M=this.to,h=this.from;u.id===this.from.id&&(M=this.from,h=this.to);var f=Math.atan2(M.y-h.y,M.x-h.x),E=M.x-h.x,I=M.y-h.y,F=Math.sqrt(E*E+I*I),z=(F-u.distanceToBorder(g,f))/F,U={};return U.x=(1-z)*h.x+z*M.x,U.y=(1-z)*h.y+z*M.y,U}},{key:"_getDistanceToEdge",value:function(u,g,M,h,f,E){return this._getDistanceToLine(u,g,M,h,f,E)}}]),p}(c(_(118)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=x(_(8)),D=x(_(0)),A=x(_(1));function x(g){return g&&g.__esModule?g:{default:g}}var k=_(120).default,b=_(221).default,w=_(222).default,v=_(223).default,m=_(224).default,c=_(121).default,T=_(225).default,a=_(226).default,p=_(2),d=_(119).default,u=function(){function g(M){(0,D.default)(this,g),this.body=M,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},p.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,A.default)(g,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.on("initPhysics",function(){h.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){h.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){h.stopSimulation(),h.ready=!1}),this.body.emitter.on("disablePhysics",function(){h.physicsEnabled=!1,h.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){h.setOptions(h.options),!0===h.ready&&h.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===h.ready&&h.startSimulation()}),this.body.emitter.on("stopSimulation",function(){h.stopSimulation()}),this.body.emitter.on("destroy",function(){h.stopSimulation(!1),h.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){h.updatePhysicsData()})}},{key:"setOptions",value:function(h){void 0!==h&&(!1===h?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===h?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,p.selectiveNotDeepExtend(["stabilization"],this.options,h),p.mergeOptions(this.options,h,"stabilization"),void 0===h.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var h;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new T(this.body,this.physicsBody,h=this.options.forceAtlas2Based),this.edgesSolver=new v(this.body,this.physicsBody,h),this.gravitySolver=new a(this.body,this.physicsBody,h)):"repulsion"===this.options.solver?(this.nodesSolver=new b(this.body,this.physicsBody,h=this.options.repulsion),this.edgesSolver=new v(this.body,this.physicsBody,h),this.gravitySolver=new c(this.body,this.physicsBody,h)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new w(this.body,this.physicsBody,h=this.options.hierarchicalRepulsion),this.edgesSolver=new m(this.body,this.physicsBody,h),this.gravitySolver=new c(this.body,this.physicsBody,h)):(this.nodesSolver=new k(this.body,this.physicsBody,h=this.options.barnesHut),this.edgesSolver=new v(this.body,this.physicsBody,h),this.gravitySolver=new c(this.body,this.physicsBody,h)),this.modelOptions=h}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===h&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===h&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var h=Date.now();this.physicsTick(),(Date.now()-h<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var h=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){h.body.emitter.emit("stabilized",{iterations:f}),h.startedStabilization=!1,h.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var h=this.body.nodes,f=this.body.edges;for(var E in h)h.hasOwnProperty(E)&&!0===h[E].options.physics&&this.physicsBody.physicsNodeIndices.push(h[E].id);for(var I in f)f.hasOwnProperty(I)&&!0===f[I].options.physics&&this.physicsBody.physicsEdgeIndices.push(f[I].id);for(var F=0;F<this.physicsBody.physicsNodeIndices.length;F++){var V=this.physicsBody.physicsNodeIndices[F];this.physicsBody.forces[V]={x:0,y:0},void 0===this.physicsBody.velocities[V]&&(this.physicsBody.velocities[V]={x:0,y:0})}for(var z in this.physicsBody.velocities)void 0===h[z]&&delete this.physicsBody.velocities[z]}},{key:"revert",value:function(){var h=(0,y.default)(this.previousStates),f=this.body.nodes,E=this.physicsBody.velocities;this.referenceState={};for(var I=0;I<h.length;I++){var F=h[I];void 0!==f[F]?!0===f[F].options.physics&&(this.referenceState[F]={positions:{x:f[F].x,y:f[F].y}},E[F].x=this.previousStates[F].vx,E[F].y=this.previousStates[F].vy,f[F].x=this.previousStates[F].x,f[F].y=this.previousStates[F].y):delete this.previousStates[F]}}},{key:"_evaluateStepQuality",value:function(){var f=void 0,I=this.body.nodes,F=this.referenceState;for(var z in this.referenceState)if(this.referenceState.hasOwnProperty(z)&&void 0!==I[z]&&(f=I[z].y-F[z].positions.y,Math.sqrt(Math.pow(I[z].x-F[z].positions.x,2)+Math.pow(f,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var h=this.physicsBody.physicsNodeIndices,f=0,E=0,F=0;F<h.length;F++){var z=this._performStep(h[F]);f=Math.max(f,z),E+=z}this.adaptiveTimestepEnabled=E/h.length<5,this.stabilized=f<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(h,f,E){h+=(f-this.modelOptions.damping*h)/E*this.timestep;var V=this.options.maxVelocity||1e9;return Math.abs(h)>V&&(h=h>0?V:-V),h}},{key:"_performStep",value:function(h){var f=this.body.nodes[h],E=this.physicsBody.forces[h],I=this.physicsBody.velocities[h];return this.previousStates[h]={x:f.x,y:f.y,vx:I.x,vy:I.y},!1===f.options.fixed.x?(I.x=this.calculateComponentVelocity(I.x,E.x,f.options.mass),f.x+=I.x*this.timestep):(E.x=0,I.x=0),!1===f.options.fixed.y?(I.y=this.calculateComponentVelocity(I.y,E.y,f.options.mass),f.y+=I.y*this.timestep):(E.y=0,I.y=0),Math.sqrt(Math.pow(I.x,2)+Math.pow(I.y,2))}},{key:"_freezeNodes",value:function(){var h=this.body.nodes;for(var f in h)if(h.hasOwnProperty(f)&&h[f].x&&h[f].y){var E=h[f].options.fixed;this.freezeCache[f]={x:E.x,y:E.y},E.x=!0,E.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var h=this.body.nodes;for(var f in h)h.hasOwnProperty(f)&&void 0!==this.freezeCache[f]&&(h[f].options.fixed.x=this.freezeCache[f].x,h[f].options.fixed.y=this.freezeCache[f].y);this.freezeCache={}}},{key:"stabilize",value:function(){var h=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof f&&(f=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",f)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=f,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return h._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var h=this,f=function(){return!1===h.stabilized&&h.stabilizationIterations<h.targetIterations},E=function(){h.body.emitter.emit("stabilizationProgress",{iterations:h.stabilizationIterations,total:h.targetIterations})};this._startStabilizing()&&E();for(var I=0;f()&&I<this.options.stabilization.updateInterval;)this.physicsTick(),I++;E(),f()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(h){for(var f=0;f<this.physicsBody.physicsNodeIndices.length;f++){var E=this.physicsBody.physicsNodeIndices[f],I=this.body.nodes[E],F=this.physicsBody.forces[E],U=Math.sqrt(Math.pow(F.x,2)+Math.pow(F.x,2)),j=Math.min(Math.max(5,U),15),K=3*j,te=p.HSVToHex((180-180*Math.min(1,Math.max(0,.03*U)))/360,1,1),oe={x:I.x+20*F.x,y:I.y+20*F.y};h.lineWidth=j,h.strokeStyle=te,h.beginPath(),h.moveTo(I.x,I.y),h.lineTo(oe.x,oe.y),h.stroke();var le=Math.atan2(F.y,F.x);h.fillStyle=te,d.draw(h,{type:"arrow",point:oe,angle:le,length:K}),h.fill()}}}]),g}();L.default=u},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(k,b,w){(0,y.default)(this,x),this.body=k,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b,w,v,m,c,T,a,p,d=this.body.nodes,u=this.physicsBody.physicsNodeIndices,g=this.physicsBody.forces,M=this.options.nodeDistance,h=-2/3/M,E=0;E<u.length-1;E++){a=d[u[E]];for(var I=E+1;I<u.length;I++)b=(p=d[u[I]]).x-a.x,w=p.y-a.y,0===(v=Math.sqrt(b*b+w*w))&&(b=v=.1*Math.random()),v<2*M&&(T=v<.5*M?1:h*v+1.3333333333333333,c=w*(T/=v),g[a.id].x-=m=b*T,g[a.id].y-=c,g[p.id].x+=m,g[p.id].y+=c)}}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(k,b,w){(0,y.default)(this,x),this.body=k,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){var b,w,v,m,c,T,a,p,d,u,g=this.body.nodes,M=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance;for(d=0;d<M.length-1;d++)for(a=g[M[d]],u=d+1;u<M.length;u++)if(a.level===(p=g[M[u]]).level){b=p.x-a.x,w=p.y-a.y;T=(v=Math.sqrt(b*b+w*w))<f?-Math.pow(.05*v,2)+Math.pow(.05*f,2):0,0===v?v=.01:T/=v,c=w*T,h[a.id].x-=m=b*T,h[a.id].y-=c,h[p.id].x+=m,h[p.id].y+=c}}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(k,b,w){(0,y.default)(this,x),this.body=k,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b=void 0,w=void 0,v=this.physicsBody.physicsEdgeIndices,m=this.body.edges,T=void 0,a=void 0,p=0;p<v.length;p++)!0===(w=m[v[p]]).connected&&w.toId!==w.fromId&&void 0!==this.body.nodes[w.toId]&&void 0!==this.body.nodes[w.fromId]&&(void 0!==w.edgeType.via?(a=w.from,this._calculateSpringForce(w.to,T=w.edgeType.via,.5*(b=void 0===w.options.length?this.options.springLength:w.options.length)),this._calculateSpringForce(T,a,.5*b)):this._calculateSpringForce(w.from,w.to,b=void 0===w.options.length?1.5*this.options.springLength:w.options.length))}},{key:"_calculateSpringForce",value:function(b,w,v){var m=b.x-w.x,c=b.y-w.y,T=Math.max(Math.sqrt(m*m+c*c),.01),a=this.options.springConstant*(v-T)/T,p=m*a,d=c*a;void 0!==this.physicsBody.forces[b.id]&&(this.physicsBody.forces[b.id].x+=p,this.physicsBody.forces[b.id].y+=d),void 0!==this.physicsBody.forces[w.id]&&(this.physicsBody.forces[w.id].x-=p,this.physicsBody.forces[w.id].y-=d)}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(k,b,w){(0,y.default)(this,x),this.body=k,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b,w,v,m,c,T,a,p,d=this.body.edges,u=.5,g=this.physicsBody.physicsEdgeIndices,M=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=0;f<M.length;f++){var E=M[f];h[E].springFx=0,h[E].springFy=0}for(var I=0;I<g.length;I++)!0===(w=d[g[I]]).connected&&(b=void 0===w.options.length?this.options.springLength:w.options.length,v=w.from.x-w.to.x,m=w.from.y-w.to.y,p=Math.sqrt(v*v+m*m),c=v*(a=this.options.springConstant*(b-(p=0===p?.01:p))/p),T=m*a,w.to.level!=w.from.level?(void 0!==h[w.toId]&&(h[w.toId].springFx-=c,h[w.toId].springFy-=T),void 0!==h[w.fromId]&&(h[w.fromId].springFx+=c,h[w.fromId].springFy+=T)):(void 0!==h[w.toId]&&(h[w.toId].x-=u*c,h[w.toId].y-=u*T),void 0!==h[w.fromId]&&(h[w.fromId].x+=u*c,h[w.fromId].y+=u*T)));a=1;for(var F,V,z=0;z<M.length;z++){var U=M[z];F=Math.min(a,Math.max(-a,h[U].springFx)),V=Math.min(a,Math.max(-a,h[U].springFy)),h[U].x+=F,h[U].y+=V}for(var j=0,K=0,te=0;te<M.length;te++){var oe=M[te];j+=h[oe].x,K+=h[oe].y}for(var le=j/M.length,pe=K/M.length,Ee=0;Ee<M.length;Ee++){var Ce=M[Ee];h[Ce].x-=le,h[Ce].y-=pe}}}]),x}();L.default=A},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_calculateForces",value:function(u,g,M,h,f){0===u&&(g=u=.1*Math.random()),this.overlapAvoidanceFactor<1&&h.shape.radius&&(u=Math.max(.1+this.overlapAvoidanceFactor*h.shape.radius,u-h.shape.radius));var I=this.options.gravitationalConstant*f.mass*h.options.mass*(h.edges.length+1)/Math.pow(u,2),V=M*I;this.physicsBody.forces[h.id].x+=g*I,this.physicsBody.forces[h.id].y+=V}}]),p}(c(_(120)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=c(_(3)),D=c(_(0)),A=c(_(1)),k=c(_(4)),w=c(_(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_calculateForces",value:function(u,g,M,h,f){if(u>0){var I=this.options.centralGravity*(f.edges.length+1)*f.options.mass;h[f.id].x=g*I,h[f.id].y=M*I}}}]),p}(c(_(121)).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=b(_(8)),D=b(_(6)),A=b(_(0)),k=b(_(1));function b(p){return p&&p.__esModule?p:{default:p}}var w=_(2),v=_(76).default,m=_(228).default,c=_(74).default,T=_(47).default,a=function(){function p(d){var u=this;(0,A.default)(this,p),this.body=d,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},w.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){u.clusteredNodes={},u.clusteredEdges={}})}return(0,k.default)(p,[{key:"clusterByHubsize",value:function(u,g){void 0===u?u=this._getHubSize():"object"===(void 0===u?"undefined":(0,D.default)(u))&&(g=this._checkOptions(u),u=this._getHubSize());for(var M=[],h=0;h<this.body.nodeIndices.length;h++){var f=this.body.nodes[this.body.nodeIndices[h]];f.edges.length>=u&&M.push(f.id)}for(var E=0;E<M.length;E++)this.clusterByConnection(M[E],g,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var u=this,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===g.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");g=this._checkOptions(g);var h={},f={};w.forEach(this.body.nodes,function(E,I){var F=v.cloneOptions(E);!0===g.joinCondition(F)&&(h[I]=E,w.forEach(E.edges,function(V){void 0===u.clusteredEdges[V.id]&&(f[V.id]=V)}))}),this._cluster(h,f,g,M)}},{key:"clusterByEdgeCount",value:function(u,g){var M=this,h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g=this._checkOptions(g);for(var f=[],E={},I=void 0,F=void 0,V=void 0,z=function(le){var pe={},Ee={},Ce=M.body.nodeIndices[le],_e=M.body.nodes[Ce];if(void 0===E[Ce]){V=0,F=[];for(var ge=0;ge<_e.edges.length;ge++)void 0===M.clusteredEdges[(I=_e.edges[ge]).id]&&(I.toId!==I.fromId&&V++,F.push(I));if(V===u){j=function(Be){if(null==g.joinCondition)return!0;var ze=v.cloneOptions(Be);return g.joinCondition(ze)};for(var ue=!0,he=0;he<F.length;he++){var be=M._getConnectedId(I=F[he],Ce);if(!j(_e)){ue=!1;break}Ee[I.id]=I,pe[Ce]=_e,pe[be]=M.body.nodes[be],E[Ce]=!0}if((0,y.default)(pe).length>0&&(0,y.default)(Ee).length>0&&!0===ue)if(void 0!==(te=function(){for(var Be=0;Be<f.length;++Be)for(var ze in pe)if(void 0!==f[Be].nodes[ze])return f[Be]}())){for(var Oe in pe)void 0===te.nodes[Oe]&&(te.nodes[Oe]=pe[Oe]);for(var Ie in Ee)void 0===te.edges[Ie]&&(te.edges[Ie]=Ee[Ie])}else f.push({nodes:pe,edges:Ee})}}},U=0;U<this.body.nodeIndices.length;U++){var j,te;z(U)}for(U=0;U<f.length;U++)this._cluster(f[U].nodes,f[U].edges,g,!1);!0===h&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(u){this.clusterByEdgeCount(1,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(u){this.clusterByEdgeCount(2,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(u,g){var M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===u)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[u])throw new Error("The nodeId given to clusterByConnection does not exist!");var h=this.body.nodes[u];void 0===(g=this._checkOptions(g,h)).clusterNodeProperties.x&&(g.clusterNodeProperties.x=h.x),void 0===g.clusterNodeProperties.y&&(g.clusterNodeProperties.y=h.y),void 0===g.clusterNodeProperties.fixed&&(g.clusterNodeProperties.fixed={},g.clusterNodeProperties.fixed.x=h.options.fixed.x,g.clusterNodeProperties.fixed.y=h.options.fixed.y);var f={},E={},I=h.id,F=v.cloneOptions(h);f[I]=h;for(var V=0;V<h.edges.length;V++){var z=h.edges[V];if(void 0===this.clusteredEdges[z.id]){var U=this._getConnectedId(z,I);if(void 0===this.clusteredNodes[U])if(U!==I)if(void 0===g.joinCondition)E[z.id]=z,f[U]=this.body.nodes[U];else{var j=v.cloneOptions(this.body.nodes[U]);!0===g.joinCondition(F,j)&&(E[z.id]=z,f[U]=this.body.nodes[U])}else E[z.id]=z}}var K=(0,y.default)(f).map(function(pe){return f[pe].id});for(te in f)if(f.hasOwnProperty(te))for(var te=f[te],oe=0;oe<te.edges.length;oe++){var le=te.edges[oe];K.indexOf(this._getConnectedId(le,te.id))>-1&&(E[le.id]=le)}this._cluster(f,E,g,M)}},{key:"_createClusterEdges",value:function(u,g,M,h){for(var f=void 0,E=void 0,I=void 0,F=void 0,V=void 0,z=void 0,U=(0,y.default)(u),j=[],K=0;K<U.length;K++){I=u[E=U[K]];for(var te=0;te<I.edges.length;te++)void 0===this.clusteredEdges[(f=I.edges[te]).id]&&(f.toId==f.fromId?g[f.id]=f:f.toId==E?(F=M.id,z=V=f.fromId):(V=M.id,z=F=f.toId),void 0===u[z]&&j.push({edge:f,fromId:V,toId:F}))}for(var oe=[],le=function(ue){for(var he=0;he<oe.length;he++){var be=oe[he];if(ue.fromId===be.fromId&&ue.toId===be.toId||ue.fromId===be.toId&&ue.toId===be.fromId)return be}return null},pe=0;pe<j.length;pe++){var Ee=j[pe],Ce=Ee.edge,_e=le(Ee);null===_e?(_e=this._createClusteredEdge(Ee.fromId,Ee.toId,Ce,h),oe.push(_e)):_e.clusteringEdgeReplacingIds.push(Ce.id),this.body.edges[Ce.id].edgeReplacedById=_e.id,this._backupEdgeOptions(Ce),Ce.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===u.clusterEdgeProperties&&(u.clusterEdgeProperties={}),void 0===u.clusterNodeProperties&&(u.clusterNodeProperties={}),u}},{key:"_cluster",value:function(u,g,M){var h=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=[];for(var E in u)u.hasOwnProperty(E)&&void 0!==this.clusteredNodes[E]&&f.push(E);for(var I=0;I<f.length;++I)delete u[f[I]];if(0!=(0,y.default)(u).length&&(1!=(0,y.default)(u).length||1==M.clusterNodeProperties.allowSingleNodeCluster)){var F=w.deepExtend({},M.clusterNodeProperties);if(void 0!==M.processProperties){var V=[];for(var z in u)if(u.hasOwnProperty(z)){var U=v.cloneOptions(u[z]);V.push(U)}var j=[];for(var K in g)if(g.hasOwnProperty(K)&&"clusterEdge:"!==K.substr(0,12)){var te=v.cloneOptions(g[K],"edge");j.push(te)}if(!(F=M.processProperties(F,V,j)))throw new Error("The processProperties function does not return properties!")}void 0===F.id&&(F.id="cluster:"+w.randomUUID());var oe=F.id;void 0===F.label&&(F.label="cluster");var le=void 0;void 0===F.x&&(le=this._getClusterPosition(u),F.x=le.x),void 0===F.y&&(void 0===le&&(le=this._getClusterPosition(u)),F.y=le.y),F.id=oe;var pe=this.body.functions.createNode(F,m);pe.containedNodes=u,pe.containedEdges=g,pe.clusterEdgeProperties=M.clusterEdgeProperties,this.body.nodes[F.id]=pe,this._clusterEdges(u,g,F,M.clusterEdgeProperties),F.id=void 0,!0===h&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(u){void 0===this.clusteredEdges[u.id]&&(this.clusteredEdges[u.id]={physics:u.options.physics})}},{key:"_restoreEdge",value:function(u){var g=this.clusteredEdges[u.id];void 0!==g&&(u.setOptions({physics:g.physics}),delete this.clusteredEdges[u.id])}},{key:"isCluster",value:function(u){return void 0!==this.body.nodes[u]?!0===this.body.nodes[u].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(u){for(var g=(0,y.default)(u),M=u[g[0]].x,h=u[g[0]].x,f=u[g[0]].y,E=u[g[0]].y,I=void 0,F=1;F<g.length;F++)M=(I=u[g[F]]).x<M?I.x:M,h=I.x>h?I.x:h,f=I.y<f?I.y:f,E=I.y>E?I.y:E;return{x:.5*(M+h),y:.5*(f+E)}}},{key:"openCluster",value:function(u,g){var M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===u)throw new Error("No clusterNodeId supplied to openCluster.");var h=this.body.nodes[u];if(void 0===h)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==h.isCluster||void 0===h.containedNodes||void 0===h.containedEdges)throw new Error("The node:"+u+" is not a valid cluster.");var f=this.findNode(u),E=f.indexOf(u)-1;if(E>=0)return this.body.nodes[f[E]]._openChildCluster(u),delete this.body.nodes[u],void(!0===M&&this.body.emitter.emit("_dataChanged"));var V=h.containedNodes,z=h.containedEdges;if(void 0!==g&&void 0!==g.releaseFunction&&"function"==typeof g.releaseFunction){var U={},j={x:h.x,y:h.y};for(var K in V)if(V.hasOwnProperty(K)){var te=this.body.nodes[K];U[K]={x:te.x,y:te.y}}var oe=g.releaseFunction(j,U);for(var le in V)if(V.hasOwnProperty(le)){var pe=this.body.nodes[le];void 0!==oe[le]&&(pe.x=void 0===oe[le].x?h.x:oe[le].x,pe.y=void 0===oe[le].y?h.y:oe[le].y)}}else w.forEach(V,function(at){!1===at.options.fixed.x&&(at.x=h.x),!1===at.options.fixed.y&&(at.y=h.y)});for(var Ee in V)if(V.hasOwnProperty(Ee)){var Ce=this.body.nodes[Ee];Ce.vx=h.vx,Ce.vy=h.vy,Ce.setOptions({physics:!0}),delete this.clusteredNodes[Ee]}for(var _e=[],ge=0;ge<h.edges.length;ge++)_e.push(h.edges[ge]);for(var ue=0;ue<_e.length;ue++){for(var he=_e[ue],be=this._getConnectedId(he,u),Oe=this.clusteredNodes[be],Ie=0;Ie<he.clusteringEdgeReplacingIds.length;Ie++){var Be=this.body.edges[he.clusteringEdgeReplacingIds[Ie]];if(void 0!==Be)if(void 0!==Oe){var ze=this.body.nodes[Oe.clusterId];ze.containedEdges[Be.id]=Be,delete z[Be.id];var it=Be.fromId,en=Be.toId;Be.toId==be?en=Oe.clusterId:it=Oe.clusterId,this._createClusteredEdge(it,en,Be,ze.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Be)}he.remove()}for(var hn in z)z.hasOwnProperty(hn)&&this._restoreEdge(z[hn]);delete this.body.nodes[u],!0===M&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(u){var g=[];if(!0===this.isCluster(u)){var M=this.body.nodes[u].containedNodes;for(var h in M)M.hasOwnProperty(h)&&g.push(this.body.nodes[h].id)}return g}},{key:"findNode",value:function(u){for(var g=[],h=0,f=void 0;void 0!==this.clusteredNodes[u]&&h<100;){if(void 0===(f=this.body.nodes[u]))return[];g.push(f.id),u=this.clusteredNodes[u].clusterId,h++}return void 0===(f=this.body.nodes[u])?[]:(g.push(f.id),g.reverse(),g)}},{key:"updateClusteredNode",value:function(u,g){if(void 0===u)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===g)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[u])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[u].setOptions(g),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(u,g){if(void 0===u)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===g)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[u])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var M=this.getClusteredEdges(u),h=0;h<M.length;h++)this.body.edges[M[h]].setOptions(g);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(u){for(var g=[],h=0;void 0!==u&&void 0!==this.body.edges[u]&&h<100;)g.push(this.body.edges[u].id),u=this.body.edges[u].edgeReplacedById,h++;return g.reverse(),g}},{key:"getBaseEdge",value:function(u){return this.getBaseEdges(u)[0]}},{key:"getBaseEdges",value:function(u){for(var g=[u],M=[],h=[],E=0;g.length>0&&E<100;){var I=g.pop();if(void 0!==I){var F=this.body.edges[I];if(void 0!==F){E++;var V=F.clusteringEdgeReplacingIds;if(void 0===V)h.push(I);else for(var z=0;z<V.length;++z){var U=V[z];-1!==g.indexOf(V)||-1!==M.indexOf(V)||g.push(U)}M.push(I)}}}return h}},{key:"_getConnectedId",value:function(u,g){return u.toId!=g?u.toId:u.fromId}},{key:"_getHubSize",value:function(){for(var u=0,g=0,M=0,h=0,f=0;f<this.body.nodeIndices.length;f++){var E=this.body.nodes[this.body.nodeIndices[f]];E.edges.length>h&&(h=E.edges.length),u+=E.edges.length,g+=Math.pow(E.edges.length,2),M+=1}u/=M;var I=(g/=M)-Math.pow(u,2),F=Math.sqrt(I),V=Math.floor(u+2*F);return V>h&&(V=h),V}},{key:"_createClusteredEdge",value:function(u,g,M,h,f){var E=v.cloneOptions(M,"edge");w.deepExtend(E,h),E.from=u,E.to=g,E.id="clusterEdge:"+w.randomUUID(),void 0!==f&&w.deepExtend(E,f);var I=this.body.functions.createEdge(E);return I.clusteringEdgeReplacingIds=[M.id],I.connect(),this.body.edges[I.id]=I,I}},{key:"_clusterEdges",value:function(u,g,M,h){if(g instanceof c){var E={};E[g.id]=g,g=E}if(u instanceof T){var F={};F[u.id]=u,u=F}if(null==M)throw new Error("_clusterEdges: parameter clusterNode required");for(var V in void 0===h&&(h=M.clusterEdgeProperties),this._createClusterEdges(u,g,M,h),g)if(g.hasOwnProperty(V)&&void 0!==this.body.edges[V]){var z=this.body.edges[V];this._backupEdgeOptions(z),z.setOptions({physics:!1})}for(var U in u)u.hasOwnProperty(U)&&(this.clusteredNodes[U]={clusterId:M.id,node:this.body.nodes[U]},this.body.nodes[U].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(u){if(void 0!==u){var g=this.clusteredNodes[u];if(void 0!==g){var M=g.clusterId;if(void 0!==M)return this.body.nodes[M]}}}},{key:"_filter",value:function(u,g){var M=[];return w.forEach(u,function(h){g(h)&&M.push(h)}),M}},{key:"_updateState",value:function(){var u=this,g=void 0,M=[],h=[],f=function(K){w.forEach(u.body.nodes,function(te){!0===te.isCluster&&K(te)})};for(g in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(g)&&void 0===this.body.nodes[g]&&M.push(g);f(function(j){for(var K=0;K<M.length;K++)delete j.containedNodes[M[K]]});for(var I=0;I<M.length;I++)delete this.clusteredNodes[M[I]];w.forEach(this.clusteredEdges,function(j){var K=u.body.edges[j];(void 0===K||!K.endPointsValid())&&h.push(j)}),f(function(j){w.forEach(j.containedEdges,function(K,te){!K.endPointsValid()&&-1===h.indexOf(te)&&h.push(te)})}),w.forEach(this.body.edges,function(j,K){var te=!0,oe=j.clusteringEdgeReplacingIds;if(void 0!==oe){var le=0;w.forEach(oe,function(pe){var Ee=u.body.edges[pe];void 0!==Ee&&Ee.endPointsValid()&&(le+=1)}),te=le>0}(!j.endPointsValid()||!te)&&h.push(K)}),f(function(j){w.forEach(h,function(K){delete j.containedEdges[K],w.forEach(j.edges,function(te,oe){te.id!==K?te.clusteringEdgeReplacingIds=u._filter(te.clusteringEdgeReplacingIds,function(le){return-1===h.indexOf(le)}):j.edges[oe]=null}),j.edges=u._filter(j.edges,function(te){return null!==te})})}),w.forEach(h,function(j){delete u.clusteredEdges[j]}),w.forEach(h,function(j){delete u.body.edges[j]});var F=(0,y.default)(this.body.edges);w.forEach(F,function(j){var K=u.body.edges[j],te=u._isClusteredNode(K.fromId)||u._isClusteredNode(K.toId);if(te!==u._isClusteredEdge(K.id)){if(!te)throw new Error("remove edge from clustering not implemented!");var oe=u._getClusterNodeForNode(K.fromId);void 0!==oe&&u._clusterEdges(u.body.nodes[K.fromId],K,oe);var le=u._getClusterNodeForNode(K.toId);void 0!==le&&u._clusterEdges(u.body.nodes[K.toId],K,le)}});for(var V=!1,z=!0,U=function(){var K=[];f(function(oe){var le=(0,y.default)(oe.containedNodes).length,pe=!0===oe.options.allowSingleNodeCluster;(pe&&le<1||!pe&&le<2)&&K.push(oe.id)});for(var te=0;te<K.length;++te)u.openCluster(K[te],{},!1);z=K.length>0,V=V||z};z;)U();V&&this._updateState()}},{key:"_isClusteredNode",value:function(u){return void 0!==this.clusteredNodes[u]}},{key:"_isClusteredEdge",value:function(u){return void 0!==this.clusteredEdges[u]}}]),p}();L.default=a},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=v(_(3)),D=v(_(0)),A=v(_(1)),k=v(_(4)),w=v(_(5));function v(a){return a&&a.__esModule?a:{default:a}}var m=_(2),T=function(a){function p(d,u,g,M,h,f){(0,D.default)(this,p);var E=(0,k.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g,M,h,f));return E.isCluster=!0,E.containedNodes={},E.containedEdges={},E}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_openChildCluster",value:function(u){var g=this,M=this.body.nodes[u];if(void 0===this.containedNodes[u])throw new Error("node with id: "+u+" not in current cluster");if(!M.isCluster)throw new Error("node with id: "+u+" is not a cluster");delete this.containedNodes[u],m.forEach(M.edges,function(h){delete g.containedEdges[h.id]}),m.forEach(M.containedNodes,function(h,f){g.containedNodes[f]=h}),M.containedNodes={},m.forEach(M.containedEdges,function(h,f){g.containedEdges[f]=h}),M.containedEdges={},m.forEach(M.edges,function(h){m.forEach(g.edges,function(f){var E=f.clusteringEdgeReplacingIds.indexOf(h.id);-1!==E&&(m.forEach(h.clusteringEdgeReplacingIds,function(I){f.clusteringEdgeReplacingIds.push(I),g.body.edges[I].edgeReplacedById=f.id}),f.clusteringEdgeReplacingIds.splice(E,1))})}),M.edges=[]}}]),p}(_(47).default);L.default=T},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(b){return b&&b.__esModule?b:{default:b}}var x=_(2),k=function(){function b(w,v){(0,y.default)(this,b),function(){var b;void 0!==window&&(b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===b?function(w){w()}:b}(),this.body=w,this.canvas=v,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},x.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,D.default)(b,[{key:"bindEventListeners",value:function(){var v=this;this.body.emitter.on("dragStart",function(){v.dragging=!0}),this.body.emitter.on("dragEnd",function(){v.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){v._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===v.renderingActive&&v._redraw()}),this.body.emitter.on("_blockRedraw",function(){v.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){v.allowRedraw=!0,v.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){v.renderRequests+=1,v.renderingActive=!0,v._startRendering()}),this.body.emitter.on("_stopRendering",function(){v.renderRequests-=1,v.renderingActive=v.renderRequests>0,v.renderTimer=void 0}),this.body.emitter.on("destroy",function(){v.renderRequests=0,v.allowRedraw=!1,v.renderingActive=!1,!0===v.requiresTimeout?clearTimeout(v.renderTimer):window.cancelAnimationFrame(v.renderTimer),v.body.emitter.off()})}},{key:"setOptions",value:function(v){void 0!==v&&x.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,v)}},{key:"_requestNextFrame",value:function(v,m){if("undefined"!=typeof window){var c=void 0,T=window;return!0===this.requiresTimeout?c=T.setTimeout(v,m):T.requestAnimationFrame&&(c=T.requestAnimationFrame(v)),c}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var v=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){v._redraw(!1)},0))}},{key:"_redraw",value:function(){var v=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var m=this.canvas.getContext(),c=this.canvas.frame.canvas.clientWidth,T=this.canvas.frame.canvas.clientHeight;if(m.clearRect(0,0,c,T),0===this.canvas.frame.clientWidth)return;m.save(),m.translate(this.body.view.translation.x,this.body.view.translation.y),m.scale(this.body.view.scale,this.body.view.scale),m.beginPath(),this.body.emitter.emit("beforeDrawing",m),m.closePath(),!1===v&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(m),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(m,v),m.beginPath(),this.body.emitter.emit("afterDrawing",m),m.closePath(),m.restore(),!0===v&&m.clearRect(0,0,c,T)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var v=this.canvas.getContext();v.save(),v.translate(this.body.view.translation.x,this.body.view.translation.y),v.scale(this.body.view.scale,this.body.view.scale);var m=this.body.nodes,c=void 0;for(var T in m)m.hasOwnProperty(T)&&((c=m[T]).resize(v),c.updateBoundingBox(v,c.selected));v.restore()}},{key:"_drawNodes",value:function(v){for(var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.body.nodes,T=this.body.nodeIndices,a=void 0,p=[],d=20,u=this.canvas.DOMtoCanvas({x:-d,y:-d}),g=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+d,y:this.canvas.frame.canvas.clientHeight+d}),M={top:u.y,left:u.x,bottom:g.y,right:g.x},h=0;h<T.length;h++)(a=c[T[h]]).isSelected()?p.push(T[h]):!0===m||!0===a.isBoundingBoxOverlappingWith(M)?a.draw(v):a.updateBoundingBox(v,a.selected);for(var f=0;f<p.length;f++)(a=c[p[f]]).draw(v)}},{key:"_drawEdges",value:function(v){for(var m=this.body.edges,c=this.body.edgeIndices,T=void 0,a=0;a<c.length;a++)!0===(T=m[c[a]]).connected&&T.draw(v)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var v=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=v.indexOf("msie 9.0")||-1!=v.indexOf("safari")&&v.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),b}();L.default=k},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(w){return w&&w.__esModule?w:{default:w}}var A=_(10),x=_(37),k=_(2),b=function(){function w(v){(0,y.default)(this,w),this.body=v,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},k.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,D.default)(w,[{key:"bindEventListeners",value:function(){var m=this;this.body.emitter.once("resize",function(c){0!==c.width&&(m.body.view.translation.x=.5*c.width),0!==c.height&&(m.body.view.translation.y=.5*c.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){m.hammerFrame.destroy(),m.hammer.destroy(),m._cleanUp()})}},{key:"setOptions",value:function(m){var c=this;void 0!==m&&k.selectiveDeepExtend(["width","height","autoResize"],this.options,m),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===c.setSize()&&c.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),k.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),k.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/m,this.cameraState.previousHeight=this.frame.canvas.height/m,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/m,y:.5*this.frame.canvas.height/m}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var m=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,c=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,T=this.cameraState.scale;1!=m&&1!=c?T=.5*this.cameraState.scale*(m+c):1!=m?T=this.cameraState.scale*m:1!=c&&(T=this.cameraState.scale*c),this.body.view.scale=T;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),p={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=p.x*this.body.view.scale,this.body.view.translation.y+=p.y*this.body.view.scale}}},{key:"_prepareValue",value:function(m){if("number"==typeof m)return m+"px";if("string"==typeof m){if(-1!==m.indexOf("%")||-1!==m.indexOf("px"))return m;if(-1===m.indexOf("%"))return m+"px"}throw new Error("Could not use the value supplied for width or height:"+m)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var m=document.createElement("DIV");m.style.color="red",m.style.fontWeight="bold",m.style.padding="10px",m.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(m)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var m=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new A(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:A.DIRECTION_ALL}),x.onTouch(this.hammer,function(c){m.body.eventListeners.onTouch(c)}),this.hammer.on("tap",function(c){m.body.eventListeners.onTap(c)}),this.hammer.on("doubletap",function(c){m.body.eventListeners.onDoubleTap(c)}),this.hammer.on("press",function(c){m.body.eventListeners.onHold(c)}),this.hammer.on("panstart",function(c){m.body.eventListeners.onDragStart(c)}),this.hammer.on("panmove",function(c){m.body.eventListeners.onDrag(c)}),this.hammer.on("panend",function(c){m.body.eventListeners.onDragEnd(c)}),this.hammer.on("pinch",function(c){m.body.eventListeners.onPinch(c)}),this.frame.canvas.addEventListener("mousewheel",function(c){m.body.eventListeners.onMouseWheel(c)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(c){m.body.eventListeners.onMouseWheel(c)}),this.frame.canvas.addEventListener("mousemove",function(c){m.body.eventListeners.onMouseMove(c)}),this.frame.canvas.addEventListener("contextmenu",function(c){m.body.eventListeners.onContext(c)}),this.hammerFrame=new A(this.frame),x.onRelease(this.hammerFrame,function(c){m.body.eventListeners.onRelease(c)})}},{key:"setSize",value:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;m=this._prepareValue(m),c=this._prepareValue(c);var T=!1,a=this.frame.canvas.width,p=this.frame.canvas.height,d=this.pixelRatio;if(this._setPixelRatio(),m!=this.options.width||c!=this.options.height||this.frame.style.width!=m||this.frame.style.height!=c)this._getCameraState(d),this.frame.style.width=m,this.frame.style.height=c,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=m,this.options.height=c,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},T=!0;else{var u=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),g=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==u||this.frame.canvas.height!==g)&&this._getCameraState(d),this.frame.canvas.width!==u&&(this.frame.canvas.width=u,T=!0),this.frame.canvas.height!==g&&(this.frame.canvas.height=g,T=!0)}return!0===T&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(p/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,T}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var m=this.getContext();if(void 0===m)throw new Error("Could not get canvax context");var c=1;return"undefined"!=typeof window&&(c=window.devicePixelRatio||1),c/(m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var m=this.getContext();if(void 0===m)throw new Error("Could not get canvax context");m.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(m){return(m-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(m){return m*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(m){return(m-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(m){return m*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(m){return{x:this._XconvertCanvasToDOM(m.x),y:this._YconvertCanvasToDOM(m.y)}}},{key:"DOMtoCanvas",value:function(m){return{x:this._XconvertDOMtoCanvas(m.x),y:this._YconvertDOMtoCanvas(m.y)}}}]),w}();L.default=b},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(b){return b&&b.__esModule?b:{default:b}}var A=_(2),x=_(76).default,k=function(){function b(w,v){var m=this;(0,y.default)(this,b),this.body=w,this.canvas=v,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){m.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,D.default)(b,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=void 0,T=void 0;if((void 0===v.nodes||0===v.nodes.length)&&(v.nodes=this.body.nodeIndices),!0===m){var a=0;for(var p in this.body.nodes)this.body.nodes.hasOwnProperty(p)&&!0===this.body.nodes[p].predefinedPosition&&(a+=1);if(a>.5*this.body.nodeIndices.length)return void this.fit(v,!1);c=x.getRange(this.body.nodes,v.nodes),T=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,T*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),c=x.getRange(this.body.nodes,v.nodes);var M=1.1*Math.abs(c.maxX-c.minX),h=1.1*Math.abs(c.maxY-c.minY),f=this.canvas.frame.canvas.clientWidth/M,E=this.canvas.frame.canvas.clientHeight/h;T=f<=E?f:E}(T>1||0===T)&&(T=1);var I=x.findCenter(c);this.moveTo({position:I,scale:T,animation:v.animation})}},{key:"focus",value:function(v){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[v]?(m.position={x:this.body.nodes[v].x,y:this.body.nodes[v].y},m.lockedOnNode=v,this.moveTo(m)):console.log("Node: "+v+" cannot be found.")}},{key:"moveTo",value:function(v){void 0!==v?(void 0===v.offset&&(v.offset={x:0,y:0}),void 0===v.offset.x&&(v.offset.x=0),void 0===v.offset.y&&(v.offset.y=0),void 0===v.scale&&(v.scale=this.body.view.scale),void 0===v.position&&(v.position=this.getViewPosition()),void 0===v.animation&&(v.animation={duration:0}),!1===v.animation&&(v.animation={duration:0}),!0===v.animation&&(v.animation={}),void 0===v.animation.duration&&(v.animation.duration=1e3),void 0===v.animation.easingFunction&&(v.animation.easingFunction="easeInOutQuad"),this.animateView(v)):v={}}},{key:"animateView",value:function(v){if(void 0!==v){this.animationEasingFunction=v.animation.easingFunction,this.releaseNode(),!0===v.locked&&(this.lockedOnNodeId=v.lockedOnNode,this.lockedOnNodeOffset=v.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=v.scale,this.body.view.scale=this.targetScale;var m=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),c={x:m.x-v.position.x,y:m.y-v.position.y};this.targetTranslation={x:this.sourceTranslation.x+c.x*this.targetScale+v.offset.x,y:this.sourceTranslation.y+c.y*this.targetScale+v.offset.y},0===v.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*v.animation.duration*.001)||1/60,this.animationEasingFunction=v.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var v_x=this.body.nodes[this.lockedOnNodeId].x,v_y=this.body.nodes[this.lockedOnNodeId].y,m=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),T=this.body.view.translation;this.body.view.translation={x:T.x+(m.x-v_x)*this.body.view.scale+this.lockedOnNodeOffset.x,y:T.y+(m.y-v_y)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var v=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===v?1:this.easingTime;var m=A.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*m,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*m,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*m},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),b}();L.default=k},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(w){return w&&w.__esModule?w:{default:w}}var A=_(2),x=_(233).default,k=_(104).default,b=function(){function w(v,m,c){(0,y.default)(this,w),this.body=v,this.canvas=m,this.selectionHandler=c,this.navigationHandler=new x(v,m),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},A.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,D.default)(w,[{key:"bindEventListeners",value:function(){var m=this;this.body.emitter.on("destroy",function(){clearTimeout(m.popupTimer),delete m.body.functions.getPointer})}},{key:"setOptions",value:function(m){void 0!==m&&(A.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,m),A.mergeOptions(this.options,m,"keyboard"),m.tooltip&&(A.extend(this.options.tooltip,m.tooltip),m.tooltip.color&&(this.options.tooltip.color=A.parseColor(m.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(m){return{x:m.x-A.getAbsoluteLeft(this.canvas.frame.canvas),y:m.y-A.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(m){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(m.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(m){var c=this.getPointer(m.center);this.checkSelectionChanges(c,m,this.selectionHandler.options.multiselect&&(m.changedPointers[0].ctrlKey||m.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",m,c)}},{key:"onDoubleTap",value:function(m){var c=this.getPointer(m.center);this.selectionHandler._generateClickEvent("doubleClick",m,c)}},{key:"onHold",value:function(m){var c=this.getPointer(m.center);this.checkSelectionChanges(c,m,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",m,c),this.selectionHandler._generateClickEvent("hold",m,c)}},{key:"onRelease",value:function(m){if((new Date).valueOf()-this.touchTime>10){var c=this.getPointer(m.center);this.selectionHandler._generateClickEvent("release",m,c),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(m){var c=this.getPointer({x:m.clientX,y:m.clientY});this.selectionHandler._generateClickEvent("oncontext",m,c)}},{key:"checkSelectionChanges",value:function(m,c){var T=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.selectionHandler.getSelection(),p=!1;p=!0===T?this.selectionHandler.selectAdditionalOnPoint(m):this.selectionHandler.selectOnPoint(m);var d=this.selectionHandler.getSelection(),u=this._determineDifference(a,d),g=this._determineDifference(d,a);u.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",c,m,a),p=!0),u.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",c,m,a),p=!0),g.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",c,m),p=!0),g.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",c,m),p=!0),!0===p&&this.selectionHandler._generateClickEvent("select",c,m)}},{key:"_determineDifference",value:function(m,c){var T=function(p,d){for(var u=[],g=0;g<p.length;g++){var M=p[g];-1===d.indexOf(M)&&u.push(M)}return u};return{nodes:T(m.nodes,c.nodes),edges:T(m.edges,c.edges)}}},{key:"onDragStart",value:function(m){void 0===this.drag.pointer&&this.onTouch(m);var c=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=A.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==c&&!0===this.options.dragNodes){this.drag.nodeId=c.id,!1===c.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(c)),this.selectionHandler._generateClickEvent("dragStart",m,this.drag.pointer);var T=this.selectionHandler.selectionObj.nodes;for(var a in T)if(T.hasOwnProperty(a)){var p=T[a],d={id:p.id,node:p,x:p.x,y:p.y,xFixed:p.options.fixed.x,yFixed:p.options.fixed.y};p.options.fixed.x=!0,p.options.fixed.y=!0,this.drag.selection.push(d)}}else this.selectionHandler._generateClickEvent("dragStart",m,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(m){var c=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var T=this.getPointer(m.center),a=this.drag.selection;if(a&&a.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",m,T);var p=T.x-this.drag.pointer.x,d=T.y-this.drag.pointer.y;a.forEach(function(M){var h=M.node;!1===M.xFixed&&(h.x=c.canvas._XconvertDOMtoCanvas(c.canvas._XconvertCanvasToDOM(M.x)+p)),!1===M.yFixed&&(h.y=c.canvas._YconvertDOMtoCanvas(c.canvas._YconvertCanvasToDOM(M.y)+d))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",m,T,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(m);this.body.view.translation={x:this.drag.translation.x+(T.x-this.drag.pointer.x),y:this.drag.translation.y+(T.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(m){this.drag.dragging=!1;var c=this.drag.selection;c&&c.length?(c.forEach(function(T){T.node.options.fixed.x=T.xFixed,T.node.options.fixed.y=T.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",m,this.getPointer(m.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",m,this.getPointer(m.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(m){var c=this.getPointer(m.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*m.scale,c)}},{key:"zoom",value:function(m,c){if(!0===this.options.zoomView){var T=this.body.view.scale;m<1e-5&&(m=1e-5),m>10&&(m=10);var a=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var p=this.body.view.translation,d=m/T,u=(1-d)*c.x+p.x*d,g=(1-d)*c.y+p.y*d;if(this.body.view.scale=m,this.body.view.translation={x:u,y:g},null!=a){var M=this.canvas.canvasToDOM(a);this.drag.pointer.x=M.x,this.drag.pointer.y=M.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",T<m?{direction:"+",scale:this.body.view.scale,pointer:c}:{direction:"-",scale:this.body.view.scale,pointer:c})}}},{key:"onMouseWheel",value:function(m){if(!0===this.options.zoomView){var c=0;if(m.wheelDelta?c=m.wheelDelta/120:m.detail&&(c=-m.detail/3),0!==c){var T=this.body.view.scale,a=c/10;c<0&&(a/=1-a),T*=1+a;var p=this.getPointer({x:m.clientX,y:m.clientY});this.zoom(T,p)}m.preventDefault()}}},{key:"onMouseMove",value:function(m){var c=this,T=this.getPointer({x:m.clientX,y:m.clientY}),a=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(T),!1===this.popup.hidden&&(a=!0,this.popup.setPosition(T.x+3,T.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===a&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return c._checkShowPopup(T)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(m,T)}},{key:"_checkShowPopup",value:function(m){var c=this.canvas._XconvertDOMtoCanvas(m.x),T=this.canvas._YconvertDOMtoCanvas(m.y),a={left:c,top:T,right:c,bottom:T},p=void 0===this.popupObj?void 0:this.popupObj.id,d=!1,u="node";if(void 0===this.popupObj){for(var g=this.body.nodeIndices,M=this.body.nodes,h=void 0,f=[],E=0;E<g.length;E++)!0===(h=M[g[E]]).isOverlappingWith(a)&&void 0!==h.getTitle()&&f.push(g[E]);f.length>0&&(this.popupObj=M[f[f.length-1]],d=!0)}if(void 0===this.popupObj&&!1===d){for(var I=this.body.edgeIndices,F=this.body.edges,V=void 0,z=[],U=0;U<I.length;U++)!0===(V=F[I[U]]).isOverlappingWith(a)&&!0===V.connected&&void 0!==V.getTitle()&&z.push(I[U]);z.length>0&&(this.popupObj=F[z[z.length-1]],u="edge")}void 0!==this.popupObj?this.popupObj.id!==p&&(void 0===this.popup&&(this.popup=new k(this.canvas.frame)),this.popup.popupTargetType=u,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(m.x+3,m.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(m){var c=this.selectionHandler._pointerToPositionObject(m),T=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(T=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(c))){var a=this.selectionHandler.getNodeAt(m);T=void 0!==a&&a.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(m)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(T=this.body.edges[this.popup.popupTargetId].isOverlappingWith(c));!1===T&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),w}();L.default=b},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(w){return w&&w.__esModule?w:{default:w}}var A=_(10),x=_(37),k=_(35),b=function(){function w(v,m){var c=this;(0,y.default)(this,w),this.body=v,this.canvas=m,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){c.activated=!0,c.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){c.activated=!1,c.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==c.keycharm&&c.keycharm.destroy()}),this.options={}}return(0,D.default)(w,[{key:"setOptions",value:function(m){void 0!==m&&(this.options=m,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var m=0;m<this.navigationHammers.length;m++)this.navigationHammers[m].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var m=this;this.cleanNavigation(),this.navigationDOM={};var c=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],T=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<c.length;a++){this.navigationDOM[c[a]]=document.createElement("div"),this.navigationDOM[c[a]].className="vis-button vis-"+c[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[c[a]]);var p=new A(this.navigationDOM[c[a]]);x.onTouch(p,"_fit"===T[a]?this._fit.bind(this):this.bindToRedraw.bind(this,T[a])),this.navigationHammers.push(p)}var d=new A(this.canvas.frame);x.onRelease(d,function(){m._stopMovement()}),this.navigationHammers.push(d),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(m){void 0===this.boundFunctions[m]&&(this.boundFunctions[m]=this[m].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(m){void 0!==this.boundFunctions[m]&&(this.body.emitter.off("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[m])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var m in this.boundFunctions)this.boundFunctions.hasOwnProperty(m)&&(this.body.emitter.off("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var c=this.body.view.scale*(1+this.options.keyboard.speed.zoom),T=this.body.view.translation,a=c/this.body.view.scale,p=(1-a)*this.canvas.canvasViewCenter.x+T.x*a,d=(1-a)*this.canvas.canvasViewCenter.y+T.y*a;this.body.view.scale=c,this.body.view.translation={x:p,y:d},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var c=this.body.view.scale/(1+this.options.keyboard.speed.zoom),T=this.body.view.translation,a=c/this.body.view.scale,p=(1-a)*this.canvas.canvasViewCenter.x+T.x*a,d=(1-a)*this.canvas.canvasViewCenter.y+T.y*a;this.body.view.scale=c,this.body.view.translation={x:p,y:d},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var m=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=k(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){m.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){m.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){m.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){m.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){m.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){m.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){m.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){m.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){m.unbindFromRedraw("_zoomOut")},"keyup")))}}]),w}();L.default=b},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(w){return w&&w.__esModule?w:{default:w}}var A=_(47).default,x=_(74).default,k=_(2),b=function(){function w(v,m){var c=this;(0,y.default)(this,w),this.body=v,this.canvas=m,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},k.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){c.updateSelection()})}return(0,D.default)(w,[{key:"setOptions",value:function(m){void 0!==m&&k.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,m)}},{key:"selectOnPoint",value:function(m){var c=!1;if(!0===this.options.selectable){var T=this.getNodeAt(m)||this.getEdgeAt(m);this.unselectAll(),void 0!==T&&(c=this.selectObject(T)),this.body.emitter.emit("_requestRedraw")}return c}},{key:"selectAdditionalOnPoint",value:function(m){var c=!1;if(!0===this.options.selectable){var T=this.getNodeAt(m)||this.getEdgeAt(m);void 0!==T&&(c=!0,!0===T.isSelected()?this.deselectObject(T):this.selectObject(T),this.body.emitter.emit("_requestRedraw"))}return c}},{key:"_initBaseEvent",value:function(m,c){var T={};return T.pointer={DOM:{x:c.x,y:c.y},canvas:this.canvas.DOMtoCanvas(c)},T.event=m,T}},{key:"_generateClickEvent",value:function(m,c,T,a){var p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=this._initBaseEvent(c,T);if(!0===p)d.nodes=[],d.edges=[];else{var u=this.getSelection();d.nodes=u.nodes,d.edges=u.edges}void 0!==a&&(d.previousSelection=a),"click"==m&&(d.items=this.getClickedItems(T)),this.body.emitter.emit(m,d)}},{key:"selectObject",value:function(m){return void 0!==m&&(m instanceof A&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&this._selectConnectedEdges(m),m.select(),this._addToSelection(m),!0)}},{key:"deselectObject",value:function(m){!0===m.isSelected()&&(m.selected=!1,this._removeFromSelection(m))}},{key:"_getAllNodesOverlappingWith",value:function(m){for(var c=[],T=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var p=this.body.nodeIndices[a];T[p].isOverlappingWith(m)&&c.push(p)}return c}},{key:"_pointerToPositionObject",value:function(m){var c=this.canvas.DOMtoCanvas(m);return{left:c.x-1,top:c.y+1,right:c.x+1,bottom:c.y-1}}},{key:"getNodeAt",value:function(m){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],T=this._pointerToPositionObject(m),a=this._getAllNodesOverlappingWith(T);if(a.length>0)return!0===c?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(m,c){for(var T=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var p=this.body.edgeIndices[a];T[p].isOverlappingWith(m)&&c.push(p)}}},{key:"_getAllEdgesOverlappingWith",value:function(m){var c=[];return this._getEdgesOverlappingWith(m,c),c}},{key:"getEdgeAt",value:function(m){for(var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],T=this.canvas.DOMtoCanvas(m),a=10,p=null,d=this.body.edges,u=0;u<this.body.edgeIndices.length;u++){var g=this.body.edgeIndices[u],M=d[g];if(M.connected){var F=M.edgeType.getDistanceToEdge(M.from.x,M.from.y,M.to.x,M.to.y,T.x,T.y);F<a&&(p=g,a=F)}}if(null!==p)return!0===c?this.body.edges[p]:p}},{key:"_addToSelection",value:function(m){m instanceof A?this.selectionObj.nodes[m.id]=m:this.selectionObj.edges[m.id]=m}},{key:"_addToHover",value:function(m){m instanceof A?this.hoverObj.nodes[m.id]=m:this.hoverObj.edges[m.id]=m}},{key:"_removeFromSelection",value:function(m){m instanceof A?(delete this.selectionObj.nodes[m.id],this._unselectConnectedEdges(m)):delete this.selectionObj.edges[m.id]}},{key:"unselectAll",value:function(){for(var m in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(m)&&this.selectionObj.nodes[m].unselect();for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&this.selectionObj.edges[c].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var m=0;for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&(m+=1);return m}},{key:"_getSelectedNode",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m))return this.selectionObj.nodes[m]}},{key:"_getSelectedEdge",value:function(){for(var m in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(m))return this.selectionObj.edges[m]}},{key:"_getSelectedEdgeCount",value:function(){var m=0;for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(m+=1);return m}},{key:"_getSelectedObjectCount",value:function(){var m=0;for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&(m+=1);for(var T in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(T)&&(m+=1);return m}},{key:"_selectionIsEmpty",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m))return!1;for(var c in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(c))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m)&&this.selectionObj.nodes[m].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(m){for(var c=0;c<m.edges.length;c++){var T=m.edges[c];T.select(),this._addToSelection(T)}}},{key:"_hoverConnectedEdges",value:function(m){for(var c=0;c<m.edges.length;c++){var T=m.edges[c];T.hover=!0,this._addToHover(T)}}},{key:"_unselectConnectedEdges",value:function(m){for(var c=0;c<m.edges.length;c++){var T=m.edges[c];T.unselect(),this._removeFromSelection(T)}}},{key:"emitBlurEvent",value:function(m,c,T){var a=this._initBaseEvent(m,c);!0===T.hover&&(T.hover=!1,T instanceof A?(a.node=T.id,this.body.emitter.emit("blurNode",a)):(a.edge=T.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(m,c,T){var a=this._initBaseEvent(m,c),p=!1;return!1===T.hover&&(T.hover=!0,this._addToHover(T),p=!0,T instanceof A?(a.node=T.id,this.body.emitter.emit("hoverNode",a)):(a.edge=T.id,this.body.emitter.emit("hoverEdge",a))),p}},{key:"hoverObject",value:function(m,c){var T=this.getNodeAt(c);void 0===T&&(T=this.getEdgeAt(c));var a=!1;for(var p in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(p)&&(void 0===T||T instanceof A&&T.id!=p||T instanceof x)&&(this.emitBlurEvent(m,c,this.hoverObj.nodes[p]),delete this.hoverObj.nodes[p],a=!0);for(var d in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(d)&&(!0===a?(this.hoverObj.edges[d].hover=!1,delete this.hoverObj.edges[d]):(void 0===T||T instanceof x&&T.id!=d||T instanceof A&&!T.hover)&&(this.emitBlurEvent(m,c,this.hoverObj.edges[d]),delete this.hoverObj.edges[d],a=!0));void 0!==T&&(a=a||this.emitHoverEvent(m,c,T),T instanceof A&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(T)),!0===a&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var m=[];if(!0===this.options.selectable)for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&m.push(this.selectionObj.nodes[c].id);return m}},{key:"getSelectedEdges",value:function(){var m=[];if(!0===this.options.selectable)for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&m.push(this.selectionObj.edges[c].id);return m}},{key:"setSelection",value:function(m){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=void 0,a=void 0;if(!m||!m.nodes&&!m.edges)throw"Selection must be an object with nodes and/or edges properties";if((c.unselectAll||void 0===c.unselectAll)&&this.unselectAll(),m.nodes)for(T=0;T<m.nodes.length;T++){var p=this.body.nodes[a=m.nodes[T]];if(!p)throw new RangeError('Node with id "'+a+'" not found');this.selectObject(p,c.highlightEdges)}if(m.edges)for(T=0;T<m.edges.length;T++){var d=this.body.edges[a=m.edges[T]];if(!d)throw new RangeError('Edge with id "'+a+'" not found');this.selectObject(d)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(m){if(!m||void 0===m.length)throw"Selection must be an array with ids";this.setSelection({nodes:m},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(m){if(!m||void 0===m.length)throw"Selection must be an array with ids";this.setSelection({edges:m})}},{key:"updateSelection",value:function(){for(var m in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(m)&&(this.body.nodes.hasOwnProperty(m)||delete this.selectionObj.nodes[m]);for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(this.body.edges.hasOwnProperty(c)||delete this.selectionObj.edges[c])}},{key:"getClickedItems",value:function(m){for(var c=this.canvas.DOMtoCanvas(m),T=[],a=this.body.nodeIndices,p=this.body.nodes,d=a.length-1;d>=0;d--){var g=p[a[d]].getItemsOnPoint(c);T.push.apply(T,g)}for(var M=this.body.edgeIndices,h=this.body.edges,f=M.length-1;f>=0;f--){var I=h[M[f]].getItemsOnPoint(c);T.push.apply(T,I)}return T}}]),w}();L.default=b},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=v(_(30)),D=v(_(6)),A=v(_(8)),k=v(_(0)),w=v(_(1));function v(g){return g&&g.__esModule?g:{default:g}}var m=_(2),c=_(76).default,T=_(236),a=T.HorizontalStrategy,p=T.VerticalStrategy,d=function(){function g(){(0,k.default)(this,g),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,w.default)(g,[{key:"addRelation",value:function(h,f){void 0===this.childrenReference[h]&&(this.childrenReference[h]=[]),this.childrenReference[h].push(f),void 0===this.parentReference[f]&&(this.parentReference[f]=[]),this.parentReference[f].push(h)}},{key:"checkIfTree",value:function(){for(var h in this.parentReference)if(this.parentReference[h].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(h,f){void 0!==f&&void 0===this.trees[h.id]&&(this.trees[h.id]=f,this.treeIndex=Math.max(f,this.treeIndex))}},{key:"ensureLevel",value:function(h){void 0===this.levels[h]&&(this.levels[h]=0)}},{key:"getMaxLevel",value:function(h){var f=this,E={};return function F(V){if(void 0!==E[V])return E[V];var z=f.levels[V];if(f.childrenReference[V]){var U=f.childrenReference[V];if(U.length>0)for(var j=0;j<U.length;j++)z=Math.max(z,F(U[j]))}return E[V]=z,z}(h)}},{key:"levelDownstream",value:function(h,f){void 0===this.levels[f.id]&&(void 0===this.levels[h.id]&&(this.levels[h.id]=0),this.levels[f.id]=this.levels[h.id]+1)}},{key:"setMinLevelToZero",value:function(h){var f=1e9;for(var E in h)h.hasOwnProperty(E)&&void 0!==this.levels[E]&&(f=Math.min(this.levels[E],f));for(var I in h)h.hasOwnProperty(I)&&void 0!==this.levels[I]&&(this.levels[I]-=f)}},{key:"getTreeSize",value:function(h,f){var E=1e9,I=-1e9,F=1e9,V=-1e9;for(var z in this.trees)if(this.trees.hasOwnProperty(z)&&this.trees[z]===f){var U=h[z];E=Math.min(U.x,E),I=Math.max(U.x,I),F=Math.min(U.y,F),V=Math.max(U.y,V)}return{min_x:E,max_x:I,min_y:F,max_y:V}}},{key:"hasSameParent",value:function(h,f){var E=this.parentReference[h.id],I=this.parentReference[f.id];if(void 0===E||void 0===I)return!1;for(var F=0;F<E.length;F++)for(var V=0;V<I.length;V++)if(E[F]==I[V])return!0;return!1}},{key:"inSameSubNetwork",value:function(h,f){return this.trees[h.id]===this.trees[f.id]}},{key:"getLevels",value:function(){return(0,A.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(h,f){void 0===this.distributionOrdering[f]&&(this.distributionOrdering[f]=[]);var E=!1,I=this.distributionOrdering[f];for(var F in I)if(I[F]===h){E=!0;break}E||(this.distributionOrdering[f].push(h),this.distributionIndex[h.id]=this.distributionOrdering[f].length-1)}}]),g}(),u=function(){function g(M){(0,k.default)(this,g),this.body=M,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},m.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,w.default)(g,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.on("_dataChanged",function(){h.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){h.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){h.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===h.options.hierarchical.enabled){var f=h.direction.curveType();h.body.emitter.emit("_forceDisableDynamicCurves",f,!1)}})}},{key:"setOptions",value:function(h,f){if(void 0!==h){var E=this.options.hierarchical,I=E.enabled;if(m.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,h),m.mergeOptions(this.options,h,"hierarchical"),void 0!==h.randomSeed&&(this.initialRandomSeed=h.randomSeed),!0===E.enabled)return!0===I&&this.body.emitter.emit("refresh",!0),"RL"===E.direction||"DU"===E.direction?E.levelSeparation>0&&(E.levelSeparation*=-1):E.levelSeparation<0&&(E.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(f);if(!0===I)return this.body.emitter.emit("refresh"),m.deepExtend(f,this.optionsBackup)}return f}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(h){if(!0===this.options.hierarchical.enabled){var f=this.optionsBackup.physics;void 0===h.physics||!0===h.physics?(h.physics={enabled:void 0===f.enabled||f.enabled,solver:"hierarchicalRepulsion"},f.enabled=void 0===f.enabled||f.enabled,f.solver=f.solver||"barnesHut"):"object"===(0,D.default)(h.physics)?(f.enabled=void 0===h.physics.enabled||h.physics.enabled,f.solver=h.physics.solver||"barnesHut",h.physics.solver="hierarchicalRepulsion"):!1!==h.physics&&(f.solver="barnesHut",h.physics={solver:"hierarchicalRepulsion"});var E=this.direction.curveType();if(void 0===h.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},h.edges={smooth:!1};else if(void 0===h.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},h.edges.smooth=!1;else if("boolean"==typeof h.edges.smooth)this.optionsBackup.edges={smooth:h.edges.smooth},h.edges.smooth={enabled:h.edges.smooth,type:E};else{var I=h.edges.smooth;void 0!==I.type&&"dynamic"!==I.type&&(E=I.type),this.optionsBackup.edges={smooth:void 0===I.enabled||I.enabled,type:void 0===I.type?"dynamic":I.type,roundness:void 0===I.roundness?.5:I.roundness,forceDirection:void 0!==I.forceDirection&&I.forceDirection},h.edges.smooth={enabled:void 0===I.enabled||I.enabled,type:E,roundness:void 0===I.roundness?.5:I.roundness,forceDirection:void 0!==I.forceDirection&&I.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",E)}return h}},{key:"seededRandom",value:function(){var h=1e4*Math.sin(this.randomSeed++);return h-Math.floor(h)}},{key:"positionInitially",value:function(h){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var f=h.length+50,E=0;E<h.length;E++){var I=h[E],F=2*Math.PI*this.seededRandom();void 0===I.x&&(I.x=f*Math.cos(F)),void 0===I.y&&(I.y=f*Math.sin(F))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var h=this.body.nodeIndices,f=0,E=0;E<h.length;E++)!0===this.body.nodes[h[E]].predefinedPosition&&(f+=1);if(f<.5*h.length){var V=0,U={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(h.length>150){for(var j=h.length;h.length>150&&V<=10;){var K=h.length;if((V+=1)%3==0?this.body.modules.clustering.clusterBridges(U):this.body.modules.clustering.clusterOutliers(U),K==h.length&&V%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*j)})}V>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(h,this.body.edgeIndices,!0),this._shiftToCenter();for(var le=0;le<h.length;le++){var pe=this.body.nodes[h[le]];!1===pe.predefinedPosition&&(pe.x+=70*(.5-this.seededRandom()),pe.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var h=c.getRangeCore(this.body.nodes,this.body.nodeIndices),f=c.findCenter(h),E=0;E<this.body.nodeIndices.length;E++){var I=this.body.nodes[this.body.nodeIndices[E]];I.x-=f.x,I.y-=f.y}}},{key:"_declusterAll",value:function(){for(var h=!0;!0===h;){h=!1;for(var f=0;f<this.body.nodeIndices.length;f++)!0===this.body.nodes[this.body.nodeIndices[f]].isCluster&&(h=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[f],{},!1));!0===h&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var h=void 0,f=void 0,E=!1,I=!1;for(f in this.lastNodeOnLevel={},this.hierarchical=new d,this.body.nodes)this.body.nodes.hasOwnProperty(f)&&(void 0!==(h=this.body.nodes[f]).options.level?(E=!0,this.hierarchical.levels[f]=h.options.level):I=!0);if(!0===I&&!0===E)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===I){var F=this.options.hierarchical.sortMethod;"hubsize"===F?this._determineLevelsByHubsize():"directed"===F?this._determineLevelsDirected():"custom"===F&&this._determineLevelsCustomCallback()}for(var V in this.body.nodes)this.body.nodes.hasOwnProperty(V)&&this.hierarchical.ensureLevel(V);var z=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(z),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var h=this,f=!1,E={},F=function(ge,ue){var he=h.hierarchical.trees;for(var be in he)he.hasOwnProperty(be)&&he[be]===ge&&h.direction.shift(be,ue)},V=function(){for(var ge=[],ue=0;ue<h.hierarchical.numTrees();ue++)ge.push(h.direction.getTreeSize(ue));return ge},z=function _e(ge,ue){if(!ue[ge.id]&&(ue[ge.id]=!0,h.hierarchical.childrenReference[ge.id])){var he=h.hierarchical.childrenReference[ge.id];if(he.length>0)for(var be=0;be<he.length;be++)_e(h.body.nodes[he[be]],ue)}},U=function(ge){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,he=1e9,be=1e9,Oe=1e9,Ie=-1e9;for(var xe in ge)if(ge.hasOwnProperty(xe)){var Be=h.body.nodes[xe],ze=h.hierarchical.levels[Be.id],it=h.direction.getPosition(Be),en=h._getSpaceAroundNode(Be,ge),hn=(0,y.default)(en,2),Et=hn[1];he=Math.min(hn[0],he),be=Math.min(Et,be),ze<=ue&&(Oe=Math.min(it,Oe),Ie=Math.max(it,Ie))}return[Oe,Ie,he,be]},j=function(ge,ue){var he=h.hierarchical.getMaxLevel(ge.id),be=h.hierarchical.getMaxLevel(ue.id);return Math.min(he,be)},K=function(ge,ue,he){for(var be=h.hierarchical,Oe=0;Oe<ue.length;Oe++){var xe=be.distributionOrdering[ue[Oe]];if(xe.length>1)for(var Be=0;Be<xe.length-1;Be++){var ze=xe[Be],it=xe[Be+1];be.hasSameParent(ze,it)&&be.inSameSubNetwork(ze,it)&&ge(ze,it,he)}}},te=function(ge,ue){var he=arguments.length>2&&void 0!==arguments[2]&&arguments[2],be=h.direction.getPosition(ge),Oe=h.direction.getPosition(ue),Ie=Math.abs(Oe-be),xe=h.options.hierarchical.nodeSpacing;if(Ie>xe){var Be={},ze={};z(ge,Be),z(ue,ze);var it=j(ge,ue),en=U(Be,it),hn=U(ze,it),at=en[1],Et=hn[0],Xt=hn[2];if(Math.abs(at-Et)>xe){var gn=at-Et+xe;gn<-Xt+xe&&(gn=-Xt+xe),gn<0&&(h._shiftBlock(ue.id,gn),f=!0,!0===he&&h._centerParent(ue))}}},oe=function(ge,ue){for(var he=ue.id,be=ue.edges,Oe=h.hierarchical.levels[ue.id],Ie=h.options.hierarchical.levelSeparation*h.options.hierarchical.levelSeparation,xe={},Be=[],ze=0;ze<be.length;ze++){var it=be[ze];if(it.toId!=it.fromId){var en=it.toId==he?it.from:it.to;xe[be[ze].id]=en,h.hierarchical.levels[en.id]<Oe&&Be.push(it)}}var Ge,Re,Ve,nt,_t,$e,Cn,hn=function(Ge,Re){for(var Ve=0,nt=0;nt<Re.length;nt++)if(void 0!==xe[Re[nt].id]){var _t=h.direction.getPosition(xe[Re[nt].id])-Ge;Ve+=_t/Math.sqrt(_t*_t+Ie)}return Ve},at=function(Ge,Re){for(var Ve=0,nt=0;nt<Re.length;nt++)if(void 0!==xe[Re[nt].id]){var _t=h.direction.getPosition(xe[Re[nt].id])-Ge;Ve-=Ie*Math.pow(_t*_t+Ie,-1.5)}return Ve},Et=function(Ge,Re){for(var Ve=h.direction.getPosition(ue),nt={},_t=0;_t<Ge;_t++){var Wt=hn(Ve,Re),$e=at(Ve,Re);if(void 0!==nt[Ve-=Math.max(-40,Math.min(40,Math.round(Wt/$e)))])break;nt[Ve]=_t}return Ve},gn=Et(ge,Be);(function(Ge){var Re=h.direction.getPosition(ue);if(void 0===E[ue.id]){var Ve={};z(ue,Ve),E[ue.id]=Ve}var nt=U(E[ue.id]),_t=nt[2],$e=Ge-Re,Cn=0;$e>0?Cn=Math.min($e,nt[3]-h.options.hierarchical.nodeSpacing):$e<0&&(Cn=-Math.min(-$e,_t-h.options.hierarchical.nodeSpacing)),0!=Cn&&(h._shiftBlock(ue.id,Cn),f=!0)})(gn),Ge=gn=Et(ge,be),Re=h.direction.getPosition(ue),Ve=h._getSpaceAroundNode(ue),nt=(0,y.default)(Ve,2),_t=nt[0],Cn=Re,($e=Ge-Re)>0?Cn=Math.min(Re+(nt[1]-h.options.hierarchical.nodeSpacing),Ge):$e<0&&(Cn=Math.max(Re-(_t-h.options.hierarchical.nodeSpacing),Ge)),Cn!==Re&&(h.direction.setPosition(ue,Cn),f=!0)};!0===this.options.hierarchical.blockShifting&&(function(ge){var ue=h.hierarchical.getLevels();ue=ue.reverse();for(var he=0;he<5&&(f=!1,K(te,ue,!0),!0===f);he++);}(),function(){for(var ge in h.body.nodes)h.body.nodes.hasOwnProperty(ge)&&h._centerParent(h.body.nodes[ge])}()),!0===this.options.hierarchical.edgeMinimization&&function(ge){var ue=h.hierarchical.getLevels();ue=ue.reverse();for(var he=0;he<ge;he++){f=!1;for(var be=0;be<ue.length;be++)for(var Ie=h.hierarchical.distributionOrdering[ue[be]],xe=0;xe<Ie.length;xe++)oe(1e3,Ie[xe]);if(!0!==f)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var ge=h.hierarchical.getLevels();ge=ge.reverse();for(var ue=0;ue<ge.length;ue++)for(var be=h.hierarchical.distributionOrdering[ge[ue]],Oe=0;Oe<be.length;Oe++)h._centerParent(be[Oe])}(),function(){for(var ge=V(),ue=0,he=0;he<ge.length-1;he++)F(he+1,ue+=ge[he].max-ge[he+1].min+h.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(h,f){var E=!0;void 0===f&&(E=!1);var I=this.hierarchical.levels[h.id];if(void 0!==I){var F=this.hierarchical.distributionIndex[h.id],V=this.direction.getPosition(h),z=this.hierarchical.distributionOrdering[I],U=1e9,j=1e9;if(0!==F){var K=z[F-1];(!0===E&&void 0===f[K.id]||!1===E)&&(U=V-this.direction.getPosition(K))}if(F!=z.length-1){var oe=z[F+1];if(!0===E&&void 0===f[oe.id]||!1===E){var le=this.direction.getPosition(oe);j=Math.min(j,le-V)}}return[U,j]}return[0,0]}},{key:"_centerParent",value:function(h){if(this.hierarchical.parentReference[h.id])for(var f=this.hierarchical.parentReference[h.id],E=0;E<f.length;E++){var I=f[E],F=this.body.nodes[I],V=this.hierarchical.childrenReference[I];if(void 0!==V){var z=this._getCenterPosition(V),U=this.direction.getPosition(F),j=this._getSpaceAroundNode(F),K=(0,y.default)(j,2),te=K[0],oe=K[1],le=U-z;(le<0&&Math.abs(le)<oe-this.options.hierarchical.nodeSpacing||le>0&&Math.abs(le)<te-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(F,z)}}}},{key:"_placeNodesByHierarchy",value:function(h){for(var f in this.positionedNodes={},h)if(h.hasOwnProperty(f)){var E=(0,A.default)(h[f]);E=this._indexArrayToNodes(E),this.direction.sort(E);for(var I=0,F=0;F<E.length;F++){var V=E[F];if(void 0===this.positionedNodes[V.id]){var z=this.options.hierarchical.nodeSpacing,U=z*I;I>0&&(U=this.direction.getPosition(E[F-1])+z),this.direction.setPosition(V,U,f),this._validatePositionAndContinue(V,f,U),I++}}}}},{key:"_placeBranchNodes",value:function(h,f){var E=this.hierarchical.childrenReference[h];if(void 0!==E){for(var I=[],F=0;F<E.length;F++)I.push(this.body.nodes[E[F]]);this.direction.sort(I);for(var V=0;V<I.length;V++){var z=I[V],U=this.hierarchical.levels[z.id];if(!(U>f&&void 0===this.positionedNodes[z.id]))return;var K,j=this.options.hierarchical.nodeSpacing;K=0===V?this.direction.getPosition(this.body.nodes[h]):this.direction.getPosition(I[V-1])+j,this.direction.setPosition(z,K,U),this._validatePositionAndContinue(z,U,K)}var te=this._getCenterPosition(I);this.direction.setPosition(this.body.nodes[h],te,f)}}},{key:"_validatePositionAndContinue",value:function(h,f,E){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[f]){var I=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[f]]);if(E-I<this.options.hierarchical.nodeSpacing){var F=I+this.options.hierarchical.nodeSpacing-E,V=this._findCommonParent(this.lastNodeOnLevel[f],h.id);this._shiftBlock(V.withChild,F)}}this.lastNodeOnLevel[f]=h.id,this.positionedNodes[h.id]=!0,this._placeBranchNodes(h.id,f)}}},{key:"_indexArrayToNodes",value:function(h){for(var f=[],E=0;E<h.length;E++)f.push(this.body.nodes[h[E]]);return f}},{key:"_getDistribution",value:function(){var h={},f=void 0,E=void 0;for(f in this.body.nodes)if(this.body.nodes.hasOwnProperty(f)){var I=void 0===this.hierarchical.levels[f]?0:this.hierarchical.levels[f];this.direction.fix(E=this.body.nodes[f],I),void 0===h[I]&&(h[I]={}),h[I][f]=E}return h}},{key:"_getActiveEdges",value:function(h){var f=this,E=[];return m.forEach(h.edges,function(I){-1!==f.body.edgeIndices.indexOf(I.id)&&E.push(I)}),E}},{key:"_getHubSizes",value:function(){var h=this,f={};m.forEach(this.body.nodeIndices,function(F){var z=h._getActiveEdges(h.body.nodes[F]).length;f[z]=!0});var I=[];return m.forEach(f,function(F){I.push(Number(F))}),I.sort(function(F,V){return V-F}),I}},{key:"_determineLevelsByHubsize",value:function(){for(var h=this,f=function(U,j){h.hierarchical.levelDownstream(U,j)},E=this._getHubSizes(),I=function(U){var j=E[U];if(0===j)return"break";m.forEach(h.body.nodeIndices,function(K){j===h._getActiveEdges(h.body.nodes[K]).length&&h._crawlNetwork(f,K)})},F=0;F<E.length&&"break"!==I(F);++F);}},{key:"_determineLevelsCustomCallback",value:function(){var h=this;this._crawlNetwork(function(V,z,U){var j=h.hierarchical.levels[V.id];void 0===j&&(j=h.hierarchical.levels[V.id]=1e5);var K=(c.cloneOptions(V,"node"),c.cloneOptions(z,"node"),void c.cloneOptions(U,"edge"));h.hierarchical.levels[z.id]=j+K}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var h=this;this._crawlNetwork(function(V,z,U){var j=h.hierarchical.levels[V.id],K=h.hierarchical.levels[z.id];(function(V){return m.forEach(h.body.edges,function(z){if(z.toId===V.fromId&&z.fromId===V.toId)return!0}),!1})(U)&&void 0!==j&&void 0!==K||(void 0===j&&(j=h.hierarchical.levels[V.id]=1e4),h.hierarchical.levels[z.id]=U.toId==z.id?j+1:j-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var h=this;this._crawlNetwork(function(I,F){h.hierarchical.levels[F.id]>h.hierarchical.levels[I.id]&&h.hierarchical.addRelation(I.id,F.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var h=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},E=arguments[1],I={},F=function te(oe,le){if(void 0===I[oe.id]){h.hierarchical.setTreeIndex(oe,le),I[oe.id]=!0;for(var pe=void 0,Ee=h._getActiveEdges(oe),Ce=0;Ce<Ee.length;Ce++){var _e=Ee[Ce];!0===_e.connected&&oe.id!=(pe=_e.toId==oe.id?_e.from:_e.to).id&&(f(oe,pe,_e),te(pe,le))}}};if(void 0===E)for(var V=0,z=0;z<this.body.nodeIndices.length;z++){var U=this.body.nodeIndices[z];void 0===I[U]&&(F(this.body.nodes[U],V),V+=1)}else{var K=this.body.nodes[E];if(void 0===K)return void console.error("Node not found:",E);F(K)}}},{key:"_shiftBlock",value:function(h,f){var E=this,I={};!function V(z){if(!I[z]){I[z]=!0,E.direction.shift(z,f);var U=E.hierarchical.childrenReference[z];if(void 0!==U)for(var j=0;j<U.length;j++)V(U[j])}}(h)}},{key:"_findCommonParent",value:function(h,f){var E=this,I={};return function z(U,j){var K=E.hierarchical.parentReference[j];if(void 0!==K)for(var te=0;te<K.length;te++){var oe=K[te];U[oe]=!0,z(U,oe)}}(I,h),function z(U,j){var K=E.hierarchical.parentReference[j];if(void 0!==K)for(var te=0;te<K.length;te++){var oe=K[te];if(void 0!==U[oe])return{foundParent:oe,withChild:j};var le=z(U,oe);if(null!==le.foundParent)return le}return{foundParent:null,withChild:j}}(I,f)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new p(this):new a(this)}},{key:"_getCenterPosition",value:function(h){for(var f=1e9,E=-1e9,I=0;I<h.length;I++){var z=this.direction.getPosition(void 0!==h[I].id?h[I]:this.body.nodes[h[I]]);f=Math.min(f,z),E=Math.max(E,z)}return.5*(f+E)}}]),g}();L.default=u},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0}),L.VerticalStrategy=L.HorizontalStrategy=void 0;var y=v(_(3)),D=v(_(4)),A=v(_(5)),k=v(_(0)),w=v(_(1));function v(a){return a&&a.__esModule?a:{default:a}}var m=function(){function a(){(0,k.default)(this,a)}return(0,w.default)(a,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(d){return this.fake_use(d),this.abstract()}},{key:"setPosition",value:function(d,u){this.fake_use(d,u,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(d){return this.fake_use(d),this.abstract()}},{key:"sort",value:function(d){this.fake_use(d),this.abstract()}},{key:"fix",value:function(d,u){this.fake_use(d,u),this.abstract()}},{key:"shift",value:function(d,u){this.fake_use(d,u),this.abstract()}}]),a}(),c=function(a){function p(d){(0,k.default)(this,p);var u=(0,D.default)(this,(p.__proto__||(0,y.default)(p)).call(this));return u.layout=d,u}return(0,A.default)(p,a),(0,w.default)(p,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(u){return u.x}},{key:"setPosition",value:function(u,g){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==M&&this.layout.hierarchical.addToOrdering(u,M),u.x=g}},{key:"getTreeSize",value:function(u){var g=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,u);return{min:g.min_x,max:g.max_x}}},{key:"sort",value:function(u){u.sort(function(g,M){return void 0===g.x||void 0===M.x?0:g.x-M.x})}},{key:"fix",value:function(u,g){u.y=this.layout.options.hierarchical.levelSeparation*g,u.options.fixed.y=!0}},{key:"shift",value:function(u,g){this.layout.body.nodes[u].x+=g}}]),p}(m),T=function(a){function p(d){(0,k.default)(this,p);var u=(0,D.default)(this,(p.__proto__||(0,y.default)(p)).call(this));return u.layout=d,u}return(0,A.default)(p,a),(0,w.default)(p,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(u){return u.y}},{key:"setPosition",value:function(u,g){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==M&&this.layout.hierarchical.addToOrdering(u,M),u.y=g}},{key:"getTreeSize",value:function(u){var g=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,u);return{min:g.min_y,max:g.max_y}}},{key:"sort",value:function(u){u.sort(function(g,M){return void 0===g.y||void 0===M.y?0:g.y-M.y})}},{key:"fix",value:function(u,g){u.x=this.layout.options.hierarchical.levelSeparation*g,u.options.fixed.x=!0}},{key:"shift",value:function(u,g){this.layout.body.nodes[u].y+=g}}]),p}(m);L.HorizontalStrategy=T,L.VerticalStrategy=c},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=v(_(8)),D=v(_(19)),A=v(_(6)),k=v(_(0)),w=v(_(1));function v(p){return p&&p.__esModule?p:{default:p}}var m=_(2),c=_(10),T=_(37),a=function(){function p(d,u,g){var M=this;(0,k.default)(this,p),this.body=d,this.canvas=u,this.selectionHandler=g,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},m.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){M._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,w.default)(p,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(u,g,M){void 0!==g&&(this.options.locale=void 0!==g.locale?g.locale:M.locale,this.options.locales=void 0!==g.locales?g.locales:M.locales),void 0!==u&&("boolean"==typeof u?this.options.enabled=u:(this.options.enabled=!0,m.deepExtend(this.options,u)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var u=this.selectionHandler._getSelectedNodeCount(),g=this.selectionHandler._getSelectedEdgeCount(),M=u+g,h=this.options.locales[this.options.locale],f=!1;!1!==this.options.addNode&&(this._createAddNodeButton(h),f=!0),!1!==this.options.addEdge&&(!0===f?this._createSeperator(1):f=!0,this._createAddEdgeButton(h)),1===u&&"function"==typeof this.options.editNode?(!0===f?this._createSeperator(2):f=!0,this._createEditNodeButton(h)):1===g&&0===u&&!1!==this.options.editEdge&&(!0===f?this._createSeperator(3):f=!0,this._createEditEdgeButton(h)),0!==M&&(u>0&&!1!==this.options.deleteNode||0===u&&!1!==this.options.deleteEdge)&&(!0===f&&this._createSeperator(4),this._createDeleteButton(h)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var u=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(u),this._createSeperator(),this._createDescription(u.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var u=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var g=this.selectionHandler._getSelectedNode();if(void 0!==g){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==g.isCluster){var M=m.deepExtend({},g.options,!1);if(M.x=g.x,M.y=g.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(M,function(h){null!=h&&"editNode"===u.inMode&&u.body.data.nodes.getDataSet().update(h),u.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var u=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(u),this._createSeperator(),this._createDescription(u.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,A.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var g=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(g),this._createSeperator(),this._createDescription(g.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var M=this.body.edges[this.edgeBeingEditedId],h=this._getNewTargetNode(M.from.x,M.from.y),f=this._getNewTargetNode(M.to.x,M.to.y);this.temporaryIds.nodes.push(h.id),this.temporaryIds.nodes.push(f.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(E){var I=M.edgeType.findBorderPositions(E);!1===h.selected&&(h.x=I.from.x,h.y=I.from.y),!1===f.selected&&(f.x=I.to.x,f.y=I.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var u=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(u.from,u.to)}}},{key:"deleteSelected",value:function(){var u=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var g=this.selectionHandler.getSelectedNodes(),M=this.selectionHandler.getSelectedEdges(),h=void 0;if(g.length>0){for(var f=0;f<g.length;f++)if(!0===this.body.nodes[g[f]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(h=this.options.deleteNode)}else M.length>0&&"function"==typeof this.options.deleteEdge&&(h=this.options.deleteEdge);if("function"==typeof h){var E={nodes:g,edges:M};if(2!==h.length)throw new Error("The function for delete does not support two arguments (data, callback)");h(E,function(I){null!=I&&"delete"===u.inMode?(u.body.data.edges.getDataSet().remove(I.edges),u.body.data.nodes.getDataSet().remove(I.nodes),u.body.emitter.emit("startSimulation"),u.showManipulatorToolbar()):(u.body.emitter.emit("startSimulation"),u.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(M),this.body.data.nodes.getDataSet().remove(g),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(u,g){var M=m.deepExtend({},this.options.controlNodeStyle);M.id="targetNode"+m.randomUUID(),M.hidden=!1,M.physics=!1,M.x=u,M.y=g;var h=this.body.functions.createNode(M);return h.shape.boundingBox={left:u,right:u,top:g,bottom:g},h}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},m.recursiveDOMDelete(this.editModeDiv);var g=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(g),this._bindHammerToDiv(g,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(m.recursiveDOMDelete(this.editModeDiv),m.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var u=0;u<this.manipulationHammers.length;u++)this.manipulationHammers[u].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),m.recursiveDOMDelete(this.manipulationDiv),m.recursiveDOMDelete(this.editModeDiv),m.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+u]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+u].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+u])}},{key:"_createAddNodeButton",value:function(u){var g=this._createButton("addNode","vis-button vis-add",u.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(u){var g=this._createButton("addEdge","vis-button vis-connect",u.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(u){var g=this._createButton("editNode","vis-button vis-edit",u.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(u){var g=this._createButton("editEdge","vis-button vis-edit",u.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(u){var M=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",u.del||this.options.locales.en.del);this.manipulationDiv.appendChild(M),this._bindHammerToDiv(M,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(u){var g=this._createButton("back","vis-button vis-back",u.back||this.options.locales.en.back);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(u,g,M){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[u+"Div"]=document.createElement("div"),this.manipulationDOM[u+"Div"].className=g,this.manipulationDOM[u+"Label"]=document.createElement("div"),this.manipulationDOM[u+"Label"].className=h,this.manipulationDOM[u+"Label"].innerHTML=M,this.manipulationDOM[u+"Div"].appendChild(this.manipulationDOM[u+"Label"]),this.manipulationDOM[u+"Div"]}},{key:"_createDescription",value:function(u){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",u))}},{key:"_temporaryBindEvent",value:function(u,g){this.temporaryEventFunctions.push({event:u,boundFunction:g}),this.body.emitter.on(u,g)}},{key:"_temporaryBindUI",value:function(u,g){if(void 0===this.body.eventListeners[u])throw new Error("This UI function does not exist. Typo? You tried: "+u+" possible are: "+(0,D.default)((0,y.default)(this.body.eventListeners)));this.temporaryUIFunctions[u]=this.body.eventListeners[u],this.body.eventListeners[u]=g}},{key:"_unbindTemporaryUIs",value:function(){for(var u in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(u)&&(this.body.eventListeners[u]=this.temporaryUIFunctions[u],delete this.temporaryUIFunctions[u]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var u=0;u<this.temporaryEventFunctions.length;u++)this.body.emitter.off(this.temporaryEventFunctions[u].event,this.temporaryEventFunctions[u].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(u,g){var M=new c(u,{});T.onTouch(M,g),this.manipulationHammers.push(M)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var u=0;u<this.temporaryIds.edges.length;u++){this.body.edges[this.temporaryIds.edges[u]].disconnect(),delete this.body.edges[this.temporaryIds.edges[u]];var g=this.body.edgeIndices.indexOf(this.temporaryIds.edges[u]);-1!==g&&this.body.edgeIndices.splice(g,1)}for(var M=0;M<this.temporaryIds.nodes.length;M++){delete this.body.nodes[this.temporaryIds.nodes[M]];var h=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[M]);-1!==h&&this.body.nodeIndices.splice(h,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(u){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(u.center),this.lastTouch.translation=m.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(u){var M=this.selectionHandler._pointerToPositionObject(this.lastTouch),h=this.body.nodes[this.temporaryIds.nodes[0]],f=this.body.nodes[this.temporaryIds.nodes[1]],E=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var I=h.isOverlappingWith(M),F=f.isOverlappingWith(M);!0===I?(this.selectedControlNode=h,E.edgeType.from=h):!0===F&&(this.selectedControlNode=f,E.edgeType.to=f),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(u){this.body.emitter.emit("disablePhysics");var g=this.body.functions.getPointer(u.center),M=this.canvas.DOMtoCanvas(g);void 0!==this.selectedControlNode?(this.selectedControlNode.x=M.x,this.selectedControlNode.y=M.y):this.body.view.translation={x:this.lastTouch.translation.x+(g.x-this.lastTouch.x),y:this.lastTouch.translation.y+(g.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(u){var g=this.body.functions.getPointer(u.center),M=this.selectionHandler._pointerToPositionObject(g),h=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var f=this.selectionHandler._getAllNodesOverlappingWith(M),E=void 0,I=f.length-1;I>=0;I--)if(f[I]!==this.selectedControlNode.id){E=this.body.nodes[f[I]];break}void 0!==E&&void 0!==this.selectedControlNode?!0===E.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(E.id,h.to.id):this._performEditEdge(h.from.id,E.id):(h.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(u){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(u.center),this.lastTouch.translation=m.extend({},this.body.view.translation);var M=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==M)if(!0===M.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this._getNewTargetNode(M.x,M.y);this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id);var f=this.body.functions.createEdge({id:"connectionEdge"+m.randomUUID(),from:M.id,to:h.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[f.id]=f,this.body.edgeIndices.push(f.id),this.temporaryIds.nodes.push(h.id),this.temporaryIds.edges.push(f.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(u){var g=this.body.functions.getPointer(u.center);if(void 0!==this.temporaryIds.nodes[0]){var M=this.body.nodes[this.temporaryIds.nodes[0]];M.x=this.canvas._XconvertDOMtoCanvas(g.x),M.y=this.canvas._YconvertDOMtoCanvas(g.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(g.x-this.lastTouch.x),y:this.lastTouch.translation.y+(g.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(u){var g=this.body.functions.getPointer(u.center),M=this.selectionHandler._pointerToPositionObject(g),h=void 0;void 0!==this.temporaryIds.edges[0]&&(h=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var f=this.selectionHandler._getAllNodesOverlappingWith(M),E=void 0,I=f.length-1;I>=0;I--)if(-1===this.temporaryIds.nodes.indexOf(f[I])){E=this.body.nodes[f[I]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==E&&(!0===E.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[h]&&void 0!==this.body.nodes[E.id]&&this._performAddEdge(h,E.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(u){this.selectionHandler._generateClickEvent("dragStart",u,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(u){var g=this,M={id:m.randomUUID(),x:u.pointer.canvas.x,y:u.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(M,function(h){null!=h&&"addNode"===g.inMode&&(g.body.data.nodes.getDataSet().add(h),g.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(M),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(u,g){var M=this,h={from:u,to:g};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(h,function(f){null!=f&&"addEdge"===M.inMode&&(M.body.data.edges.getDataSet().add(f),M.selectionHandler.unselectAll(),M.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(u,g){var M=this,h={id:this.edgeBeingEditedId,from:u,to:g,label:this.body.data.edges._data[this.edgeBeingEditedId].label},f=this.options.editEdge;if("object"===(void 0===f?"undefined":(0,A.default)(f))&&(f=f.editWithoutDrag),"function"==typeof f){if(2!==f.length)throw new Error("The function for edit does not support two arguments (data, callback)");f(h,function(E){null==E||"editEdge"!==M.inMode?(M.body.edges[h.id].updateEdgeType(),M.body.emitter.emit("_redraw"),M.showManipulatorToolbar()):(M.body.data.edges.getDataSet().update(E),M.selectionHandler.unselectAll(),M.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),p}();L.default=a},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=b(_(30)),D=b(_(0)),A=b(_(1)),k=b(_(239));function b(v){return v&&v.__esModule?v:{default:v}}var w=function(){function v(m,c,T){(0,D.default)(this,v),this.body=m,this.springLength=c,this.springConstant=T,this.distanceSolver=new k.default}return(0,A.default)(v,[{key:"setOptions",value:function(c){c&&(c.springLength&&(this.springLength=c.springLength),c.springConstant&&(this.springConstant=c.springConstant))}},{key:"solve",value:function(c,T){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=this.distanceSolver.getDistances(this.body,c,T);this._createL_matrix(p),this._createK_matrix(p),this._createE_matrix();for(var d=.01,u=1,g=0,M=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5,f=1e9,E=0,I=0,F=0,V=0,z=0;f>d&&g<M;){g+=1;var U=this._getHighestEnergyNode(a),j=(0,y.default)(U,4);for(E=j[0],I=j[2],F=j[3],V=f=j[1],z=0;V>u&&z<h;){z+=1,this._moveNode(E,I,F);var K=this._getEnergy(E),te=(0,y.default)(K,3);V=te[0],I=te[1],F=te[2]}}}},{key:"_getHighestEnergyNode",value:function(c){for(var T=this.body.nodeIndices,a=this.body.nodes,p=0,d=T[0],u=0,g=0,M=0;M<T.length;M++){var h=T[M];if(!1===a[h].predefinedPosition||!0===a[h].isCluster&&!0===c||!0===a[h].options.fixed.x||!0===a[h].options.fixed.y){var f=this._getEnergy(h),E=(0,y.default)(f,3),I=E[0];p<I&&(p=I,d=h,u=E[1],g=E[2])}}return[d,p,u,g]}},{key:"_getEnergy",value:function(c){var T=(0,y.default)(this.E_sums[c],2),a=T[0],p=T[1];return[Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),a,p]}},{key:"_moveNode",value:function(c,T,a){for(var p=this.body.nodeIndices,d=this.body.nodes,u=0,g=0,M=0,h=d[c].x,f=d[c].y,E=this.K_matrix[c],I=this.L_matrix[c],F=0;F<p.length;F++){var V=p[F];if(V!==c){var z=d[V].x,U=d[V].y,j=E[V],K=I[V],te=1/Math.pow(Math.pow(h-z,2)+Math.pow(f-U,2),1.5);u+=j*(1-K*Math.pow(f-U,2)*te),g+=j*(K*(h-z)*(f-U)*te),M+=j*(1-K*Math.pow(h-z,2)*te)}}var _e=(T/u+a/g)/(g/u-M/g);d[c].x+=-(g*_e+T)/u,d[c].y+=_e,this._updateE_matrix(c)}},{key:"_createL_matrix",value:function(c){var T=this.body.nodeIndices,a=this.springLength;this.L_matrix=[];for(var p=0;p<T.length;p++){this.L_matrix[T[p]]={};for(var d=0;d<T.length;d++)this.L_matrix[T[p]][T[d]]=a*c[T[p]][T[d]]}}},{key:"_createK_matrix",value:function(c){var T=this.body.nodeIndices,a=this.springConstant;this.K_matrix=[];for(var p=0;p<T.length;p++){this.K_matrix[T[p]]={};for(var d=0;d<T.length;d++)this.K_matrix[T[p]][T[d]]=a*Math.pow(c[T[p]][T[d]],-2)}}},{key:"_createE_matrix",value:function(){var c=this.body.nodeIndices,T=this.body.nodes;this.E_matrix={},this.E_sums={};for(var a=0;a<c.length;a++)this.E_matrix[c[a]]=[];for(var p=0;p<c.length;p++){for(var d=c[p],u=T[d].x,g=T[d].y,M=0,h=0,f=p;f<c.length;f++){var E=c[f];if(E!==d){var I=T[E].x,F=T[E].y,V=1/Math.sqrt(Math.pow(u-I,2)+Math.pow(g-F,2));this.E_matrix[d][f]=[this.K_matrix[d][E]*(u-I-this.L_matrix[d][E]*(u-I)*V),this.K_matrix[d][E]*(g-F-this.L_matrix[d][E]*(g-F)*V)],this.E_matrix[E][p]=this.E_matrix[d][f],M+=this.E_matrix[d][f][0],h+=this.E_matrix[d][f][1]}}this.E_sums[d]=[M,h]}}},{key:"_updateE_matrix",value:function(c){for(var T=this.body.nodeIndices,a=this.body.nodes,p=this.E_matrix[c],d=this.K_matrix[c],u=this.L_matrix[c],g=a[c].x,M=a[c].y,h=0,f=0,E=0;E<T.length;E++){var I=T[E];if(I!==c){var F=p[E],V=F[0],z=F[1],U=a[I].x,j=a[I].y,K=1/Math.sqrt(Math.pow(g-U,2)+Math.pow(M-j,2)),te=d[I]*(g-U-u[I]*(g-U)*K),oe=d[I]*(M-j-u[I]*(M-j)*K);p[E]=[te,oe],h+=te,f+=oe;var le=this.E_sums[I];le[0]+=te-V,le[1]+=oe-z}}this.E_sums[c]=[h,f]}}]),v}();L.default=w},function(Q,L,_){Object.defineProperty(L,"__esModule",{value:!0});var y=O(_(0)),D=O(_(1));function O(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(){(0,y.default)(this,x)}return(0,D.default)(x,[{key:"getDistances",value:function(b,w,v){for(var m={},c=b.edges,T=0;T<w.length;T++){var p={};m[w[T]]=p;for(var d=0;d<w.length;d++)p[w[d]]=T==d?0:1e9}for(var u=0;u<v.length;u++){var g=c[v[u]];!0===g.connected&&void 0!==m[g.fromId]&&void 0!==m[g.toId]&&(m[g.fromId][g.toId]=1,m[g.toId][g.fromId]=1)}for(var M=w.length,h=0;h<M;h++)for(var f=w[h],E=m[f],I=0;I<M-1;I++)for(var F=w[I],V=m[F],z=I+1;z<M;z++){var U=w[z],j=m[U],K=Math.min(V[U],V[f]+E[U]);V[U]=K,j[F]=K}return m}}]),x}();L.default=A}])},425:(ut,Q,L)=>{"use strict";function _(n){return"function"==typeof n}let P=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else P&&console.log("RxJS: Back to a better error behavior. Thank you. <3");P=n},get useDeprecatedSynchronousErrorHandling(){return P}};function S(n){setTimeout(()=>{throw n},0)}const D={closed:!0,next(n){},error(n){if(y.useDeprecatedSynchronousErrorHandling)throw n;S(n)},complete(){}},O=Array.isArray||(n=>n&&"number"==typeof n.length);function A(n){return null!==n&&"object"==typeof n}const k=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class b{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof b)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(_(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof k?w(o.errors):[o]}}if(O(s)){let o=-1,l=s.length;for(;++o<l;){const C=s[o];if(A(C))try{C.unsubscribe()}catch(N){e=e||[],N instanceof k?e=e.concat(w(N.errors)):e.push(N)}}}if(e)throw new k(e)}add(e){let t=e;if(!e)return b.EMPTY;switch(typeof e){case"function":t=new b(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof b)){const s=t;t=new b,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof b){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function w(n){return n.reduce((e,t)=>e.concat(t instanceof k?t.errors:t),[])}b.EMPTY=((n=new b).closed=!0,n);const v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class c extends b{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=D;break;case 1:if(!e){this.destination=D;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new T(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new T(this,e,t,i)}}[v](){return this}static create(e,t,i){const r=new c(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class T extends c{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,o=this;_(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==D&&(o=Object.create(t),_(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;y.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=y;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):S(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;S(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw i;S(i)}}__tryOrSetError(e,t,i){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return y.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(S(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const d="function"==typeof Symbol&&Symbol.observable||"@@observable";function u(n){return n}let h=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof c)return n;if(n[v])return n[v]()}return n||e||t?new c(n,e,t):new c(D)}(t,i,r);if(o.add(s?s.call(o,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),y.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){y.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof c?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=f(i))((r,s)=>{let o;o=this.subscribe(l=>{try{t(l)}catch(C){s(C),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[d](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?u:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=f(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function f(n){if(n||(n=y.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const I=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class F extends b{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class V extends c{constructor(e){super(e),this.destination=e}}let z=(()=>{class n extends h{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[v](){return new V(this)}lift(t){const i=new U(this,this);return i.operator=t,i}next(t){if(this.closed)throw new I;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new I;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new I;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),b.EMPTY):this.isStopped?(t.complete(),b.EMPTY):(this.observers.push(t),new F(this,t))}asObservable(){const t=new h;return t.source=this,t}}return n.create=(e,t)=>new U(e,t),n})();class U extends z{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):b.EMPTY}}function j(n){return n&&"function"==typeof n.schedule}function K(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new te(n,e))}}class te{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new oe(e,this.project,this.thisArg))}}class oe extends c{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const le=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},Ce="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",he=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function be(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Oe=n=>{if(n&&"function"==typeof n[d])return(n=>e=>{const t=n[d]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(he(n))return le(n);if(be(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,S),e))(n);if(n&&"function"==typeof n[Ce])return(n=>e=>{const t=n[Ce]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${A(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Be(n,e){return new h(t=>{const i=new b;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function at(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[d]}(n))return function(n,e){return new h(t=>{const i=new b;return i.add(e.schedule(()=>{const r=n[d]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>t.next(s)))},error(s){i.add(e.schedule(()=>t.error(s)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(be(n))return function(n,e){return new h(t=>{const i=new b;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(he(n))return Be(n,e);if(function(n){return n&&"function"==typeof n[Ce]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new h(t=>{const i=new b;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[Ce](),i.add(e.schedule(function(){if(t.closed)return;let s,o;try{const l=r.next();s=l.value,o=l.done}catch(l){return void t.error(l)}o?t.complete():(t.next(s),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof h?n:new h(Oe(n))}class Et extends c{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class rn extends c{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Qt(n,e){if(e.closed)return;if(n instanceof h)return n.subscribe(e);let t;try{t=Oe(n)(e)}catch(i){e.error(i)}return t}function Ge(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Ge((r,s)=>at(n(r,s)).pipe(K((o,l)=>e(r,o,s,l))),t)):("number"==typeof e&&(t=e),i=>i.lift(new Re(n,t)))}class Re{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Ve(e,this.project,this.concurrent))}}class Ve extends rn{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Et(this),i=this.destination;i.add(t);const r=Qt(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function _t(n=Number.POSITIVE_INFINITY){return Ge(u,n)}function Wt(n,e){return e?Be(n,e):new h(le(n))}function Cn(){return function(e){return e.lift(new xo(e))}}class xo{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new Mo(e,i),s=t.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class Mo extends c{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class Oo extends h{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new b,e.add(this.source.subscribe(new ei(this.getSubject(),this))),e.closed&&(this._connection=null,e=b.EMPTY)),e}refCount(){return Cn()(this)}}const ca=(()=>{const n=Oo.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class ei extends V{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function al(){return new z}function Tt(n){for(let e in n)if(n[e]===Tt)return e;throw Error("Could not find renamed property on target object.")}function Qs(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ft(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ft).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Io(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Xs=Tt({__forward_ref__:Tt});function Gt(n){return n.__forward_ref__=Gt,n.toString=function(){return ft(this())},n}function Ye(n){return ul(n)?n():n}function ul(n){return"function"==typeof n&&n.hasOwnProperty(Xs)&&n.__forward_ref__===Gt}class $i extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function dt(n){return"string"==typeof n?n:null==n?"":String(n)}function sn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():dt(n)}function vs(n,e){const t=e?` in ${e}`:"";throw new $i("201",`No provider for ${sn(n)} found${t}`)}function Vn(n,e){null==n&&function(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Ze(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function In(n){return Yi(n,fi)||Yi(n,to)}function Yi(n,e){return n.hasOwnProperty(e)?n[e]:null}function eo(n){return n&&(n.hasOwnProperty(bs)||n.hasOwnProperty(Ro))?n[bs]:null}const fi=Tt({\u0275prov:Tt}),bs=Tt({\u0275inj:Tt}),to=Tt({ngInjectableDef:Tt}),Ro=Tt({ngInjectorDef:Tt});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let no;function pi(n){const e=no;return no=n,e}function fl(n,e,t){const i=In(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Je.Optional?null:void 0!==e?e:void vs(ft(n),"Injector")}function Ki(n){return{toString:n}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),ee=(()=>((ee=ee||{})[ee.Emulated=0]="Emulated",ee[ee.None=2]="None",ee[ee.ShadowDom=3]="ShadowDom",ee))();const ie="undefined"!=typeof globalThis&&globalThis,de="undefined"!=typeof window&&window,ve="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pe=ie||"undefined"!=typeof global&&global||de||ve,mn={},pt=[],bi=Tt({\u0275cmp:Tt}),Wu=Tt({\u0275dir:Tt}),gl=Tt({\u0275pipe:Tt}),Kh=Tt({\u0275mod:Tt}),og=Tt({\u0275loc:Tt}),Yr=Tt({\u0275fac:Tt}),ba=Tt({__NG_ELEMENT_ID__:Tt});let ag=0;function nn(n){return Ki(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||pt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ee.Emulated,id:"c",styles:n.styles||pt,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=ag++,i.inputs=Jh(n.inputs,t),i.outputs=Jh(n.outputs),s&&s.forEach(l=>l(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Qh):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Xh):null,i})}function Qh(n){return oi(n)||function(n){return n[Wu]||null}(n)}function Xh(n){return function(n){return n[gl]||null}(n)}const Zh={};function _i(n){return Ki(()=>{const e={type:n.type,bootstrap:n.bootstrap||pt,declarations:n.declarations||pt,imports:n.imports||pt,exports:n.exports||pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Zh[n.id]=n.type),e})}function Jh(n,e){if(null==n)return mn;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const rt=nn;function oi(n){return n[bi]||null}function Pi(n,e){const t=n[Kh]||null;if(!t&&!0===e)throw new Error(`Type ${ft(n)} does not have '\u0275mod' property.`);return t}function Sr(n){return Array.isArray(n)&&"object"==typeof n[1]}function fr(n){return Array.isArray(n)&&!0===n[1]}function Gu(n){return 0!=(8&n.flags)}function vl(n){return 2==(2&n.flags)}function Da(n){return 1==(1&n.flags)}function pr(n){return null!==n.template}function Yu(n){return 0!=(512&n[2])}function so(n,e){return n.hasOwnProperty(Yr)?n[Yr]:null}class bl{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Qn(){return Cl}function Cl(n){return n.type.prototype.ngOnChanges&&(n.setInput=wg),Cg}function Cg(){const n=ic(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===mn)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function wg(n,e,t,i){const r=ic(n)||function(n,e){return n[nc]=e}(n,{previous:mn,current:null}),s=r.current||(r.current={}),o=r.previous,l=this.declaredInputs[t],C=o[l];s[l]=new bl(C&&C.currentValue,e,o===mn),n[i]=e}Qn.ngInherit=!0;const nc="__ngSimpleChanges__";function ic(n){return n[nc]||null}let wl;function Qu(){return void 0!==wl?wl:"undefined"!=typeof document?document:void 0}function Zt(n){return!!n.listen}const oc={createRenderer:(n,e)=>Qu()};function Rn(n){for(;Array.isArray(n);)n=n[0];return n}function El(n,e){return Rn(e[n])}function Zi(n,e){return Rn(e[n.index])}function Xu(n,e){return n.data[e]}function Ni(n,e){const t=e[n];return Sr(t)?t:t[0]}function lc(n){return 4==(4&n[2])}function Zu(n){return 128==(128&n[2])}function Ss(n,e){return null==e?null:n[e]}function _l(n){n[18]=0}function Ju(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ht={lFrame:mc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uc(){return ht.bindingsEnabled}function Me(){return ht.lFrame.lView}function Ft(){return ht.lFrame.tView}function Fi(n){return ht.lFrame.contextLView=n,n[8]}function Xn(){let n=hc();for(;null!==n&&64===n.type;)n=n.parent;return n}function hc(){return ht.lFrame.currentTNode}function xr(n,e){const t=ht.lFrame;t.currentTNode=n,t.isParent=e}function qu(){return ht.lFrame.isParent}function ed(){ht.lFrame.isParent=!1}function Dl(){return ht.isInCheckNoChangesMode}function Sl(n){ht.isInCheckNoChangesMode=n}function Ci(){const n=ht.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Li(){return ht.lFrame.bindingIndex}function Vo(){return ht.lFrame.bindingIndex++}function Kr(n){const e=ht.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ng(n,e){const t=ht.lFrame;t.bindingIndex=t.bindingRootIndex=n,Tl(e)}function Tl(n){ht.lFrame.currentDirectiveIndex=n}function nd(n){const e=ht.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function fc(){return ht.lFrame.currentQueryIndex}function id(n){ht.lFrame.currentQueryIndex=n}function Ts(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function pc(n,e,t){if(t&Je.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&Je.Host||(r=Ts(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=ht.lFrame=gc();return i.currentTNode=e,i.lView=n,!0}function xl(n){const e=gc(),t=n[1];ht.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gc(){const n=ht.lFrame,e=null===n?null:n.child;return null===e?mc(n):e}function mc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Fe(){const n=ht.lFrame;return ht.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const vc=Fe;function Ml(){const n=Fe();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ti(){return ht.lFrame.selectedIndex}function Qr(n){ht.lFrame.selectedIndex=n}function vn(){const n=ht.lFrame;return Xu(n.tView,n.selectedIndex)}function Ol(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:C,ngAfterViewChecked:N,ngOnDestroy:B}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),l&&((n.contentHooks||(n.contentHooks=[])).push(t,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,l)),C&&(n.viewHooks||(n.viewHooks=[])).push(-t,C),N&&((n.viewHooks||(n.viewHooks=[])).push(t,N),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,N)),null!=B&&(n.destroyHooks||(n.destroyHooks=[])).push(t,B)}}function Ta(n,e,t){sd(n,e,3,t)}function kl(n,e,t,i){(3&n[2])===t&&sd(n,e,t,i)}function rd(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function sd(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let l=0;for(let C=void 0!==i?65535&n[18]:0;C<o;C++)if("number"==typeof e[C+1]){if(l=e[C],null!=i&&l>=i)break}else e[C]<0&&(n[18]+=65536),(l<s||-1==s)&&(Ug(n,t,e,C),n[18]=(4294901760&n[18])+C+2),C++}function Ug(n,e,t,i){const r=t[i]<0,s=t[i+1],l=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class oo{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Il(n,e,t){const i=Zt(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],l=t[r++],C=t[r++];i?n.setAttribute(e,l,C,o):e.setAttributeNS(o,l,C)}else{const o=s,l=t[++r];ad(o)?i&&n.setProperty(e,o,l):i?n.setAttribute(e,o,l):e.setAttribute(o,l),r++}}return r}function bc(n){return 3===n||4===n||6===n}function ad(n){return 64===n.charCodeAt(0)}function Al(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Cc(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Cc(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===e){o=-1;break}if(l>e){o=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function xs(n){return-1!==n}function Ho(n){return 32767&n}function zo(n,e){let t=function(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let ld=!0;function Pl(n){const e=ld;return ld=n,e}let Ms=0;function xa(n,e){const t=dd(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,ud(i.data,n),ud(e,null),ud(i.blueprint,null));const r=Rl(n,e),s=n.injectorIndex;if(xs(r)){const o=Ho(r),l=zo(r,e),C=l[1].data;for(let N=0;N<8;N++)e[s+N]=l[o+N]|C[o+N]}return e[s+8]=r,s}function ud(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Rl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Nl(n,e,t){!function(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ba)&&(i=t[ba]),null==i&&(i=t[ba]=Ms++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function ao(n,e,t){if(t&Je.Optional)return n;vs(e,"NodeInjector")}function Ma(n,e,t,i){if(t&Je.Optional&&void 0===i&&(i=null),0==(t&(Je.Self|Je.Host))){const r=n[9],s=pi(void 0);try{return r?r.get(e,i,t&Je.Optional):fl(e,i,t&Je.Optional)}finally{pi(s)}}return ao(i,e,t)}function Bt(n,e,t,i=Je.Default,r){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ba)?n[ba]:void 0;return"number"==typeof e?e>=0?255&e:H:e}(t);if("function"==typeof s){if(!pc(e,n,i))return i&Je.Host?ao(r,t,i):Ma(e,t,i,r);try{const o=s(i);if(null!=o||i&Je.Optional)return o;vs(t)}finally{vc()}}else if("number"==typeof s){let o=null,l=dd(n,e),C=-1,N=i&Je.Host?e[16][6]:null;for((-1===l||i&Je.SkipSelf)&&(C=-1===l?Rl(n,e):e[l+8],-1!==C&&bt(i,!1)?(o=e[1],l=Ho(C),e=zo(C,e)):l=-1);-1!==l;){const B=e[1];if(De(s,l,B.data)){const W=Y(l,e,t,o,i,N);if(W!==R)return W}C=e[l+8],-1!==C&&bt(i,e[1].data[l+8]===N)&&De(s,l,e)?(o=B,l=Ho(C),e=zo(C,e)):l=-1}}}return Ma(e,t,i,r)}const R={};function H(){return new kt(Xn(),Me())}function Y(n,e,t,i,r,s){const o=e[1],l=o.data[n+8],B=q(l,o,t,null==i?vl(l)&&ld:i!=o&&0!=(3&l.type),r&Je.Host&&s===l);return null!==B?se(e,o,B,l):R}function q(n,e,t,i,r){const s=n.providerIndexes,o=e.data,l=1048575&s,C=n.directiveStart,B=s>>20,G=r?l+B:n.directiveEnd;for(let $=i?l:l+B;$<G;$++){const X=o[$];if($<C&&t===X||$>=C&&X.type===t)return $}if(r){const $=o[C];if($&&pr($)&&$.type===t)return C}return null}function se(n,e,t,i){let r=n[t];const s=e.data;if(function(n){return n instanceof oo}(r)){const o=r;o.resolving&&function(n,e){throw new $i("200",`Circular dependency in DI detected for ${n}`)}(sn(s[t]));const l=Pl(o.canSeeViewProviders);o.resolving=!0;const C=o.injectImpl?pi(o.injectImpl):null;pc(n,i,Je.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=Cl(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==C&&pi(C),Pl(l),o.resolving=!1,vc()}}return r}function De(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function bt(n,e){return!(n&Je.Self||n&Je.Host&&e)}class kt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Bt(this._tNode,this._lView,e,void 0,t)}}function $t(n){return Ki(()=>{const e=n.prototype.constructor,t=e[Yr]||Di(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Yr]||Di(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Di(n){return ul(n)?()=>{const e=Di(Ye(n));return e&&e()}:so(n)}function Jr(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(bc(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Xn(),n)}const Uo="__parameters__";function Ia(n,e,t){return Ki(()=>{const i=function(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(C,N,B){const W=C.hasOwnProperty(Uo)?C[Uo]:Object.defineProperty(C,Uo,{value:[]})[Uo];for(;W.length<=B;)W.push(null);return(W[B]=W[B]||[]).push(o),C}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class It{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ze({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const J1=new It("AnalyzeForEntryComponents"),_c=Function;function kr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),kr(i,e)):e!==n&&e.push(i)}return e}function Os(n,e){n.forEach(t=>Array.isArray(t)?Os(t,e):e(t))}function Sc(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Aa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jo(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function gr(n,e,t){let i=Fl(n,e);return i>=0?n[1|i]=t:(i=~i,function(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Kg(n,e){const t=Fl(n,e);if(t>=0)return n[1|t]}function Fl(n,e){return function(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const pd={},Xg="__NG_DI_FLAG__",Ll="ngTempTokenPath",lO=/\n/gm,Zg="__source",Jg=Tt({provide:String,useValue:Tt});let gd;function Bl(n){const e=gd;return gd=n,e}function dO(n,e=Je.Default){if(void 0===gd)throw new Error("inject() must be called from an injection context");return null===gd?fl(n,void 0,e):gd.get(n,e&Je.Optional?null:void 0,e)}function Le(n,e=Je.Default){return(no||dO)(Ye(n),e)}function Pa(n){const e=[];for(let t=0;t<n.length;t++){const i=Ye(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=Je.Default;for(let o=0;o<i.length;o++){const l=i[o],C=hO(l);"number"==typeof C?-1===C?r=l.token:s|=C:r=l}e.push(Le(r,s))}else e.push(Le(i))}return e}function md(n,e){return n[Xg]=e,n.prototype[Xg]=e,n}function hO(n){return n[Xg]}function q0(n,e,t,i){const r=n[Ll];throw e[Zg]&&r.unshift(e[Zg]),n.message=function(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=ft(e);if(Array.isArray(e))r=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let l=e[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):ft(l)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(lO,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Ll]=null,n}const Vl=md(Ia("Inject",n=>({token:n})),-1),qi=md(Ia("Optional"),8),Wo=md(Ia("SkipSelf"),4);let Oc,kc;function zl(n){var e;return(null===(e=function(){if(void 0===Oc&&(Oc=null,Pe.trustedTypes))try{Oc=Pe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Oc}())||void 0===e?void 0:e.createHTML(n))||n}function rC(n){var e;return(null===(e=function(){if(void 0===kc&&(kc=null,Pe.trustedTypes))try{kc=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return kc}())||void 0===e?void 0:e.createHTML(n))||n}class Ra{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class EO extends Ra{getTypeName(){return"HTML"}}class _O extends Ra{getTypeName(){return"Style"}}class DO extends Ra{getTypeName(){return"Script"}}class SO extends Ra{getTypeName(){return"URL"}}class TO extends Ra{getTypeName(){return"ResourceURL"}}function mr(n){return n instanceof Ra?n.changingThisBreaksApplicationSecurity:n}function ks(n,e){const t=aC(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function aC(n){return n instanceof Ra&&n.getTypeName()||null}class AO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(zl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class PO{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=zl(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=zl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const NO=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,FO=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yd(n){return(n=String(n)).match(NO)||n.match(FO)?n:"unsafe:"+n}function uC(n){return(n=String(n)).split(",").map(e=>yd(e.trim())).join(", ")}function Is(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function bd(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const dC=Is("area,br,col,hr,img,wbr"),hC=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cC=Is("rp,rt"),nm=bd(dC,bd(hC,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bd(cC,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bd(cC,hC)),im=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rm=Is("srcset"),fC=bd(im,rm,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LO=Is("script,style,template");class BO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!nm.hasOwnProperty(t))return this.sanitizedSomething=!0,!LO.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,l=o.toLowerCase();if(!fC.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let C=s.value;im[l]&&(C=yd(C)),rm[l]&&(C=uC(C)),this.buf.push(" ",o,'="',pC(C),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();nm.hasOwnProperty(t)&&!dC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(pC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const VO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HO=/([^\#-~ |!])/g;function pC(n){return n.replace(/&/g,"&amp;").replace(VO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(HO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ic;function gC(n,e){let t=null;try{Ic=Ic||function(n){const e=new PO(n);return function(){try{return!!(new window.DOMParser).parseFromString(zl(""),"text/html")}catch(n){return!1}}()?new AO(e):e}(n);let i=e?String(e):"";t=Ic.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Ic.getInertBodyElement(i)}while(i!==s);return zl((new BO).sanitizeChildren(sm(t)||t))}finally{if(t){const i=sm(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function sm(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var un=(()=>((un=un||{})[un.NONE=0]="NONE",un[un.HTML=1]="HTML",un[un.STYLE=2]="STYLE",un[un.SCRIPT=3]="SCRIPT",un[un.URL=4]="URL",un[un.RESOURCE_URL=5]="RESOURCE_URL",un))();function om(n){const e=Cd();return e?rC(e.sanitize(un.HTML,n)||""):ks(n,"HTML")?rC(mr(n)):gC(Qu(),dt(n))}function am(n){const e=Cd();return e?e.sanitize(un.URL,n)||"":ks(n,"URL")?mr(n):yd(dt(n))}function Cd(){const n=Me();return n&&n[12]}const yC="__ngContext__";function Si(n,e){n[yC]=e}function um(n){const e=function(n){return n[yC]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Ac(n){return n.ngOriginalError}function ik(n,...e){n.error(...e)}class Na{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),r=function(n){return n&&n.ngErrorLogger||ik}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(Ac(e)):null}_findOriginalError(e){let t=e&&Ac(e);for(;t&&Ac(t);)t=Ac(t);return t||null}}const xC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pe))();function As(n){return n instanceof Function?n():n}var vr=(()=>((vr=vr||{})[vr.Important=1]="Important",vr[vr.DashCase=2]="DashCase",vr))();function cm(n,e){return undefined(n,e)}function Ed(n){const e=n[3];return fr(e)?e[3]:e}function fm(n){return AC(n[13])}function pm(n){return AC(n[4])}function AC(n){for(;null!==n&&!fr(n);)n=n[4];return n}function jl(n,e,t,i,r){if(null!=i){let s,o=!1;fr(i)?s=i:Sr(i)&&(o=!0,i=i[0]);const l=Rn(i);0===n&&null!==t?null==r?BC(e,t,l):Fa(e,t,l,r||null,!0):1===n&&null!==t?Fa(e,t,l,r||null,!0):2===n?function(n,e,t){const i=Rc(n,e);i&&function(n,e,t,i){Zt(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,l,o):3===n&&e.destroyNode(l),null!=s&&function(n,e,t,i,r){const s=t[7];s!==Rn(t)&&jl(e,n,i,s,r);for(let l=10;l<t.length;l++){const C=t[l];_d(C[1],C,n,e,i,s)}}(e,n,s,t,r)}}function mm(n,e,t){return Zt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function RC(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ju(r,-1)),t.splice(i,1)}function vm(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&RC(r,i),e>0&&(n[t-1][4]=i[4]);const s=Aa(n,10+e);!function(n,e){_d(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function NC(n,e){if(!(256&e[2])){const t=e[11];Zt(t)&&t.destroyNode&&_d(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return ym(n[1],n);for(;e;){let t=null;if(Sr(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Sr(e)&&ym(e[1],e),e=e[3];null===e&&(e=n),Sr(e)&&ym(e[1],e),t=e&&e[4]}e=t}}(e)}}function ym(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof oo)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],C=s[o+1];try{C.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],l="function"==typeof o?o(e):Rn(e[o]),C=i[r=t[s+2]],N=t[s+3];"boolean"==typeof N?l.removeEventListener(t[s],C,N):N>=0?i[r=N]():i[r=-N].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&Zt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&fr(e[3])){t!==e[3]&&RC(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function FC(n,e,t){return function(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===ee.None||r===ee.Emulated)return null}return Zi(i,t)}(n,e.parent,t)}function Fa(n,e,t,i,r){Zt(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function BC(n,e,t){Zt(n)?n.appendChild(e,t):e.appendChild(t)}function VC(n,e,t,i,r){null!==i?Fa(n,e,t,i,r):BC(n,e,t)}function Rc(n,e){return Zt(n)?n.parentNode(e):e.parentNode}function HC(n,e,t){return UC(n,e,t)}let UC=function(n,e,t){return 40&n.type?Zi(n,t):null};function Nc(n,e,t,i){const r=FC(n,i,e),s=e[11],l=HC(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let C=0;C<t.length;C++)VC(s,r,t[C],l,!1);else VC(s,r,t,l,!1)}function Fc(n,e){if(null!==e){const t=e.type;if(3&t)return Zi(e,n);if(4&t)return Cm(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Fc(n,i);{const r=n[e.index];return fr(r)?Cm(-1,r):Rn(r)}}if(32&t)return cm(e,n)()||Rn(n[e.index]);{const i=WC(n,e);return null!==i?Array.isArray(i)?i[0]:Fc(Ed(n[16]),i):Fc(n,e.next)}}return null}function WC(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Cm(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Fc(i,r)}return e[7]}function wm(n,e,t,i,r,s,o){for(;null!=t;){const l=i[t.index],C=t.type;if(o&&0===e&&(l&&Si(Rn(l),i),t.flags|=4),64!=(64&t.flags))if(8&C)wm(n,e,t.child,i,r,s,!1),jl(e,n,r,l,s);else if(32&C){const N=cm(t,i);let B;for(;B=N();)jl(e,n,r,B,s);jl(e,n,r,l,s)}else 16&C?GC(n,e,i,t,r,s):jl(e,n,r,l,s);t=o?t.projectionNext:t.next}}function _d(n,e,t,i,r,s){wm(t,i,n.firstChild,e,r,s,!1)}function GC(n,e,t,i,r,s){const o=t[16],C=o[6].projection[i.projection];if(Array.isArray(C))for(let N=0;N<C.length;N++)jl(e,n,r,C[N],s);else wm(n,e,C,o[3],r,s,!0)}function YC(n,e,t){Zt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Em(n,e,t){Zt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function KC(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const QC="ng-template";function Ok(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==KC(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function XC(n){return 4===n.type&&n.value!==QC}function kk(n,e,t){return e===(4!==n.type||t?n.value:QC)}function Ik(n,e,t){let i=4;const r=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(bc(n[e]))return e;return n.length}(r);let o=!1;for(let l=0;l<e.length;l++){const C=e[l];if("number"!=typeof C){if(!o)if(4&i){if(i=2|1&i,""!==C&&!kk(n,C,t)||""===C&&1===e.length){if(qr(i))return!1;o=!0}}else{const N=8&i?C:e[++l];if(8&i&&null!==n.attrs){if(!Ok(n.attrs,N,t)){if(qr(i))return!1;o=!0}continue}const W=Ak(8&i?"class":C,r,XC(n),t);if(-1===W){if(qr(i))return!1;o=!0;continue}if(""!==N){let G;G=W>s?"":r[W+1].toLowerCase();const $=8&i?G:null;if($&&-1!==KC($,N,0)||2&i&&N!==G){if(qr(i))return!1;o=!0}}}}else{if(!o&&!qr(i)&&!qr(C))return!1;if(o&&qr(C))continue;o=!1,i=C|1&i}}return qr(i)||o}function qr(n){return 0==(1&n)}function Ak(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=e[++r];for(;"string"==typeof l;)l=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function ZC(n,e,t=!1){for(let i=0;i<e.length;i++)if(Ik(n,e[i],t))return!0;return!1}function Fk(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function JC(n,e){return n?":not("+e.trim()+")":e}function Lk(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const l=n[++t];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!qr(o)&&(e+=JC(s,r),r=""),i=o,s=s||!qr(i);t++}return""!==r&&(e+=JC(s,r)),e}const vt={};function we(n){qC(Ft(),Me(),ti()+n,Dl())}function qC(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Ta(e,s,t)}else{const s=n.preOrderHooks;null!==s&&kl(e,s,0,t)}Qr(t)}function Lc(n,e){return n<<17|e<<2}function es(n){return n>>17&32767}function _m(n){return 2|n}function uo(n){return(131068&n)>>2}function Dm(n,e){return-131069&n|e<<2}function Sm(n){return 1|n}function uw(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];id(r),o.contentQueries(2,e[s],s)}}}function Dd(n,e,t,i,r,s,o,l,C,N){const B=e.blueprint.slice();return B[0]=r,B[2]=140|i,_l(B),B[3]=B[15]=n,B[8]=t,B[10]=o||n&&n[10],B[11]=l||n&&n[11],B[12]=C||n&&n[12]||null,B[9]=N||n&&n[9]||null,B[6]=s,B[16]=2==e.type?n[16]:B,B}function Wl(n,e,t,i,r){let s=n.data[e];if(null===s)s=function(n,e,t,i,r){const s=hc(),o=qu(),C=n.data[e]=function(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=C),null!==s&&(o?null==s.child&&null!==C.parent&&(s.child=C):null===s.next&&(s.next=C)),C}(n,e,t,i,r),ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function(){const n=ht.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xr(s,!0),s}function $l(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Sd(n,e,t){xl(e);try{const i=n.viewQuery;null!==i&&zm(1,i,t);const r=n.template;null!==r&&dw(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uw(n,e),n.staticViewQueries&&zm(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)mI(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Ml()}}function Gl(n,e,t,i){const r=e[2];if(256==(256&r))return;xl(e);const s=Dl();try{_l(e),function(n){ht.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&dw(n,e,t,2,i);const o=3==(3&r);if(!s)if(o){const N=n.preOrderCheckHooks;null!==N&&Ta(e,N,null)}else{const N=n.preOrderHooks;null!==N&&kl(e,N,0,null),rd(e,0)}if(function(n){for(let e=fm(n);null!==e;e=pm(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&Ju(s,1),r[2]|=1024}}}(e),function(n){for(let e=fm(n);null!==e;e=pm(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];Zu(i)&&Gl(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&uw(n,e),!s)if(o){const N=n.contentCheckHooks;null!==N&&Ta(e,N)}else{const N=n.contentHooks;null!==N&&kl(e,N,1),rd(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Qr(~r);else{const s=r,o=t[++i],l=t[++i];Ng(o,s),l(2,e[s])}}}finally{Qr(-1)}}(n,e);const l=n.components;null!==l&&function(n,e){for(let t=0;t<e.length;t++)gI(n,e[t])}(e,l);const C=n.viewQuery;if(null!==C&&zm(2,C,i),!s)if(o){const N=n.viewCheckHooks;null!==N&&Ta(e,N)}else{const N=n.viewHooks;null!==N&&kl(e,N,2),rd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ju(e[3],-1))}finally{Ml()}}function Xk(n,e,t,i){const r=e[10],s=!Dl(),o=lc(e);try{s&&!o&&r.begin&&r.begin(),o&&Sd(n,e,i),Gl(n,e,t,i)}finally{s&&!o&&r.end&&r.end()}}function dw(n,e,t,i,r){const s=ti(),o=2&i;try{Qr(-1),o&&e.length>20&&qC(n,e,20,Dl()),t(i,r)}finally{Qr(s)}}function hw(n,e,t){if(Gu(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Pm(n,e,t){!uc()||(function(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||xa(t,e),Si(i,e);const o=t.initialInputs;for(let l=r;l<s;l++){const C=n.data[l],N=pr(C);N&&dI(e,t,C);const B=se(e,n,l,t);Si(B,e),null!==o&&hI(0,l-r,B,C,0,o),N&&(Ni(t.index,e)[8]=B)}}(n,e,t,Zi(t,e)),128==(128&t.flags)&&function(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,l=ht.lFrame.currentDirectiveIndex;try{Qr(o);for(let C=i;C<r;C++){const N=n.data[C],B=e[C];Tl(C),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&bw(N,B)}}finally{Qr(-1),Tl(l)}}(n,e,t))}function Rm(n,e,t=Zi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],l=-1===o?t(e,n):n[o];n[r++]=l}}}function cw(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Hc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Hc(n,e,t,i,r,s,o,l,C,N){const B=20+i,W=B+r,G=function(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:vt);return t}(B,W),$="function"==typeof N?N():N;return G[1]={type:n,blueprint:G,template:t,queries:null,viewQuery:l,declTNode:e,data:G.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:C,consts:$,incompleteFirstPass:!1}}function gw(n,e,t,i){const r=Sw(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&Tw(n).push(i,r.length-1))}function mw(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function yr(n,e,t,i,r,s,o,l){const C=Zi(e,t);let B,N=e.inputs;!l&&null!=N&&(B=N[i])?(Ow(n,t,B,i,r),vl(e)&&function(n,e){const t=Ni(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,Zt(s)?s.setProperty(C,i,r):ad(i)||(C.setProperty?C.setProperty(i,r):C[i]=r))}function Nm(n,e,t,i){let r=!1;if(uc()){const s=function(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];ZC(t,o.selectors,!1)&&(r||(r=[]),Nl(xa(t,e),n,o.type),pr(o)?(Cw(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,ww(t,n.data.length,s.length);for(let B=0;B<s.length;B++){const W=s[B];W.providersResolver&&W.providersResolver(W)}let l=!1,C=!1,N=$l(n,e,s.length,null);for(let B=0;B<s.length;B++){const W=s[B];t.mergedAttrs=Al(t.mergedAttrs,W.hostAttrs),Ew(n,t,e,N,W),uI(N,W,o),null!==W.contentQueries&&(t.flags|=8),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(t.flags|=128);const G=W.type.prototype;!l&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),l=!0),!C&&(G.ngOnChanges||G.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),C=!0),N++}!function(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let l=null,C=null;for(let N=e.directiveStart;N<i;N++){const B=r[N],W=B.inputs,G=null===s||XC(e)?null:cI(W,s);o.push(G),l=mw(W,N,l),C=mw(B.outputs,N,C)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=l,e.outputs=C}(n,t)}o&&function(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new $i("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=Al(t.mergedAttrs,t.attrs),r}function yw(n,e,t,i,r,s){const o=s.hostBindings;if(o){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const C=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(l)!=C&&l.push(C),l.push(i,r,o)}}function bw(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Cw(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function uI(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;pr(e)&&(t[""]=n)}}function ww(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ew(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=so(r.type)),o=new oo(s,pr(r),null);n.blueprint[i]=o,t[i]=o,yw(n,e,0,i,$l(n,t,r.hostVars,vt),r)}function dI(n,e,t){const i=Zi(e,n),r=cw(t),s=n[10],o=zc(n,Dd(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function Ps(n,e,t,i,r,s){const o=Zi(n,e);!function(n,e,t,i,r,s,o){if(null==s)Zt(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const l=null==o?dt(s):o(s,i||"",r);Zt(n)?n.setAttribute(e,r,l,t):t?e.setAttributeNS(t,r,l):e.setAttribute(r,l)}}(e[11],o,s,n.value,t,i,r)}function hI(n,e,t,i,r,s){const o=s[e];if(null!==o){const l=i.setInput;for(let C=0;C<o.length;){const N=o[C++],B=o[C++],W=o[C++];null!==l?i.setInput(t,W,N,B):t[B]=W}}}function cI(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function _w(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function gI(n,e){const t=Ni(e,n);if(Zu(t)){const i=t[1];80&t[2]?Gl(i,t,i.template,t[8]):t[5]>0&&Lm(t)}}function Lm(n){for(let i=fm(n);null!==i;i=pm(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Gl(o,s,o.template,s[8])}else s[5]>0&&Lm(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ni(t[i],n);Zu(r)&&r[5]>0&&Lm(r)}}function mI(n,e){const t=Ni(e,n),i=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Sd(i,t,t[8])}function zc(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Bm(n){for(;n;){n[2]|=64;const e=Ed(n);if(Yu(n)&&!e)return n;n=e}return null}function Hm(n,e,t){const i=e[10];i.begin&&i.begin();try{Gl(n,e,n.template,t)}catch(r){throw Mw(e,r),r}finally{i.end&&i.end()}}function Dw(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=um(t),r=i[1];Xk(r,i,r.template,t)}}(n[8])}function zm(n,e,t){id(0),e(n,t)}const wI=(()=>Promise.resolve(null))();function Sw(n){return n[7]||(n[7]=[])}function Tw(n){return n.cleanup||(n.cleanup=[])}function Mw(n,e){const t=n[9],i=t?t.get(Na,null):null;i&&i.handleError(e)}function Ow(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],C=e[o],N=n.data[o];null!==N.setInput?N.setInput(C,r,i,l):C[l]=r}}function co(n,e,t){const i=El(e,n);!function(n,e,t){Zt(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function Uc(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?s=l:1==s?r=Io(r,l):2==s&&(i=Io(i,l+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const Yl=new It("INJECTOR",-1);class kw{get(e,t=pd){if(t===pd){const i=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw i.name="NullInjectorError",i}return t}}const Td=new It("Set Injector scope."),xd={},DI={};let Um;function Iw(){return void 0===Um&&(Um=new kw),Um}function Aw(n,e=null,t=null,i){return new TI(n,t,e||Iw(),i)}class TI{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Os(t,l=>this.processProvider(l,e,t)),Os([e],l=>this.processInjectorType(l,[],s)),this.records.set(Yl,Kl(void 0,this));const o=this.records.get(Td);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:ft(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=pd,i=Je.Default){this.assertNotDestroyed();const r=Bl(this),s=pi(void 0);try{if(!(i&Je.SkipSelf)){let l=this.records.get(e);if(void 0===l){const C=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof It}(e)&&In(e);l=C&&this.injectableDefInScope(C)?Kl(jm(e),xd):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&Je.Self?Iw():this.parent).get(e,t=i&Je.Optional&&t===pd?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ll]=o[Ll]||[]).unshift(ft(e)),r)throw o;return q0(o,e,"R3InjectorError",this.source)}throw o}finally{pi(s),Bl(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(ft(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=Ye(e)))return!1;let r=eo(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,l=-1!==i.indexOf(o);if(void 0!==s&&(r=eo(s)),null==r)return!1;if(null!=r.imports&&!l){let B;i.push(o);try{Os(r.imports,W=>{this.processInjectorType(W,t,i)&&(void 0===B&&(B=[]),B.push(W))})}finally{}if(void 0!==B)for(let W=0;W<B.length;W++){const{ngModule:G,providers:$}=B[W];Os($,X=>this.processProvider(X,G,$||pt))}}this.injectorDefTypes.add(o);const C=so(o)||(()=>new o);this.records.set(o,Kl(C,xd));const N=r.providers;if(null!=N&&!l){const B=e;Os(N,W=>this.processProvider(W,B,N))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=Ql(e=Ye(e))?e:Ye(e&&e.provide);const s=function(n,e,t){return Rw(n)?Kl(void 0,n.useValue):Kl(Pw(n),xd)}(e);if(Ql(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Kl(void 0,xd,!0),o.factory=()=>Pa(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===xd&&(t.value=DI,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ye(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function jm(n){const e=In(n),t=null!==e?e.factory:so(n);if(null!==t)return t;if(n instanceof It)throw new Error(`Token ${ft(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const i=jo(e,"?");throw new Error(`Can't resolve all parameters for ${ft(n)}: (${i.join(", ")}).`)}const t=function(n){const e=n&&(n[fi]||n[to]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Pw(n,e,t){let i;if(Ql(n)){const r=Ye(n);return so(r)||jm(r)}if(Rw(n))i=()=>Ye(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Pa(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>Le(Ye(n.useExisting));else{const r=Ye(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return so(r)||jm(r);i=()=>new r(...Pa(n.deps))}return i}function Kl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Rw(n){return null!==n&&"object"==typeof n&&Jg in n}function Ql(n){return"function"==typeof n}const Nw=function(n,e,t){return function(n,e=null,t=null,i){const r=Aw(n,e,t,i);return r._resolveInjectorDefTypes(),r}({name:t},e,n,t)};let Jt=(()=>{class n{static create(t,i){return Array.isArray(t)?Nw(t,i,""):Nw(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=pd,n.NULL=new kw,n.\u0275prov=Ze({token:n,providedIn:"any",factory:()=>Le(Yl)}),n.__NG_ELEMENT_ID__=-1,n})();function YI(n,e){Ol(um(n)[1],Xn())}function wn(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(pr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=Qm(n.inputs),o.declaredInputs=Qm(n.declaredInputs),o.outputs=Qm(n.outputs);const l=r.hostBindings;l&&ZI(n,l);const C=r.viewQuery,N=r.contentQueries;if(C&&QI(n,C),N&&XI(n,N),Qs(n.inputs,r.inputs),Qs(n.declaredInputs,r.declaredInputs),Qs(n.outputs,r.outputs),pr(r)&&r.data.animation){const B=n.data;B.animation=(B.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(n),l===wn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Al(r.hostAttrs,t=Al(t,r.hostAttrs))}}(i)}function Qm(n){return n===mn?{}:n===pt?[]:n}function QI(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function XI(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function ZI(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let jc=null;function Xl(){if(!jc){const n=Pe.Symbol;if(n&&n.iterator)jc=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(jc=i)}}}return jc}function Od(n){return!!Xm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xl()in n)}function Xm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Rs(n,e,t){return n[e]=t}function Ti(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function La(n,e,t,i){const r=Ti(n,e,t);return Ti(n,e+1,i)||r}function Wc(n,e,t,i,r){const s=La(n,e,t,i);return Ti(n,e+2,r)||s}function er(n,e,t,i){const r=Me();return Ti(r,Vo(),e)&&(Ft(),Ps(vn(),r,n,e,t,i)),er}function Jl(n,e,t,i){return Ti(n,Vo(),t)?e+dt(t)+i:vt}function qe(n,e,t,i,r,s,o,l){const C=Me(),N=Ft(),B=n+20,W=N.firstCreatePass?function(n,e,t,i,r,s,o,l,C){const N=e.consts,B=Wl(e,n,4,o||null,Ss(N,l));Nm(e,t,B,Ss(N,C)),Ol(e,B);const W=B.tViews=Hc(2,B,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,N);return null!==e.queries&&(e.queries.template(e,B),W.queries=e.queries.embeddedTView(B)),B}(B,N,C,e,t,i,r,s,o):N.data[B];xr(W,!1);const G=C[11].createComment("");Nc(N,C,G,W),Si(G,C),zc(C,C[B]=_w(G,C,G,W)),Da(W)&&Pm(N,C,W),null!=o&&Rm(C,W,l)}function Id(n){return function(n,e){return n[e]}(ht.lFrame.contextLView,20+n)}function Se(n,e=Je.Default){const t=Me();return null===t?Le(n,e):Bt(Xn(),t,Ye(n),e)}function Ne(n,e,t){const i=Me();return Ti(i,Vo(),e)&&yr(Ft(),vn(),i,n,e,i[11],t,!1),Ne}function tv(n,e,t,i,r){const o=r?"class":"style";Ow(n,t,e.inputs[o],o,i)}function Z(n,e,t,i){const r=Me(),s=Ft(),o=20+n,l=r[11],C=r[o]=mm(l,e,ht.lFrame.currentNamespace),N=s.firstCreatePass?function(n,e,t,i,r,s,o){const l=e.consts,N=Wl(e,n,2,r,Ss(l,s));return Nm(e,t,N,Ss(l,o)),null!==N.attrs&&Uc(N,N.attrs,!1),null!==N.mergedAttrs&&Uc(N,N.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,N),N}(o,s,r,0,e,t,i):s.data[o];xr(N,!0);const B=N.mergedAttrs;null!==B&&Il(l,C,B);const W=N.classes;null!==W&&Em(l,C,W);const G=N.styles;null!==G&&YC(l,C,G),64!=(64&N.flags)&&Nc(s,r,C,N),0===ht.lFrame.elementDepthCount&&Si(C,r),ht.lFrame.elementDepthCount++,Da(N)&&(Pm(s,r,N),hw(s,N,r)),null!==i&&Rm(r,N)}function J(){let n=Xn();qu()?ed():(n=n.parent,xr(n,!1));const e=n;ht.lFrame.elementDepthCount--;const t=Ft();t.firstCreatePass&&(Ol(t,n),Gu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&tv(t,e,Me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&tv(t,e,Me(),e.stylesWithoutHost,!1)}function ce(n,e,t,i){Z(n,e,t,i),J()}function Ad(n,e,t){const i=Me(),r=Ft(),s=n+20,o=r.firstCreatePass?function(n,e,t,i,r){const s=e.consts,o=Ss(s,i),l=Wl(e,n,8,"ng-container",o);return null!==o&&Uc(l,o,!0),Nm(e,t,l,Ss(s,r)),null!==e.queries&&e.queries.elementStart(e,l),l}(s,r,i,e,t):r.data[s];xr(o,!0);const l=i[s]=i[11].createComment("");Nc(r,i,l,o),Si(l,i),Da(o)&&(Pm(r,i,o),hw(r,o,i)),null!=t&&Rm(i,o)}function Pd(){let n=Xn();const e=Ft();qu()?ed():(n=n.parent,xr(n,!1)),e.firstCreatePass&&(Ol(e,n),Gu(n)&&e.queries.elementEnd(n))}function po(){return Me()}function Rd(n){return!!n&&"function"==typeof n.then}const Gc=function(n){return!!n&&"function"==typeof n.subscribe};function At(n,e,t,i){const r=Me(),s=Ft(),o=Xn();return function(n,e,t,i,r,s,o,l){const C=Da(i),B=n.firstCreatePass&&Tw(n),W=e[8],G=Sw(e);let $=!0;if(3&i.type||l){const ae=Zi(i,e),ye=l?l(ae):ae,fe=G.length,ke=l?Te=>l(Rn(Te[i.index])):i.index;if(Zt(t)){let Te=null;if(!l&&C&&(Te=function(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const l=e[7],C=r[s+2];return l.length>C?l[C]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=s,Te.__ngLastListenerFn__=s,$=!1;else{s=nv(i,e,W,s,!1);const Qe=t.listen(ye,r,s);G.push(s,Qe),B&&B.push(r,ke,fe,fe+1)}}else s=nv(i,e,W,s,!0),ye.addEventListener(r,s,o),G.push(s),B&&B.push(r,ke,fe,o)}else s=nv(i,e,W,s,!1);const X=i.outputs;let re;if($&&null!==X&&(re=X[r])){const ae=re.length;if(ae)for(let ye=0;ye<ae;ye+=2){const wt=e[re[ye]][re[ye+1]].subscribe(s),Nt=G.length;G.push(s,wt),B&&B.push(r,i.index,Nt,-(Nt+1))}}}(s,r,r[11],o,n,e,!!t,i),At}function EE(n,e,t,i){try{return!1!==t(i)}catch(r){return Mw(n,r),!1}}function nv(n,e,t,i,r){return function s(o){if(o===Function)return i;const l=2&n.flags?Ni(n.index,e):e;0==(32&e[2])&&Bm(l);let C=EE(e,0,i,o),N=s.__ngNextListenerFn__;for(;N;)C=EE(e,0,N,o)&&C,N=N.__ngNextListenerFn__;return r&&!1===C&&(o.preventDefault(),o.returnValue=!1),C}}function et(n=1){return function(n){return(ht.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,ht.lFrame.contextLView))[8]}(n)}function AA(n,e){let t=null;const i=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?ZC(n,s,!0):Fk(i,s))return r}else t=r}return t}function Yc(n){const e=Me()[16][6];if(!e.projection){const i=e.projection=jo(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?AA(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Kc(n,e=0,t){const i=Me(),r=Ft(),s=Wl(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),ed(),64!=(64&s.flags)&&function(n,e,t){GC(e[11],0,e,t,FC(n,t,e),HC(t.parent||e[6],t,e))}(r,i,s)}function au(n,e,t,i,r){const s=Me(),o=Jl(s,e,t,i);return o!==vt&&yr(Ft(),vn(),s,n,o,s[11],r,!1),au}function AE(n,e,t,i,r){const s=n[t+1],o=null===e;let l=i?es(s):uo(s),C=!1;for(;0!==l&&(!1===C||o);){const B=n[l+1];NA(n[l],e)&&(C=!0,n[l+1]=i?Sm(B):_m(B)),l=i?es(B):uo(B)}C&&(n[t+1]=i?_m(s):Sm(s))}function NA(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Fl(n,e)>=0}const li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PE(n){return n.substring(li.key,li.keyEnd)}function RE(n,e){const t=li.textEnd;return t===e?-1:(e=li.keyEnd=function(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,li.key=e,t),lu(n,e,t))}function lu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function uu(n,e,t){return is(n,e,t,!1),uu}function Qc(n,e){return is(n,e,null,!0),Qc}function go(n){!function(n,e,t,i){const r=Ft(),s=Kr(2);r.firstUpdatePass&&HE(r,null,s,i);const o=Me();if(t!==vt&&Ti(o,s,t)){const l=r.data[ti()];if(WE(l,i)&&!VE(r,s)){let C=i?l.classesWithoutHost:l.stylesWithoutHost;null!==C&&(t=Io(C,t||"")),tv(r,l,o,t,i)}else!function(n,e,t,i,r,s,o,l){r===vt&&(r=pt);let C=0,N=0,B=0<r.length?r[0]:null,W=0<s.length?s[0]:null;for(;null!==B||null!==W;){const G=C<r.length?r[C+1]:void 0,$=N<s.length?s[N+1]:void 0;let re,X=null;B===W?(C+=2,N+=2,G!==$&&(X=W,re=$)):null===W||null!==B&&B<W?(C+=2,X=B):(N+=2,X=W,re=$),null!==X&&UE(n,e,t,i,X,re,o,l),B=C<r.length?r[C]:null,W=N<s.length?s[N]:null}}(r,l,o,o[11],o[s+1],o[s+1]=function(n,e,t){if(null==t||""===t)return pt;const i=[],r=mr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(gr,Fs,n,!0)}function Fs(n,e){for(let t=function(n){return function(n){li.key=0,li.keyEnd=0,li.value=0,li.valueEnd=0,li.textEnd=n.length}(n),RE(n,lu(n,0,li.textEnd))}(e);t>=0;t=RE(e,t))gr(n,PE(e),!0)}function is(n,e,t,i){const r=Me(),s=Ft(),o=Kr(2);s.firstUpdatePass&&HE(s,n,o,i),e!==vt&&Ti(r,o,e)&&UE(s,s.data[ti()],r,r[11],n,r[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ft(mr(n)))),n}(e,t),i,o)}function VE(n,e){return e>=n.expandoStartIndex}function HE(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[ti()],o=VE(n,t);WE(s,i)&&null===e&&!o&&(e=!1),e=function(n,e,t,i){const r=nd(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Nd(t=iv(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=iv(r,n,e,t,i),null===s){let C=function(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==uo(i))return n[es(i)]}(n,e,i);void 0!==C&&Array.isArray(C)&&(C=iv(null,n,e,C[1],i),C=Nd(C,e.attrs,i),function(n,e,t,i){n[es(t?e.classBindings:e.styleBindings)]=i}(n,e,i,C))}else s=function(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Nd(i,n[s].hostAttrs,t);return Nd(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,l=es(o),C=uo(o);n[i]=t;let B,N=!1;if(Array.isArray(t)){const W=t;B=W[1],(null===B||Fl(W,B)>0)&&(N=!0)}else B=t;if(r)if(0!==C){const G=es(n[l+1]);n[i+1]=Lc(G,l),0!==G&&(n[G+1]=Dm(n[G+1],i)),n[l+1]=function(n,e){return 131071&n|e<<17}(n[l+1],i)}else n[i+1]=Lc(l,0),0!==l&&(n[l+1]=Dm(n[l+1],i)),l=i;else n[i+1]=Lc(C,0),0===l?l=i:n[C+1]=Dm(n[C+1],i),C=i;N&&(n[i+1]=_m(n[i+1])),AE(n,B,i,!0),AE(n,B,i,!1),function(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Fl(s,e)>=0&&(t[i+1]=Sm(t[i+1]))}(e,B,n,i,s),o=Lc(l,C),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function iv(n,e,t,i,r){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=e[l],i=Nd(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(t.directiveStylingLast=l),i}function Nd(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),gr(n,o,!!t||e[++s]))}return void 0===n?null:n}function UE(n,e,t,i,r,s,o,l){if(!(3&e.type))return;const C=n.data,N=C[l+1];Xc(function(n){return 1==(1&n)}(N)?jE(C,e,t,r,uo(N),o):void 0)||(Xc(s)||function(n){return 2==(2&n)}(N)&&(s=jE(C,null,t,r,l,o)),function(n,e,t,i,r){const s=Zt(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:vr.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const l="string"==typeof r&&r.endsWith("!important");l&&(r=r.slice(0,-10),o|=vr.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,l?"important":"")}}}(i,o,El(ti(),t),r,s))}function jE(n,e,t,i,r,s){const o=null===e;let l;for(;r>0;){const C=n[r],N=Array.isArray(C),B=N?C[1]:C,W=null===B;let G=t[r+1];G===vt&&(G=W?pt:void 0);let $=W?Kg(G,i):B===i?G:void 0;if(N&&!Xc($)&&($=Kg(C,i)),Xc($)&&(l=$,o))return l;const X=n[r+1];r=o?es(X):uo(X)}if(null!==e){let C=s?e.residualClasses:e.residualStyles;null!=C&&(l=Kg(C,i))}return l}function Xc(n){return void 0!==n}function WE(n,e){return 0!=(n.flags&(e?16:32))}function ne(n,e=""){const t=Me(),i=Ft(),r=n+20,s=i.firstCreatePass?Wl(i,r,1,e,null):i.data[r],o=t[r]=function(n,e){return Zt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Nc(i,t,o,s),xr(s,!1)}function Zn(n){return Sn("",n,""),Zn}function Sn(n,e,t){const i=Me(),r=Jl(i,n,e,t);return r!==vt&&co(i,ti(),r),Sn}function Fd(n,e,t,i,r){const s=Me(),o=function(n,e,t,i,r,s){const l=La(n,Li(),t,r);return Kr(2),l?e+dt(t)+i+dt(r)+s:vt}(s,n,e,t,i,r);return o!==vt&&co(s,ti(),o),Fd}function rv(n,e,t,i,r,s,o){const l=Me(),C=function(n,e,t,i,r,s,o,l){const N=Wc(n,Li(),t,r,o);return Kr(3),N?e+dt(t)+i+dt(r)+s+dt(o)+l:vt}(l,n,e,t,i,r,s,o);return C!==vt&&co(l,ti(),C),rv}function sv(n,e,t){const i=Me();return Ti(i,Vo(),e)&&yr(Ft(),vn(),i,n,e,i[11],t,!0),sv}function ov(n,e,t){const i=Me();if(Ti(i,Vo(),e)){const s=Ft(),o=vn();yr(s,o,i,n,e,function(n,e,t){return(null===n||pr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(nd(s.data),o,i),t,!0)}return ov}const Ba=void 0;var gP=["en",[["a","p"],["AM","PM"],Ba],[["AM","PM"],Ba,Ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ba,"{1} 'at' {0}",Ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let du={};function a_(n){return n in du||(du[n]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[n]),du[n]}var We=(()=>((We=We||{})[We.LocaleId=0]="LocaleId",We[We.DayPeriodsFormat=1]="DayPeriodsFormat",We[We.DayPeriodsStandalone=2]="DayPeriodsStandalone",We[We.DaysFormat=3]="DaysFormat",We[We.DaysStandalone=4]="DaysStandalone",We[We.MonthsFormat=5]="MonthsFormat",We[We.MonthsStandalone=6]="MonthsStandalone",We[We.Eras=7]="Eras",We[We.FirstDayOfWeek=8]="FirstDayOfWeek",We[We.WeekendRange=9]="WeekendRange",We[We.DateFormat=10]="DateFormat",We[We.TimeFormat=11]="TimeFormat",We[We.DateTimeFormat=12]="DateTimeFormat",We[We.NumberSymbols=13]="NumberSymbols",We[We.NumberFormats=14]="NumberFormats",We[We.CurrencyCode=15]="CurrencyCode",We[We.CurrencySymbol=16]="CurrencySymbol",We[We.CurrencyName=17]="CurrencyName",We[We.Currencies=18]="Currencies",We[We.Directionality=19]="Directionality",We[We.PluralCase=20]="PluralCase",We[We.ExtraData=21]="ExtraData",We))();const Zc="en-US";let l_=Zc;function av(n){Vn(n,"Expected localeId to be defined"),"string"==typeof n&&(l_=n.toLowerCase().replace(/_/g,"-"))}function dv(n,e,t,i,r){if(n=Ye(n),Array.isArray(n))for(let s=0;s<n.length;s++)dv(n[s],e,t,i,r);else{const s=Ft(),o=Me();let l=Ql(n)?n:Ye(n.provide),C=Pw(n);const N=Xn(),B=1048575&N.providerIndexes,W=N.directiveStart,G=N.providerIndexes>>20;if(Ql(n)||!n.multi){const $=new oo(C,r,Se),X=cv(l,e,r?B:B+G,W);-1===X?(Nl(xa(N,o),s,l),hv(s,n,e.length),e.push(l),N.directiveStart++,N.directiveEnd++,r&&(N.providerIndexes+=1048576),t.push($),o.push($)):(t[X]=$,o[X]=$)}else{const $=cv(l,e,B+G,W),X=cv(l,e,B,B+G),re=$>=0&&t[$],ae=X>=0&&t[X];if(r&&!ae||!r&&!re){Nl(xa(N,o),s,l);const ye=function(n,e,t,i,r){const s=new oo(n,t,Se);return s.multi=[],s.index=e,s.componentProviders=0,A_(s,r,i&&!t),s}(r?cR:hR,t.length,r,i,C);!r&&ae&&(t[X].providerFactory=ye),hv(s,n,e.length,0),e.push(l),N.directiveStart++,N.directiveEnd++,r&&(N.providerIndexes+=1048576),t.push(ye),o.push(ye)}else hv(s,n,$>-1?$:X,A_(t[r?X:$],C,!r&&i));!r&&i&&ae&&t[X].componentProviders++}}}function hv(n,e,t,i){const r=Ql(e);if(r||function(n){return!!n.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const C=l.indexOf(t);-1===C?l.push(t,[i,o]):l[C+1].push(i,o)}else l.push(t,o)}}}function A_(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cv(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function hR(n,e,t,i){return fv(this.multi,[])}function cR(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=se(t,t[1],this.providerFactory.index,i);s=l.slice(0,o),fv(r,s);for(let C=o;C<l.length;C++)s.push(l[C])}else s=[],fv(r,s);return s}function fv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Tn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function(n,e,t){const i=Ft();if(i.firstCreatePass){const r=pr(n);dv(t,i.data,i.blueprint,r,!0),dv(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class P_{}const N_="ngComponent";class gR{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${ft(n)}. Did you add it to @NgModule.entryComponents?`);return e[N_]=n,e}(e)}}let Yo=(()=>{class n{}return n.NULL=new gR,n})();function nf(...n){}function cu(n,e){return new ui(Zi(n,e))}const yR=function(){return cu(Xn(),Me())};let ui=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=yR,n})();function F_(n){return n instanceof ui?n.nativeElement:n}class Va{}let Ls=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>CR(),n})();const CR=function(){const n=Me(),t=Ni(Xn().index,n);return function(n){return n[11]}(Sr(t)?t:n)};let gv=(()=>{class n{}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:()=>null}),n})();class zd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const L_=new zd("12.2.9");class B_{constructor(){}supports(e){return Od(e)}create(e){return new DR(e)}}const _R=(n,e)=>e;class DR{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_R}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<H_(i,r,s)?t:i,l=H_(o,r,s),C=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const N=l-r,B=C-r;if(N!=B){for(let G=0;G<N;G++){const $=G<s.length?s[G]:s[G]=0,X=$+G;B<=X&&X<N&&(s[G]=$+1)}s[o.previousIndex]=B-N}}l!==C&&e(o,l,C)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Od(e))throw new Error(`Error trying to diff '${ft(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)s=e[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),i=!0),t=t._next}else r=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Xl()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,l=>{o=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,l,o,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new SR(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new V_),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new V_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class SR{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TR{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class V_{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new TR,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H_(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class z_{constructor(){}supports(e){return e instanceof Map||Xm(e)}create(){return new xR}}class xR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Xm(e)))throw new Error(`Error trying to diff '${ft(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new MR(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class MR{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U_(){return new Ud([new B_])}let Ud=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||U_()),deps:[[n,new Wo,new qi]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:U_}),n})();function j_(){return new fu([new z_])}let fu=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||j_()),deps:[[n,new Wo,new qi]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:j_}),n})();function rf(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Rn(s)),fr(s))for(let l=10;l<s.length;l++){const C=s[l],N=C[1].firstChild;null!==N&&rf(C[1],C,N,i)}const o=t.type;if(8&o)rf(n,e,t.child,i);else if(32&o){const l=cm(t,e);let C;for(;C=l();)i.push(C)}else if(16&o){const l=WC(e,t);if(Array.isArray(l))i.push(...l);else{const C=Ed(e[16]);rf(C[1],C,l,i,!0)}}t=r?t.projectionNext:t.next}return i}class jd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return rf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(vm(e,i),Aa(t,i))}this._attachedToViewContainer=!1}NC(this._lView[1],this._lView)}onDestroy(e){gw(this._lView[1],this._lView,null,e)}markForCheck(){Bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Sl(!0);try{Hm(n,e,t)}finally{Sl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){_d(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class kR extends jd{constructor(e){super(e),this._view=e}detectChanges(){Dw(this._view)}checkNoChanges(){!function(n){Sl(!0);try{Dw(n)}finally{Sl(!1)}}(this._view)}get context(){return null}}const AR=function(n){return function(n,e,t){if(vl(n)&&!t){const i=Ni(n.index,e);return new jd(i,i)}return 47&n.type?new jd(e[16],e):null}(Xn(),Me(),16==(16&n))};let mv=(()=>{class n{}return n.__NG_ELEMENT_ID__=AR,n})();const NR=[new z_],LR=new Ud([new B_]),BR=new fu(NR),HR=function(){return sf(Xn(),Me())};let mo=(()=>{class n{}return n.__NG_ELEMENT_ID__=HR,n})();const zR=mo,UR=class extends zR{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Dd(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),Sd(t,i,e),new jd(i)}};function sf(n,e){return 4&n.type?new UR(e,n,cu(n,e)):null}class Bs{}class W_{}const $R=function(){return Y_(Xn(),Me())};let ss=(()=>{class n{}return n.__NG_ELEMENT_ID__=$R,n})();const YR=ss,$_=class extends YR{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return cu(this._hostTNode,this._hostLView)}get injector(){return new kt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rl(this._hostTNode,this._hostLView);if(xs(e)){const t=zo(e,this._hostLView),i=Ho(e);return new kt(t[1].data[i+8],t)}return new kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=G_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=i||this.parentInjector;if(!s&&null==e.ngModule&&o){const C=o.get(Bs,null);C&&(s=C)}const l=e.create(o,r,void 0,s);return this.insert(l.hostView,t),l}insert(e,t){const i=e._lView,r=i[1];if(function(n){return fr(n[3])}(i)){const B=this.indexOf(e);if(-1!==B)this.detach(B);else{const W=i[3],G=new $_(W,W[6],W[3]);G.detach(G.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],Sc(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const l=e[19];null!==l&&l.insertView(n),e[2]|=128}(r,i,o,s);const l=Cm(s,o),C=i[11],N=Rc(C,o[7]);return null!==N&&function(n,e,t,i,r,s){i[0]=r,i[6]=e,_d(n,i,t,1,r,s)}(r,o[6],C,i,N,l),e.attachToViewContainerRef(),Sc(vv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=G_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=vm(this._lContainer,t);i&&(Aa(vv(this._lContainer),t),NC(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=vm(this._lContainer,t);return i&&null!=Aa(vv(this._lContainer),t)?new jd(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function G_(n){return n[8]}function vv(n){return n[8]||(n[8]=[])}function Y_(n,e){let t;const i=e[n.index];if(fr(i))t=i;else{let r;if(8&n.type)r=Rn(i);else{const s=e[11];r=s.createComment("");const o=Zi(n,e);Fa(s,Rc(s,o),r,function(n,e){return Zt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=_w(i,e,r,n),zc(e,t)}return new $_(t,n,e)}const vu={};class fD extends Yo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oi(e);return new gD(t,this.ngModule)}}function pD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const jN=new It("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xC});class gD extends P_{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(Lk).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return pD(this.componentDef.inputs)}get outputs(){return pD(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function(n,e){return{get:(t,i,r)=>{const s=n.get(t,vu,r);return s!==vu||i===vu?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get(Va,oc),l=s.get(gv,null),C=o.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",B=i?function(n,e,t){if(Zt(n))return n.selectRootElement(e,t===ee.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(C,i,this.componentDef.encapsulation):mm(o.createRenderer(null,this.componentDef),N,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(N)),W=this.componentDef.onPush?576:528,G=function(n,e){return{components:[],scheduler:n||xC,clean:wI,playerHandler:e||null,flags:0}}(),$=Hc(0,null,null,1,0,null,null,null,null,null),X=Dd(null,$,G,W,null,null,o,C,l,s);let re,ae;xl(X);try{const ye=function(n,e,t,i,r,s){const o=t[1];t[20]=n;const C=Wl(o,20,2,"#host",null),N=C.mergedAttrs=e.hostAttrs;null!==N&&(Uc(C,N,!0),null!==n&&(Il(r,n,N),null!==C.classes&&Em(r,n,C.classes),null!==C.styles&&YC(r,n,C.styles)));const B=i.createRenderer(n,e),W=Dd(t,cw(e),null,e.onPush?64:16,t[20],C,i,B,s||null,null);return o.firstCreatePass&&(Nl(xa(C,t),o,e.type),Cw(o,C),ww(C,t.length,1)),zc(t,W),t[20]=W}(B,this.componentDef,X,o,C);if(B)if(i)Il(C,B,["ng-version",L_.full]);else{const{attrs:fe,classes:ke}=function(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!qr(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);fe&&Il(C,B,fe),ke&&ke.length>0&&Em(C,B,ke.join(" "))}if(ae=Xu($,20),void 0!==t){const fe=ae.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const Te=t[ke];fe.push(null!=Te?Array.from(Te):null)}}re=function(n,e,t,i,r){const s=t[1],o=function(n,e,t){const i=Xn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Ew(n,i,e,$l(n,e,1,null),t));const r=se(e,n,i.directiveStart,i);Si(r,e);const s=Zi(i,e);return s&&Si(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(C=>C(o,e)),e.contentQueries){const C=Xn();e.contentQueries(1,o,C.directiveStart)}const l=Xn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Qr(l.index),yw(t[1],l,0,l.directiveStart,l.directiveEnd,e),bw(e,o)),o}(ye,this.componentDef,X,G,[YI]),Sd($,X,null)}finally{Ml()}return new GN(this.componentType,re,cu(ae,X),X,ae)}}class GN extends class{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new kR(r),this.componentType=e}get injector(){return new kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const yu=new Map;class QN extends Bs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fD(this);const i=Pi(e),r=function(n){return n[og]||null}(e);r&&av(r),this._bootstrapComponents=As(i.bootstrap),this._r3Injector=Aw(e,t,[{provide:Bs,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],ft(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Jt.THROW_IF_NOT_FOUND,i=Je.Default){return e===Jt||e===Bs||e===Yl?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class kv extends W_{constructor(e){super(),this.moduleType=e,null!==Pi(e)&&function(n){const e=new Set;!function t(i){const r=Pi(i,!0),s=r.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ft(e)} vs ${ft(e.name)}`)}(s,yu.get(s),i),yu.set(s,i));const o=As(r.imports);for(const l of o)e.has(l)||(e.add(l),t(l))}(n)}(e)}create(e){return new QN(this.moduleType,e)}}function bD(n,e,t,i){return function(n,e,t,i,r,s){const o=e+t;return Ti(n,o,r)?Rs(n,o+1,s?i.call(s,r):i(r)):Zd(n,o+1)}(Me(),Ci(),n,e,t,i)}function CD(n,e,t,i,r){return function(n,e,t,i,r,s,o){const l=e+t;return La(n,l,r,s)?Rs(n,l+2,o?i.call(o,r,s):i(r,s)):Zd(n,l+2)}(Me(),Ci(),n,e,t,i,r)}function wD(n,e,t,i,r,s){return function(n,e,t,i,r,s,o,l){const C=e+t;return Wc(n,C,r,s,o)?Rs(n,C+3,l?i.call(l,r,s,o):i(r,s,o)):Zd(n,C+3)}(Me(),Ci(),n,e,t,i,r,s)}function Zd(n,e){const t=n[e];return t===vt?void 0:t}function Iv(n){return e=>{setTimeout(n,void 0,e)}}const ni=class extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,o;let l=e,C=t||(()=>null),N=i;if(e&&"object"==typeof e){const W=e;l=null===(r=W.next)||void 0===r?void 0:r.bind(W),C=null===(s=W.error)||void 0===s?void 0:s.bind(W),N=null===(o=W.complete)||void 0===o?void 0:o.bind(W)}this.__isAsync&&(C=Iv(C),l&&(l=Iv(l)),N&&(N=Iv(N)));const B=super.subscribe({next:l,error:C,complete:N});return e instanceof b&&e.add(B),B}};function dF(){return this._results[Xl()]()}class df{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Xl(),i=df.prototype;i[t]||(i[t]=dF)}get changes(){return this._changes||(this._changes=new ni)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=kr(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Av{constructor(e){this.queryList=e,this.matches=null}clone(){return new Av(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Pv(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==AD(e,t).matches&&this.queries[t].setDirty()}}class xD{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Rv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Rv(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Nv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Nv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,fF(t,s)),this.matchTNodeWithReadOption(e,t,q(t,e,s,!1,!1))}else i===mo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,q(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ui||r===ss||r===mo&&4&t.type)this.addMatch(t.index,-2);else{const s=q(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function fF(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function gF(n,e,t,i){return-1===t?function(n,e){return 11&n.type?cu(n,e):4&n.type?sf(n,e):null}(e,n):-2===t?function(n,e,t){return t===ui?cu(e,n):t===mo?sf(e,n):t===ss?Y_(e,n):void 0}(n,e,i):se(n,n[1],t,e)}function MD(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,l=[];for(let C=0;C<o.length;C+=2){const N=o[C];l.push(N<0?null:gF(e,s[N],o[C+1],t.metadata.read))}r.matches=l}return r.matches}function Fv(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=MD(n,e,r,t);for(let l=0;l<s.length;l+=2){const C=s[l];if(C>0)i.push(o[l/2]);else{const N=s[l+1],B=e[-C];for(let W=10;W<B.length;W++){const G=B[W];G[17]===G[3]&&Fv(G[1],G,N,i)}if(null!==B[9]){const W=B[9];for(let G=0;G<W.length;G++){const $=W[G];Fv($[1],$,N,i)}}}}}return i}function hf(n){const e=Me(),t=Ft(),i=fc();id(i+1);const r=AD(t,i);if(n.dirty&&lc(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Fv(t,e,i,[]):MD(t,e,r,i);n.reset(s,F_),n.notifyOnChanges()}return!0}return!1}function Lv(n,e,t,i){const r=Ft();if(r.firstCreatePass){const s=Xn();ID(r,new xD(e,t,i),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}kD(r,Me(),t)}function cf(){return function(n,e){return n[19].queries[e].queryList}(Me(),fc())}function kD(n,e,t){const i=new df(4==(4&t));gw(n,e,i,i.destroy),null===e[19]&&(e[19]=new Pv),e[19].queries.push(new Av(i))}function ID(n,e,t){null===n.queries&&(n.queries=new Rv),n.queries.track(new Nv(e,t))}function AD(n,e){return n.queries.getByIndex(e)}function eh(n,e){return sf(n,e)}const nh=new It("Application Initializer");let Cu=(()=>{class n{constructor(t){this.appInits=t,this.resolve=nf,this.reject=nf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Rd(s))t.push(s);else if(Gc(s)){const o=new Promise((l,C)=>{s.subscribe({complete:l,error:C})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Le(nh,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const ih=new It("AppId"),$F={provide:ih,useFactory:function(){return`${jv()}${jv()}${jv()}`},deps:[]};function jv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XD=new It("Platform Initializer"),Wv=new It("Platform ID"),ZD=new It("appBootstrapListener");let gf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const Qo=new It("LocaleId"),JD=new It("DefaultCurrencyCode");class YF{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const $v=function(n){return new kv(n)},KF=$v,QF=function(n){return Promise.resolve($v(n))},qD=function(n){const e=$v(n),i=As(Pi(n).declarations).reduce((r,s)=>{const o=oi(s);return o&&r.push(new gD(o)),r},[]);return new YF(e,i)},XF=qD,ZF=function(n){return Promise.resolve(qD(n))};let Ua=(()=>{class n{constructor(){this.compileModuleSync=KF,this.compileModuleAsync=QF,this.compileModuleAndAllComponentsSync=XF,this.compileModuleAndAllComponentsAsync=ZF}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const e2=(()=>Promise.resolve(0))();function Gv(n){"undefined"==typeof Zone?e2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class En{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Kv(n),n.isCheckStableRunning=!0,Yv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Kv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,l)=>{try{return eS(n),t.invokeTask(r,s,o,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),tS(n)}},onInvoke:(t,i,r,s,o,l,C)=>{try{return eS(n),t.invoke(r,s,o,l,C)}finally{n.shouldCoalesceRunChangeDetection&&e(),tS(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Kv(n),Yv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!En.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(En.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,n2,nf,nf);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const n2={};function Yv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Kv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function eS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tS(n){n._nesting--,Yv(n)}class s2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let Qv=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{En.assertNotInAngularZone(),Gv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Le(En))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),nS=(()=>{class n{constructor(){this._applications=new Map,Xv.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Xv.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();class o2{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Xv=new o2,iS=!0,rS=!1;let ls;const oS=new It("AllowMultipleToken");class Zv{constructor(e,t){this.name=e,this.token=t}}function aS(n,e,t=[]){const i=`Platform: ${e}`,r=new It(i);return(s=[])=>{let o=lS();if(!o||o.injector.get(oS,!1))if(n)n(t.concat(s).concat({provide:r,useValue:!0}));else{const l=t.concat(s).concat({provide:r,useValue:!0},{provide:Td,useValue:"platform"});!function(n){if(ls&&!ls.destroyed&&!ls.injector.get(oS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ls=n.get(uS);const e=n.get(XD,null);e&&e.forEach(t=>t())}(Jt.create({providers:l,name:i}))}return function(n){const e=lS();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function lS(){return ls&&!ls.destroyed?ls:null}let uS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const l=function(n,e){let t;return t="noop"===n?new s2:("zone.js"===n?void 0:n)||new En({enableLongStackTrace:(rS=!0,iS),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),C=[{provide:En,useValue:l}];return l.run(()=>{const N=Jt.create({providers:C,parent:this.injector,name:t.moduleType.name}),B=t.create(N),W=B.injector.get(Na,null);if(!W)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return l.runOutsideAngular(()=>{const G=l.onError.subscribe({next:$=>{W.handleError($)}});B.onDestroy(()=>{Jv(this._modules,B),G.unsubscribe()})}),function(n,e,t){try{const i=t();return Rd(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(W,l,()=>{const G=B.injector.get(Cu);return G.runInitializers(),G.donePromise.then(()=>(av(B.injector.get(Qo,Zc)||Zc),this._moduleDoBootstrap(B),B))})})}bootstrapModule(t,i=[]){const r=dS({},i);return function(n,e,t){const i=new kv(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Xo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ft(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Le(Jt))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function dS(n,e){return Array.isArray(e)?e.reduce(dS,n):Object.assign(Object.assign({},n),e)}let Xo=(()=>{class n{constructor(t,i,r,s,o){this._zone=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new h(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),C=new h(N=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{En.assertNotInAngularZone(),Gv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{En.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{B.unsubscribe(),W.unsubscribe()}});this.isStable=function(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return j(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof h?n[0]:_t(e)(Wt(n,t))}(l,C.pipe(n=>Cn()(function(n,e){return function(i){let r;r="function"==typeof n?n:function(){return n};const s=Object.create(i,ca);return s.source=i,s.subjectFactory=r,s}}(al)(n))))}bootstrap(t,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=t instanceof P_?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Bs),l=r.create(Jt.NULL,[],i||r.selector,s),C=l.location.nativeElement,N=l.injector.get(Qv,null),B=N&&l.injector.get(nS);return N&&B&&B.registerApplication(C,N),l.onDestroy(()=>{this.detachView(l.hostView),Jv(this.components,l),B&&B.unregisterApplication(C)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Jv(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ZD,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Le(En),Le(Jt),Le(Na),Le(Yo),Le(Cu))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function Jv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class vf{}class w2{}const E2={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _2=(()=>{class n{constructor(t,i){this._compiler=t,this._config=i||E2}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[i,r]=t.split("#");return void 0===r&&(r="default"),L(255)(i).then(s=>s[r]).then(s=>pS(s,i,r)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[i,r]=t.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),L(255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(o=>o[r+s]).then(o=>pS(o,i,r))}}return n.\u0275fac=function(t){return new(t||n)(Le(Ua),Le(w2,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function pS(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const P2=aS(null,"core",[{provide:Wv,useValue:"unknown"},{provide:uS,deps:[Jt]},{provide:nS,deps:[]},{provide:gf,deps:[]}]),B2=[{provide:Xo,useClass:Xo,deps:[En,Jt,Na,Yo,Cu]},{provide:jN,deps:[En],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Cu,useClass:Cu,deps:[[new qi,nh]]},{provide:Ua,useClass:Ua,deps:[]},$F,{provide:Ud,useFactory:function(){return LR},deps:[]},{provide:fu,useFactory:function(){return BR},deps:[]},{provide:Qo,useFactory:function(n){return av(n=n||"undefined"!=typeof $localize&&$localize.locale||Zc),n},deps:[[new Vl(Qo),new qi,new Wo]]},{provide:JD,useValue:"USD"}];let H2=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Le(Xo))},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({providers:B2}),n})(),xf=null;function Vs(){return xf}const Jn=new It("DocumentToken");let $a=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({factory:VL,token:n,providedIn:"platform"}),n})();function VL(){return Le(BS)}const HL=new It("Location Initialized");let BS=(()=>{class n extends $a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vs().getBaseHref(this._doc)}onPopState(t){const i=Vs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Vs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){VS()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){VS()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=Ze({factory:zL,token:n,providedIn:"platform"}),n})();function VS(){return!!window.history.pushState}function zL(){return new BS(Le(Jn))}function fy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function HS(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function yo(n){return n&&"?"!==n[0]?"?"+n:n}let _u=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({factory:UL,token:n,providedIn:"root"}),n})();function UL(n){const e=Le(Jn).location;return new zS(Le($a),e&&e.origin||"")}const py=new It("appBaseHref");let zS=(()=>{class n extends _u{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fy(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+yo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+yo(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+yo(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Le($a),Le(py,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),jL=(()=>{class n extends _u{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=fy(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+yo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+yo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Le($a),Le(py,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),Mf=(()=>{class n{constructor(t,i){this._subject=new ni,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=HS(US(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+yo(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,US(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.\u0275fac=function(t){return new(t||n)(Le(_u),Le($a))},n.normalizeQueryParams=yo,n.joinWithSlash=fy,n.stripTrailingSlash=HS,n.\u0275prov=Ze({factory:WL,token:n,providedIn:"root"}),n})();function WL(){return new Mf(Le(_u),Le($a))}function US(n){return n.replace(/\/index.html$/,"")}var ii=(()=>((ii=ii||{})[ii.Zero=0]="Zero",ii[ii.One=1]="One",ii[ii.Two=2]="Two",ii[ii.Few=3]="Few",ii[ii.Many=4]="Many",ii[ii.Other=5]="Other",ii))();const JL=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=a_(e);if(t)return t;const i=e.split("-")[0];if(t=a_(i),t)return t;if("en"===i)return gP;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[We.PluralCase]};class Bf{}let xB=(()=>{class n extends Bf{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(JL(i||this.locale)(t)){case ii.Zero:return"zero";case ii.One:return"one";case ii.Two:return"two";case ii.Few:return"few";case ii.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(Le(Qo))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),Vf=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Od(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ft(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(Se(Ud),Se(fu),Se(ui),Se(Ls))},n.\u0275dir=rt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class kB{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Co=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=[];t.forEachOperation((r,s,o)=>{if(null==r.previousIndex){const l=this._viewContainer.createEmbeddedView(this._template,new kB(null,this._ngForOf,-1,-1),null===o?void 0:o),C=new ZS(r,l);i.push(C)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const l=this._viewContainer.get(s);this._viewContainer.move(l,o);const C=new ZS(r,l);i.push(C)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const o=this._viewContainer.get(r);o.context.index=r,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(t,i){t.context.$implicit=i.item}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Se(ss),Se(mo),Se(Ud))},n.\u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class ZS{constructor(e,t){this.record=e,this.view=t}}let Hs=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new AB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){JS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){JS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Se(ss),Se(mo))},n.\u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class AB{constructor(){this.$implicit=null,this.ngIf=null}}function JS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ft(e)}'.`)}let tT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({providers:[{provide:Bf,useClass:xB}]}),n})();let iT=(()=>{class n{}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:()=>new aV(Le(Jn),window)}),n})();class aV{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rT(this.window.history)||rT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function rT(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xy extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){xf||(xf=n)}(new xy)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(dh=dh||document.querySelector("base"),dh?dh.getAttribute("href"):null);return null==t?null:function(n){Hf=Hf||document.createElement("a"),Hf.setAttribute("href",n);const e=Hf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Hf,dh=null;const sT=new It("TRANSITION_ID"),pV=[{provide:nh,useFactory:function(n,e,t){return()=>{t.get(Cu).donePromise.then(()=>{const i=Vs(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[sT,Jn,Jt],multi:!0}];class My{static init(){!function(n){Xv=n}(new My)}addToWindow(e){Pe.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(i=>{const r=Pe.getAllAngularTestabilities();let s=r.length,o=!1;const l=function(C){o=o||C,s--,0==s&&i(o)};r.forEach(function(C){C.whenStable(l)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?Vs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let gV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const hh=new It("EventManagerPlugins");let Uf=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Le(hh),Le(En))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();class Oy{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Vs().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let aT=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),ch=(()=>{class n extends aT{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(lT),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lT))}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function lT(n){Vs().remove(n)}const ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Iy=/%COMP%/g;function jf(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?jf(n,r,t):(r=r.replace(Iy,n),t.push(r))}return t}function hT(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wf=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ay(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case ee.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new kV(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case ee.ShadowDom:return new IV(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=jf(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Le(Uf),Le(ch),Le(ih))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();class Ay{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ky[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ky[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ky[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(vr.DashCase|vr.Important)?e.style.setProperty(t,i,r&vr.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hT(i)):this.eventManager.addEventListener(e,t,hT(i))}}class kV extends Ay{constructor(e,t,i,r){super(e),this.component=i;const s=jf(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(Iy,n)}(r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Iy,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class IV extends Ay{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jf(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let AV=(()=>{class n extends Oy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const pT=["alt","control","meta","shift"],VV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},HV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zV=(()=>{class n extends Oy{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(pT.forEach(C=>{const N=i.indexOf(C);N>-1&&(i.splice(N,1),o+=C+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static getEventFullKey(t){let i="",r=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&gT.hasOwnProperty(e)&&(e=gT[e]))}return VV[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pT.forEach(s=>{s!=r&&HV[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),$f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({factory:function(){return Le(Ry)},token:n,providedIn:"root"}),n})(),Ry=(()=>{class n extends $f{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case un.NONE:return i;case un.HTML:return ks(i,"HTML")?mr(i):gC(this._doc,String(i)).toString();case un.STYLE:return ks(i,"Style")?mr(i):i;case un.SCRIPT:if(ks(i,"Script"))return mr(i);throw new Error("unsafe value used in a script context");case un.URL:return aC(i),ks(i,"URL")?mr(i):yd(String(i));case un.RESOURCE_URL:if(ks(i,"ResourceURL"))return mr(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new EO(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new _O(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new DO(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new SO(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new TO(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=Ze({factory:function(){return function(n){return new Ry(n.get(Jn))}(Le(Yl))},token:n,providedIn:"root"}),n})();const QV=aS(P2,"browser",[{provide:Wv,useValue:"browser"},{provide:XD,useValue:function(){xy.makeCurrent(),My.init()},multi:!0},{provide:Jn,useFactory:function(){return function(n){wl=n}(document),document},deps:[]}]),XV=[[],{provide:Td,useValue:"root"},{provide:Na,useFactory:function(){return new Na},deps:[]},{provide:hh,useClass:AV,multi:!0,deps:[Jn,En,Wv]},{provide:hh,useClass:zV,multi:!0,deps:[Jn]},[],{provide:Wf,useClass:Wf,deps:[Uf,ch,ih]},{provide:Va,useExisting:Wf},{provide:aT,useExisting:ch},{provide:ch,useClass:ch,deps:[Jn]},{provide:Qv,useClass:Qv,deps:[En]},{provide:Uf,useClass:Uf,deps:[hh,En]},{provide:class{},useClass:gV,deps:[]},[]];let Ny=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ih,useValue:t.appId},{provide:sT,useExisting:ih},pV]}}}return n.\u0275fac=function(t){return new(t||n)(Le(n,12))},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({providers:XV,imports:[tT,H2]}),n})();function Gf(n,e){return new h(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let s=0,o=0;for(let l=0;l<i;l++){const C=at(n[l]);let N=!1;t.add(C.subscribe({next:B=>{N||(N=!0,o++),r[l]=B},error:B=>t.error(B),complete:()=>{s++,(s===i||!N)&&(o===i&&t.next(e?e.reduce((B,W,G)=>(B[W]=r[G],B),{}):r),t.complete())}}))}})}"undefined"!=typeof window&&window;let vT=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Se(Ls),Se(ui))},n.\u0275dir=rt({type:n}),n})(),Ga=(()=>{class n extends vT{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=$t(n)))(i||n)}}(),n.\u0275dir=rt({type:n,features:[wn]}),n})();const zs=new It("NgValueAccessor"),sH={provide:zs,useExisting:Gt(()=>Ly),multi:!0};let Ly=(()=>{class n extends Ga{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=$t(n)))(i||n)}}(),n.\u0275dir=rt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&At("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Tn([sH]),wn]}),n})();const oH={provide:zs,useExisting:Gt(()=>Du),multi:!0},lH=new It("CompositionEventMode");let Du=(()=>{class n extends vT{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Vs()?Vs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Se(Ls),Se(ui),Se(lH,8))},n.\u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&At("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Tn([oH]),wn]}),n})();const Oi=new It("NgValidators"),ea=new It("NgAsyncValidators");function xT(n){return null!=n}function MT(n){const e=Rd(n)?at(n):n;return Gc(e),e}function OT(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function kT(n,e){return e.map(t=>t(n))}function IT(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function By(n){return null!=n?function(n){if(!n)return null;const e=n.filter(xT);return 0==e.length?null:function(t){return OT(kT(t,e))}}(IT(n)):null}function Vy(n){return null!=n?function(n){if(!n)return null;const e=n.filter(xT);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(O(e))return Gf(e,null);if(A(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Gf(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Gf(n=1===n.length&&O(n[0])?n[0]:n,null).pipe(K(t=>e(...t)))}return Gf(n,null)}(kT(t,e).map(MT)).pipe(K(OT))}}(IT(n)):null}function RT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hy(n){return n?Array.isArray(n)?n:[n]:[]}function Yf(n,e){return Array.isArray(n)?n.includes(e):n===e}function LT(n,e){const t=Hy(e);return Hy(n).forEach(r=>{Yf(t,r)||t.push(r)}),t}function BT(n,e){return Hy(e).filter(t=>!Yf(n,t))}let VT=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=By(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=rt({type:n}),n})(),Ui=(()=>{class n extends VT{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=$t(n)))(i||n)}}(),n.\u0275dir=rt({type:n,features:[wn]}),n})();class na extends VT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Kf=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Se(na,2))},n.\u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Qc("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[wn]}),n})();function fh(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(RT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(RT(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Jf(e._rawValidators,r),Jf(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zT(n,e)})}(n,e),function(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zT(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ep(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ph="VALID",tp="INVALID",Su="PENDING",gh="DISABLED";function Gy(n){return(Ky(n)?n.validators:n)||null}function WT(n){return Array.isArray(n)?By(n):n||null}function Yy(n,e){return(Ky(e)?e.asyncValidators:n)||null}function $T(n){return Array.isArray(n)?Vy(n):n||null}function Ky(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Qy{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=WT(this._rawValidators),this._composedAsyncValidatorFn=$T(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ph}get invalid(){return this.status===tp}get pending(){return this.status==Su}get disabled(){return this.status===gh}get enabled(){return this.status!==gh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=WT(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$T(e)}addValidators(e){this.setValidators(LT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BT(e,this._rawAsyncValidators))}hasValidator(e){return Yf(this._rawValidators,e)}hasAsyncValidator(e){return Yf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Su,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ph,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ph||this.status===Su)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gh:ph}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Su,this._hasOwnPendingAsyncValidator=!0;const t=MT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=i instanceof Xy?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof _H&&i.at(r)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ni,this.statusChanges=new ni}_calculateStatus(){return this._allControlsDisabled()?gh:this.errors?tp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Su)?Su:this._anyControlsHaveStatus(tp)?tp:ph}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ky(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class np extends Qy{constructor(e=null,t,i){super(Gy(t),Yy(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ep(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ep(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Xy extends Qy{constructor(e,t,i){super(Gy(t),Yy(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof np?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class _H extends Qy{constructor(e,t,i){super(Gy(t),Yy(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof np?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const TH={provide:na,useExisting:Gt(()=>vh)},KT=(()=>Promise.resolve(null))();let vh=(()=>{class n extends na{constructor(t,i,r,s){super(),this.control=new np,this._registered=!1,this.update=new ni,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Du?t=s:function(n){return Object.getPrototypeOf(n.constructor)===Ga}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){KT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;KT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(Se(Ui,9),Se(Oi,10),Se(ea,10),Se(zs,10))},n.\u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Tn([TH]),wn,Qn]}),n})(),XT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({}),n})(),fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({imports:[[XT]]}),n})(),ZH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({imports:[fx]}),n})();function Dt(...n){let e=n[n.length-1];return j(e)?(n.pop(),Be(n,e)):Wt(n)}class fs extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}next(e){super.next(this._value=e)}}class JH extends c{notifyNext(e,t,i,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class qH extends c{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function ez(n,e,t,i,r=new qH(n,t,i)){if(!r.closed)return e instanceof h?e.subscribe(r):Oe(e)(r)}const px={};class nz{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new iz(e,this.resultSelector))}}class iz extends JH{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(px),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(ez(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const r=this.values,o=this.toRespond?r[i]===px?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const ip=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function sb(...n){return _t(1)(Dt(...n))}const Tu=new h(n=>n.complete());function ob(n){return n?function(n){return new h(e=>n.schedule(()=>e.complete()))}(n):Tu}function gx(n){return new h(e=>{let t;try{t=n()}catch(r){return void e.error(r)}return(t?at(t):ob()).subscribe(e)})}function ia(n,e){return"function"==typeof e?t=>t.pipe(ia((i,r)=>at(n(i,r)).pipe(K((s,o)=>e(i,s,r,o))))):t=>t.lift(new oz(n))}class oz{constructor(e){this.project=e}call(e,t){return t.subscribe(new az(e,this.project))}}class az extends rn{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new Et(this),r=this.destination;r.add(i),this.innerSubscription=Qt(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const mx=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function ab(n){return e=>0===n?ob():e.lift(new lz(n))}class lz{constructor(e){if(this.total=e,this.total<0)throw new mx}call(e,t){return t.subscribe(new uz(e,this.total))}}class uz extends c{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function vx(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new hz(n,e,t))}}class hz{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new cz(e,this.accumulator,this.seed,this.hasSeed))}}class cz extends c{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function xu(n,e){return function(i){return i.lift(new fz(n,e))}}class fz{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new pz(e,this.predicate,this.thisArg))}}class pz extends c{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function Ya(n){return function(t){const i=new gz(n),r=t.lift(i);return i.caught=r}}class gz{constructor(e){this.selector=e}call(e,t){return t.subscribe(new mz(e,this.selector,this.caught))}}class mz extends rn{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new Et(this);this.add(i);const r=Qt(t,i);r!==i&&this.add(r)}}}function yh(n,e){return Ge(n,e,1)}function lb(n){return function(t){return 0===n?ob():t.lift(new vz(n))}}class vz{constructor(e){if(this.total=e,this.total<0)throw new mx}call(e,t){return t.subscribe(new yz(e,this.total))}}class yz extends c{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=t++%i;e.next(r[o])}}e.complete()}}function yx(n=wz){return e=>e.lift(new bz(n))}class bz{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Cz(e,this.errorFactory))}}class Cz extends c{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function wz(){return new ip}function bx(n=null){return e=>e.lift(new Ez(n))}class Ez{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new _z(e,this.defaultValue))}}class _z extends c{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Mu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xu((r,s)=>n(r,s,i)):u,ab(1),t?bx(e):yx(()=>new ip))}function ra(){}function br(n,e,t){return function(r){return r.lift(new Sz(n,e,t))}}class Sz{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new Tz(e,this.nextOrObserver,this.error,this.complete))}}class Tz extends c{constructor(e,t,i,r){super(e),this._tapNext=ra,this._tapError=ra,this._tapComplete=ra,this._tapError=i||ra,this._tapComplete=r||ra,_(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||ra,this._tapError=t.error||ra,this._tapComplete=t.complete||ra)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Mz{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Oz(e,this.callback))}}class Oz extends c{constructor(e,t){super(e),this.add(new b(t))}}class wo{constructor(e,t){this.id=e,this.url=t}}class ub extends wo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bh extends wo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cx extends wo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kz extends wo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iz extends wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Az extends wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pz extends wo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rz extends wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nz extends wo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ex{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fz{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lz{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bz{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vz{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _x{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Hz{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ou(n){return new Hz(n)}const Dx="ngNavigationCancelingError";function db(n){const e=Error("NavigationCancelingError: "+n);return e[Dx]=!0,e}function Uz(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],l=n[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Us(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Sx(n[r],e[r]))return!1;return!0}function Sx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Tx(n){return Array.prototype.concat.apply([],n)}function xx(n){return n.length>0?n[n.length-1]:null}function wi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function js(n){return Gc(n)?n:Rd(n)?at(Promise.resolve(n)):Dt(n)}const $z={exact:function kx(n,e,t){if(!Qa(n.segments,e.segments)||!rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!kx(n.children[i],e.children[i],t))return!1;return!0},subset:Ix},Mx={exact:function(n,e){return Us(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Sx(n[t],e[t]))},ignored:()=>!0};function Ox(n,e,t){return $z[t.paths](n.root,e.root,t.matrixParams)&&Mx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ix(n,e,t){return Ax(n,e,e.segments,t)}function Ax(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Qa(r,t)||e.hasChildren()||!rp(r,t,i))}if(n.segments.length===t.length){if(!Qa(n.segments,t)||!rp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ix(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Qa(n.segments,r)&&rp(n.segments,r,i)&&n.children[Pt])&&Ax(n.children[Pt],e,s,i)}}function rp(n,e,t){return e.every((i,r)=>Mx[t](n[r].parameters,i.parameters))}class Ka{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return Xz.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sp(this)}}class Ch{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ou(this.parameters)),this._parameterMap}toString(){return Fx(this)}}function Qa(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class hb{}class Px{parse(e){const t=new s3(e);return new Ka(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${wh(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${op(t)}=${op(r)}`).join("&"):`${op(t)}=${op(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Xz=new Px;function sp(n){return n.segments.map(e=>Fx(e)).join("/")}function wh(n,e){if(!n.hasChildren())return sp(n);if(e){const t=n.children[Pt]?wh(n.children[Pt],!1):"",i=[];return wi(n.children,(r,s)=>{s!==Pt&&i.push(`${s}:${wh(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return wi(n.children,(i,r)=>{r===Pt&&(t=t.concat(e(i,r)))}),wi(n.children,(i,r)=>{r!==Pt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Pt?[wh(n.children[Pt],!1)]:[`${r}:${wh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${sp(n)}/${t[0]}`:`${sp(n)}/(${t.join("//")})`}}function Rx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function op(n){return Rx(n).replace(/%3B/gi,";")}function cb(n){return Rx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ap(n){return decodeURIComponent(n)}function Nx(n){return ap(n.replace(/\+/g,"%20"))}function Fx(n){return`${cb(n.path)}${function(n){return Object.keys(n).map(e=>`;${cb(e)}=${cb(n[e])}`).join("")}(n.parameters)}`}const e3=/^[^\/()?;=#]+/;function lp(n){const e=n.match(e3);return e?e[0]:""}const t3=/^[^=?&#]+/,i3=/^[^?&#]+/;class s3{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Pt]=new Vt(e,t)),i}parseSegment(){const e=lp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ch(ap(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=lp(this.remaining);r&&(i=r,this.capture(i))}e[ap(t)]=ap(i)}parseQueryParam(e){const t=function(n){const e=n.match(t3);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(i3);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Nx(t),s=Nx(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=lp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Pt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Pt]:new Vt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Lx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=fb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return pb(e,this._root).map(t=>t.value)}}function fb(n,e){if(n===e.value)return e;for(const t of e.children){const i=fb(n,t);if(i)return i}return null}function pb(n,e){if(n===e.value)return[e];for(const t of e.children){const i=pb(n,t);if(i.length)return i.unshift(e),i}return[]}class Eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Eh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bx extends Lx{constructor(e,t){super(e),this.snapshot=t,gb(this,e)}toString(){return this.snapshot.toString()}}function Vx(n,e){const t=function(n,e){const o=new up([],{},{},"",{},Pt,e,null,n.root,-1,{});return new zx("",new Eo(o,[]))}(n,e),i=new fs([new Ch("",{})]),r=new fs({}),s=new fs({}),o=new fs({}),l=new fs(""),C=new ku(i,r,o,l,s,Pt,e,t.root);return C.snapshot=t.root,new Bx(new Eo(C,[]),t)}class ku{constructor(e,t,i,r,s,o,l,C){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(K(e=>Ou(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(K(e=>Ou(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hx(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class up{constructor(e,t,i,r,s,o,l,C,N,B,W){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=C,this._urlSegment=N,this._lastPathIndex=B,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zx extends Lx{constructor(e,t){super(t),this.url=e,gb(this,t)}toString(){return Ux(this._root)}}function gb(n,e){e.value._routerState=n,e.children.forEach(t=>gb(n,t))}function Ux(n){const e=n.children.length>0?` { ${n.children.map(Ux).join(", ")} } `:"";return`${n.value}${e}`}function mb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Us(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Us(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Us(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Us(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vb(n,e){return Us(n.params,e.params)&&function(n,e){return Qa(n,e)&&n.every((t,i)=>Us(t.parameters,e[i].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||vb(n.parent,e.parent))}function dp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return dp(n,i,r);return dp(n,i)})}(n,e,t);return new Eo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return jx(e,o),o}}const i=function(n){return new ku(new fs(n.url),new fs(n.params),new fs(n.queryParams),new fs(n.fragment),new fs(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>dp(n,s));return new Eo(i,r)}}function jx(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)jx(n.children[t],e.children[t])}function hp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _h(n){return"object"==typeof n&&null!=n&&n.outlets}function yb(n,e,t,i,r){let s={};return i&&wi(i,(o,l)=>{s[l]=Array.isArray(o)?o.map(C=>`${C}`):`${o}`}),new Ka(t.root===n?e:Wx(t.root,n,e),s,r)}function Wx(n,e,t){const i={};return wi(n.children,(r,s)=>{i[s]=r===e?t:Wx(r,e,t)}),new Vt(n.segments,i)}class $x{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hp(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(_h);if(r&&r!==xx(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Gx(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return cp(n,e,t);const i=function(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],l=t[i];if(_h(l))break;const C=`${l}`,N=i<t.length-1?t[i+1]:null;if(r>0&&void 0===C)break;if(C&&N&&"object"==typeof N&&void 0===N.outlets){if(!Kx(C,N,o))return s;i+=2}else{if(!Kx(C,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Vt(n.segments.slice(0,i.pathIndex),{});return s.children[Pt]=new Vt(n.segments.slice(i.pathIndex),n.children),cp(s,0,r)}return i.match&&0===r.length?new Vt(n.segments,{}):i.match&&!n.hasChildren()?Cb(n,e,t):i.match?cp(n,0,r):Cb(n,e,t)}function cp(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const i=function(n){return _h(n[0])?n[0].outlets:{[Pt]:n}}(t),r={};return wi(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Gx(n.children[o],e,s))}),wi(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Vt(n.segments,r)}}function Cb(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(_h(s)){const C=v3(s.outlets);return new Vt(i,C)}if(0===r&&hp(t[0])){i.push(new Ch(n.segments[e].path,Yx(t[0]))),r++;continue}const o=_h(s)?s.outlets[Pt]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&hp(l)?(i.push(new Ch(o,Yx(l))),r+=2):(i.push(new Ch(o,{})),r++)}return new Vt(i,{})}function v3(n){const e={};return wi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Cb(new Vt([],{}),0,t))}),e}function Yx(n){const e={};return wi(n,(t,i)=>e[i]=`${t}`),e}function Kx(n,e,t){return n==t.path&&Us(e,t.parameters)}class b3{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),mb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Eh(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),wi(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Eh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Eh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Vz(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Lz(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(mb(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),Qx(l.route)}else{const l=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),C=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=C,o.outlet&&o.outlet.activateWith(r,C),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}function Qx(n){mb(n.value),n.children.forEach(Qx)}class wb{constructor(e,t){this.routes=e,this.module=t}}function sa(n){return"function"==typeof n}function Xa(n){return n instanceof Ka}const Dh=Symbol("INITIAL_VALUE");function Sh(){return ia(n=>function(...n){let e,t;return j(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&O(n[0])&&(n=n[0]),Wt(n,t).lift(new nz(e))}(n.map(e=>e.pipe(ab(1),function(...n){const e=n[n.length-1];return j(e)?(n.pop(),t=>sb(n,t,e)):t=>sb(n,t)}(Dh)))).pipe(vx((e,t)=>{let i=!1;return t.reduce((r,s,o)=>r!==Dh?r:(s===Dh&&(i=!0),i||!1!==s&&o!==t.length-1&&!Xa(s)?r:s),e)},Dh),xu(e=>e!==Dh),K(e=>Xa(e)?e:!0===e),ab(1)))}let Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&ce(0,"router-outlet")},directives:function(){return[xb]},encapsulation:2}),n})();function Zx(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];T3(i,x3(e,i))}}function T3(n,e){n.children&&Zx(n.children,e)}function x3(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Eb(n){const e=n.children&&n.children.map(Eb),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=Xx),t}function Lr(n){return n.outlet||Pt}function Jx(n,e){const t=n.filter(i=>Lr(i)===e);return t.push(...n.filter(i=>Lr(i)!==e)),t}const qx={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fp(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},qx):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Uz)(t,n,e);if(!s)return Object.assign({},qx);const o={};wi(s.posParams,(C,N)=>{o[N]=C.path});const l=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function pp(n,e,t,i,r="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>gp(n,e,i)&&Lr(i)!==Pt)}(n,t,i)){const o=new Vt(e,function(n,e,t,i){const r={};r[Pt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Lr(s)!==Pt){const o=new Vt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Lr(s)]=o}return r}(n,e,i,new Vt(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>gp(n,e,i))}(n,t,i)){const o=new Vt(n.segments,function(n,e,t,i,r,s){const o={};for(const l of i)if(gp(n,t,l)&&!r[Lr(l)]){const C=new Vt([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Lr(l)]=C}return Object.assign(Object.assign({},r),o)}(n,e,t,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Vt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function gp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function eM(n,e,t,i){return!!(Lr(n)===i||i!==Pt&&gp(e,t,n))&&("**"===n.path||fp(e,n,t).matched)}function tM(n,e,t){return 0===e.length&&!n.children[t]}class Th{constructor(e){this.segmentGroup=e||null}}class nM{constructor(e){this.urlTree=e}}function mp(n){return new h(e=>e.error(new Th(n)))}function iM(n){return new h(e=>e.error(new nM(n)))}function A3(n){return new h(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class N3{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Bs)}apply(){const e=pp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe(K(s=>this.createUrlTree(_b(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ya(s=>{if(s instanceof nM)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Th?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe(K(r=>this.createUrlTree(_b(r),e.queryParams,e.fragment))).pipe(Ya(r=>{throw r instanceof Th?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Vt([],{[Pt]:e}):e;return new Ka(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(K(s=>new Vt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return at(r).pipe(yh(s=>{const o=i.children[s],l=Jx(t,s);return this.expandSegmentGroup(e,l,o,s).pipe(K(C=>({segment:C,outlet:s})))}),vx((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xu((r,s)=>n(r,s,i)):u,lb(1),t?bx(e):yx(()=>new ip))}())}expandSegment(e,t,i,r,s,o){return at(i).pipe(yh(l=>this.expandSegmentAgainstRoute(e,t,i,l,r,s,o).pipe(Ya(N=>{if(N instanceof Th)return Dt(null);throw N}))),Mu(l=>!!l),Ya((l,C)=>{if(l instanceof ip||"EmptyError"===l.name){if(tM(t,r,s))return Dt(new Vt([],{}));throw new Th(t)}throw l}))}expandSegmentAgainstRoute(e,t,i,r,s,o,l){return eM(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):mp(t):mp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?iM(s):this.lineralizeSegments(i,s).pipe(Ge(o=>{const l=new Vt(o,{});return this.expandSegment(e,l,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:l,consumedSegments:C,lastChild:N,positionalParamSegments:B}=fp(t,r,s);if(!l)return mp(t);const W=this.applyRedirectCommands(C,r.redirectTo,B);return r.redirectTo.startsWith("/")?iM(W):this.lineralizeSegments(r,W).pipe(Ge(G=>this.expandSegment(e,t,i,G.concat(s.slice(N)),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Dt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(K(G=>(i._loadedConfig=G,new Vt(r,{})))):Dt(new Vt(r,{}));const{matched:o,consumedSegments:l,lastChild:C}=fp(t,i,r);if(!o)return mp(t);const N=r.slice(C);return this.getChildConfig(e,i,r).pipe(Ge(W=>{const G=W.module,$=W.routes,{segmentGroup:X,slicedSegments:re}=pp(t,l,N,$),ae=new Vt(X.segments,X.children);if(0===re.length&&ae.hasChildren())return this.expandChildren(G,$,ae).pipe(K(Te=>new Vt(l,Te)));if(0===$.length&&0===re.length)return Dt(new Vt(l,{}));const ye=Lr(i)===s;return this.expandSegment(G,ae,$,re,ye?Pt:s,!0).pipe(K(ke=>new Vt(l.concat(ke.segments),ke.children)))}))}getChildConfig(e,t,i){return t.children?Dt(new wb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Dt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(Ge(r=>r?this.configLoader.load(e.injector,t).pipe(K(s=>(t._loadedConfig=s,s))):function(n){return new h(e=>e.error(db(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Dt(new wb([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?Dt(r.map(o=>{const l=e.get(o);let C;if(function(n){return n&&sa(n.canLoad)}(l))C=l.canLoad(t,i);else{if(!sa(l))throw new Error("Invalid CanLoad guard");C=l(t,i)}return js(C)})).pipe(Sh(),br(o=>{if(!Xa(o))return;const l=db(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw l.url=o,l}),K(o=>!0===o)):Dt(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Dt(i);if(r.numberOfChildren>1||!r.children[Pt])return A3(e.redirectTo);r=r.children[Pt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ka(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return wi(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=t[l]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return wi(t.children,(l,C)=>{o[C]=this.createSegmentGroup(e,l,i,r)}),new Vt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function _b(n){const e={};for(const i of Object.keys(n.children)){const s=_b(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}class rM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vp{constructor(e,t){this.component=e,this.route=t}}function B3(n,e,t){const i=n._root;return xh(i,e?e._root:null,t,[i.value])}function yp(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function xh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Eh(e);return n.children.forEach(o=>{(function(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const C=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qa(n.url,e.url)||!Us(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vb(n,e)||!Us(n.queryParams,e.queryParams);case"paramsChange":default:return!vb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);C?r.canActivateChecks.push(new rM(i)):(s.data=o.data,s._resolvedData=o._resolvedData),xh(n,e,s.component?l?l.children:null:t,i,r),C&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new vp(l.outlet.component,o))}else o&&Mh(e,l,r),r.canActivateChecks.push(new rM(i)),xh(n,null,s.component?l?l.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),wi(s,(o,l)=>Mh(o,t.getContext(l),r)),r}function Mh(n,e,t){const i=Eh(n),r=n.value;wi(i,(s,o)=>{Mh(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new vp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Z3{}function sM(n){return new h(e=>e.error(n))}class q3{constructor(e,t,i,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=pp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const i=new up([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Eo(i,t),s=new zx(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=Hx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const o=t.children[s],l=Jx(e,s),C=this.processSegmentGroup(l,o,s);if(null===C)return null;i.push(...C)}const r=oM(i);return function(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,i,r);if(null!==o)return o}return tM(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!eM(e,t,i,r))return null;let s,o=[],l=[];if("**"===e.path){const $=i.length>0?xx(i).parameters:{};s=new up(i,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uM(e),Lr(e),e.component,e,aM(t),lM(t)+i.length,dM(e))}else{const $=fp(t,e,i);if(!$.matched)return null;o=$.consumedSegments,l=i.slice($.lastChild),s=new up(o,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uM(e),Lr(e),e.component,e,aM(t),lM(t)+o.length,dM(e))}const C=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:N,slicedSegments:B}=pp(t,o,l,C.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===B.length&&N.hasChildren()){const $=this.processChildren(C,N);return null===$?null:[new Eo(s,$)]}if(0===C.length&&0===B.length)return[new Eo(s,[])];const W=Lr(e)===r,G=this.processSegment(C,N,B,W?Pt:r);return null===G?null:[new Eo(s,G)]}}function nU(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oM(n){const e=[],t=new Set;for(const i of n){if(!nU(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=oM(i.children);e.push(new Eo(i.value,r))}return e.filter(i=>!t.has(i))}function aM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lM(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function uM(n){return n.data||{}}function dM(n){return n.resolve||{}}function Db(n){return ia(e=>{const t=n(e);return t?at(t).pipe(K(()=>e)):Dt(e)})}class dU extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Sb=new It("ROUTES");class hM{constructor(e,t,i,r){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(K(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new wb(Tx(o.injector.get(Sb,void 0,Je.Self|Je.Optional)).map(Eb),o)}),Ya(s=>{throw t._loader$=void 0,s}));return t._loader$=new Oo(r,()=>new z).pipe(Cn()),t._loader$}loadModuleFactory(e){return"string"==typeof e?at(this.loader.load(e)):js(e()).pipe(Ge(t=>t instanceof W_?Dt(t):at(this.compiler.compileModuleAsync(t))))}}class hU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Iu,this.attachRef=null}}class Iu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new hU,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class fU{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pU(n){throw n}function gU(n,e,t){return e.parse("/")}function cM(n,e){return Dt(null)}const mU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class n{constructor(t,i,r,s,o,l,C,N){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=N,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new z,this.errorHandler=pU,this.malformedUriErrorHandler=gU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cM,afterPreactivation:cM},this.urlHandlingStrategy=new fU,this.routeReuseStrategy=new dU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Bs),this.console=o.get(gf);const G=o.get(En);this.isNgZoneEnabled=G instanceof En&&En.isInAngularZone(),this.resetConfig(N),this.currentUrlTree=new Ka(new Vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hM(l,C,$=>this.triggerEvent(new wx($)),$=>this.triggerEvent(new Ex($))),this.routerState=Vx(this.currentUrlTree,this.rootComponentType),this.transitions=new fs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(xu(r=>0!==r.id),K(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ia(r=>{let s=!1,o=!1;return Dt(r).pipe(br(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ia(l=>{const C=this.browserUrlTree.toString(),N=!this.navigated||l.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||N)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return bp(l.source)&&(this.browserUrlTree=l.extractedUrl),Dt(l).pipe(ia(W=>{const G=this.transitions.getValue();return i.next(new ub(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),G!==this.transitions.getValue()?Tu:Promise.resolve(W)}),function(n,e,t,i){return ia(r=>function(n,e,t,i,r){return new N3(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(K(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),br(W=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:W.urlAfterRedirects})}),function(n,e,t,i,r){return Ge(s=>function(n,e,t,i,r="emptyOnly",s="legacy"){try{const o=new q3(n,e,t,i,r,s).recognize();return null===o?sM(new Z3):Dt(o)}catch(o){return sM(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(K(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,W=>this.serializeUrl(W),this.paramsInheritanceStrategy,this.relativeLinkResolution),br(W=>{"eager"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(W.urlAfterRedirects,W),this.browserUrlTree=W.urlAfterRedirects);const G=new Iz(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);i.next(G)}));if(N&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:$,source:X,restoredState:re,extras:ae}=l,ye=new ub(G,this.serializeUrl($),X,re);i.next(ye);const fe=Vx($,this.rootComponentType).snapshot;return Dt(Object.assign(Object.assign({},l),{targetSnapshot:fe,urlAfterRedirects:$,extras:Object.assign(Object.assign({},ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,this.browserUrlTree=l.urlAfterRedirects,l.resolve(null),Tu}),Db(l=>{const{targetSnapshot:C,id:N,extractedUrl:B,rawUrl:W,extras:{skipLocationChange:G,replaceUrl:$}}=l;return this.hooks.beforePreactivation(C,{navigationId:N,appliedUrlTree:B,rawUrlTree:W,skipLocationChange:!!G,replaceUrl:!!$})}),br(l=>{const C=new Az(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(C)}),K(l=>Object.assign(Object.assign({},l),{guards:B3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function(n,e){return Ge(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Dt(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,i){return at(n).pipe(Ge(r=>function(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Dt(s.map(l=>{const C=yp(l,e,r);let N;if(function(n){return n&&sa(n.canDeactivate)}(C))N=js(C.canDeactivate(n,e,t,i));else{if(!sa(C))throw new Error("Invalid CanDeactivate guard");N=js(C(n,e,t,i))}return N.pipe(Mu())})).pipe(Sh()):Dt(!0)}(r.component,r.route,t,e,i)),Mu(r=>!0!==r,!0))}(o,i,r,n).pipe(Ge(l=>l&&function(n){return"boolean"==typeof n}(l)?function(n,e,t,i){return at(e).pipe(yh(r=>sb(function(n,e){return null!==n&&e&&e(new Fz(n)),Dt(!0)}(r.route.parent,i),function(n,e){return null!==n&&e&&e(new Bz(n)),Dt(!0)}(r.route,i),function(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>gx(()=>Dt(o.guards.map(C=>{const N=yp(C,o.node,t);let B;if(function(n){return n&&sa(n.canActivateChild)}(N))B=js(N.canActivateChild(i,n));else{if(!sa(N))throw new Error("Invalid CanActivateChild guard");B=js(N(i,n))}return B.pipe(Mu())})).pipe(Sh())));return Dt(s).pipe(Sh())}(n,r.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Dt(i.map(s=>gx(()=>{const o=yp(s,e,t);let l;if(function(n){return n&&sa(n.canActivate)}(o))l=js(o.canActivate(e,n));else{if(!sa(o))throw new Error("Invalid CanActivate guard");l=js(o(e,n))}return l.pipe(Mu())}))).pipe(Sh()):Dt(!0)}(n,r.route,t))),Mu(r=>!0!==r,!0))}(i,s,n,e):Dt(l)),K(l=>Object.assign(Object.assign({},t),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),br(l=>{if(Xa(l.guardsResult)){const N=db(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw N.url=l.guardsResult,N}const C=new Pz(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(C)}),xu(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),Db(l=>{if(l.guards.canActivateChecks.length)return Dt(l).pipe(br(C=>{const N=new Rz(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(N)}),ia(C=>{let N=!1;return Dt(C).pipe(function(n,e){return Ge(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Dt(t);let s=0;return at(r).pipe(yh(o=>function(n,e,t,i){return function(n,e,t,i){const r=Object.keys(n);if(0===r.length)return Dt({});const s={};return at(r).pipe(Ge(o=>function(n,e,t,i){const r=yp(n,e,i);return js(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,i).pipe(br(l=>{s[o]=l}))),lb(1),Ge(()=>Object.keys(s).length===r.length?Dt(s):Tu))}(n._resolve,n,e,i).pipe(K(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Hx(n,t).resolve),null)))}(o.route,i,n,e)),br(()=>s++),lb(1),Ge(o=>s===r.length?Dt(t):Tu))})}(this.paramsInheritanceStrategy,this.ngModule.injector),br({next:()=>N=!0,complete:()=>{N||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),br(C=>{const N=new Nz(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(N)}))}),Db(l=>{const{targetSnapshot:C,id:N,extractedUrl:B,rawUrl:W,extras:{skipLocationChange:G,replaceUrl:$}}=l;return this.hooks.afterPreactivation(C,{navigationId:N,appliedUrlTree:B,rawUrlTree:W,skipLocationChange:!!G,replaceUrl:!!$})}),K(l=>{const C=function(n,e,t){const i=dp(n,e._root,t?t._root:void 0);return new Bx(i,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:C})}),br(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>K(i=>(new b3(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),br({next(){s=!0},complete(){s=!0}}),function(n){return e=>e.lift(new Mz(n))}(()=>{if(!s&&!o){const l=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,l)):this.cancelNavigationTransition(r,l)}this.currentNavigation=null}),Ya(l=>{if(o=!0,function(n){return n&&n[Dx]}(l)){const C=Xa(l.url);C||(this.navigated=!0,this.restoreHistory(r,!0));const N=new Cx(r.id,this.serializeUrl(r.extractedUrl),l.message);i.next(N),C?setTimeout(()=>{const B=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),W={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bp(r.source)};this.scheduleNavigation(B,"imperative",null,W,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const C=new kz(r.id,this.serializeUrl(r.extractedUrl),l);i.next(C);try{r.resolve(this.errorHandler(l))}catch(N){r.reject(N)}}return Tu}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:s,urlTree:o}=i,l={replaceUrl:!0};if(s){const C=Object.assign({},s);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(l.state=C)}this.scheduleNavigation(o,r,s,l)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(t){var i;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,i){if(!t)return!0;const r=i.urlTree.toString()===t.urlTree.toString();return i.transitionId!==t.transitionId||!r||!("hashchange"===i.source&&"popstate"===t.source||"popstate"===i.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Zx(t),this.config=t.map(Eb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:C}=i,N=r||this.routerState.root,B=C?this.currentUrlTree.fragment:o;let W=null;switch(l){case"merge":W=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=s||null}return null!==W&&(W=this.removeEmptyProps(W)),function(n,e,t,i,r){if(0===t.length)return yb(e.root,e.root,e,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $x(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return wi(s.outlets,(C,N)=>{l[N]="string"==typeof C?C.split("/"):C}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,C)=>{0==C&&"."===l||(0==C&&""===l?t=!0:".."===l?e++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new $x(t,e,i)}(t);if(s.toRoot())return yb(e.root,new Vt([],{}),e,i,r);const o=function(n,e,t){if(n.isAbsolute)return new bb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new bb(s,s===e.root,0)}const i=hp(n.commands[0])?0:1;return function(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new bb(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),l=o.processChildren?cp(o.segmentGroup,o.index,s.commands):Gx(o.segmentGroup,o.index,s.commands);return yb(o.segmentGroup,l,e,i,r)}(N,this.currentUrlTree,t,W,null!=B?B:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Xa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},mU):!1===i?Object.assign({},vU):i,Xa(t))return Ox(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Ox(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){var l,C;if(this.disposed)return Promise.resolve(!1);const N=this.getTransition(),B=bp(i)&&N&&!bp(N.source),$=(this.lastSuccessfulId===N.id||this.currentNavigation?N.rawUrl:N.urlAfterRedirects).toString()===t.toString();if(B&&$)return Promise.resolve(!0);let X,re,ae;o?(X=o.resolve,re=o.reject,ae=o.promise):ae=new Promise((ke,Te)=>{X=ke,re=Te});const ye=++this.navigationId;let fe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),fe=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):fe=0,this.setTransition({id:ye,targetPageId:fe,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:X,reject:re,promise:ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ae.catch(ke=>Promise.reject(ke))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Cx(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(Le(_c),Le(hb),Le(Iu),Le(Mf),Le(Jt),Le(vf),Le(Ua),Le(void 0))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function bp(n){return"imperative"!==n}let Cp=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.route=i,this.commands=[],this.onChanges=new z,null==r&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Au(this.skipLocationChange),replaceUrl:Au(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Au(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(Se(nr),Se(ku),Jr("tabindex"),Se(Ls),Se(ui))},n.\u0275dir=rt({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&At("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Qn]}),n})(),Oh=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new z,this.subscription=t.events.subscribe(s=>{s instanceof bh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,o){if(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target)return!0;const l={skipLocationChange:Au(this.skipLocationChange),replaceUrl:Au(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Au(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(Se(nr),Se(ku),Se(_u))},n.\u0275dir=rt({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&At("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&(sv("href",i.href,am),er("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Qn]}),n})();function Au(n){return""===n||!!n}let Tb=(()=>{class n{constructor(t,i,r,s,o,l){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(C=>{C instanceof bh&&this.update()})}ngAfterContentInit(){Dt(this.links.changes,this.linksWithHrefs.changes,Dt(null)).pipe(_t()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=at(i).pipe(_t()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(t){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(Se(nr),Se(ui),Se(Ls),Se(mv),Se(Cp,8),Se(Oh,8))},n.\u0275dir=rt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(Lv(r,Cp,5),Lv(r,Oh,5)),2&t){let s;hf(s=cf())&&(i.links=s),hf(s=cf())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Qn]}),n})(),xb=(()=>{class n{constructor(t,i,r,s,o){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ni,this.deactivateEvents=new ni,this.name=s||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,C=new CU(t,l,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Se(Iu),Se(ss),Se(Yo),Jr("name"),Se(mv))},n.\u0275dir=rt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class CU{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ku?this.route:e===Iu?this.childContexts:this.parent.get(e,t)}}class fM{}class pM{preload(e,t){return Dt(null)}}let gM=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new hM(i,r,N=>t.triggerEvent(new wx(N)),N=>t.triggerEvent(new Ex(N)))}setUpPreloading(){this.subscription=this.router.events.pipe(xu(t=>t instanceof bh),yh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Bs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return at(r).pipe(_t(),K(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Dt(i._loadedConfig):this.loader.load(t.injector,i)).pipe(Ge(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Le(nr),Le(vf),Le(Ua),Le(Jt),Le(fM))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),Mb=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ub?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _x&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new _x(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Le(nr),Le(iT),Le(void 0))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const Za=new It("ROUTER_CONFIGURATION"),mM=new It("ROUTER_FORROOT_GUARD"),EU=[Mf,{provide:hb,useClass:Px},{provide:nr,useFactory:function(n,e,t,i,r,s,o,l={},C,N){const B=new nr(null,n,e,t,i,r,s,Tx(o));return C&&(B.urlHandlingStrategy=C),N&&(B.routeReuseStrategy=N),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(l,B),l.enableTracing&&B.events.subscribe(W=>{var G,$;null===(G=console.group)||void 0===G||G.call(console,`Router Event: ${W.constructor.name}`),console.log(W.toString()),console.log(W),null===($=console.groupEnd)||void 0===$||$.call(console)}),B},deps:[hb,Iu,Mf,Jt,vf,Ua,Sb,Za,[class{},new qi],[class{},new qi]]},Iu,{provide:ku,useFactory:function(n){return n.routerState.root},deps:[nr]},{provide:vf,useClass:_2},gM,pM,class{preload(e,t){return t().pipe(Ya(()=>Dt(null)))}},{provide:Za,useValue:{enableTracing:!1}}];function _U(){return new Zv("Router",nr)}let DU=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[EU,vM(t),{provide:mM,useFactory:xU,deps:[[nr,new qi,new Wo]]},{provide:Za,useValue:i||{}},{provide:_u,useFactory:TU,deps:[$a,[new Vl(py),new qi],Za]},{provide:Mb,useFactory:SU,deps:[nr,iT,Za]},{provide:fM,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:pM},{provide:Zv,multi:!0,useFactory:_U},[Ob,{provide:nh,multi:!0,useFactory:IU,deps:[Ob]},{provide:yM,useFactory:AU,deps:[Ob]},{provide:ZD,multi:!0,useExisting:yM}]]}}static forChild(t){return{ngModule:n,providers:[vM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Le(mM,8),Le(nr,8))},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({}),n})();function SU(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Mb(n,e,t)}function TU(n,e,t={}){return t.useHash?new jL(n,e):new zS(n,e)}function xU(n){return"guarded"}function vM(n){return[{provide:J1,multi:!0,useValue:n},{provide:Sb,multi:!0,useValue:n}]}let Ob=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new z}appInitializer(){return this.injector.get(HL,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(l=>i=l),s=this.injector.get(nr),o=this.injector.get(Za);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Dt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Za),r=this.injector.get(gM),s=this.injector.get(Mb),o=this.injector.get(nr),l=this.injector.get(Xo);t===l.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Le(Jt))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function IU(n){return n.appInitializer.bind(n)}function AU(n){return n.bootstrapListener.bind(n)}const yM=new It("Router Initializer");function bM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ws(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?bM(Object(t),!0).forEach(function(i){RU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wp(n){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function RU(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Br(){return(Br=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function FU(n,e){if(null==n)return{};var i,r,t=function(n,e){if(null==n)return{};var r,s,t={},i=Object.keys(n);for(s=0;s<i.length;s++)!(e.indexOf(r=i[s])>=0)&&(t[r]=n[r]);return t}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)!(e.indexOf(i=s[r])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(t[i]=n[i]))}return t}function _o(n){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(n)}var Do=_o(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),kh=_o(/Edge/i),CM=_o(/firefox/i),Ih=_o(/safari/i)&&!_o(/chrome/i)&&!_o(/android/i),wM=_o(/iP(ad|od|hone)/i),jU=_o(/chrome/i)&&_o(/android/i),EM={capture:!1,passive:!1};function Ht(n,e,t){n.addEventListener(e,t,!Do&&EM)}function Rt(n,e,t){n.removeEventListener(e,t,!Do&&EM)}function Ep(n,e){if(e){if(">"===e[0]&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function WU(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ps(n,e,t,i){if(n){t=t||document;do{if(null!=e&&(">"===e[0]?n.parentNode===t&&Ep(n,e):Ep(n,e))||i&&n===t)return n;if(n===t)break}while(n=WU(n))}return null}var Ah,_M=/\s+/g;function Ln(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(_M," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(_M," ")}}function Ke(n,e,t){var i=n&&n.style;if(i){if(void 0===t)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),void 0===e?t:t[e];!(e in i)&&-1===e.indexOf("webkit")&&(e="-webkit-"+e),i[e]=t+("string"==typeof t?"":"px")}}function Ja(n,e){var t="";if("string"==typeof n)t=n;else do{var i=Ke(n,"transform");i&&"none"!==i&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function DM(n,e,t){if(n){var i=n.getElementsByTagName(e),r=0,s=i.length;if(t)for(;r<s;r++)t(i[r],r);return i}return[]}function $s(){return document.scrollingElement||document.documentElement}function xn(n,e,t,i,r){if(n.getBoundingClientRect||n===window){var s,o,l,C,N,B,W;if(n!==window&&n.parentNode&&n!==$s()?(o=(s=n.getBoundingClientRect()).top,l=s.left,C=s.bottom,N=s.right,B=s.height,W=s.width):(o=0,l=0,C=window.innerHeight,N=window.innerWidth,B=window.innerHeight,W=window.innerWidth),(e||t)&&n!==window&&(r=r||n.parentNode,!Do))do{if(r&&r.getBoundingClientRect&&("none"!==Ke(r,"transform")||t&&"static"!==Ke(r,"position"))){var G=r.getBoundingClientRect();o-=G.top+parseInt(Ke(r,"border-top-width")),l-=G.left+parseInt(Ke(r,"border-left-width")),C=o+s.height,N=l+s.width;break}}while(r=r.parentNode);if(i&&n!==window){var $=Ja(r||n),X=$&&$.a,re=$&&$.d;$&&(C=(o/=re)+(B/=re),N=(l/=X)+(W/=X))}return{top:o,left:l,bottom:C,right:N,width:W,height:B}}}function SM(n,e,t){for(var i=oa(n,!0),r=xn(n)[e];i;){var s=xn(i)[t];if(!("top"===t||"left"===t?r>=s:r<=s))return i;if(i===$s())break;i=oa(i,!1)}return!1}function Pu(n,e,t,i){for(var r=0,s=0,o=n.children;s<o.length;){if("none"!==o[s].style.display&&o[s]!==ct.ghost&&(i||o[s]!==ct.dragged)&&ps(o[s],t.draggable,n,!1)){if(r===e)return o[s];r++}s++}return null}function Ib(n,e){for(var t=n.lastElementChild;t&&(t===ct.ghost||"none"===Ke(t,"display")||e&&!Ep(t,e));)t=t.previousElementSibling;return t||null}function zn(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)"TEMPLATE"!==n.nodeName.toUpperCase()&&n!==ct.clone&&(!e||Ep(n,e))&&t++;return t}function TM(n){var e=0,t=0,i=$s();if(n)do{var r=Ja(n);e+=n.scrollLeft*r.a,t+=n.scrollTop*r.d}while(n!==i&&(n=n.parentNode));return[e,t]}function oa(n,e){if(!n||!n.getBoundingClientRect)return $s();var t=n,i=!1;do{if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=Ke(t);if(t.clientWidth<t.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||t.clientHeight<t.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!t.getBoundingClientRect||t===document.body)return $s();if(i||e)return t;i=!0}}}while(t=t.parentNode);return $s()}function Ab(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}function xM(n,e){return function(){if(!Ah){var t=arguments,i=this;1===t.length?n.call(i,t[0]):n.apply(i,t),Ah=setTimeout(function(){Ah=void 0},e)}}}function MM(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Pb(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var ki="Sortable"+(new Date).getTime();var Ru=[],Nb={initializeByDefault:!0},Ph={mount:function(e){for(var t in Nb)Nb.hasOwnProperty(t)&&!(t in e)&&(e[t]=Nb[t]);Ru.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ru.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var s=e+"Global";Ru.forEach(function(o){!t[o.pluginName]||(t[o.pluginName][s]&&t[o.pluginName][s](Ws({sortable:t},i)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Ws({sortable:t},i)))})},initializePlugins:function(e,t,i,r){for(var s in Ru.forEach(function(l){var C=l.pluginName;if(e.options[C]||l.initializeByDefault){var N=new l(e,t,e.options);N.sortable=e,N.options=e.options,e[C]=N,Br(i,N.defaults)}}),e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);void 0!==o&&(e.options[s]=o)}},getEventProperties:function(e,t){var i={};return Ru.forEach(function(r){"function"==typeof r.eventProperties&&Br(i,r.eventProperties.call(t[r.pluginName],e))}),i},modifyOption:function(e,t,i){var r;return Ru.forEach(function(s){!e[s.pluginName]||s.optionListeners&&"function"==typeof s.optionListeners[t]&&(r=s.optionListeners[t].call(e[s.pluginName],i))}),r}};var ZU=["evt"],ir=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.evt,s=FU(i,ZU);Ph.pluginEvent.bind(ct)(e,t,Ws({dragEl:He,parentEl:Un,ghostEl:St,rootEl:Mn,nextEl:qa,lastDownEl:_p,cloneEl:jn,cloneHidden:aa,dragStarted:Fh,putSortable:Ei,activeSortable:ct.active,originalEvent:r,oldIndex:Nu,oldDraggableIndex:Nh,newIndex:Cr,newDraggableIndex:la,hideGhostForTarget:FM,unhideGhostForTarget:LM,cloneNowHidden:function(){aa=!0},cloneNowShown:function(){aa=!1},dispatchSortableEvent:function(l){ji({sortable:t,name:l,originalEvent:r})}},s))};function ji(n){!function(n){var e=n.sortable,t=n.rootEl,i=n.name,r=n.targetEl,s=n.cloneEl,o=n.toEl,l=n.fromEl,C=n.oldIndex,N=n.newIndex,B=n.oldDraggableIndex,W=n.newDraggableIndex,G=n.originalEvent,$=n.putSortable,X=n.extraEventProperties;if(e=e||t&&t[ki]){var re,ae=e.options,ye="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||Do||kh?(re=document.createEvent("Event")).initEvent(i,!0,!0):re=new CustomEvent(i,{bubbles:!0,cancelable:!0}),re.to=o||t,re.from=l||t,re.item=r||t,re.clone=s,re.oldIndex=C,re.newIndex=N,re.oldDraggableIndex=B,re.newDraggableIndex=W,re.originalEvent=G,re.pullMode=$?$.lastPutMode:void 0;var fe=Ws(Ws({},X),Ph.getEventProperties(i,e));for(var ke in fe)re[ke]=fe[ke];t&&t.dispatchEvent(re),ae[ye]&&ae[ye].call(e,re)}}(Ws({putSortable:Ei,cloneEl:jn,targetEl:He,rootEl:Mn,oldIndex:Nu,oldDraggableIndex:Nh,newIndex:Cr,newDraggableIndex:la},n))}var He,Un,St,Mn,qa,_p,jn,aa,Nu,Cr,Nh,la,Dp,Ei,el,gs,Fb,Lb,kM,IM,Fh,Lu,Lh,Mp,Ii,Fu=!1,Sp=!1,Tp=[],Bh=!1,xp=!1,Bb=[],Vb=!1,Op=[],kp="undefined"!=typeof document,Ip=wM,AM=kh||Do?"cssFloat":"float",JU=kp&&!jU&&!wM&&"draggable"in document.createElement("div"),PM=function(){if(kp){if(Do)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto","auto"===n.style.pointerEvents}}(),RM=function(e,t){var i=Ke(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=Pu(e,0,t),o=Pu(e,1,t),l=s&&Ke(s),C=o&&Ke(o),N=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xn(s).width,B=C&&parseInt(C.marginLeft)+parseInt(C.marginRight)+xn(o).width;return"flex"===i.display?"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal":"grid"===i.display?i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":s&&l.float&&"none"!==l.float?!o||"both"!==C.clear&&C.clear!==("left"===l.float?"left":"right")?"horizontal":"vertical":s&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||N>=r&&"none"===i[AM]||o&&"none"===i[AM]&&N+B>r)?"vertical":"horizontal"},NM=function(e){function t(s,o){return function(l,C,N,B){if(null==s&&(o||l.options.group.name&&C.options.group.name&&l.options.group.name===C.options.group.name))return!0;if(null==s||!1===s)return!1;if(o&&"clone"===s)return s;if("function"==typeof s)return t(s(l,C,N,B),o)(l,C,N,B);var G=(o?l:C).options.group.name;return!0===s||"string"==typeof s&&s===G||s.join&&s.indexOf(G)>-1}}var i={},r=e.group;(!r||"object"!=wp(r))&&(r={name:r}),i.name=r.name,i.checkPull=t(r.pull,!0),i.checkPut=t(r.put),i.revertClone=r.revertClone,e.group=i},FM=function(){!PM&&St&&Ke(St,"display","none")},LM=function(){!PM&&St&&Ke(St,"display","")};kp&&document.addEventListener("click",function(n){if(Sp)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Sp=!1,!1},!0);var tl=function(e){if(He){var t=function(e,t){var i;return Tp.some(function(r){var s=r[ki].options.emptyInsertThreshold;if(s&&!Ib(r)){var o=xn(r);if(e>=o.left-s&&e<=o.right+s&&t>=o.top-s&&t<=o.bottom+s)return i=r}}),i}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[ki]._onDragOver(i)}}},tj=function(e){He&&He.parentNode[ki]._isOutsideThisEl(e.target)};function ct(n,e){if(!n||!n.nodeType||1!==n.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Br({},e),n[ki]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return RM(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,l){o.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ct.supportPointer&&"PointerEvent"in window&&!Ih,emptyInsertThreshold:5};for(var i in Ph.initializePlugins(this,n,t),t)!(i in e)&&(e[i]=t[i]);for(var r in NM(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&JU,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ht(n,"pointerdown",this._onTapStart):(Ht(n,"mousedown",this._onTapStart),Ht(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ht(n,"dragover",this),Ht(n,"dragenter",this)),Tp.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Br(this,function(){var e,n=[];return{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(r){if("none"!==Ke(r,"display")&&r!==ct.ghost){n.push({target:r,rect:xn(r)});var s=Ws({},n[n.length-1].rect);if(r.thisAnimationDuration){var o=Ja(r,!0);o&&(s.top-=o.f,s.left-=o.e)}r.fromRect=s}})},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(function(n,e){for(var t in n)if(n.hasOwnProperty(t))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t);return-1}(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var s=!1,o=0;n.forEach(function(l){var C=0,N=l.target,B=N.fromRect,W=xn(N),G=N.prevFromRect,$=N.prevToRect,X=l.rect,re=Ja(N,!0);re&&(W.top-=re.f,W.left-=re.e),N.toRect=W,N.thisAnimationDuration&&Ab(G,W)&&!Ab(B,W)&&(X.top-W.top)/(X.left-W.left)==(B.top-W.top)/(B.left-W.left)&&(C=function(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}(X,G,$,r.options)),Ab(W,B)||(N.prevFromRect=B,N.prevToRect=W,C||(C=r.options.animation),r.animate(N,X,W,C)),C&&(s=!0,o=Math.max(o,C),clearTimeout(N.animationResetTimer),N.animationResetTimer=setTimeout(function(){N.animationTime=0,N.prevFromRect=null,N.fromRect=null,N.prevToRect=null,N.thisAnimationDuration=null},C),N.thisAnimationDuration=C)}),clearTimeout(e),s?e=setTimeout(function(){"function"==typeof i&&i()},o):"function"==typeof i&&i(),n=[]},animate:function(i,r,s,o){if(o){Ke(i,"transition",""),Ke(i,"transform","");var l=Ja(this.el),B=(r.left-s.left)/(l&&l.a||1),W=(r.top-s.top)/(l&&l.d||1);i.animatingX=!!B,i.animatingY=!!W,Ke(i,"transform","translate3d("+B+"px,"+W+"px,0)"),this.forRepaintDummy=function(n){return n.offsetWidth}(i),Ke(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Ke(i,"transform","translate3d(0,0,0)"),"number"==typeof i.animated&&clearTimeout(i.animated),i.animated=setTimeout(function(){Ke(i,"transition",""),Ke(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}())}function Ap(n,e,t,i,r,s,o,l){var C,W,N=n[ki],B=N.options.onMove;return!window.CustomEvent||Do||kh?(C=document.createEvent("Event")).initEvent("move",!0,!0):C=new CustomEvent("move",{bubbles:!0,cancelable:!0}),C.to=e,C.from=n,C.dragged=t,C.draggedRect=i,C.related=r||e,C.relatedRect=s||xn(e),C.willInsertAfter=l,C.originalEvent=o,n.dispatchEvent(C),B&&(W=B.call(N,C,o)),W}function Hb(n){n.draggable=!1}function ij(){Vb=!1}function lj(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function Pp(n){return setTimeout(n,0)}function zb(n){return clearTimeout(n)}ct.prototype={constructor:ct,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Lu=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,He):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,r=this.options,s=r.preventOnFilter,o=e.type,l=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,C=(l||e).target,N=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||C,B=r.filter;if(function(n){Op.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&Op.push(i)}}(i),!He&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!N.isContentEditable&&(this.nativeDraggable||!Ih||!C||"SELECT"!==C.tagName.toUpperCase())&&!((C=ps(C,r.draggable,i,!1))&&C.animated||_p===C)){if(Nu=zn(C),Nh=zn(C,r.draggable),"function"==typeof B){if(B.call(this,e,C,this))return ji({sortable:t,rootEl:N,name:"filter",targetEl:C,toEl:i,fromEl:i}),ir("filter",t,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(B&&(B=B.split(",").some(function(W){if(W=ps(N,W.trim(),i,!1))return ji({sortable:t,rootEl:W,name:"filter",targetEl:C,fromEl:i,toEl:i}),ir("filter",t,{evt:e}),!0})))return void(s&&e.cancelable&&e.preventDefault());r.handle&&!ps(N,r.handle,i,!1)||this._prepareDragStart(e,l,C)}}},_prepareDragStart:function(e,t,i){var C,r=this,s=r.el,o=r.options,l=s.ownerDocument;if(i&&!He&&i.parentNode===s){var N=xn(i);if(Mn=s,Un=(He=i).parentNode,qa=He.nextSibling,_p=i,Dp=o.group,ct.dragged=He,kM=(el={target:He,clientX:(t||e).clientX,clientY:(t||e).clientY}).clientX-N.left,IM=el.clientY-N.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,He.style["will-change"]="all",C=function(){ir("delayEnded",r,{evt:e}),ct.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!CM&&r.nativeDraggable&&(He.draggable=!0),r._triggerDragStart(e,t),ji({sortable:r,name:"choose",originalEvent:e}),Ln(He,o.chosenClass,!0))},o.ignore.split(",").forEach(function(B){DM(He,B.trim(),Hb)}),Ht(l,"dragover",tl),Ht(l,"mousemove",tl),Ht(l,"touchmove",tl),Ht(l,"mouseup",r._onDrop),Ht(l,"touchend",r._onDrop),Ht(l,"touchcancel",r._onDrop),CM&&this.nativeDraggable&&(this.options.touchStartThreshold=4,He.draggable=!0),ir("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(kh||Do))C();else{if(ct.eventCanceled)return void this._onDrop();Ht(l,"mouseup",r._disableDelayedDrag),Ht(l,"touchend",r._disableDelayedDrag),Ht(l,"touchcancel",r._disableDelayedDrag),Ht(l,"mousemove",r._delayedDragTouchMoveHandler),Ht(l,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&Ht(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(C,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){He&&Hb(He),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Rt(e,"mouseup",this._disableDelayedDrag),Rt(e,"touchend",this._disableDelayedDrag),Rt(e,"touchcancel",this._disableDelayedDrag),Rt(e,"mousemove",this._delayedDragTouchMoveHandler),Rt(e,"touchmove",this._delayedDragTouchMoveHandler),Rt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?Ht(document,this.options.supportPointer?"pointermove":t?"touchmove":"mousemove",this._onTouchMove):(Ht(He,"dragend",this),Ht(Mn,"dragstart",this._onDragStart));try{document.selection?Pp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(i){}},_dragStarted:function(e,t){if(Fu=!1,Mn&&He){ir("dragStarted",this,{evt:t}),this.nativeDraggable&&Ht(document,"dragover",tj);var i=this.options;!e&&Ln(He,i.dragClass,!1),Ln(He,i.ghostClass,!0),ct.active=this,e&&this._appendGhost(),ji({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(gs){this._lastX=gs.clientX,this._lastY=gs.clientY,FM();for(var e=document.elementFromPoint(gs.clientX,gs.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(gs.clientX,gs.clientY))!==t;)t=e;if(He.parentNode[ki]._isOutsideThisEl(e),t)do{if(t[ki]&&t[ki]._onDragOver({clientX:gs.clientX,clientY:gs.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);LM()}},_onTouchMove:function(e){if(el){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=St&&Ja(St,!0),l=St&&o&&o.a,C=St&&o&&o.d,N=Ip&&Ii&&TM(Ii),B=(s.clientX-el.clientX+r.x)/(l||1)+(N?N[0]-Bb[0]:0)/(l||1),W=(s.clientY-el.clientY+r.y)/(C||1)+(N?N[1]-Bb[1]:0)/(C||1);if(!ct.active&&!Fu){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(St){o?(o.e+=B-(Fb||0),o.f+=W-(Lb||0)):o={a:1,b:0,c:0,d:1,e:B,f:W};var G="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Ke(St,"webkitTransform",G),Ke(St,"mozTransform",G),Ke(St,"msTransform",G),Ke(St,"transform",G),Fb=B,Lb=W,gs=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!St){var e=this.options.fallbackOnBody?document.body:Mn,t=xn(He,!0,Ip,!0,e),i=this.options;if(Ip){for(Ii=e;"static"===Ke(Ii,"position")&&"none"===Ke(Ii,"transform")&&Ii!==document;)Ii=Ii.parentNode;Ii!==document.body&&Ii!==document.documentElement?(Ii===document&&(Ii=$s()),t.top+=Ii.scrollTop,t.left+=Ii.scrollLeft):Ii=$s(),Bb=TM(Ii)}Ln(St=He.cloneNode(!0),i.ghostClass,!1),Ln(St,i.fallbackClass,!0),Ln(St,i.dragClass,!0),Ke(St,"transition",""),Ke(St,"transform",""),Ke(St,"box-sizing","border-box"),Ke(St,"margin",0),Ke(St,"top",t.top),Ke(St,"left",t.left),Ke(St,"width",t.width),Ke(St,"height",t.height),Ke(St,"opacity","0.8"),Ke(St,"position",Ip?"absolute":"fixed"),Ke(St,"zIndex","100000"),Ke(St,"pointerEvents","none"),ct.ghost=St,e.appendChild(St),Ke(St,"transform-origin",kM/parseInt(St.style.width)*100+"% "+IM/parseInt(St.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,s=i.options;ir("dragStart",this,{evt:e}),ct.eventCanceled?this._onDrop():(ir("setupClone",this),ct.eventCanceled||((jn=Pb(He)).draggable=!1,jn.style["will-change"]="",this._hideClone(),Ln(jn,this.options.chosenClass,!1),ct.clone=jn),i.cloneId=Pp(function(){ir("clone",i),!ct.eventCanceled&&(i.options.removeCloneOnHide||Mn.insertBefore(jn,He),i._hideClone(),ji({sortable:i,name:"clone"}))}),!t&&Ln(He,s.dragClass,!0),t?(Sp=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Rt(document,"mouseup",i._onDrop),Rt(document,"touchend",i._onDrop),Rt(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(i,r,He)),Ht(document,"drop",i),Ke(He,"transform","translateZ(0)")),Fu=!0,i._dragStartId=Pp(i._dragStarted.bind(i,t,e)),Ht(document,"selectstart",i),Fh=!0,Ih&&Ke(document.body,"user-select","none"))},_onDragOver:function(e){var r,s,o,$,t=this.el,i=e.target,l=this.options,C=l.group,N=ct.active,B=Dp===C,W=l.sort,G=Ei||N,X=this,re=!1;if(!Vb){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=ps(i,l.draggable,t,!0),ae("dragOver"),ct.eventCanceled)return re;if(He.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||X._ignoreWhileAnimating===i)return fe(!1);if(Sp=!1,N&&!l.disabled&&(B?W||(o=Un!==Mn):Ei===this||(this.lastPutMode=Dp.checkPull(this,N,He,e))&&C.checkPut(this,N,He,e))){if($="vertical"===this._getDirection(e,i),r=xn(He),ae("dragOverValid"),ct.eventCanceled)return re;if(o)return Un=Mn,ye(),this._hideClone(),ae("revert"),ct.eventCanceled||(qa?Mn.insertBefore(He,qa):Mn.appendChild(He)),fe(!0);var Te=Ib(t,l.draggable);if(!Te||function(n,e,t){var i=xn(Ib(t.el,t.options.draggable));return e?n.clientX>i.right+10||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+10}(e,$,this)&&!Te.animated){if(Te===He)return fe(!1);if(Te&&t===e.target&&(i=Te),i&&(s=xn(i)),!1!==Ap(Mn,t,He,r,i,s,e,!!i))return ye(),t.appendChild(He),Un=t,ke(),fe(!0)}else if(Te&&function(n,e,t){var i=xn(Pu(t.el,0,t.options,!0));return e?n.clientX<i.left-10||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-10||n.clientY<i.bottom&&n.clientX<i.left}(e,$,this)){var Qe=Pu(t,0,l,!0);if(Qe===He)return fe(!1);if(s=xn(i=Qe),!1!==Ap(Mn,t,He,r,i,s,e,!1))return ye(),t.insertBefore(He,Qe),Un=t,ke(),fe(!0)}else if(i.parentNode===t){s=xn(i);var wt,Nt,On,Bn=He.parentNode!==t,zt=!function(e,t,i){var r=i?e.left:e.top,l=i?t.left:t.top;return r===l||(i?e.right:e.bottom)===(i?t.right:t.bottom)||r+(i?e.width:e.height)/2===l+(i?t.width:t.height)/2}(He.animated&&He.toRect||r,i.animated&&i.toRect||s,$),dn=$?"top":"left",Wn=SM(i,"top","top")||SM(He,"top","top"),hi=Wn?Wn.scrollTop:void 0;if(Lu!==i&&(Nt=s[dn],Bh=!1,xp=!zt&&l.invertSwap||Bn),0!==(wt=function(n,e,t,i,r,s,o,l){var C=i?n.clientY:n.clientX,N=i?t.height:t.width,B=i?t.top:t.left,W=i?t.bottom:t.right,G=!1;if(!o)if(l&&Mp<N*r){if(!Bh&&(1===Lh?C>B+N*s/2:C<W-N*s/2)&&(Bh=!0),Bh)G=!0;else if(1===Lh?C<B+Mp:C>W-Mp)return-Lh}else if(C>B+N*(1-r)/2&&C<W-N*(1-r)/2)return function(n){return zn(He)<zn(n)?1:-1}(e);return(G=G||o)&&(C<B+N*s/2||C>W-N*s/2)?C>B+N/2?1:-1:0}(e,i,s,$,zt?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,xp,Lu===i))){var or=zn(He);do{On=Un.children[or-=wt]}while(On&&("none"===Ke(On,"display")||On===St))}if(0===wt||On===i)return fe(!1);Lu=i,Lh=wt;var jr=i.nextElementSibling,Ue=!1,tt=Ap(Mn,t,He,r,i,s,e,Ue=1===wt);if(!1!==tt)return(1===tt||-1===tt)&&(Ue=1===tt),Vb=!0,setTimeout(ij,30),ye(),Ue&&!jr?t.appendChild(He):i.parentNode.insertBefore(He,Ue?jr:i),Wn&&MM(Wn,0,hi-Wn.scrollTop),Un=He.parentNode,void 0!==Nt&&!xp&&(Mp=Math.abs(Nt-xn(i)[dn])),ke(),fe(!0)}if(t.contains(He))return fe(!1)}return!1}function ae(ot,jt){ir(ot,X,Ws({evt:e,isOwner:B,axis:$?"vertical":"horizontal",revert:o,dragRect:r,targetRect:s,canSort:W,fromSortable:G,target:i,completed:fe,onMove:function(Dr,Wi){return Ap(Mn,t,He,r,Dr,xn(Dr),e,Wi)},changed:ke},jt))}function ye(){ae("dragOverAnimationCapture"),X.captureAnimationState(),X!==G&&G.captureAnimationState()}function fe(ot){return ae("dragOverCompleted",{insertion:ot}),ot&&(B?N._hideClone():N._showClone(X),X!==G&&(Ln(He,Ei?Ei.options.ghostClass:N.options.ghostClass,!1),Ln(He,l.ghostClass,!0)),Ei!==X&&X!==ct.active?Ei=X:X===ct.active&&Ei&&(Ei=null),G===X&&(X._ignoreWhileAnimating=i),X.animateAll(function(){ae("dragOverAnimationComplete"),X._ignoreWhileAnimating=null}),X!==G&&(G.animateAll(),G._ignoreWhileAnimating=null)),(i===He&&!He.animated||i===t&&!i.animated)&&(Lu=null),!l.dragoverBubble&&!e.rootEl&&i!==document&&(He.parentNode[ki]._isOutsideThisEl(e.target),!ot&&tl(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),re=!0}function ke(){Cr=zn(He),la=zn(He,l.draggable),ji({sortable:X,name:"change",toEl:t,newIndex:Cr,newDraggableIndex:la,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Rt(document,"mousemove",this._onTouchMove),Rt(document,"touchmove",this._onTouchMove),Rt(document,"pointermove",this._onTouchMove),Rt(document,"dragover",tl),Rt(document,"mousemove",tl),Rt(document,"touchmove",tl)},_offUpEvents:function(){var e=this.el.ownerDocument;Rt(e,"mouseup",this._onDrop),Rt(e,"touchend",this._onDrop),Rt(e,"pointerup",this._onDrop),Rt(e,"touchcancel",this._onDrop),Rt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;Cr=zn(He),la=zn(He,i.draggable),ir("drop",this,{evt:e}),Un=He&&He.parentNode,Cr=zn(He),la=zn(He,i.draggable),ct.eventCanceled||(Fu=!1,xp=!1,Bh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zb(this.cloneId),zb(this._dragStartId),this.nativeDraggable&&(Rt(document,"drop",this),Rt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ih&&Ke(document.body,"user-select",""),Ke(He,"transform",""),e&&(Fh&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),St&&St.parentNode&&St.parentNode.removeChild(St),(Mn===Un||Ei&&"clone"!==Ei.lastPutMode)&&jn&&jn.parentNode&&jn.parentNode.removeChild(jn),He&&(this.nativeDraggable&&Rt(He,"dragend",this),Hb(He),He.style["will-change"]="",Fh&&!Fu&&Ln(He,Ei?Ei.options.ghostClass:this.options.ghostClass,!1),Ln(He,this.options.chosenClass,!1),ji({sortable:this,name:"unchoose",toEl:Un,newIndex:null,newDraggableIndex:null,originalEvent:e}),Mn!==Un?(Cr>=0&&(ji({rootEl:Un,name:"add",toEl:Un,fromEl:Mn,originalEvent:e}),ji({sortable:this,name:"remove",toEl:Un,originalEvent:e}),ji({rootEl:Un,name:"sort",toEl:Un,fromEl:Mn,originalEvent:e}),ji({sortable:this,name:"sort",toEl:Un,originalEvent:e})),Ei&&Ei.save()):Cr!==Nu&&Cr>=0&&(ji({sortable:this,name:"update",toEl:Un,originalEvent:e}),ji({sortable:this,name:"sort",toEl:Un,originalEvent:e})),ct.active&&((null==Cr||-1===Cr)&&(Cr=Nu,la=Nh),ji({sortable:this,name:"end",toEl:Un,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ir("nulling",this),Mn=He=Un=St=qa=jn=_p=aa=el=gs=Fh=Cr=la=Nu=Nh=Lu=Lh=Ei=Dp=ct.dragged=ct.ghost=ct.clone=ct.active=null,Op.forEach(function(e){e.checked=!0}),Op.length=Fb=Lb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":He&&(this._onDragOver(e),function(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,r=0,s=i.length,o=this.options;r<s;r++)ps(t=i[r],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||lj(t));return e},sort:function(e,t){var i={},r=this.el;this.toArray().forEach(function(s,o){var l=r.children[o];ps(l,this.options.draggable,r,!1)&&(i[s]=l)},this),t&&this.captureAnimationState(),e.forEach(function(s){i[s]&&(r.removeChild(i[s]),r.appendChild(i[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ps(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var r=Ph.modifyOption(this,e,t);i[e]=void 0!==r?r:t,"group"===e&&NM(i)},destroy:function(){ir("destroy",this);var e=this.el;e[ki]=null,Rt(e,"mousedown",this._onTapStart),Rt(e,"touchstart",this._onTapStart),Rt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Rt(e,"dragover",this),Rt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Tp.splice(Tp.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!aa){if(ir("hideClone",this),ct.eventCanceled)return;Ke(jn,"display","none"),this.options.removeCloneOnHide&&jn.parentNode&&jn.parentNode.removeChild(jn),aa=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(aa){if(ir("showClone",this),ct.eventCanceled)return;He.parentNode!=Mn||this.options.group.revertClone?qa?Mn.insertBefore(jn,qa):Mn.appendChild(jn):Mn.insertBefore(jn,He),this.options.group.revertClone&&this.animate(He,jn),Ke(jn,"display",""),aa=!1}}else this._hideClone()}},kp&&Ht(document,"touchmove",function(n){(ct.active||Fu)&&n.cancelable&&n.preventDefault()}),ct.utils={on:Ht,off:Rt,css:Ke,find:DM,is:function(e,t){return!!ps(e,t,e,!1)},extend:function(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},throttle:xM,closest:ps,toggleClass:Ln,clone:Pb,index:zn,nextTick:Pp,cancelNextTick:zb,detectDirection:RM,getChild:Pu},ct.get=function(n){return n[ki]},ct.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(ct.utils=Ws(Ws({},ct.utils),i.utils)),Ph.mount(i)})},ct.create=function(n,e){return new ct(n,e)},ct.version="1.14.0";var Vh,Ub,Wb,$b,Rp,Hh,si=[],jb=!1;function Np(){si.forEach(function(n){clearInterval(n.pid)}),si=[]}function BM(){clearInterval(Hh)}var Gb=xM(function(n,e,t,i){if(e.scroll){var B,r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,l=e.scrollSpeed,C=$s(),N=!1;Ub!==t&&(Ub=t,Np(),B=e.scrollFn,!0===(Vh=e.scroll)&&(Vh=oa(t,!0)));var W=0,G=Vh;do{var $=G,X=xn($),re=X.top,ae=X.bottom,ye=X.left,fe=X.right,ke=X.width,Te=X.height,Qe=void 0,wt=void 0,Nt=$.scrollWidth,Bn=$.scrollHeight,zt=Ke($),dn=$.scrollLeft,Wn=$.scrollTop;$===C?(Qe=ke<Nt&&("auto"===zt.overflowX||"scroll"===zt.overflowX||"visible"===zt.overflowX),wt=Te<Bn&&("auto"===zt.overflowY||"scroll"===zt.overflowY||"visible"===zt.overflowY)):(Qe=ke<Nt&&("auto"===zt.overflowX||"scroll"===zt.overflowX),wt=Te<Bn&&("auto"===zt.overflowY||"scroll"===zt.overflowY));var hi=Qe&&(Math.abs(fe-r)<=o&&dn+ke<Nt)-(Math.abs(ye-r)<=o&&!!dn),On=wt&&(Math.abs(ae-s)<=o&&Wn+Te<Bn)-(Math.abs(re-s)<=o&&!!Wn);if(!si[W])for(var or=0;or<=W;or++)si[or]||(si[or]={});(si[W].vx!=hi||si[W].vy!=On||si[W].el!==$)&&(si[W].el=$,si[W].vx=hi,si[W].vy=On,clearInterval(si[W].pid),(0!=hi||0!=On)&&(N=!0,si[W].pid=setInterval(function(){i&&0===this.layer&&ct.active._onTouchMove(Rp);var jr=si[this.layer].vy?si[this.layer].vy*l:0,Ue=si[this.layer].vx?si[this.layer].vx*l:0;"function"==typeof B&&"continue"!==B.call(ct.dragged.parentNode[ki],Ue,jr,n,Rp,si[this.layer].el)||MM(si[this.layer].el,Ue,jr)}.bind({layer:W}),24))),W++}while(e.bubbleScroll&&G!==C&&(G=oa(G,!1)));jb=N}},30),VM=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,o=e.dispatchSortableEvent,C=e.unhideGhostForTarget;if(t){var N=i||e.activeSortable;(0,e.hideGhostForTarget)();var B=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,W=document.elementFromPoint(B.clientX,B.clientY);C(),N&&!N.el.contains(W)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Yb(){}function Kb(){}Yb.prototype={startIndex:null,dragStart:function(e){this.startIndex=e.oldDraggableIndex},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Pu(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:VM},Br(Yb,{pluginName:"revertOnSpill"}),Kb.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:VM},Br(Kb,{pluginName:"removeOnSpill"}),ct.mount(new function(){function n(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?Ht(document,"dragover",this._handleAutoScroll):Ht(document,this.options.supportPointer?"pointermove":i.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Rt(document,"dragover",this._handleAutoScroll):(Rt(document,"pointermove",this._handleFallbackAutoScroll),Rt(document,"touchmove",this._handleFallbackAutoScroll),Rt(document,"mousemove",this._handleFallbackAutoScroll)),BM(),Np(),clearTimeout(Ah),Ah=void 0},nulling:function(){Rp=Ub=Vh=jb=Hh=Wb=$b=null,si.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var r=this,s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(s,o);if(Rp=t,i||this.options.forceAutoScrollFallback||kh||Do||Ih){Gb(t,this.options,l,i);var C=oa(l,!0);jb&&(!Hh||s!==Wb||o!==$b)&&(Hh&&BM(),Hh=setInterval(function(){var N=oa(document.elementFromPoint(s,o),!0);N!==C&&(C=N,Np()),Gb(t,r.options,N,i)},10),Wb=s,$b=o)}else{if(!this.options.bubbleScroll||oa(l,!0)===$s())return void Np();Gb(t,this.options,oa(l,!1),!1)}}},Br(n,{pluginName:"scroll",initializeByDefault:!0})}),ct.mount(Kb,Yb);const Qb=ct,zM=new It("Global config for sortablejs");class fj{constructor(e){this.target=e}insert(e,t){this.isFormArray?this.target.insert(e,t):this.target.splice(e,0,t)}get(e){return this.isFormArray?this.target.at(e):this.target[e]}remove(e){let t;return this.isFormArray?(t=this.target.at(e),this.target.removeAt(e)):t=this.target.splice(e,1)[0],t}get isFormArray(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset}}class Xb{constructor(e){this.bindings=e.map(t=>new fj(t))}injectIntoEvery(e,t){this.bindings.forEach((i,r)=>i.insert(e,t[r]))}getFromEvery(e){return this.bindings.map(t=>t.get(e))}extractFromEvery(e){return this.bindings.map(t=>t.remove(e))}get provided(){return!!this.bindings.length}}let pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({factory:function(){return new n},token:n,providedIn:"root"}),n})(),mj=(()=>{class n{constructor(t,i,r,s,o){this.globalConfig=t,this.service=i,this.element=r,this.zone=s,this.renderer=o,this.sortablejsInit=new ni}ngOnInit(){Qb&&Qb.create&&this.create()}ngOnChanges(t){const i=t.sortablejsOptions;if(i&&!i.isFirstChange()){const r=i.previousValue,s=i.currentValue;Object.keys(s).forEach(o=>{s[o]!==r[o]&&this.sortableInstance.option(o,this.options[o])})}}ngOnDestroy(){this.sortableInstance&&this.sortableInstance.destroy()}create(){const t=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(()=>{this.sortableInstance=Qb.create(t,this.options),this.sortablejsInit.emit(this.sortableInstance)},0)}getBindings(){return this.sortablejs?this.sortablejs instanceof Xb?this.sortablejs:new Xb([this.sortablejs]):new Xb([])}get options(){return Object.assign(Object.assign({},this.optionsWithoutEvents),this.overridenOptions)}get optionsWithoutEvents(){return Object.assign(Object.assign({},this.globalConfig||{}),this.sortablejsOptions||{})}proxyEvent(t,...i){this.zone.run(()=>{this.optionsWithoutEvents&&this.optionsWithoutEvents[t]&&this.optionsWithoutEvents[t](...i)})}get isCloning(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)}clone(t){return(this.sortablejsCloneFunction||(i=>i))(t)}get overridenOptions(){return{onAdd:t=>{this.service.transfer=i=>{this.getBindings().injectIntoEvery(t.newIndex,i),this.proxyEvent("onAdd",t)},this.proxyEvent("onAddOriginal",t)},onRemove:t=>{const i=this.getBindings();i.provided&&(this.isCloning?(this.service.transfer(i.getFromEvery(t.oldIndex).map(r=>this.clone(r))),this.renderer.removeChild(t.item.parentNode,t.item),this.renderer.insertBefore(t.clone.parentNode,t.item,t.clone),this.renderer.removeChild(t.clone.parentNode,t.clone)):this.service.transfer(i.extractFromEvery(t.oldIndex)),this.service.transfer=null),this.proxyEvent("onRemove",t)},onUpdate:t=>{const i=this.getBindings(),r=(n=>n.hasOwnProperty("newDraggableIndex")&&n.hasOwnProperty("oldDraggableIndex")?{new:n.newDraggableIndex,old:n.oldDraggableIndex}:{new:n.newIndex,old:n.oldIndex})(t);i.injectIntoEvery(r.new,i.extractFromEvery(r.old)),this.proxyEvent("onUpdate",t)}}}}return n.\u0275fac=function(t){return new(t||n)(Se(zM,8),Se(pj),Se(ui),Se(En),Se(Ls))},n.\u0275dir=rt({type:n,selectors:[["","sortablejs",""]],inputs:{sortablejs:"sortablejs",sortablejsContainer:"sortablejsContainer",sortablejsOptions:"sortablejsOptions",sortablejsCloneFunction:"sortablejsCloneFunction"},outputs:{sortablejsInit:"sortablejsInit"},features:[Qn]}),n})(),vj=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:zM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({}),n})();class UM{}const So="*";function bj(n,e){return{type:7,name:n,definitions:e,options:{}}}function jM(n,e=null){return{type:4,styles:e,timings:n}}function WM(n,e=null){return{type:2,steps:n,options:e}}function Wh(n){return{type:6,styles:n,offset:null}}function Zb(n,e,t){return{type:0,name:n,styles:e,options:t}}function $M(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function GM(n){Promise.resolve(null).then(n)}class Vu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){GM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class YM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?GM(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function KM(){return"undefined"!=typeof window&&void 0!==window.document}function qb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ua(n){switch(n.length){case 0:return new Vu;case 1:return n[0];default:return new YM(n)}}function QM(n,e,t,i,r={},s={}){const o=[],l=[];let C=-1,N=null;if(i.forEach(B=>{const W=B.offset,G=W==C,$=G&&N||{};Object.keys(B).forEach(X=>{let re=X,ae=B[X];if("offset"!==X)switch(re=e.normalizePropertyName(re,o),ae){case"!":ae=r[X];break;case So:ae=s[X];break;default:ae=e.normalizeStyleValue(X,re,ae,o)}$[re]=ae}),G||l.push($),N=$,C=W}),o.length){const B="\n - ";throw new Error(`Unable to animate due to the following errors:${B}${o.join(B)}`)}return l}function e0(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&t0(t,"start",n)));break;case"done":n.onDone(()=>i(t&&t0(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&t0(t,"destroy",n)))}}function t0(n,e,t){const i=t.totalTime,s=n0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function n0(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Er(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function XM(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let r0=(n,e)=>!1,s0=(n,e)=>!1,ZM=(n,e,t)=>[];const JM=qb();(JM||"undefined"!=typeof Element)&&(r0=KM()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),s0=(()=>{if(JM||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):s0}})(),ZM=(n,e,t)=>{let i=[];if(t){const r=n.querySelectorAll(e);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(e);r&&i.push(r)}return i});let nl=null,qM=!1;function o0(n){nl||(nl=("undefined"!=typeof document?document.body:null)||{},qM=!!nl.style&&"WebkitAppearance"in nl.style);let e=!0;return nl.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in nl.style,!e&&qM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in nl.style)),e}const a0=s0,l0=r0,u0=ZM;function e1(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let t1=(()=>{class n{validateStyleProperty(t){return o0(t)}matchesElement(t,i){return a0(t,i)}containsElement(t,i){return l0(t,i)}query(t,i,r){return u0(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,l=[],C){return new Vu(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),d0=(()=>{class n{}return n.NOOP=new t1,n})();const h0="ng-enter",Bp="ng-leave",Vp="ng-trigger",Hp=".ng-trigger",i1="ng-animating",c0=".ng-animating";function il(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:f0(parseFloat(e[1]),e[2])}function f0(n,e){switch(e){case"s":return 1e3*n;default:return n}}function zp(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let r,s=0,o="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=f0(parseFloat(l[1]),l[2]);const C=l[3];null!=C&&(s=f0(parseFloat(C),l[4]));const N=l[5];N&&(o=N)}else r=n;if(!t){let l=!1,C=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(C,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:o}}(n,e,t)}function Hu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function da(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Hu(n,t);return t}function s1(n,e,t){return t?e+":"+t+";":""}function o1(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=s1(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=s1(0,xj(t),n.style[t]));n.setAttribute("style",e)}function Gs(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=g0(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),qb()&&o1(n))}function rl(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=g0(t);n.style[i]=""}),qb()&&o1(n))}function $h(n){return Array.isArray(n)?1==n.length?n[0]:WM(n):n}const p0=new RegExp("{{\\s*(.+?)\\s*}}","g");function a1(n){let e=[];if("string"==typeof n){let t;for(;t=p0.exec(n);)e.push(t[1]);p0.lastIndex=0}return e}function Up(n,e,t){const i=n.toString(),r=i.replace(p0,(s,o)=>{let l=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),l=""),l.toString()});return r==i?n:r}function jp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Tj=/-+([a-z0-9])/g;function g0(n){return n.replace(Tj,(...e)=>e[1].toUpperCase())}function xj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function l1(n,e){return 0===n||0===e}function u1(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(l=>{s.hasOwnProperty(l)||o.push(l),s[l]=t[l]}),o.length)for(var r=1;r<e.length;r++){let l=e[r];o.forEach(function(C){l[C]=m0(n,C)})}}return e}function _r(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function m0(n,e){return window.getComputedStyle(n)[e]}function Mj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const C=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof C)return void e.push(C);n=C}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(d1(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(d1(o,r))}(i,t,e)):t.push(n),t}const $p=new Set(["true","1"]),Gp=new Set(["false","0"]);function d1(n,e){const t=$p.has(n)||Gp.has(n),i=$p.has(e)||Gp.has(e);return(r,s)=>{let o="*"==n||n==r,l="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?$p.has(n):Gp.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?$p.has(e):Gp.has(e)),o&&l}}const Ij=new RegExp("s*:selfs*,?","g");function v0(n,e,t){return new Aj(n).build(e,t)}class Aj{constructor(e){this._driver=e}build(e,t){const i=new Nj(t);return this._resetContextStyleTimingState(i),_r(this,$h(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const C=l,N=C.name;N.toString().split(/\s*,\s*/).forEach(B=>{C.name=B,s.push(this.visitState(C,t))}),C.name=N}else if(1==l.type){const C=this.visitTransition(l,t);i+=C.queryCount,r+=C.depCount,o.push(C)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};if(i.styles.forEach(l=>{if(Yp(l)){const C=l;Object.keys(C).forEach(N=>{a1(C[N]).forEach(B=>{o.hasOwnProperty(B)||s.add(B)})})}}),s.size){const l=jp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${l.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=_r(this,$h(e.animation),t);return{type:1,matchers:Mj(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:sl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>_r(this,i,t)),options:sl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const l=_r(this,o,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:3,steps:s,options:sl(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return y0(zp(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=y0(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||zp(i,e),y0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Wh({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const N={};i.easing&&(N.easing=i.easing),o=Wh(N)}t.currentTime+=i.duration+i.delay;const C=this.visitStyle(o,t);C.isEmptyStep=l,r=C}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==So?i.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(Yp(o)){const l=o,C=l.easing;if(C&&(s=C,delete l.easing),!r)for(let N in l)if(l[N].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(l=>{if(!this._driver.validateStyleProperty(l))return void t.errors.push(`The provided animation property "${l}" is not a supported CSS property for animations`);const C=t.collectedStyles[t.currentQuerySelector],N=C[l];let B=!0;N&&(s!=r&&s>=N.startTime&&r<=N.endTime&&(t.errors.push(`The CSS property "${l}" that exists between the times of "${N.startTime}ms" and "${N.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),B=!1),s=N.startTime),B&&(C[l]={startTime:s,endTime:r}),t.options&&function(n,e,t){const i=e.params||{},r=a1(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[l],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const o=[];let l=!1,C=!1,N=0;const B=e.steps.map(ye=>{const fe=this._makeStyleAst(ye,t);let ke=null!=fe.offset?fe.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Yp(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Yp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(fe.styles),Te=0;return null!=ke&&(s++,Te=fe.offset=ke),C=C||Te<0||Te>1,l=l||Te<N,N=Te,o.push(Te),fe});C&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");const W=e.steps.length;let G=0;s>0&&s<W?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(G=1/(W-1));const $=W-1,X=t.currentTime,re=t.currentAnimateTimings,ae=re.duration;return B.forEach((ye,fe)=>{const ke=G>0?fe==$?1:G*fe:o[fe],Te=ke*ae;t.currentTime=X+re.delay+Te,re.duration=Te,this._validateStyleAst(ye,t),ye.offset=ke,i.styles.push(ye)}),i}visitReference(e,t){return{type:8,animation:_r(this,$h(e.animation),t),options:sl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ij,"")),[n=n.replace(/@\*/g,Hp).replace(/@\w+/g,t=>Hp+"-"+t.substr(1)).replace(/:animating/g,c0),e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Er(t.collectedStyles,t.currentQuerySelector,{});const l=_r(this,$h(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:sl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:zp(e.timings,t.errors,!0);return{type:12,animation:_r(this,$h(e.animation),t),timings:i,options:null}}}class Nj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Yp(n){return!Array.isArray(n)&&"object"==typeof n}function sl(n){return n?(n=Hu(n)).params&&(n.params=function(n){return n?Hu(n):null}(n.params)):n={},n}function y0(n,e,t){return{duration:n,delay:e,easing:t}}function b0(n,e,t,i,r,s,o=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class Kp{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hj=new RegExp(":enter","g"),Uj=new RegExp(":leave","g");function C0(n,e,t,i,r,s={},o={},l,C,N=[]){return(new jj).buildKeyframes(n,e,t,i,r,s,o,l,C,N)}class jj{buildKeyframes(e,t,i,r,s,o,l,C,N,B=[]){N=N||new Kp;const W=new w0(e,t,N,r,s,B,[]);W.options=C,W.currentTimeline.setStyles([o],null,W.errors,C),_r(this,i,W);const G=W.timelines.filter($=>$.containsAnimation());if(G.length&&Object.keys(l).length){const $=G[G.length-1];$.allowOnlyTimelineStyles()||$.setStyles([l],null,W.errors,C)}return G.length?G.map($=>$.buildKeyframes()):[b0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?il(i.duration):null,l=null!=i.delay?il(i.delay):null;return 0!==o&&e.forEach(C=>{const N=t.appendInstructionToTimeline(C,o,l);s=Math.max(s,N.duration+N.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),_r(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qp);const o=il(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>_r(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?il(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),_r(this,o,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return zp(t.params?Up(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,l=t.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(C=>{l.forwardTime((C.offset||0)*s),l.setStyles(C.styles,C.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?il(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qp);let o=i;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let C=null;l.forEach((N,B)=>{t.currentQueryIndex=B;const W=t.createSubContext(e.options,N);s&&W.delayNextStep(s),N===t.element&&(C=W.currentTimeline),_r(this,e.animation,W),W.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,W.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let C=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":C=l-C;break;case"full":C=i.currentStaggerTime}const B=t.currentTimeline;C&&B.delayNextStep(C);const W=B.currentTime;_r(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-W+(r.startTime-i.currentTimeline.startTime)}}const Qp={};class w0{constructor(e,t,i,r,s,o,l,C){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new Xp(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=il(i.duration)),null!=i.delay&&(r.delay=il(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=Up(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new w0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Qp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Wj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let l=[];if(r&&l.push(this.element),e.length>0){e=(e=e.replace(Hj,"."+this._enterClassName)).replace(Uj,"."+this._leaveClassName);let N=this._driver.query(this.element,e,1!=i);0!==i&&(N=i<0?N.slice(N.length+i,N.length):N.slice(0,i)),l.push(...N)}return!s&&0==l.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),l}}class Xp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Xp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||So,this._currentKeyframe[t]=So}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=So})):da(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(l=>{const C=Up(o[l],s,i);this._pendingStyles[l]=C,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:So),this._updateStyle(l,C)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,C)=>{const N=da(l,!0);Object.keys(N).forEach(B=>{const W=N[B];"!"==W?e.add(B):W==So&&t.add(B)}),i||(N.offset=C/this.duration),r.push(N)});const s=e.size?jp(e.values()):[],o=t.size?jp(t.values()):[];if(i){const l=r[0],C=Hu(l);l.offset=0,C.offset=1,r=[l,C]}return b0(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Wj extends Xp{constructor(e,t,i,r,s,o,l=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,l=t/o,C=da(e[0],!1);C.offset=0,s.push(C);const N=da(e[0],!1);N.offset=f1(l),s.push(N);const B=e.length-1;for(let W=1;W<=B;W++){let G=da(e[W],!1);G.offset=f1((t+G.offset*i)/o),s.push(G)}i=o,t=0,r="",e=s}return b0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function f1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class E0{}class Gj extends E0{normalizePropertyName(e,t){return g0(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Yj[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return o+s}}const Yj=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function p1(n,e,t,i,r,s,o,l,C,N,B,W,G){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:l,queriedElements:C,preStyleProps:N,postStyleProps:B,totalTime:W,errors:G}}const _0={};class g1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,l,C,N,B){const W=[],G=this.ast.options&&this.ast.options.params||_0,X=this.buildStyles(i,l&&l.params||_0,W),re=C&&C.params||_0,ae=this.buildStyles(r,re,W),ye=new Set,fe=new Map,ke=new Map,Te="void"===r,Qe={params:Object.assign(Object.assign({},G),re)},wt=B?[]:C0(e,t,this.ast.animation,s,o,X,ae,Qe,N,W);let Nt=0;if(wt.forEach(zt=>{Nt=Math.max(zt.duration+zt.delay,Nt)}),W.length)return p1(t,this._triggerName,i,r,Te,X,ae,[],[],fe,ke,Nt,W);wt.forEach(zt=>{const dn=zt.element,Wn=Er(fe,dn,{});zt.preStyleProps.forEach(On=>Wn[On]=!0);const hi=Er(ke,dn,{});zt.postStyleProps.forEach(On=>hi[On]=!0),dn!==t&&ye.add(dn)});const Bn=jp(ye.values());return p1(t,this._triggerName,i,r,Te,X,ae,wt,Bn,fe,ke,Nt)}}class Xj{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Hu(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(l=>{let C=o[l];C.length>1&&(C=Up(C,r,t));const N=this.normalizer.normalizePropertyName(l,t);C=this.normalizer.normalizeStyleValue(l,N,C,t),i[N]=C})}}),i}}class Jj{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new Xj(r.style,r.options&&r.options.params||{},i)}),m1(this.states,"true","1"),m1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new g1(e,r,this.states))}),this.fallbackTransition=function(n,e,t){return new g1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function m1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const eW=new Kp;class tW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=v0(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,s=QM(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const l=new Map;if(s?(o=C0(this._driver,t,s,h0,Bp,{},{},i,eW,r),o.forEach(B=>{const W=Er(l,B.element,{});B.postStyleProps.forEach(G=>W[G]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);l.forEach((B,W)=>{Object.keys(B).forEach(G=>{B[G]=this._driver.computeStyle(W,G,So)})});const N=ua(o.map(B=>{const W=l.get(B.element);return this._buildPlayer(B,{},W)}));return this._playersById[e]=N,N.onDestroy(()=>this.destroy(e)),this.players.push(N),N}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const s=n0(t,"","","");return e0(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const v1="ng-animate-queued",y1="ng-animate-disabled",b1=".ng-animate-disabled",sW=[],C1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hr="__ng_removed";class D0{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const s=Hu(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Gh="void",S0=new D0(Gh);class aW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,zr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const s=Er(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const l=Er(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(zr(e,Vp),zr(e,Vp+"-"+t),l[t]=S0),()=>{this._engine.afterFlush(()=>{const C=s.indexOf(o);C>=0&&s.splice(C,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new T0(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(zr(e,Vp),zr(e,Vp+"-"+t),this._engine.statesByElement.set(e,l={}));let C=l[t];const N=new D0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&C&&N.absorbOptions(C.options),l[t]=N,C||(C=S0),N.value!==Gh&&C.value===N.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(C.params,N.params)){const re=[],ae=s.matchStyles(C.value,C.params,re),ye=s.matchStyles(N.value,N.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{rl(e,ae),Gs(e,ye)})}return}const G=Er(this._engine.playersByElement,e,[]);G.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let $=s.matchTransition(C.value,N.value,e,N.params),X=!1;if(!$){if(!r)return;$=s.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:C,toState:N,player:o,isFallbackTransition:X}),X||(zr(e,v1),o.onStart(()=>{zu(e,v1)})),o.onDone(()=>{let re=this.players.indexOf(o);re>=0&&this.players.splice(re,1);const ae=this._engine.playersByElement.get(e);if(ae){let ye=ae.indexOf(o);ye>=0&&ae.splice(ye,1)}}),this.players.push(o),G.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Hp,!0);i.forEach(r=>{if(r[Hr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(l=>{if(this._triggers[l]){const C=this.trigger(e,l,Gh,r);C&&o.push(C)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&ua(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const C=this._triggers[o].fallbackTransition,N=i[o]||S0,B=new D0(Gh),W=new T0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:C,fromState:N,toState:B,player:W,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Hr];(!s||s===C1)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){zr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==i.triggerName){const C=n0(s,i.triggerName,i.fromState.value,i.toState.value);C._data=e,e0(i.player,l.phase,C,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class lW{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new aW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const l=this._fetchNamespace(o);l&&t.add(l)}}}return t}trigger(e,t,i,r){if(Zp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Zp(t))return;const s=t[Hr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),zr(e,y1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zu(e,y1))}removeNode(e,t,i,r){if(Zp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r){this.collectedLeaveElements.push(t),t[Hr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,r,s){return Zp(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Hp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,c0,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ua(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Hr];if(t&&t.setForRemoval){if(e[Hr]=C1,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,b1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,b1,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)zr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ua(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new Kp,r=[],s=new Map,o=[],l=new Map,C=new Map,N=new Map,B=new Set;this.disabledNodes.forEach(Ue=>{B.add(Ue);const tt=this.driver.query(Ue,".ng-animate-queued",!0);for(let ot=0;ot<tt.length;ot++)B.add(tt[ot])});const W=this.bodyNode,G=Array.from(this.statesByElement.keys()),$=_1(G,this.collectedEnterElements),X=new Map;let re=0;$.forEach((Ue,tt)=>{const ot=h0+re++;X.set(tt,ot),Ue.forEach(jt=>zr(jt,ot))});const ae=[],ye=new Set,fe=new Set;for(let Ue=0;Ue<this.collectedLeaveElements.length;Ue++){const tt=this.collectedLeaveElements[Ue],ot=tt[Hr];ot&&ot.setForRemoval&&(ae.push(tt),ye.add(tt),ot.hasAnimation?this.driver.query(tt,".ng-star-inserted",!0).forEach(jt=>ye.add(jt)):fe.add(tt))}const ke=new Map,Te=_1(G,Array.from(ye));Te.forEach((Ue,tt)=>{const ot=Bp+re++;ke.set(tt,ot),Ue.forEach(jt=>zr(jt,ot))}),e.push(()=>{$.forEach((Ue,tt)=>{const ot=X.get(tt);Ue.forEach(jt=>zu(jt,ot))}),Te.forEach((Ue,tt)=>{const ot=ke.get(tt);Ue.forEach(jt=>zu(jt,ot))}),ae.forEach(Ue=>{this.processLeaveNode(Ue)})});const Qe=[],wt=[];for(let Ue=this._namespaceList.length-1;Ue>=0;Ue--)this._namespaceList[Ue].drainQueuedTransitions(t).forEach(ot=>{const jt=ot.player,ci=ot.element;if(Qe.push(jt),this.collectedEnterElements.length){const Ks=ci[Hr];if(Ks&&Ks.setForMove)return void jt.destroy()}const Dr=!W||!this.driver.containsElement(W,ci),Wi=ke.get(ci),ha=X.get(ci),$n=this._buildInstruction(ot,i,ha,Wi,Dr);if($n.errors&&$n.errors.length)wt.push($n);else{if(Dr)return jt.onStart(()=>rl(ci,$n.fromStyles)),jt.onDestroy(()=>Gs(ci,$n.toStyles)),void r.push(jt);if(ot.isFallbackTransition)return jt.onStart(()=>rl(ci,$n.fromStyles)),jt.onDestroy(()=>Gs(ci,$n.toStyles)),void r.push(jt);$n.timelines.forEach(Ks=>Ks.stretchStartingKeyframe=!0),i.append(ci,$n.timelines),o.push({instruction:$n,player:jt,element:ci}),$n.queriedElements.forEach(Ks=>Er(l,Ks,[]).push(jt)),$n.preStyleProps.forEach((Ks,Yh)=>{const sg=Object.keys(Ks);if(sg.length){let ol=C.get(Yh);ol||C.set(Yh,ol=new Set),sg.forEach(I0=>ol.add(I0))}}),$n.postStyleProps.forEach((Ks,Yh)=>{const sg=Object.keys(Ks);let ol=N.get(Yh);ol||N.set(Yh,ol=new Set),sg.forEach(I0=>ol.add(I0))})}});if(wt.length){const Ue=[];wt.forEach(tt=>{Ue.push(`@${tt.triggerName} has failed due to:\n`),tt.errors.forEach(ot=>Ue.push(`- ${ot}\n`))}),Qe.forEach(tt=>tt.destroy()),this.reportError(Ue)}const Nt=new Map,Bn=new Map;o.forEach(Ue=>{const tt=Ue.element;i.has(tt)&&(Bn.set(tt,tt),this._beforeAnimationBuild(Ue.player.namespaceId,Ue.instruction,Nt))}),r.forEach(Ue=>{const tt=Ue.element;this._getPreviousPlayers(tt,!1,Ue.namespaceId,Ue.triggerName,null).forEach(jt=>{Er(Nt,tt,[]).push(jt),jt.destroy()})});const zt=ae.filter(Ue=>S1(Ue,C,N)),dn=new Map;E1(dn,this.driver,fe,N,So).forEach(Ue=>{S1(Ue,C,N)&&zt.push(Ue)});const hi=new Map;$.forEach((Ue,tt)=>{E1(hi,this.driver,new Set(Ue),C,"!")}),zt.forEach(Ue=>{const tt=dn.get(Ue),ot=hi.get(Ue);dn.set(Ue,Object.assign(Object.assign({},tt),ot))});const On=[],or=[],jr={};o.forEach(Ue=>{const{element:tt,player:ot,instruction:jt}=Ue;if(i.has(tt)){if(B.has(tt))return ot.onDestroy(()=>Gs(tt,jt.toStyles)),ot.disabled=!0,ot.overrideTotalTime(jt.totalTime),void r.push(ot);let ci=jr;if(Bn.size>1){let Wi=tt;const ha=[];for(;Wi=Wi.parentNode;){const $n=Bn.get(Wi);if($n){ci=$n;break}ha.push(Wi)}ha.forEach($n=>Bn.set($n,ci))}const Dr=this._buildAnimation(ot.namespaceId,jt,Nt,s,hi,dn);if(ot.setRealPlayer(Dr),ci===jr)On.push(ot);else{const Wi=this.playersByElement.get(ci);Wi&&Wi.length&&(ot.parentPlayer=ua(Wi)),r.push(ot)}}else rl(tt,jt.fromStyles),ot.onDestroy(()=>Gs(tt,jt.toStyles)),or.push(ot),B.has(tt)&&r.push(ot)}),or.forEach(Ue=>{const tt=s.get(Ue.element);if(tt&&tt.length){const ot=ua(tt);Ue.setRealPlayer(ot)}}),r.forEach(Ue=>{Ue.parentPlayer?Ue.syncPlayerEvents(Ue.parentPlayer):Ue.destroy()});for(let Ue=0;Ue<ae.length;Ue++){const tt=ae[Ue],ot=tt[Hr];if(zu(tt,Bp),ot&&ot.hasAnimation)continue;let jt=[];if(l.size){let Dr=l.get(tt);Dr&&Dr.length&&jt.push(...Dr);let Wi=this.driver.query(tt,c0,!0);for(let ha=0;ha<Wi.length;ha++){let $n=l.get(Wi[ha]);$n&&$n.length&&jt.push(...$n)}}const ci=jt.filter(Dr=>!Dr.destroyed);ci.length?cW(this,tt,ci):this.processLeaveNode(tt)}return ae.length=0,On.forEach(Ue=>{this.players.push(Ue),Ue.onDone(()=>{Ue.destroy();const tt=this.players.indexOf(Ue);this.players.splice(tt,1)}),Ue.play()}),On}elementContainsData(e,t){let i=!1;const r=t[Hr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const C=!s||s==Gh;l.forEach(N=>{N.queued||!C&&N.triggerName!=r||o.push(N)})}}return(i||r)&&(o=o.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const N=C.element,B=N!==s,W=Er(i,N,[]);this._getPreviousPlayers(N,B,o,l,t.toState).forEach($=>{const X=$.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),$.destroy(),W.push($)})}rl(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const l=t.triggerName,C=t.element,N=[],B=new Set,W=new Set,G=t.timelines.map(X=>{const re=X.element;B.add(re);const ae=re[Hr];if(ae&&ae.removedBeforeQueried)return new Vu(X.duration,X.delay);const ye=re!==C,fe=function(n){const e=[];return D1(n,e),e}((i.get(re)||sW).map(Nt=>Nt.getRealPlayer())).filter(Nt=>!!Nt.element&&Nt.element===re),ke=s.get(re),Te=o.get(re),Qe=QM(0,this._normalizer,0,X.keyframes,ke,Te),wt=this._buildPlayer(X,Qe,fe);if(X.subTimeline&&r&&W.add(re),ye){const Nt=new T0(e,l,re);Nt.setRealPlayer(wt),N.push(Nt)}return wt});N.forEach(X=>{Er(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,X.element,X))}),B.forEach(X=>zr(X,i1));const $=ua(G);return $.onDestroy(()=>{B.forEach(X=>zu(X,i1)),Gs(C,t.toStyles)}),W.forEach(X=>{Er(r,X,[]).push($)}),$}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Vu(e.duration,e.delay)}}class T0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Vu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>e0(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Zp(n){return n&&1===n.nodeType}function w1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function E1(n,e,t,i,r){const s=[];t.forEach(C=>s.push(w1(C)));const o=[];i.forEach((C,N)=>{const B={};C.forEach(W=>{const G=B[W]=e.computeStyle(N,W,r);(!G||0==G.length)&&(N[Hr]=oW,o.push(N))}),n.set(N,B)});let l=0;return t.forEach(C=>w1(C,s[l++])),o}function _1(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(l){if(!l)return 1;let C=s.get(l);if(C)return C;const N=l.parentNode;return C=t.has(N)?N:r.has(N)?1:o(N),s.set(l,C),C}return e.forEach(l=>{const C=o(l);1!==C&&t.get(C).push(l)}),t}const Jp="$$classes";function zr(n,e){if(n.classList)n.classList.add(e);else{let t=n[Jp];t||(t=n[Jp]={}),t[e]=!0}}function zu(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Jp];t&&delete t[e]}}function cW(n,e,t){ua(t).onDone(()=>n.processLeaveNode(e))}function D1(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof YM?D1(i.players,e):e.push(i)}}function S1(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class qp{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new lW(e,t,i),this._timelineEngine=new tW(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let l=this._triggerCache[o];if(!l){const C=[],N=v0(this._driver,s,C);if(C.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);l=function(n,e,t){return new Jj(n,e,t)}(r,N,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,r,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=XM(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,l]=XM(i);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function T1(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=x0(e[0]),e.length>1&&(i=x0(e[e.length-1]))):e&&(t=x0(e)),t||i?new gW(n,t,i):null}let gW=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Gs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gs(this._element,this._initialStyles),this._endStyles&&(Gs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),Gs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function x0(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];mW(r)&&(e=e||{},e[r]=n[r])}return e}function mW(n){return"display"===n||"position"===n}const x1="animation",M1="animationend";class bW{constructor(e,t,i,r,s,o,l){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(n,e){const t=O0(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),eg(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),I1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){O1(this._element,this._name,"paused")}resume(){O1(this._element,this._name,"running")}setPosition(e){const t=k1(this._element,this._name);this._position=e*this._duration,eg(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),I1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=O0(n,"").split(","),r=M0(i,e);r>=0&&(i.splice(r,1),eg(n,"",i.join(",")))}(this._element,this._name))}}function O1(n,e,t){eg(n,"PlayState",t,k1(n,e))}function k1(n,e){const t=O0(n,"");return t.indexOf(",")>0?M0(t.split(","),e):M0([t],e)}function M0(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function I1(n,e,t){t?n.removeEventListener(M1,e):n.addEventListener(M1,e)}function eg(n,e,t,i){const r=x1+e;if(null!=i){const s=n.style[r];if(s.length){const o=s.split(",");o[i]=t,t=o.join(",")}}n.style[r]=t}function O0(n,e){return n.style[x1+e]||""}class A1{constructor(e,t,i,r,s,o,l,C){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=l,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new bW(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:m0(this.element,i))})}this.currentSnapshot=e}}class SW extends Vu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=e1(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class R1{constructor(){this._count=0}validateStyleProperty(e){return o0(e)}matchesElement(e,t){return a0(e,t)}containsElement(e,t){return l0(e,t)}query(e,t,i){return u0(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(l=>e1(l));let r=`@keyframes ${t} {\n`,s="";i.forEach(l=>{s=" ";const C=parseFloat(l.offset);r+=`${s}${100*C}% {\n`,s+=" ",Object.keys(l).forEach(N=>{const B=l[N];switch(N){case"offset":return;case"easing":return void(B&&(r+=`${s}animation-timing-function: ${B};\n`));default:return void(r+=`${s}${N}: ${B};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,i,r,s,o=[],l){const C=o.filter(ae=>ae instanceof A1),N={};l1(i,r)&&C.forEach(ae=>{let ye=ae.currentSnapshot;Object.keys(ye).forEach(fe=>N[fe]=ye[fe])});const B=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(t=u1(e,t,N));if(0==i)return new SW(e,B);const W="gen_css_kf_"+this._count++,G=this.buildKeyframeElement(e,W,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(G);const X=T1(e,t),re=new A1(e,t,W,i,r,s,B,X);return re.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(G)),re}}class F1{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:m0(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class kW{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(L1().toString()),this._cssKeyframesDriver=new R1}validateStyleProperty(e){return o0(e)}matchesElement(e,t){return a0(e,t)}containsElement(e,t){return l0(e,t)}query(e,t,i){return u0(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,s,o=[],l){if(!l&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,s,o);const B={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(B.easing=s);const W={},G=o.filter(X=>X instanceof F1);l1(i,r)&&G.forEach(X=>{let re=X.currentSnapshot;Object.keys(re).forEach(ae=>W[ae]=re[ae])});const $=T1(e,t=u1(e,t=t.map(X=>da(X,!1)),W));return new F1(e,t,B,$)}}function L1(){return KM()&&Element.prototype.animate||{}}let AW=(()=>{class n extends UM{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:ee.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?WM(t):t;return B1(this._renderer,null,i,"register",[r]),new PW(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Le(Va),Le(Jn))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();class PW extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RW(this._id,e,t||{},this._renderer)}}class RW{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return B1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function B1(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const V1="@.disabled";let NW=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let B=this._rendererCache.get(s);return B||(B=new H1("",s,this.engine),this._rendererCache.set(s,B)),B}const o=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const C=B=>{Array.isArray(B)?B.forEach(C):this.engine.registerTrigger(o,l,t,B.name,B)};return i.data.animation.forEach(C),new FW(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Le(Va),Le(qp),Le(En))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();class H1{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==V1?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class FW extends H1{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==V1?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(e,t,i)}}let VW=(()=>{class n extends qp{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn),Le(d0),Le(E0))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const z1=new It("AnimationModuleType"),U1=[{provide:UM,useClass:AW},{provide:E0,useFactory:function(){return new Gj}},{provide:qp,useClass:VW},{provide:Va,useFactory:function(n,e,t){return new NW(n,e,t)},deps:[Wf,qp,En]}],j1=[{provide:d0,useFactory:function(){return"function"==typeof L1()?new kW:new R1}},{provide:z1,useValue:"BrowserAnimations"},...U1],W1=[{provide:d0,useClass:t1},{provide:z1,useValue:"NoopAnimations"},...U1];let jW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?W1:j1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({providers:j1,imports:[Ny]}),n})();const $1=["toast-component",""];function WW(n,e){if(1&n){const t=po();Z(0,"button",5),At("click",function(){return Fi(t),et().remove()}),Z(1,"span",6),ne(2,"\xd7"),J(),J()}}function $W(n,e){if(1&n&&(Ad(0),ne(1),Pd()),2&n){const t=et(2);we(1),Sn("[",t.duplicatesCount+1,"]")}}function GW(n,e){if(1&n&&(Z(0,"div"),ne(1),qe(2,$W,2,1,"ng-container",4),J()),2&n){const t=et();go(t.options.titleClass),er("aria-label",t.title),we(1),Sn(" ",t.title," "),we(1),Ne("ngIf",t.duplicatesCount)}}function YW(n,e){if(1&n&&ce(0,"div",7),2&n){const t=et();go(t.options.messageClass),Ne("innerHTML",t.message,om)}}function KW(n,e){if(1&n&&(Z(0,"div",8),ne(1),J()),2&n){const t=et();go(t.options.messageClass),er("aria-label",t.message),we(1),Sn(" ",t.message," ")}}function QW(n,e){if(1&n&&(Z(0,"div"),ce(1,"div",9),J()),2&n){const t=et();we(1),uu("width",t.width+"%")}}function XW(n,e){if(1&n){const t=po();Z(0,"button",5),At("click",function(){return Fi(t),et().remove()}),Z(1,"span",6),ne(2,"\xd7"),J(),J()}}function ZW(n,e){if(1&n&&(Ad(0),ne(1),Pd()),2&n){const t=et(2);we(1),Sn("[",t.duplicatesCount+1,"]")}}function JW(n,e){if(1&n&&(Z(0,"div"),ne(1),qe(2,ZW,2,1,"ng-container",4),J()),2&n){const t=et();go(t.options.titleClass),er("aria-label",t.title),we(1),Sn(" ",t.title," "),we(1),Ne("ngIf",t.duplicatesCount)}}function qW(n,e){if(1&n&&ce(0,"div",7),2&n){const t=et();go(t.options.messageClass),Ne("innerHTML",t.message,om)}}function e$(n,e){if(1&n&&(Z(0,"div",8),ne(1),J()),2&n){const t=et();go(t.options.messageClass),er("aria-label",t.message),we(1),Sn(" ",t.message," ")}}function t$(n,e){if(1&n&&(Z(0,"div"),ce(1,"div",9),J()),2&n){const t=et();we(1),uu("width",t.width+"%")}}class n${constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ng{constructor(e,t,i,r,s,o){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this._onTap=new z,this._onAction=new z,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const G1={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Y1=new It("ToastConfig");class r${constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new z,this._activate=new z,this._manualClose=new z,this._resetTimeout=new z,this._countDuplicate=new z}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class s${constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===ng?this._toastPackage:this._parentInjector.get(e,t,i)}}class o$ extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class a${constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let l$=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u$=(()=>{class n{constructor(t,i,r,s){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=s,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new o$(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new a$(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(Le(l$),Le(Yo),Le(Xo),Le(Jn))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ig=(()=>{class n{constructor(t,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Wr(Wr({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Wr(Wr({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const l of this.toasts){const C=o&&l.title===t;if((!o||C)&&l.message===i)return l.toastRef.onDuplicate(r,s),l}return null}applyConfig(t={}){return Wr(Wr({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=i;let l=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(l=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let N=i;i&&s.enableHtml&&(N=this.sanitizer.sanitize(un.HTML,i));const B=new r$(C),W=new ng(this.index,s,N,r,t,B),G=new s$(W,this._injector),$=new n$(s.toastComponent,G),X=C.attach($,this.toastrConfig.newestOnTop);B.componentInstance=X.instance;const re={toastId:this.index,title:r||"",message:i||"",toastRef:B,onShown:B.afterActivate(),onHidden:B.afterClosed(),onTap:W.onTap(),onAction:W.onAction(),portal:X};return l||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{re.toastRef.activate()})),this.toasts.push(re),re}}return n.\u0275fac=function(t){return new(t||n)(Le(Y1),Le(u$),Le(Jt),Le($f),Le(En))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d$=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Uu(Wr({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Uu(Wr({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Uu(Wr({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(Se(ig),Se(ng),Se(En))},n.\u0275cmp=nn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&At("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(ov("@flyInOut",i.state),go(i.toastClasses),uu("display",i.displayStyle))},attrs:$1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,i){1&t&&(qe(0,WW,3,0,"button",0),qe(1,GW,3,5,"div",1),qe(2,YW,1,3,"div",2),qe(3,KW,2,4,"div",3),qe(4,QW,2,2,"div",4)),2&t&&(Ne("ngIf",i.options.closeButton),we(1),Ne("ngIf",i.title),we(1),Ne("ngIf",i.message&&i.options.enableHtml),we(1),Ne("ngIf",i.message&&!i.options.enableHtml),we(1),Ne("ngIf",i.options.progressBar))},directives:[Hs],encapsulation:2,data:{animation:[bj("flyInOut",[Zb("inactive",Wh({opacity:0})),Zb("active",Wh({opacity:1})),Zb("removed",Wh({opacity:0})),$M("inactive => active",jM("{{ easeTime }}ms {{ easing }}")),$M("active => removed",jM("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const h$=Uu(Wr({},G1),{toastComponent:d$});let c$=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Y1,useValue:{default:h$,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n}),n.\u0275inj=fn({imports:[[tT]]}),n})(),f$=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(Se(ig),Se(ng),Se(Xo))},n.\u0275cmp=nn({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,i){1&t&&At("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(go(i.toastClasses),uu("display",i.displayStyle))},attrs:$1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,i){1&t&&(qe(0,XW,3,0,"button",0),qe(1,JW,3,5,"div",1),qe(2,qW,1,3,"div",2),qe(3,e$,2,4,"div",3),qe(4,t$,2,2,"div",4)),2&t&&(Ne("ngIf",i.options.closeButton),we(1),Ne("ngIf",i.title),we(1),Ne("ngIf",i.message&&i.options.enableHtml),we(1),Ne("ngIf",i.message&&!i.options.enableHtml),we(1),Ne("ngIf",i.options.progressBar))},directives:[Hs],encapsulation:2}),n})();Uu(Wr({},G1),{toastComponent:f$});let Ys=(()=>{class n{constructor(t){this.candidates=["A","B","C","D"],this.rankings=[["A","B","C","D"],["B","A","C","D"],["A","B","C","D"],["D","B","C","A"],["A","B","C","D"]],this.changesMade=new z,this.toastr=t}getCandidates(){return this.candidates}pushCandidate(t){this.candidates.push(t)}addCandidateToAllRankings(t){this.rankings.forEach(i=>i.push(t)),this.changesMade.next()}deleteCandidate(t){let i=this.candidates[t];this.candidates.splice(t,1),this.rankings.forEach(r=>r.splice(r.indexOf(i),1)),this.changesMade.next()}getCandidate(t){return this.candidates[t]}isValidCandidate(t,i=!1){return""===t?(i&&this.displayToast("Name of candidate cannot be blank.","Blank Name"),!1):this.candidates.includes(t)?(i&&this.displayToast("Cannot add candidate as it already exists","Already Exists"),!1):!t.includes(",")||(i&&this.displayToast("Cannot add candidate with comma in name","Includes Comma"),!1)}updateCandidateName(t,i){let r=this.candidates[t];this.rankings.forEach(s=>s[s.indexOf(r)]=i),this.candidates[t]=i,this.changesMade.next()}getRankings(){return this.rankings}pushRanking(t){this.rankings.push(t),console.log(this.rankings),this.changesMade.next()}editRanking(t,i){this.rankings[t]=i,this.changesMade.next()}deleteRanking(t){this.rankings.splice(t,1),this.changesMade.next()}getRanking(t){return this.rankings[t]}isValidRanking(t,i=!1){const r=this.sortStringArray(this.candidates.slice()),s=this.sortStringArray(t.slice());let o=this.arrayEquals(r,s);return!o&&i&&this.displayToast("The ranking was invalid so could not be added ","Invalid Ranking"),o}validRankingSet(t){if(t.length<1)return!1;let i=this.sortStringArray(t[0]);for(let r of t)if(!this.arrayEquals(this.sortStringArray(r),i))return!1;return!0}constructFile(){let t=[];this.rankings.forEach(r=>t.push(this.convertToString(r)));let i=t.join("\n");return new Blob([i],{type:".txt"})}constructRankings(t){this.candidates=this.sortStringArray(t[0]),this.rankings=this.deepCopy(t),this.changesMade.next()}sortStringArray(t){return t.slice().sort((i,r)=>i>r?1:i<r?-1:0)}arrayEquals(t,i){return t.length===i.length&&t.every((r,s)=>r===i[s])}deepCopy(t){return JSON.parse(JSON.stringify(t))}suffixIncluded(t){let i=t%10,r=t%100;return 1==i&&11!=r?t+"st":2==i&&12!=r?t+"nd":3==i&&13!=r?t+"rd":t+"th"}convertToArray(t){let i=t.split(",");return i=i.map(r=>r.trim()),i}convertToString(t){return t.join(", ")}getPermutations(t){let i=[],r=[];return function s(o){var l,C;for(l=0;l<o.length;l++)C=o.splice(l,1)[0],r.push(C),0==o.length&&i.push(r.slice()),s(o),o.splice(l,0,C),r.pop();return i}(t),i}shuffle(t){let r,i=t.length;for(;0!=i;)r=Math.floor(Math.random()*i),i--,[t[i],t[r]]=[t[r],t[i]];return t}printSummaryOfTimes(t,i,r=""){let s=t.reduce((W,G)=>W+G)/t.length,o=Math.min.apply(Math,t),l=Math.max.apply(Math,t),C=Math.round(s*10**i)/10**i,N=Math.round(o*10**i)/10**i,B=Math.round(l*10**i)/10**i;console.log(`Time taken ${r} - Average: ${C}ms, Min: ${N}ms, Max: ${B}ms`)}getRankingFromIP(t,i){let r=new Array(i.length).fill(0);for(let o of Object.keys(t))if("x"===o[0]){let l=o.slice(1).split("_");r[+l[0]]+=1}let s=i.slice();return s=s.sort((o,l)=>r[i.indexOf(l)]-r[i.indexOf(o)]),s}printBFmismatch(t,i,r,s,o,l){console.log(`MISMATCH found between IP and BF results for ${t}`),console.log("Rankings:"),console.log(i),console.log("IPScore: "),console.log(r),console.log("IPResult"),console.log(s),console.log("BFScore: "),console.log(o),console.log("BFResult"),console.log(l)}isDangerous(t){let r={popular:{candidates:6,rankings:10},kemeny:{candidates:6,rankings:10}}[t];return!!r&&(this.candidates.length>r.candidates||this.rankings.length>r.rankings)}displayToast(t,i){this.toastr.error(t,i)}}return n.\u0275fac=function(t){return new(t||n)(Le(ig))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p$=function(n,e,t){return{"bg-light":n,"bg-red":e,"bg-green":t}},g$=["*"];let sr=(()=>{class n{constructor(){this.heading="",this.bg="bg-light"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-tile"]],inputs:{heading:"heading",bg:"bg"},ngContentSelectors:g$,decls:4,vars:6,consts:[[1,"tile",3,"ngClass"]],template:function(t,i){1&t&&(Yc(),Z(0,"div",0),Z(1,"h2"),ne(2),J(),Kc(3),J()),2&t&&(Ne("ngClass",wD(2,p$,"bg-light"===i.bg,"bg-red"===i.bg,"bg-green"===i.bg)),we(2),Zn(i.heading))},directives:[Vf],styles:[".tile[_ngcontent-%COMP%]{margin:30px 10px;box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;border-radius:3px;padding:20px;font-size:large}.bg-red[_ngcontent-%COMP%]{background-color:#ed7b7b}.bg-green[_ngcontent-%COMP%]{background-color:#7bed9a}"]}),n})();function m$(n,e){if(1&n){const t=po();Z(0,"button",8),At("click",function(){Fi(t);const r=et();return r.constructRankings(r.rankingsFromFile)}),ne(1,"Use rankings from file"),J()}}function v$(n,e){if(1&n){const t=po();Z(0,"div",11),Z(1,"div"),ne(2,"Number of candidates"),J(),Z(3,"input",35),At("ngModelChange",function(r){return Fi(t),et().numRandomCandidates=r}),J(),J()}if(2&n){const t=et();we(3),Ne("ngModel",t.numRandomCandidates)}}function y$(n,e){if(1&n){const t=po();Z(0,"div",1),Z(1,"div",36),Z(2,"input",37),At("ngModelChange",function(r){const o=Fi(t).index;return et().candidateStrings[o]=r})("blur",function(){const s=Fi(t).index;return et().checkEditedCandidate(s)}),J(),J(),Z(3,"div",38),Z(4,"button",39),At("click",function(){const s=Fi(t).index;return et().removeCandidate(s)}),J(),J(),J()}if(2&n){const t=e.index,i=et();we(2),Ne("ngModel",i.candidateStrings[t])}}function b$(n,e){if(1&n){const t=po();Z(0,"div",40),Z(1,"div",26),Z(2,"label",27),ne(3),J(),J(),Z(4,"div",28),Z(5,"input",41),At("ngModelChange",function(r){const o=Fi(t).index;return et().rankingStrings[o]=r})("blur",function(){const s=Fi(t).index;return et().checkEditedRanking(s)}),J(),J(),Z(6,"div",26),Z(7,"button",39),At("click",function(){const s=Fi(t).index;return et().removeRanking(s)}),J(),J(),J()}if(2&n){const t=e.index,i=et();we(3),Zn(t+1),we(2),Ne("ngModel",i.rankingStrings[t])}}function C$(n,e){if(1&n){const t=po();Ad(0),Z(1,"button",42),At("click",function(){const s=Fi(t).$implicit;return et().quickAdd(s)}),ne(2),J(),Pd()}if(2&n){const t=e.$implicit;we(2),Zn(t)}}let w$=(()=>{class n{constructor(t,i){this.newCandidate="",this.newRanking="",this.candidateStrings=[],this.rankingStrings=[],this.candidates=[],this.rankings=[],this.fileToUpload=null,this.validFile=!1,this.rankingsFromFile=[],this.numRandomVoters=10,this.numRandomCandidates=5,this.generateCandidates=!1,this.svc=t,this.toastr=i}ngOnInit(){this.candidates=this.svc.getCandidates(),this.rankings=this.svc.getRankings(),this.svc.changesMade.subscribe(()=>{this.candidates=this.svc.getCandidates(),this.rankings=this.svc.getRankings()}),this.candidateStrings=this.candidates.slice(),this.rankings.forEach(t=>this.rankingStrings.push(this.svc.convertToString(t)))}trackByIndex(t,i){return t}addRanking(){let t=this.svc.convertToArray(this.newRanking);console.log(t),this.svc.isValidRanking(t,!0)&&this.addValidRanking(t)}addValidRanking(t){console.log("new ranking"),console.log(t),this.svc.pushRanking(t),this.rankingStrings.push(this.svc.convertToString(t)),this.newRanking="",setTimeout(this.scrollToBottom,100)}checkEditedRanking(t){let i=this.svc.convertToArray(this.rankingStrings[t]);this.svc.isValidRanking(i)&&this.svc.editRanking(t,i),this.rankingStrings[t]=this.svc.convertToString(this.rankings[t])}removeRanking(t){this.svc.deleteRanking(t),this.rankingStrings.splice(t,1)}addCandidate(){this.svc.isValidCandidate(this.newCandidate,!0)&&(this.svc.pushCandidate(this.newCandidate),this.candidateStrings.push(this.newCandidate),this.svc.addCandidateToAllRankings(this.newCandidate),this.newCandidate="",this.updateRankingStrings())}checkEditedCandidate(t){let i=this.candidateStrings[t];this.svc.isValidCandidate(i)&&this.svc.updateCandidateName(t,i),this.candidateStrings[t]=this.candidates[t],this.updateRankingStrings()}updateRankingStrings(){this.rankingStrings=[],this.rankings.forEach(t=>this.rankingStrings.push(this.svc.convertToString(t)))}removeCandidate(t){this.svc.deleteCandidate(t),this.candidateStrings.splice(t,1),this.updateRankingStrings()}quickAdd(t){let i=this.newRanking.trim();""===i||","===i.substr(i.length-1)?this.newRanking+=t:this.newRanking+=", "+t}addRandomRanking(){let t=this.candidates.slice(),i=this.svc.shuffle(t);this.addValidRanking(i)}handleFileInput(){this.validFile=!1;let t=document.getElementById("formFile").files;if(null===t||(this.fileToUpload=t[0],void 0===this.fileToUpload||"txt"!==this.getFileType(this.fileToUpload.name)))return;let i=new FileReader;i.onload=()=>{this.rankingsFromFile=[];let r=i.result;"string"==typeof r&&this.processFile(r)},i.readAsText(this.fileToUpload)}processFile(t){let r=t.split("\n").map(s=>this.svc.convertToArray(s));this.svc.validRankingSet(r)?(this.validFile=!0,this.rankingsFromFile=r):this.svc.displayToast("The file uploaded was invalid or incorrectly formatted.","Invalid File")}downloadRankings(){let t=this.svc.constructFile(),i=document.createElement("a"),r=URL.createObjectURL(t);i.href=r,i.download="voters-rankings",document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)},0)}constructRankings(t){this.svc.constructRankings(t),this.candidateStrings=this.candidates.slice(),this.updateRankingStrings()}scrollToBottom(){var t=document.getElementById("inputScroll");t&&(t.scrollTop=t.scrollHeight)}generateRandom(){let i=[],r=[];if(this.generateCandidates){if(this.numRandomCandidates>676||this.numRandomCandidates<1)return;for(let s=0;s<this.numRandomCandidates;s++){let o=s%26,l=(s-o)/26-1,C=String.fromCharCode(65+o),N=-1==l?"":String.fromCharCode(65+l);i.push(N+C)}}else i=this.candidates.slice();for(let s=0;s<this.numRandomVoters;s++){let o=this.svc.shuffle(i.slice());r.push(o)}this.constructRankings(r)}getFileType(t){return t.split(".").pop()}displayToast(){this.toastr.success("message","title")}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys),Se(ig))},n.\u0275cmp=nn({type:n,selectors:[["app-add-rankings"]],decls:57,vars:12,consts:[[1,"container","add-rankings-container"],[1,"row"],[1,"col-3"],["heading","Import/Export"],["for","formFile",1,"form-label"],["type","file","id","formFile","accept",".txt",1,"form-control","file-input",3,"change"],["class","btn btn-secondary apply-file-btn",3,"click",4,"ngIf"],[1,"form-label"],[1,"btn","btn-secondary","apply-file-btn",3,"click"],["href","assets/images/topological-example.png","download",""],["heading","Randomise"],[1,"d-flex","randomise-row"],["placeholder","i.e. 15",1,"random-input","ms-auto",3,"ngModel","ngModelChange"],["type","checkbox",1,"form-check-input","random-checkbox",3,"ngModel","ngModelChange"],["class","d-flex randomise-row",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["heading","Candidates"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-9"],["placeholder","Enter candidate",1,"new-candidate-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-secondary","new-candidate-btn",3,"click"],["heading","Voters Rankings"],[1,"flex-column","rankings-section"],["id","inputScroll",1,"input-scroll","mb-auto","p-2"],["class","ranking-input-list row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ranking-input-list","p-2"],[1,"col-1"],[1,"ranking-input-label"],[1,"col-10"],["placeholder","Enter ranking",1,"new-ranking-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-secondary","new-ranking-btn",3,"click"],[1,"horizontal"],[4,"ngFor","ngForOf"],[1,"col-2"],[1,"btn","btn-secondary","new-random-btn",3,"click"],["placeholder","i.e. 4",1,"random-input","ms-auto",3,"ngModel","ngModelChange"],[1,"col-8"],["placeholder","Enter candidate",1,"candidate-input",3,"ngModel","ngModelChange","blur"],[1,"col-4"],["type","button","aria-label","Close",1,"btn-close","remove-ranking-btn",3,"click"],[1,"ranking-input-list","row"],["placeholder","Enter ranking",1,"ranking-input",3,"ngModel","ngModelChange","blur"],[1,"btn","btn-secondary","quick-add-btn",3,"click"]],template:function(t,i){1&t&&(Z(0,"div",0),Z(1,"div",1),Z(2,"div",2),Z(3,"app-tile",3),Z(4,"label",4),ne(5,"Import rankings from file"),J(),Z(6,"input",5),At("change",function(){return i.handleFileInput()}),J(),qe(7,m$,2,0,"button",6),ce(8,"hr"),Z(9,"label",7),ne(10,"Export rankings to file"),J(),Z(11,"button",8),At("click",function(){return i.downloadRankings()}),ne(12,"Download"),J(),ce(13,"a",9),J(),Z(14,"app-tile",10),Z(15,"div",11),Z(16,"div"),ne(17,"Number of voters"),J(),Z(18,"input",12),At("ngModelChange",function(s){return i.numRandomVoters=s}),J(),J(),Z(19,"div",11),Z(20,"div"),ne(21,"Generate new candidates"),J(),Z(22,"input",13),At("ngModelChange",function(s){return i.generateCandidates=s}),J(),J(),qe(23,v$,4,1,"div",14),Z(24,"button",15),At("click",function(){return i.generateRandom()}),ne(25,"Generate random voters"),J(),J(),Z(26,"app-tile",16),qe(27,y$,5,1,"div",17),Z(28,"div",1),Z(29,"div",18),Z(30,"input",19),At("ngModelChange",function(s){return i.newCandidate=s})("keyup.enter",function(){return i.addCandidate()}),J(),J(),Z(31,"div",2),Z(32,"button",20),At("click",function(){return i.addCandidate()}),ne(33,"ADD"),J(),J(),J(),J(),J(),Z(34,"div",18),Z(35,"app-tile",21),Z(36,"div",22),Z(37,"div",23),qe(38,b$,8,2,"div",24),J(),Z(39,"div",25),Z(40,"div",1),Z(41,"div",26),Z(42,"label",27),ne(43),J(),J(),Z(44,"div",28),Z(45,"input",29),At("ngModelChange",function(s){return i.newRanking=s})("keyup.enter",function(){return i.addRanking()}),J(),J(),Z(46,"div",26),Z(47,"button",30),At("click",function(){return i.addRanking()}),ne(48,"ADD"),J(),J(),J(),Z(49,"div",1),ce(50,"div",26),Z(51,"div",18),Z(52,"div",31),qe(53,C$,3,1,"ng-container",32),J(),J(),Z(54,"div",33),Z(55,"button",34),At("click",function(){return i.addRandomRanking()}),ne(56,"ADD random"),J(),J(),J(),J(),J(),J(),J(),J(),J()),2&t&&(we(7),Ne("ngIf",i.validFile),we(11),Ne("ngModel",i.numRandomVoters),we(4),Ne("ngModel",i.generateCandidates),we(1),Ne("ngIf",i.generateCandidates),we(4),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),we(3),Ne("ngModel",i.newCandidate),we(8),Ne("ngForOf",i.rankings)("ngForTrackBy",i.trackByIndex),we(5),Zn(i.rankings.length+1),we(2),Ne("ngModel",i.newRanking),we(8),Ne("ngForOf",i.candidates))},directives:[sr,Hs,Du,Kf,vh,Ly,Co],styles:[".add-rankings-container[_ngcontent-%COMP%]{padding:0}.rankings-upload-file[_ngcontent-%COMP%]{padding:10px}.candidate-input[_ngcontent-%COMP%]{padding:10px;border:none;font-size:20px;width:100%;background-color:#f8f9fa}.ranking-input[_ngcontent-%COMP%]{padding:10px;border:none;font-size:20px;width:100%;background-color:#e7e7e7}.ranking-input[_ngcontent-%COMP%]:focus, .candidate-input[_ngcontent-%COMP%]:focus{background-color:#fff}.new-ranking-input[_ngcontent-%COMP%], .new-candidate-input[_ngcontent-%COMP%]{padding:10px;font-size:20px;width:100%}.new-ranking-btn[_ngcontent-%COMP%], .new-candidate-btn[_ngcontent-%COMP%]{padding:8px;margin:5px}.new-random-btn[_ngcontent-%COMP%]{float:right;padding:8px;margin:5px}.apply-file-btn[_ngcontent-%COMP%]{padding:5px}.file-input[_ngcontent-%COMP%]{margin-bottom:5px}.remove-ranking-btn[_ngcontent-%COMP%]{margin:10px}.ranking-input-label[_ngcontent-%COMP%]{padding:10px;font-size:20px}.ranking-input-list[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:3px 10px;margin:4px;border-radius:6px}.edit-candidates[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:30px;border-radius:6px}.quick-add-btn[_ngcontent-%COMP%]{padding:0 10px;margin:15px 10px 5px}.input-scroll[_ngcontent-%COMP%]{overflow:auto;height:55vh}.rankings-section[_ngcontent-%COMP%]{height:70vh}.random-input[_ngcontent-%COMP%]{width:60px}.random-checkbox[_ngcontent-%COMP%]{margin-left:10px;margin-top:7px}.randomise-row[_ngcontent-%COMP%]{height:30px;line-height:30px;margin:2px}"]}),n})(),E$=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.svc=t}ngOnInit(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.svc.changesMade.subscribe(()=>{this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates()})}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-ranking-offcanvas"]],decls:11,vars:2,consts:[[1,"offcanvas-button"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasRight","aria-controls","offcanvasRight",1,"btn","btn-primary"],["tabindex","-1","id","offcanvasRight","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body"]],template:function(t,i){1&t&&(Z(0,"div",0),Z(1,"button",1),Z(2,"h5"),ne(3,"Edit Rankings"),J(),J(),Z(4,"div"),ne(5),J(),J(),Z(6,"div",2),Z(7,"div",3),ce(8,"button",4),J(),Z(9,"div",5),ce(10,"app-add-rankings"),J(),J()),2&t&&(we(5),Fd("",i.candidates.length," candidates, ",i.rankings.length," rankings"))},directives:[w$],styles:[""]}),n})();function _$(n,e){1&n&&ce(0,"i",13)}const D$=function(n){return{warn:n}};function S$(n,e){if(1&n&&(Z(0,"li"),Z(1,"a",11),ne(2),qe(3,_$,1,0,"i",12),J(),J()),2&n){const t=e.$implicit,i=et();we(1),au("routerLink","/",t[1],""),Ne("ngClass",bD(4,D$,i.svc.isDangerous(t[1]))),we(1),Sn(" ",t[0]," "),we(1),Ne("ngIf",i.svc.isDangerous(t[1]))}}let T$=(()=>{class n{constructor(t){this.algLinks=[["Kendall Distance","kendall"],["Borda Count","borda"],["Instant Runoff","instant-runoff"],["Topological Ordering","topological"],["Plurality (First Past The Post)","plurality"],["Kemeny Consensus","kemeny"],["Popular Ranking","popular"]],this.criteriaLinks=[["Condorcet","condorcet"]],this.svc=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-sidebar"]],decls:18,vars:1,consts:[[1,"flex-shrink-0","p-3",2,"width","300px"],["routerLinkActive","active","routerLink","/",1,"d-flex","align-items-center","pb-3","mb-3","link-dark","text-decoration-none","border-bottom"],[1,"fs-5","fw-semibold"],[1,"list-unstyled","ps-0"],[1,"mb-1"],[1,"p-2"],["routerLinkActive","active","routerLink","/how-to-use",1,"btn","btn-sidebar","align-items-center","rounded","collapsed"],["data-bs-toggle","collapse","data-bs-target","#algs-collapse","aria-expanded","true",1,"btn","btn-toggle","align-items-center","rounded","collapsed"],["id","algs-collapse",1,"collapse","show"],[1,"btn-toggle-nav","list-unstyled","fw-normal","pb-1","small"],[4,"ngFor","ngForOf"],["routerLinkActive","active",1,"link-dark","rounded",3,"routerLink","ngClass"],["class","bi bi-exclamation-circle-fill warn icon",4,"ngIf"],[1,"bi","bi-exclamation-circle-fill","warn","icon"]],template:function(t,i){1&t&&(Z(0,"div",0),Z(1,"a",1),Z(2,"span",2),ne(3,"Voting"),J(),J(),Z(4,"ul",3),Z(5,"li",4),Z(6,"div",5),ce(7,"app-ranking-offcanvas"),J(),J(),ce(8,"hr"),Z(9,"li",4),Z(10,"button",6),ne(11," How To Use "),J(),J(),Z(12,"li",4),Z(13,"button",7),ne(14," Algorithms "),J(),Z(15,"div",8),Z(16,"ul",9),qe(17,S$,4,6,"li",10),J(),J(),J(),J(),J()),2&t&&(we(17),Ne("ngForOf",i.algLinks))},directives:[Oh,Tb,E$,Cp,Co,Vf,Hs],styles:[".b-example-divider[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;pointer-events:none;fill:currentColor}.dropdown-toggle[_ngcontent-%COMP%]{outline:0}.nav-flush[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:0}.btn-toggle[_ngcontent-%COMP%], .btn-sidebar[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .5rem;font-weight:600;color:#000000a6;background-color:transparent;border:0}.btn-toggle[_ngcontent-%COMP%]:hover, .btn-toggle[_ngcontent-%COMP%]:focus, .btn-sidebar[_ngcontent-%COMP%]:hover, .btn-sidebar[_ngcontent-%COMP%]:focus{color:#000000d9;background-color:#d2f4ea}.btn-toggle[_ngcontent-%COMP%]:before{width:1.25em;line-height:0;content:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='rgba%280,0,0,.5%29' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 14l6-6-6-6'/%3e%3c/svg%3e\");transition:transform .35s ease;transform-origin:.5em 50%}.btn-toggle[aria-expanded=true][_ngcontent-%COMP%]{color:#000000d9}.btn-toggle[aria-expanded=true][_ngcontent-%COMP%]:before{transform:rotate(90deg)}.btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;padding:.1875rem .5rem;margin-top:.125rem;margin-left:1.25rem;text-decoration:none}.btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:#d2f4ea}.scrollarea[_ngcontent-%COMP%]{overflow-y:auto}.fw-semibold[_ngcontent-%COMP%]{font-weight:600}.lh-tight[_ngcontent-%COMP%]{line-height:1.25}.warn[_ngcontent-%COMP%]{color:red}.icon[_ngcontent-%COMP%]{margin-left:4px}"]}),n})(),x$=(()=>{class n{constructor(){this.title="voting"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"bg-light"],[1,"container",2,"overflow-y","auto"],[1,"row"],[1,"col-sm-12"]],template:function(t,i){1&t&&(Z(0,"main"),ce(1,"app-sidebar",0),Z(2,"div",1),ce(3,"br"),Z(4,"div",2),Z(5,"div",3),ce(6,"router-outlet"),J(),J(),J(),J())},directives:[T$,xb],styles:["main[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;height:100vh;height:-webkit-fill-available;max-height:100vh;overflow-x:auto;overflow-y:hidden}"]}),n})();const M$=function(){return{exact:!0}},O$=["*"];let Ur=(()=>{class n{constructor(){this.title="",this.link="",this.showRun=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-alg"]],inputs:{title:"title",link:"link"},ngContentSelectors:O$,decls:12,vars:5,consts:[[1,"d-flex"],[1,"me-auto","p-2"],[1,"display-3"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(t,i){1&t&&(Yc(),Z(0,"div",0),Z(1,"div",1),Z(2,"h1",2),ne(3),J(),J(),J(),Z(4,"ul",3),Z(5,"li",4),Z(6,"a",5),ne(7,"Run Algorithm"),J(),J(),Z(8,"li",4),Z(9,"a",6),ne(10,"Learn"),J(),J(),J(),Kc(11)),2&t&&(we(3),Zn(i.title),we(3),au("routerLink","/",i.link,""),Ne("routerLinkActiveOptions",function(n,e,t){const i=Ci()+n,r=Me();return r[i]===vt?Rs(r,i,t?e.call(t):e()):function(n,e){return n[e]}(r,i)}(4,M$)),we(3),au("routerLink","/",i.link,"/learn"))},directives:[Oh,Tb],styles:[""]}),n})();function k$(n,e){if(1&n&&(Z(0,"th",7),ne(1),J()),2&n){const t=e.index,i=et();we(1),Sn(" ",i.svc.suffixIncluded(t+1)," choice")}}function I$(n,e){if(1&n&&(Z(0,"td"),ne(1),J()),2&n){const t=e.index,i=et().$implicit,r=et();we(1),Fd(" ",r.bordaCount[i][t]," (",r.getPoints(i,t)," points) ")}}function A$(n,e){if(1&n&&(Z(0,"tr"),Z(1,"th",8),ne(2),J(),qe(3,I$,2,2,"td",4),Z(4,"th"),ne(5),J(),J()),2&n){const t=e.$implicit,i=et();we(2),Zn(t),we(1),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),we(2),Zn(i.getTotal(t))}}function P$(n,e){if(1&n&&(Z(0,"div"),ne(1),J()),2&n){const t=et().index,i=et();we(1),Sn(" ",i.svc.suffixIncluded(t+1)," ")}}function R$(n,e){1&n&&ne(0," = ")}function N$(n,e){if(1&n&&(Z(0,"tr"),Z(1,"th",8),qe(2,P$,2,1,"div",9),qe(3,R$,1,0,"ng-template",null,10,eh),J(),Z(5,"td"),ne(6),J(),Z(7,"th"),ne(8),J(),J()),2&n){const t=e.$implicit,i=e.index,r=Id(4),s=et();we(2),Ne("ngIf",s.isUniqueRank(i))("ngIfElse",r),we(4),Zn(t[0]),we(2),Zn(t[1])}}let F$=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.bordaCount={},this.bordaTotals=[],this.svc=t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.borda()}trackByIndex(t,i){return t}borda(){this.resetBordaArray();for(let t of this.rankings)for(let i=0;i<t.length;i++)this.bordaCount[t[i]][i]+=1;this.setTotals()}getPoints(t,i){return this.bordaCount[t][i]*(this.candidates.length-1-i)}getTotal(t){let i=0;for(let r=0;r<this.candidates.length;r++)i+=this.getPoints(t,r);return i}setTotals(){this.bordaTotals=[];for(let t of this.candidates)this.bordaTotals.push([t,this.getTotal(t)]);this.bordaTotals.sort((t,i)=>i[1]-t[1]),console.log(this.bordaTotals)}resetBordaArray(){this.bordaCount={};for(let t of this.candidates){let i=[];for(let r in this.candidates)i.push(0);this.bordaCount[t]=i}}isUniqueRank(t){return 0==t||this.bordaTotals[t-1][1]!==this.bordaTotals[t][1]}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-borda"]],decls:24,vars:6,consts:[["title","Borda Count","link","borda"],["heading","Points"],[1,"table","table-striped"],["scope","col",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],["heading","Results"],[1,"col-3"],["scope","col"],["scope","row"],[4,"ngIf","ngIfElse"],["showEqual",""]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),Z(2,"table",2),Z(3,"thead"),Z(4,"tr"),ce(5,"th"),qe(6,k$,2,1,"th",3),Z(7,"th"),ne(8,"Total"),J(),J(),J(),Z(9,"tbody"),qe(10,A$,6,4,"tr",4),J(),J(),J(),Z(11,"app-tile",5),Z(12,"div",6),Z(13,"table",2),Z(14,"thead"),Z(15,"tr"),Z(16,"th",7),ne(17,"Rank"),J(),Z(18,"th",7),ne(19,"Candidate"),J(),Z(20,"th",7),ne(21,"Points"),J(),J(),J(),Z(22,"tbody"),qe(23,N$,9,4,"tr",4),J(),J(),J(),J(),J()),2&t&&(we(6),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),we(4),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),we(13),Ne("ngForOf",i.bordaTotals)("ngForTrackBy",i.trackByIndex))},directives:[Ur,sr,Co,Hs],styles:[""]}),n})();function L$(n,e){if(1&n&&(Z(0,"div",12),ne(1),J()),2&n){const t=e.$implicit;we(1),Zn(t)}}function B$(n,e){if(1&n&&(Z(0,"div",12),ne(1),J()),2&n){const t=e.$implicit;we(1),Zn(t)}}function V$(n,e){if(1&n){const t=po();Z(0,"div"),ne(1),Z(2,"button",13),At("click",function(){const s=Fi(t).$implicit;return et().removeCandidate(s)}),ne(3,"Remove"),J(),J()}if(2&n){const t=e.$implicit;we(1),Sn(" ",t," ")}}let H$=(()=>{class n{constructor(){this.ranking1=["Candidate A","Candidate B","Candidate C","Candidate D","Candidate E"],this.ranking2=["Candidate C","Candidate E","Candidate A","Candidate D","Candidate B"],this.newCandidate=""}ngOnInit(){}kendall(t,i){length=t.length;let r,s,l,C,o=0;for(r=0;r<length;r++)for(s=r+1;s<length;s++){let N=t[r],B=t[s];l=t.indexOf(N)<t.indexOf(B)&&i.indexOf(N)>i.indexOf(B),C=t.indexOf(N)>t.indexOf(B)&&i.indexOf(N)<i.indexOf(B),(l||C)&&o++}return o}addCandidate(){""!=this.newCandidate&&-1==this.ranking1.indexOf(this.newCandidate)&&(this.ranking1.push(this.newCandidate),this.ranking2.push(this.newCandidate),this.newCandidate="")}removeCandidate(t){let i=this.ranking1.indexOf(t);-1!==i&&this.ranking1.splice(i,1),i=this.ranking2.indexOf(t),-1!==i&&this.ranking2.splice(i,1)}getSortedCandidates(){return this.ranking1.slice().sort((t,i)=>t>i?1:t<i?-1:0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-kendall"]],decls:30,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-m-6","ranking-area"],[1,"row","justify-content-center"],[1,"list-group","col-xs-6",3,"sortablejs"],["class","kendall-option btn btn-light",4,"ngFor","ngForOf"],["type","button","data-toggle","collapse","data-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-primary"],["id","collapseExample",1,"collapse"],[1,"card","card-body"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"click"],[1,"kendall-option","btn","btn-light"],[1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(Z(0,"h2"),ne(1,"Kendall Distance"),J(),Z(2,"div",0),Z(3,"div",1),Z(4,"div",2),Z(5,"div",1),ne(6," Ranking 1 "),J(),Z(7,"div",3),Z(8,"div",4),qe(9,L$,2,1,"div",5),J(),J(),J(),Z(10,"div",2),Z(11,"div",1),ne(12," Ranking 2 "),J(),Z(13,"div",3),Z(14,"div",4),qe(15,B$,2,1,"div",5),J(),J(),J(),J(),Z(16,"div",1),ne(17),J(),ce(18,"br"),Z(19,"div",1),Z(20,"p"),Z(21,"button",6),ne(22," Edit Candidates "),J(),J(),Z(23,"div",7),Z(24,"div",8),qe(25,V$,4,1,"div",9),Z(26,"div"),Z(27,"input",10),At("ngModelChange",function(s){return i.newCandidate=s})("keyup.enter",function(){return i.addCandidate()}),J(),Z(28,"button",11),At("click",function(){return i.addCandidate()}),ne(29,"Add"),J(),J(),J(),J(),J(),J()),2&t&&(we(8),Ne("sortablejs",i.ranking1),we(1),Ne("ngForOf",i.ranking1),we(5),Ne("sortablejs",i.ranking2),we(1),Ne("ngForOf",i.ranking2),we(2),Sn(" Kendall distance: ",i.kendall(i.ranking1,i.ranking2)," "),we(8),Ne("ngForOf",i.getSortedCandidates()),we(2),Ne("ngModel",i.newCandidate))},directives:[mj,Co,Du,Kf,vh],styles:[".kendall-option[_ngcontent-%COMP%]{cursor:pointer;padding:0 10px}.ranking-area[_ngcontent-%COMP%]{padding:30px}"]}),n})();var k0=L(21);let To=(()=>{class n{constructor(){this.rankingString=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-ranking"]],inputs:{rankingString:"rankingString"},decls:2,vars:1,consts:[[1,"ranking"]],template:function(t,i){1&t&&(Z(0,"div",0),ne(1),J()),2&t&&(we(1),Sn(" ",i.rankingString,"\n"))},styles:[".ranking[_ngcontent-%COMP%]{font-size:large;font-weight:bold;background-color:#e7e7e7;padding:2px 5px;border-radius:5px;width:max-content;display:inline-block;margin:1px}"]}),n})();const z$=["majority"];function U$(n,e){if(1&n&&(Z(0,"div"),Z(1,"b"),ne(2),J(),J()),2&n){const t=e.$implicit;we(2),Zn(t)}}function j$(n,e){1&n&&ne(0," There is a cycle in the majority graph, therefore no Topological Ordering exists. ")}function W$(n,e){if(1&n&&(Z(0,"div",9),ne(1," The unique topological ordering is "),ce(2,"app-ranking",10),J()),2&n){const t=et();we(2),Ne("rankingString",t.resultText)}}function $$(n,e){if(1&n&&(ne(0," A topological ordering is "),ce(1,"app-ranking",10),ne(2)),2&n){const t=et();we(1),Ne("rankingString",t.resultText),we(1),Sn(" There are ",t.results.length," possible topological orderings. ")}}let G$=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.results=[],this.resultText="",this.numResults=0,this.legend=["Scroll to zoom","Drag to move canvas","Drag to move nodes"],this.majorityGraphOptions={layout:{improvedLayout:!0,hierarchical:{enabled:!1,nodeSpacing:300}},edges:{arrows:{to:!0},smooth:{enabled:!0,type:"continuous",roundness:0}},interaction:{hover:!0,dragView:!0,zoomView:!0},manipulation:{enabled:!1},physics:!1},this.svc=t}ngOnInit(){}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.results=this.topological(),this.numResults=this.results.length,this.results.length>0&&(this.resultText=this.svc.convertToString(this.results[0]))}ngAfterViewInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}topological(){let t=this.constructMajority(),i=[],r=[],s=[];for(let o=0;o<this.candidates.length;o++){let l=new Set,C=new Set;s.push({incoming:l,outgoing:C})}for(let o of t){let l=o[0],C=o[1];s[l].outgoing.add(C),s[C].incoming.add(l)}for(let o=0;o<this.candidates.length;o++)0==s[o].incoming.size&&r.push(o);if(r.length>0){let o=[];return s.forEach(C=>o.push({incoming:new Set(C.incoming),outgoing:new Set(C.outgoing)})),this.recursiveTopological(i.slice(),r.slice(),o).map(C=>C.map(N=>this.candidates[N]))}return[]}recursiveTopological(t,i,r){let s=[];for(let o=0;o<i.length;o++){let l=i.slice(),C=l.splice(o,1)[0],N=t.slice();N.push(C);let B=[];r.forEach(W=>B.push({incoming:new Set(W.incoming),outgoing:new Set(W.outgoing)}));for(let W of B[C].outgoing)B[W].incoming.delete(C),0==B[W].incoming.size&&l.push(W);if(!(l.length>0))return N.length<B.length?[]:[N];{let W=this.recursiveTopological(N,l,B);if(0==W.length)return[];s=s.concat(W)}}return s}constructMajority(){let t,i=0;const r=this.candidates.length;let s=[],o=[];for(let C=0;C<r;C++)o.push(new Array(r).fill(0));for(let C of this.rankings){let N=C.map(B=>this.candidates.indexOf(B));s.push(N)}for(let C of s)for(t=0;t<r;t++)for(i=t+1;i<r;i++)o[C[t]][C[i]]++;let l=[];for(t=0;t<r;t++)for(i=t+1;i<r;i++){let C=o[t][i]-o[i][t];C>0?l.push([t,i]):C<0&&l.push([i,t])}return this.constructMajorityGraph(l),l}constructMajorityGraph(t){let i=this.candidates.map(s=>({id:this.candidates.indexOf(s),label:s}));this.nodes=new k0.DataSet(i);let r=t.map(s=>({from:s[0],to:s[1]}));this.edges=new k0.DataSet(r),this.drawGraph(this.nodes,this.edges)}drawGraph(t,i){this.networkInstance=new k0.Network(this.el.nativeElement,{nodes:t,edges:i},this.majorityGraphOptions),this.networkInstance.on("click",this.onClickCanvas)}onClickCanvas(t){t.nodes.length<=0||(console.log(t.nodes[0]),console.log(t.edges))}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-topological"]],viewQuery:function(t,i){if(1&t&&function(n,e,t){const i=Ft();i.firstCreatePass&&(ID(i,new xD(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),kD(i,Me(),e)}(z$,5),2&t){let r;hf(r=cf())&&(i.el=r.first)}},decls:11,vars:4,consts:[["title","Topological Ordering","link","topological"],["heading","Majority Graph"],[1,"graph-canvas"],[1,"majority-graph"],["majority",""],[1,"legend"],[4,"ngFor","ngForOf"],["heading","Results"],[3,"ngIf"],[1,"results-text"],[3,"rankingString"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),Z(2,"div",2),ce(3,"div",3,4),Z(5,"div",5),qe(6,U$,3,1,"div",6),J(),J(),J(),Z(7,"app-tile",7),qe(8,j$,1,0,"ng-template",8),qe(9,W$,3,1,"ng-template",8),qe(10,$$,3,2,"ng-template",8),J(),J()),2&t&&(we(6),Ne("ngForOf",i.legend),we(2),Ne("ngIf",0==i.numResults),we(1),Ne("ngIf",1==i.numResults),we(1),Ne("ngIf",i.numResults>1))},directives:[Ur,sr,Co,Hs,To],styles:[".majority-graph[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:5px;position:absolute;background-color:#fff;box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f}.graph-canvas[_ngcontent-%COMP%]{height:400px;width:100%;position:relative}.legend[_ngcontent-%COMP%]{z-index:1;position:absolute;top:0;right:0;padding:10px;text-align:end}"]}),n})();function Y$(n,e){if(1&n&&(Z(0,"div"),ne(1),J()),2&n){const t=et().index,i=et();we(1),Sn(" ",i.svc.suffixIncluded(t+1)," ")}}function K$(n,e){1&n&&ne(0," = ")}function Q$(n,e){if(1&n&&(Z(0,"tr"),Z(1,"th",6),qe(2,Y$,2,1,"div",7),qe(3,K$,1,0,"ng-template",null,8,eh),J(),Z(5,"td"),ne(6),J(),Z(7,"th"),ne(8),J(),Z(9,"th"),ne(10),J(),J()),2&n){const t=e.$implicit,i=e.index,r=Id(4),s=et();we(2),Ne("ngIf",s.isUniqueRank(i))("ngIfElse",r),we(4),Zn(t[0]),we(2),Zn(t[1]),we(2),Sn("",s.round(t[1]/s.rankings.length*1e3)/10,"%")}}let X$=(()=>{class n{constructor(t){this.totals=[],this.candidates=[],this.rankings=[],this.svc=t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.plurality()}trackByIndex(t,i){return t}plurality(){this.resetTotals();let t={};this.candidates.forEach(i=>t[i]=0),this.rankings.forEach(i=>t[i[0]]++),this.candidates.forEach(i=>this.totals.push([i,t[i]])),this.totals.sort((i,r)=>r[1]-i[1])}resetTotals(){this.totals=[]}isUniqueRank(t){return 0==t||this.totals[t-1][1]!==this.totals[t][1]}round(t){return Math.round(t)}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-plurality"]],decls:16,vars:2,consts:[["title","Plurality (First Past The Post)","link","plurality"],["heading","Results"],[1,"col-4"],[1,"results-table","table","table-striped"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row"],[4,"ngIf","ngIfElse"],["showEqual",""]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),Z(2,"div",2),Z(3,"table",3),Z(4,"thead"),Z(5,"tr"),Z(6,"th",4),ne(7,"Rank"),J(),Z(8,"th",4),ne(9,"Candidate"),J(),Z(10,"th",4),ne(11,"Votes"),J(),Z(12,"th",4),ne(13,"Percentage of votes"),J(),J(),J(),Z(14,"tbody"),qe(15,Q$,11,5,"tr",5),J(),J(),J(),J(),J()),2&t&&(we(15),Ne("ngForOf",i.totals)("ngForTrackBy",i.trackByIndex))},directives:[Ur,sr,Co,Hs],styles:[""]}),n})();function Z$(n,e){if(1&n&&(Z(0,"tr"),Z(1,"th",6),ne(2),J(),Z(3,"td"),ne(4),J(),J()),2&n){const t=e.$implicit,i=e.index,r=et();we(2),Sn(" ",r.svc.suffixIncluded(i+1)," "),we(2),Zn(t)}}let J$=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.kemenyConsensus=[],this.kemenyScore=0,this.svc=t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}trackByIndex(t,i){return t}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),[this.kemenyConsensus,this.kemenyScore]=this.kemeny(this.candidates,this.rankings)}kemeny(t,i){let o,r=this.constructQ(t,i),s=L(328),l=[],C=t.length,N="min:";for(let G=0;G<C;G++)for(let $=0;$<C;$++)G!=$&&(N+=` +${r[G][$]} x${$}_${G}`);l.push(N);for(let G=0;G<C;G++)for(let $=0;$<C;$++)G!=$&&l.push(`0 <= x${G}_${$} <= 1`);for(let G=0;G<C;G++)for(let $=G+1;$<C;$++)l.push(`x${G}_${$} + x${$}_${G} = 1`);for(let G=0;G<C;G++)for(let $=0;$<C;$++)for(let X=0;X<C;X++)G!=$&&G!=X&&$!=X&&l.push(`x${G}_${$} + x${$}_${X} + x${X}_${G} >= 1`);for(let G=0;G<C;G++)for(let $=0;$<C;$++)G!=$&&l.push(`int x${G}_${$}`);return l=s.ReformatLP(l),o=s.Solve(l),[this.svc.getRankingFromIP(o,t),o.result]}constructQ(t,i){let r,s=0;const o=t.length;let l=[],C=[];for(let N=0;N<o;N++)C.push(new Array(o).fill(0));for(let N of i){let B=N.map(W=>t.indexOf(W));l.push(B)}for(let N of l)for(r=0;r<o;r++)for(s=r+1;s<o;s++)C[N[r]][N[s]]++;return C}kemenyBruteForce(t,i){let r=this.svc.getPermutations(t),s=1/0,o=[];for(let l of r){let C=0;for(let N of i)C+=this.kendall(l,N);C<s&&(s=C,o=l)}return[o,s]}kendall(t,i){length=t.length;let r,s,l,C,o=0;for(r=0;r<length;r++)for(s=r+1;s<length;s++){let N=t[r],B=t[s];l=t.indexOf(N)<t.indexOf(B)&&i.indexOf(N)>i.indexOf(B),C=t.indexOf(N)>t.indexOf(B)&&i.indexOf(N)<i.indexOf(B),(l||C)&&o++}return o}testAgainstBruteForce(t,i,r,s=!1){let o=[];s&&console.log(`Generating ${t} candidates.`);for(let B=0;B<t;B++)o.push(`C_${B}`);let l=0,C=[],N=[];for(let B=0;B<r;B++){s&&console.log(`Iteration: ${B+1}/${r}`);let W=[];for(let ye=0;ye<i;ye++)W.push(this.svc.shuffle(o.slice()));let G,$,X,re,ae=performance.now();if([G,$]=this.kemeny(o,W),C.push(performance.now()-ae),ae=performance.now(),[X,re]=this.kemenyBruteForce(o,W),N.push(performance.now()-ae),this.svc.arrayEquals(G,X)||(l+=1),$!==re){this.svc.printBFmismatch("kemeny consensus",W,$,G,re,X);break}}console.log(`Agreement in all ${r} iterations.`),console.log(`The same ranking was returned ${r-l}/${r} times.`),this.svc.printSummaryOfTimes(C,3,"IP model"),this.svc.printSummaryOfTimes(N,3,"Brute Force")}round(t){return Math.round(t)}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-kemeny"]],decls:16,vars:4,consts:[["title","Kemeny Consensus","link","kemeny"],["heading","Results"],[1,"col-4"],[1,"results-table","table","table-striped"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),Z(2,"div",2),Z(3,"table",3),Z(4,"thead"),Z(5,"tr"),Z(6,"th",4),ne(7,"Rank"),J(),Z(8,"th",4),ne(9,"Candidate"),J(),J(),J(),Z(10,"tbody"),qe(11,Z$,5,2,"tr",5),J(),J(),J(),Z(12,"h2"),ne(13),J(),Z(14,"h4"),ne(15),J(),J(),J()),2&t&&(we(11),Ne("ngForOf",i.kemenyConsensus)("ngForTrackBy",i.trackByIndex),we(2),Sn("Ranking Score: ",i.kemenyScore," "),we(2),Sn("(avg. distance = ",i.round(i.kemenyScore/i.rankings.length*10)/10,")"))},directives:[Ur,sr,Co],styles:[""]}),n})();function q$(n,e){if(1&n&&(Z(0,"div"),Z(1,"div",14),ne(2," No ranking exists that is preferred by more than half of the voters. "),J(),ce(3,"br"),Z(4,"div",14),ne(5," Therefore ranking "),J(),ce(6,"app-ranking",15),Z(7,"div",14),ne(8," is weakly popular. "),J(),J()),2&n){const t=et(2);we(6),Ne("rankingString",t.formattedProposedString)}}function eG(n,e){if(1&n&&(Z(0,"div",14),ne(1," The alternative ranking "),J(),ce(2,"app-ranking",15),Z(3,"div",14),ne(4),J(),ce(5,"br"),Z(6,"div",14),ne(7," Therefore ranking "),J(),ce(8,"app-ranking",15),Z(9,"div",14),ne(10," is NOT weakly popular. "),J()),2&n){const t=et(2);we(2),Ne("rankingString",t.bestAltTextWeakly),we(2),rv(" is preferred by ",t.bestScoreWeakly," out of ",t.rankings.length," voters (",t.round(t.bestScoreWeakly/t.rankings.length*1e3)/10,"%). "),we(4),Ne("rankingString",t.formattedProposedString)}}function tG(n,e){if(1&n&&(Z(0,"div"),Z(1,"div",14),ne(2," No ranking exists that is preferred by more than half of the "),Z(3,"b"),ne(4,"non-abstaining"),J(),ne(5," voters. "),J(),ce(6,"br"),Z(7,"div",14),ne(8," Therefore ranking "),J(),ce(9,"app-ranking",15),Z(10,"div",14),ne(11," is strongly popular. "),J(),J()),2&n){const t=et(2);we(9),Ne("rankingString",t.formattedProposedString)}}function nG(n,e){1&n&&(Z(0,"div",14),ne(1," (All of the voters have a preference between "),J())}function iG(n,e){1&n&&(Z(0,"div",14),ne(1," (1 voter has no preference between "),J())}function rG(n,e){if(1&n&&(Z(0,"div",14),ne(1),J()),2&n){const t=et(3);we(1),Sn(" (",t.rankings.length-t.bestPPStrongly-t.bestPNStrongly," voters have no preference between ")}}function sG(n,e){if(1&n&&(Z(0,"div",14),ne(1," The alternative ranking "),J(),ce(2,"app-ranking",15),Z(3,"div",14),ne(4),Z(5,"b"),ne(6,"non-abstaining"),J(),ne(7),J(),ce(8,"br"),qe(9,nG,2,0,"ng-template",16),qe(10,iG,2,0,"ng-template",16),qe(11,rG,2,1,"ng-template",16),ce(12,"app-ranking",15),Z(13,"div",14),ne(14," and "),J(),ce(15,"app-ranking",15),Z(16,"div",14),ne(17,")"),J(),ce(18,"br"),Z(19,"div",14),ne(20," Therefore ranking "),J(),ce(21,"app-ranking",15),Z(22,"div",14),ne(23," is NOT strongly popular. "),J()),2&n){const t=et(2);we(2),Ne("rankingString",t.bestAltTextStrongly),we(2),Fd(" is preferred by ",t.bestPPStrongly," out of the ",t.bestPPStrongly+t.bestPNStrongly," "),we(3),Sn(" voters (",t.round(t.bestPPStrongly/(t.bestPPStrongly+t.bestPNStrongly)*1e3)/10,"%). "),we(2),Ne("ngIf",0==t.numAbstainingVoters()),we(1),Ne("ngIf",1==t.numAbstainingVoters()),we(1),Ne("ngIf",t.numAbstainingVoters()>1),we(1),Ne("rankingString",t.formattedProposedString),we(3),Ne("rankingString",t.bestAltTextStrongly),we(6),Ne("rankingString",t.formattedProposedString)}}function oG(n,e){if(1&n&&(Z(0,"div",9),Z(1,"app-tile",10),qe(2,q$,9,1,"div",11),qe(3,eG,11,5,"ng-template",null,12,eh),J(),Z(5,"app-tile",10),qe(6,tG,12,1,"div",11),qe(7,sG,24,10,"ng-template",null,13,eh),J(),J()),2&n){const t=Id(4),i=Id(8),r=et();we(1),Ne("heading",r.isWeaklyPopular()?"Weakly Popular":"NOT Weakly Popular")("bg",r.isWeaklyPopular()?"bg-green":"bg-red"),we(1),Ne("ngIf",r.isWeaklyPopular())("ngIfElse",t),we(3),Ne("heading",r.isStronglyPopular()?"Strongly Popular":"NOT Strongly Popular")("bg",r.isStronglyPopular()?"bg-green":"bg-red"),we(1),Ne("ngIf",r.isStronglyPopular())("ngIfElse",i)}}let aG=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.proposedString="",this.proposed=[],this.formattedProposedString="",this.bestAltWeakly=[],this.bestAltTextWeakly="",this.bestScoreWeakly=0,this.bestAltStrongly=[],this.bestAltTextStrongly="",this.bestScoreStrongly=0,this.bestPPStrongly=0,this.bestPNStrongly=0,this.svc=t}ngOnInit(){this.proposed=[],this.proposedString=""}trackByIndex(t,i){return t}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),[this.bestAltWeakly,this.bestScoreWeakly]=this.weakly(this.candidates,this.rankings,this.proposed),this.bestAltTextWeakly=this.svc.convertToString(this.bestAltWeakly),[this.bestAltStrongly,this.bestScoreStrongly,this.bestPPStrongly,this.bestPNStrongly]=this.strongly(this.candidates,this.rankings,this.proposed,!0),this.bestAltTextStrongly=this.svc.convertToString(this.bestAltStrongly)}checkProposed(){let t=this.svc.convertToArray(this.proposedString);this.svc.isValidRanking(t)&&(this.proposed=t,this.formattedProposedString=this.svc.convertToString(this.proposed),this.reCalculate()),this.proposedString=this.svc.convertToString(this.proposed)}showResults(){return 0!=this.bestAltWeakly.length}isWeaklyPopular(){return this.checkWeakPopularity(this.bestScoreWeakly,this.rankings.length)}checkWeakPopularity(t,i){return t<=i/2}isStronglyPopular(){return this.checkStrongPopularity(this.bestScoreStrongly)}checkStrongPopularity(t){return t<=0}numAbstainingVoters(){return this.rankings.length-this.bestPPStrongly-this.bestPNStrongly}weakly(t,i,r,s=!1){let o=this.popular(!1,t,i,r);return s&&console.log(o),[this.svc.getRankingFromIP(o,this.candidates),o.result]}strongly(t,i,r,s=!1){let o=this.popular(!0,t,i,r);s&&console.log(o);let l=this.svc.getRankingFromIP(o,this.candidates),N=o.PP,B=o.PN;return N||(N=0),B||(B=0),[l,o.result,N,B]}popular(t,i,r,s,o=!1){let l=L(328),C=[],N=i.length,B=r.length;if(t)C.push("max: PP - PN");else{let $="max:";for(let X=1;X<=B;X++)$+=` +p${X}P`;C.push($)}let W=this.getKendalls(s,r);for(let $=1;$<=B;$++)C.push(`K${$} = ${W[$-1]}`);for(let $=1;$<=B;$++)for(let X=0;X<N;X++)for(let re=X+1;re<N;re++){let ye=i[re];r[$-1].indexOf(i[X])<r[$-1].indexOf(ye)?C.push(`R${$}_${X}_${re} = 1`):C.push(`R${$}_${X}_${re} = 0`)}for(let $=0;$<N;$++)for(let X=0;X<N;X++)$!=X&&C.push(`0 <= x${$}_${X} <= 1`);for(let $=0;$<N;$++)for(let X=$+1;X<N;X++)C.push(`x${$}_${X} + x${X}_${$} = 1`);for(let $=0;$<N;$++)for(let X=0;X<N;X++)for(let re=0;re<N;re++)$!=X&&X!=re&&$!=re&&C.push(`x${$}_${re} - x${$}_${X} - x${X}_${re} >= -1`);for(let $=1;$<=B;$++)for(let X=0;X<N;X++)for(let re=X+1;re<N;re++)C.push(`0 <= k${$}_${X}_${re} <= 1`),C.push(`x${X}_${re} - R${$}_${X}_${re} - k${$}_${X}_${re} <= 0`),C.push(`R${$}_${X}_${re} - x${X}_${re} - k${$}_${X}_${re} <= 0`),C.push(`x${X}_${re} + R${$}_${X}_${re} - k${$}_${X}_${re} >= 0`),C.push(`x${X}_${re} + R${$}_${X}_${re} + k${$}_${X}_${re} <= 2`);for(let $=1;$<=B;$++){let X=`K${$}PRIME`;for(let re=0;re<N;re++)for(let ae=re+1;ae<N;ae++)X+=` -k${$}_${re}_${ae}`;X+=" = 0",C.push(X)}let G=N*(N-1)/2;for(let $=1;$<=B;$++)C.push(`0<= p${$}P <= 1`),C.push(`p${$}P - ${1/G} K${$} + ${1/G} K${$}PRIME >=  0`),C.push(`K${$} - K${$}PRIME - ${G+1} p${$}P >= -${G}`);if(t){for(let X=1;X<=B;X++)C.push(`0<= p${X}N <= 1`),C.push(`p${X}N - ${1/G} K${X}PRIME + ${1/G} K${X} >=  0`),C.push(`K${X}PRIME - K${X} - ${G+1} p${X}N >= -${G}`);let $="PP";for(let X=1;X<=B;X++)$+=` -p${X}P`;$+=" = 0",C.push($),$="PN";for(let X=1;X<=B;X++)$+=` -p${X}N`;$+=" = 0",C.push($)}for(let $=1;$<=B;$++)C.push(`int p${$}P`);if(t){for(let $=1;$<=B;$++)C.push(`int p${$}N`);C.push("int PP"),C.push("int PN")}for(let $=0;$<N;$++)for(let X=0;X<N;X++)$!=X&&C.push(`int x${$}_${X}`);for(let $=1;$<=B;$++)for(let X=0;X<N;X++)for(let re=X+1;re<N;re++)C.push(`int k${$}_${X}_${re}`);for(let $=1;$<=B;$++)for(let X=0;X<N;X++)for(let re=X+1;re<N;re++)C.push(`int R${$}_${X}_${re}`);for(let $=1;$<=B;$++)C.push(`int K${$}`);for(let $=1;$<=B;$++)C.push(`int K${$}PRIME`);return o&&console.log(C),C=l.ReformatLP(C),o&&console.log(C),l.Solve(C)}popularBruteForce(t,i,r){let s=this.getKendalls(r,i),o=this.svc.getPermutations(t),l=-1/0,C=[],N=-1/0,B=[];for(let W of o){let G=0,$=0;for(let X=0;X<i.length;X++){let re=this.kendall(W,i[X]);re<s[X]?G+=1:re>s[X]&&($+=1)}G>l&&(l=G,C=W),G-$>N&&(N=G-$,B=W)}return[C,l,B,N]}getKendalls(t,i){let r=[];for(let s of i)r.push(this.kendall(t,s));return r}kendall(t,i){length=t.length;let r,s,l,C,o=0;for(r=0;r<length;r++)for(s=r+1;s<length;s++){let N=t[r],B=t[s];l=t.indexOf(N)<t.indexOf(B)&&i.indexOf(N)>i.indexOf(B),C=t.indexOf(N)>t.indexOf(B)&&i.indexOf(N)<i.indexOf(B),(l||C)&&o++}return o}testAgainstBruteForce(t,i,r,s=!1){let o=[];console.log(`Generating ${t} candidates.`);for(let $=0;$<t;$++)o.push(`C_${$}`);let l=0,C=0,N=0,B=[],W=[],G=[];for(let $=0;$<r;$++){console.log(`Iteration: ${$+1}/${r}`);let X=[];for(let On=0;On<i;On++)X.push(this.svc.shuffle(o.slice()));let re,ae,ye,fe,ke,Te,Qe,wt,Nt,Bn,zt=this.svc.shuffle(o.slice());s&&console.log("Runnning IP for weakly popular...");let dn=performance.now();if([re,ae]=this.weakly(o,X,zt),B.push(performance.now()-dn),dn=performance.now(),s&&console.log("Runnning IP for strongly popular..."),[ye,fe,Nt,Bn]=this.strongly(o,X,zt),W.push(performance.now()-dn),dn=performance.now(),s&&console.log("Runnning brute force..."),[ke,Te,Qe,wt]=this.popularBruteForce(o,X,zt),G.push(performance.now()-dn),ae!==Te){this.svc.printBFmismatch("weak popularity",X,ae,re,Te,ke);break}if(ae!==Te){this.svc.printBFmismatch("strong popularity",X,fe,ye,wt,Qe);break}let Wn=this.checkWeakPopularity(ae,i),hi=this.checkStrongPopularity(fe);if(Wn||hi)if(Wn&&hi)C+=1;else{if(!Wn||hi){console.log("ERROR: cannot be strongly popular but not weakly"),console.log("Rankings"),console.log(X),console.log("R0"),console.log(zt);break}N+=1,console.log("Found weakly but not strongly popular"),console.log("Rankings"),console.log(X),console.log("R0"),console.log(zt)}else l+=1}console.log(`Agreement in all ${r} iterations.`),console.log(`Number of times not popular: ${l}`),console.log(`Number of times weakly and strongly popular: ${C}`),console.log(`Number of times weakly popular but not strongly: ${N}`),this.svc.printSummaryOfTimes(B,3,"IP Weakly"),this.svc.printSummaryOfTimes(W,3,"IP Strongly"),this.svc.printSummaryOfTimes(G,3,"Brute Force")}round(t){return Math.round(t)}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-popular"]],decls:12,vars:2,consts:[["title","Popular Rankings","link","popular"],["heading","Input ranking to test"],[1,"ranking-input-list"],[1,"row"],[1,"col-9"],["placeholder","Enter ranking",1,"new-ranking-input",3,"ngModel","ngModelChange","keyup.enter","blur"],[1,"col-1"],[1,"btn","btn-secondary","new-ranking-btn",3,"click"],["class","popular-results",4,"ngIf"],[1,"popular-results"],[3,"heading","bg"],[4,"ngIf","ngIfElse"],["notWeaklyPopular",""],["notStronglyPopular",""],[1,"results-text"],[3,"rankingString"],[3,"ngIf"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),Z(2,"div"),ne(3," Enter a ranking to check whether it is weakly or strongly popular among the voters. "),J(),Z(4,"div",2),Z(5,"div",3),Z(6,"div",4),Z(7,"input",5),At("ngModelChange",function(s){return i.proposedString=s})("keyup.enter",function(){return i.checkProposed()})("blur",function(){return i.checkProposed()}),J(),J(),Z(8,"div",6),Z(9,"button",7),At("click",function(){return i.checkProposed()}),ne(10,"CALCULATE"),J(),J(),J(),J(),J(),qe(11,oG,9,8,"div",8),J()),2&t&&(we(7),Ne("ngModel",i.proposedString),we(4),Ne("ngIf",i.showResults()))},directives:[Ur,sr,Du,Kf,vh,Hs,To],styles:[".ranking-input-list[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:3px 10px;margin:4px;border-radius:6px}.new-ranking-input[_ngcontent-%COMP%]{padding:10px;font-size:20px;width:100%}.new-ranking-btn[_ngcontent-%COMP%]{padding:8px;margin:5px}.weakly-popular[_ngcontent-%COMP%], .strongly-popular[_ngcontent-%COMP%]{margin:40px 10px;background-color:#fff;box-shadow:0 0 20px #000;border-radius:10px;padding:20px}.positive[_ngcontent-%COMP%]{background-color:#7bed9a}.negative[_ngcontent-%COMP%]{background-color:#ed7b7b}.results-text[_ngcontent-%COMP%]{display:inline-block;font-size:larger;font-weight:medium}"]}),n})();function lG(n,e){1&n&&(Z(0,"th",7),ne(1,"Votes"),J())}function uG(n,e){1&n&&(Z(0,"th",7),ne(1,"First choice votes"),J())}function dG(n,e){1&n&&(Z(0,"th",7),ne(1,"Runoff votes"),J())}function hG(n,e){1&n&&(Z(0,"th",7),ne(1,"Total"),J())}function cG(n,e){if(1&n&&(Z(0,"td"),ne(1),J()),2&n){const t=et().$implicit,i=et(2);we(1),Zn(i.firstChoiceVotes(t[0]))}}function fG(n,e){if(1&n&&(Z(0,"td"),ne(1),J()),2&n){const t=et().$implicit,i=et(2);we(1),Zn(t[1]-i.firstChoiceVotes(t[0]))}}function pG(n,e){if(1&n&&(Z(0,"tr"),Z(1,"th",13),ne(2),J(),Z(3,"td"),ne(4),J(),qe(5,cG,2,1,"td",14),qe(6,fG,2,1,"td",14),Z(7,"th"),ne(8),J(),J()),2&n){const t=e.$implicit,i=e.index,r=et().index;we(2),Sn(" ",i+1," "),we(2),Zn(t[0]),we(1),Ne("ngIf",0!=r),we(1),Ne("ngIf",0!=r),we(2),Zn(t[1])}}function gG(n,e){1&n&&ce(0,"div",15)}function mG(n,e){1&n&&ce(0,"div",16)}function vG(n,e){if(1&n&&(Z(0,"div",17),ne(1," Candidate "),ce(2,"app-ranking",18),ne(3," has the highest total, however they do not have a majority, so "),ce(4,"app-ranking",18),ne(5," is eliminated since they have the lowest total. "),J()),2&n){const t=et().index,i=et();we(2),Ne("rankingString",i.roundTotals[t][0][0]),we(2),Ne("rankingString",i.roundTotals[t][i.roundTotals[t].length-1][0])}}function yG(n,e){if(1&n&&(Z(0,"div",17),ne(1," Candidate "),ce(2,"app-ranking",18),ne(3," has the highest total, and has a majority, therefore wins the election. "),J()),2&n){const t=et().index,i=et();we(2),Ne("rankingString",i.roundTotals[t][0][0])}}function bG(n,e){if(1&n&&(Z(0,"div",17),ne(1," Candidates "),ce(2,"app-ranking",18),ne(3," and "),ce(4,"app-ranking",18),ne(5," are the last two remaining, therefore "),ce(6,"app-ranking",18),ne(7," wins since they have the highest total. "),J()),2&n){const t=et().index,i=et();we(2),Ne("rankingString",i.roundTotals[t][0][0]),we(2),Ne("rankingString",i.roundTotals[t][1][0]),we(2),Ne("rankingString",i.roundTotals[t][0][0])}}const CG=function(n,e){return{"col-3":n,"col-4":e}};function wG(n,e){if(1&n&&(Z(0,"div",2),Z(1,"app-tile",3),Z(2,"div",4),Z(3,"div",5),Z(4,"table",6),Z(5,"thead"),Z(6,"tr"),Z(7,"th",7),ne(8,"Rank"),J(),Z(9,"th",7),ne(10,"Candidate"),J(),qe(11,lG,2,0,"th",8),qe(12,uG,2,0,"th",8),qe(13,dG,2,0,"th",8),qe(14,hG,2,0,"th",8),J(),J(),Z(15,"tbody"),qe(16,pG,9,5,"tr",9),J(),J(),J(),qe(17,gG,1,0,"div",10),qe(18,mG,1,0,"div",11),qe(19,vG,6,2,"div",12),qe(20,yG,4,1,"div",12),qe(21,bG,8,3,"div",12),J(),J(),J()),2&n){const t=e.$implicit,i=e.index,r=et();we(1),Ne("heading",r.getRoundText(i)),we(2),Ne("ngClass",CD(13,CG,0==i,0!=i)),we(8),Ne("ngIf",0==i),we(1),Ne("ngIf",0!=i),we(1),Ne("ngIf",0!=i),we(1),Ne("ngIf",0!=i),we(2),Ne("ngForOf",r.roundTotals[i])("ngForTrackBy",r.trackByIndex),we(1),Ne("ngIf",0==i),we(1),Ne("ngIf",0!=i),we(1),Ne("ngIf",i!=r.roundTotals.length-1),we(1),Ne("ngIf",i==r.roundTotals.length-1&&2!=t.length),we(1),Ne("ngIf",i==r.roundTotals.length-1&&2==t.length)}}let EG=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.roundTotals=[],this.svc=t}trackByIndex(t,i){return t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.roundTotals=this.runoff(this.candidates,this.rankings),console.log(this.roundTotals)}runoff(t,i){let r=i.length,s=!1,o=[],l=[];for(;!s&&o.length<t.length-1;){let C={};t.forEach(B=>{-1==o.indexOf(B)&&(C[B]=0)}),i.forEach(B=>C[this.firstNonEliminated(B,o)]++);let N=[];t.forEach(B=>{-1==o.indexOf(B)&&N.push([B,C[B]])}),N.sort((B,W)=>W[1]-B[1]),l.push(N),N[0][1]>r/2?s=!0:o.push(N[N.length-1][0])}return l}firstNonEliminated(t,i){for(let r of t)if(-1==i.indexOf(r))return r;return"ERROR"}getRoundText(t){return`Round ${t+1}`}firstChoiceVotes(t){for(let i of this.roundTotals[0])if(i[0]===t)return i[1];return 0}}return n.\u0275fac=function(t){return new(t||n)(Se(Ys))},n.\u0275cmp=nn({type:n,selectors:[["app-instant-runoff"]],decls:2,vars:2,consts:[["title","Instant Runoff","link","instant-runoff"],["class","round",4,"ngFor","ngForOf","ngForTrackBy"],[1,"round"],[3,"heading"],[1,"row"],[3,"ngClass"],[1,"results-table","table","table-striped"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","col-2",4,"ngIf"],["class","col-1",4,"ngIf"],["class","col-4",4,"ngIf"],["scope","row"],[4,"ngIf"],[1,"col-2"],[1,"col-1"],[1,"col-4"],[3,"rankingString"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),qe(1,wG,22,16,"div",1),J()),2&t&&(we(1),Ne("ngForOf",i.roundTotals)("ngForTrackBy",i.trackByIndex))},directives:[Ur,Co,sr,Vf,Hs,To],styles:[""]}),n})(),_G=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-borda-learn"]],decls:91,vars:0,consts:[["title","Borda Count","link","borda"],["heading","How It Works"],["rankingString","B, A, C"],["rankingString","B"],["rankingString","A"],["rankingString","C"],["heading","Example"],["rankingString","Joe"],["rankingString","Mary"],["rankingString","Tim"],["rankingString","Joe, Tim, Mary"],["rankingString","Tim, Mary, Joe"],["rankingString","Mary, Joe, Tim"],[1,"table","table-striped",2,"width","50%"],["scope","col"],["scope","row"],["heading","Evaluation"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),ne(2," For each ranking, assign to each candidate a number of points equal to the number of candidates that are ranked lower. For example, for the ranking "),ce(3,"app-ranking",2),ne(4,", "),ce(5,"app-ranking",3),ne(6," would gain 2 points, "),ce(7,"app-ranking",4),ne(8," gains 1 and "),ce(9,"app-ranking",5),ne(10," gains 0 points. These points are totalled across all rankings from voters to give a final score for each candidate. The final ranking of candidates is determined by these totals, with the highest placing first and the lowest coming last. "),J(),Z(11,"app-tile",6),ne(12," Given the candidates: "),ce(13,"app-ranking",7),ne(14,", "),ce(15,"app-ranking",8),ne(16," and "),ce(17,"app-ranking",9),ne(18,", and the 5 rankings: "),ce(19,"br"),ce(20,"br"),ce(21,"app-ranking",10),ce(22,"br"),ce(23,"app-ranking",11),ce(24,"br"),ce(25,"app-ranking",11),ce(26,"br"),ce(27,"app-ranking",12),ce(28,"br"),ce(29,"app-ranking",11),ce(30,"br"),ce(31,"br"),ne(32," The following table can be constructed to tally the points earned by each candidate: "),ce(33,"br"),Z(34,"table",13),Z(35,"thead"),Z(36,"tr"),ce(37,"th"),Z(38,"th",14),ne(39,"1st choice"),J(),Z(40,"th",14),ne(41,"2nd choice"),J(),Z(42,"th",14),ne(43,"3rd choice"),J(),Z(44,"th"),ne(45,"Total"),J(),J(),J(),Z(46,"tbody"),Z(47,"tr"),Z(48,"th",15),ne(49,"Joe"),J(),Z(50,"td"),ne(51,"1 (2 points)"),J(),Z(52,"td"),ne(53,"1 (1 points)"),J(),Z(54,"td"),ne(55,"3 (0 points)"),J(),Z(56,"th"),ne(57,"3"),J(),J(),Z(58,"tr"),Z(59,"th",15),ne(60,"Mary"),J(),Z(61,"td"),ne(62,"1 (2 points)"),J(),Z(63,"td"),ne(64,"3 (3 points)"),J(),Z(65,"td"),ne(66,"1 (0 points)"),J(),Z(67,"th"),ne(68,"5"),J(),J(),Z(69,"tr"),Z(70,"th",15),ne(71,"Tim"),J(),Z(72,"td"),ne(73,"3 (6 points)"),J(),Z(74,"td"),ne(75,"1 (1 points)"),J(),Z(76,"td"),ne(77,"1 (0 points)"),J(),Z(78,"th"),ne(79,"7"),J(),J(),J(),J(),ce(80,"br"),ce(81,"app-ranking",9),ne(82," was ranked first choice 3 times (worth 6 points), second choice 1 time (worth 1 point) and last choice 1 time (worth 0 points). Therefore his total score is 7 points and he wins the election since this is higher than all other candidates. "),J(),Z(83,"app-tile",16),ne(84," The borda count method is simple to implement and intends to choose candidates that are acceptable to a broad number of people rather than to find one that is preferred by a majority. "),ce(85,"br"),ce(86,"br"),ne(87," The system violates the majority constraint as it is possible for a candidate to receive a majority of the first place votes and still not win the election. "),ce(88,"br"),ce(89,"br"),ne(90," The Borda method is also highly susceptible to strategic voting. If voters intentionally rank their biggest competitors low on their preference list they can have a greater impact on the result than if they rank their preferences truthfully. In fact, if all voters vote strategically, the final result is very unlikely to reflect the true preferences of the voters. The Borda count also favours a candidate that runs alongside many similar candidates. "),J(),J())},directives:[Ur,sr,To],styles:[""]}),n})();const DG=["*"];let rg=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["hl"]],ngContentSelectors:DG,decls:2,vars:0,consts:[[1,"highlight"]],template:function(t,i){1&t&&(Yc(),Z(0,"div",0),Kc(1),J())},styles:[".highlight[_ngcontent-%COMP%]{font-size:large;font-weight:bold;background-color:#e7e7e7;padding:2px 5px;border-radius:5px;width:max-content;display:inline-block;margin:1px}"]}),n})(),SG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-instant-runoff-learn"]],decls:56,vars:0,consts:[["title","Instant Runoff","link","instant-runoff"],["heading","How It Works"],["heading","Example"],["rankingString","Yellow"],["rankingString","Blue"],["rankingString","Red"],["rankingString","Yellow, Blue, Red"],["rankingString","Blue, Red, Yellow"],["rankingString","Red, Yellow, Blue"],["heading","Evaluation"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),ne(2," Count the number of first-choice votes for each candidate. If any candidate has a majority, they win the election. Otherwise, eliminate the candidate with the lowest number of first-choice votes (there are multiple different ways to deal with ties for last place, however the algorithm implemented here selects the last candidate on the list for simplicity) and re-count first-choice votes on the remaining candidates. "),ce(3,"br"),ce(4,"br"),ne(5," Repeat the above steps with the new totals for each candidate (first-choice + runoff votes) until a candidate has a majority, at which point they win the election. "),J(),Z(6,"app-tile",2),ne(7," Given the candidates: "),ce(8,"app-ranking",3),ne(9,", "),ce(10,"app-ranking",4),ne(11," and "),ce(12,"app-ranking",5),ne(13,", and the 5 rankings: "),ce(14,"br"),ce(15,"br"),ce(16,"app-ranking",6),ce(17,"br"),ce(18,"app-ranking",7),ce(19,"br"),ce(20,"app-ranking",6),ce(21,"br"),ce(22,"app-ranking",8),ce(23,"br"),ce(24,"app-ranking",7),ce(25,"br"),ce(26,"br"),Z(27,"hl"),ne(28,"Yellow"),J(),ne(29," and "),Z(30,"hl"),ne(31,"Blue"),J(),ne(32," each have 2 first-choice votes while "),Z(33,"hl"),ne(34,"Red"),J(),ne(35," has only 1. Since no candidate has a majority, "),Z(36,"hl"),ne(37,"Red"),J(),ne(38," is eliminated. "),Z(39,"hl"),ne(40,"Yellow"),J(),ne(41," gains an additional vote since the voter whos first choice was "),Z(42,"hl"),ne(43,"Red"),J(),ne(44,", voted for "),Z(45,"hl"),ne(46,"Yellow"),J(),ne(47," as their second choice. "),ce(48,"br"),ce(49,"br"),ne(50," Since "),Z(51,"hl"),ne(52,"Yellow"),J(),ne(53," now has a majority (3/5 votes), they win the election. "),J(),Z(54,"app-tile",9),ne(55,' In some voting systems, many votes are "wasted" since they go towards a candidate that had no chance of winning. Instant runoff voting avoids this problem by reassigning these votes to more competitive candidates. The instant runoff method is also one of the least resistant to tactical voting. '),J(),J())},directives:[Ur,sr,To,rg],styles:[""]}),n})(),TG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-topological-learn"]],decls:95,vars:0,consts:[["title","Topological Ordering","link","topological"],["heading","How It Works"],["heading","Example"],["rankingString","Square, Circle, Triangle"],["rankingString","Square, Triangle, Circle"],["rankingString","Circle, Triangle, Square"],["src","assets/images/topological-example.png","alt","Topological Example",2,"width","40%"],["heading","Evaluation"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),ne(2," Construct the majority graph for the rankings. In the graph, each candidate is represented by a vertex, and a directed edge is drawn between vertices if one candidate is preferred over the other by the majority of voters. A topological ordering of the graph is an ordering of the vertices (candidates), such that for every edge in the graph from candidate "),Z(3,"hl"),ne(4,"A"),J(),ne(5," to candidate "),Z(6,"hl"),ne(7,"B"),J(),ne(8,", "),Z(9,"hl"),ne(10,"A"),J(),ne(11," comes before "),Z(12,"hl"),ne(13,"B"),J(),ne(14," in the order. There may be multiple possible topological orderings or none. "),J(),Z(15,"app-tile",2),ne(16," Given the candidates: "),Z(17,"hl"),ne(18,"Square"),J(),ne(19,", "),Z(20,"hl"),ne(21,"Circle"),J(),ne(22," and "),Z(23,"hl"),ne(24,"Triangle"),J(),ne(25,", and the 4 rankings: "),ce(26,"br"),ce(27,"br"),ce(28,"app-ranking",3),ce(29,"br"),ce(30,"app-ranking",4),ce(31,"br"),ce(32,"app-ranking",4),ce(33,"br"),ce(34,"app-ranking",5),ce(35,"br"),ce(36,"br"),ne(37," The majority graph can be constructed: "),ce(38,"br"),ce(39,"br"),ce(40,"img",6),ce(41,"br"),ce(42,"br"),ne(43," There is an edge from "),Z(44,"hl"),ne(45,"Square"),J(),ne(46," to "),Z(47,"hl"),ne(48,"Circle"),J(),ne(49," since "),Z(50,"hl"),ne(51,"Square"),J(),ne(52," comes before "),Z(53,"hl"),ne(54,"Circle"),J(),ne(55," in the majority of the rankings and similarly there is an edge from "),Z(56,"hl"),ne(57,"Square"),J(),ne(58," to "),Z(59,"hl"),ne(60,"Triangle"),J(),ne(61,". There is no edge between "),Z(62,"hl"),ne(63,"Circle"),J(),ne(64," and "),Z(65,"hl"),ne(66,"Triangle"),J(),ne(67," since half of the voters prefer "),Z(68,"hl"),ne(69,"Circle"),J(),ne(70," and half prefer "),Z(71,"hl"),ne(72,"Triangle"),J(),ne(73,". "),ce(74,"br"),ce(75,"br"),ne(76," The edges determine that "),Z(77,"hl"),ne(78,"Square"),J(),ne(79," comes before "),Z(80,"hl"),ne(81,"Circle"),J(),ne(82," and that "),Z(83,"hl"),ne(84,"Square"),J(),ne(85," comes before "),Z(86,"hl"),ne(87,"Triangle"),J(),ne(88," in a topological ordering. Therefore there are two possible topological orderings: "),ce(89,"br"),ce(90,"app-ranking",3),ne(91," or "),ce(92,"app-ranking",4),J(),Z(93,"app-tile",7),ne(94," Topological ordering is a useful concept in computing science and graph theory, however is not practical as an algorithm to determine the result of real-world elections. For certain sets of candidates and rankings, multiple colutions will exist and sometimes no solution exists. "),J(),J())},directives:[Ur,sr,rg,To],styles:[""]}),n})(),xG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-kemeny-learn"]],decls:152,vars:0,consts:[["title","Kemeny Consensus","link","kemeny"],["heading","How It Works"],["heading","Example"],["rankingString","B, A, C"],["rankingString","B, C, A"],["rankingString","A, C, B"],[1,"table","table-striped",2,"width","50%"],["scope","col"],["scope","row"],["rankingString","A, B, C"],["rankingString","C, A, B"],["rankingString","C, B, A"],["heading","Evaluation"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),ne(2," For a proposed ranking of candidates, the Kemeny score can be calculated by taking the sum of the Kendall distances to each voters ranking list. The ranking with minimum Kemeny score is the Kemeny Consensus. "),J(),Z(3,"app-tile",2),ne(4," Given the candidates: "),Z(5,"hl"),ne(6,"A"),J(),ne(7,", "),Z(8,"hl"),ne(9,"B"),J(),ne(10," and "),Z(11,"hl"),ne(12,"C"),J(),ne(13," and the 4 rankings: "),ce(14,"br"),ce(15,"br"),ne(16," V1: "),ce(17,"app-ranking",3),ce(18,"br"),ne(19," V2: "),ce(20,"app-ranking",4),ce(21,"br"),ne(22," V3: "),ce(23,"app-ranking",3),ce(24,"br"),ne(25," V4: "),ce(26,"app-ranking",5),ce(27,"br"),ce(28,"br"),ne(29," Consider the ranking "),ce(30,"app-ranking",3),ne(31,", "),ce(32,"br"),ce(33,"br"),ne(34," Calculate the Kendall distance from this ranking to each of the voters rankings: "),ce(35,"br"),ce(36,"br"),ne(37," D1 = 0, D2 = 1, D3 = 0, D4 = 2 "),ce(38,"br"),ce(39,"br"),ne(40," Therefore the Kemeny score for "),ce(41,"app-ranking",3),ne(42," is D1 + D2 + D3 + D4 = 3. "),ce(43,"br"),ce(44,"br"),ne(45," Calculating the Kemeny score for every possible permutation of the candidates would give the following results: "),ce(46,"br"),ce(47,"br"),Z(48,"table",6),Z(49,"thead"),Z(50,"tr"),Z(51,"th"),ne(52,"Permutation"),J(),Z(53,"th"),ne(54,"D1"),J(),Z(55,"th"),ne(56,"D2"),J(),Z(57,"th"),ne(58,"D3"),J(),Z(59,"th"),ne(60,"D4"),J(),Z(61,"th",7),ne(62,"Kemeny Score"),J(),J(),J(),Z(63,"tbody"),Z(64,"tr"),Z(65,"th",8),ce(66,"app-ranking",9),J(),Z(67,"th"),ne(68,"1"),J(),Z(69,"th"),ne(70,"2"),J(),Z(71,"th"),ne(72,"1"),J(),Z(73,"th"),ne(74,"1"),J(),Z(75,"th"),ne(76,"5"),J(),J(),Z(77,"tr"),Z(78,"th",8),ce(79,"app-ranking",5),J(),Z(80,"th"),ne(81,"2"),J(),Z(82,"th"),ne(83,"3"),J(),Z(84,"th"),ne(85,"2"),J(),Z(86,"th"),ne(87,"0"),J(),Z(88,"th"),ne(89,"7"),J(),J(),Z(90,"tr"),Z(91,"th",8),ce(92,"app-ranking",3),J(),Z(93,"th"),ne(94,"0"),J(),Z(95,"th"),ne(96,"1"),J(),Z(97,"th"),ne(98,"0"),J(),Z(99,"th"),ne(100,"2"),J(),Z(101,"th"),ne(102,"3"),J(),J(),Z(103,"tr"),Z(104,"th",8),ce(105,"app-ranking",4),J(),Z(106,"th"),ne(107,"1"),J(),Z(108,"th"),ne(109,"0"),J(),Z(110,"th"),ne(111,"1"),J(),Z(112,"th"),ne(113,"3"),J(),Z(114,"th"),ne(115,"5"),J(),J(),Z(116,"tr"),Z(117,"th",8),ce(118,"app-ranking",10),J(),Z(119,"th"),ne(120,"3"),J(),Z(121,"th"),ne(122,"2"),J(),Z(123,"th"),ne(124,"3"),J(),Z(125,"th"),ne(126,"1"),J(),Z(127,"th"),ne(128,"9"),J(),J(),Z(129,"tr"),Z(130,"th",8),ce(131,"app-ranking",11),J(),Z(132,"th"),ne(133,"2"),J(),Z(134,"th"),ne(135,"1"),J(),Z(136,"th"),ne(137,"2"),J(),Z(138,"th"),ne(139,"2"),J(),Z(140,"th"),ne(141,"7"),J(),J(),J(),J(),ce(142,"br"),ce(143,"br"),ne(144," Therefore "),ce(145,"app-ranking",3),ne(146," is the Kemeny Consensus since it minimises the Kemeny score. "),J(),Z(147,"app-tile",12),ne(148," The Kemeny Consensus method meets many of the desirable criteria for a voting method that other methods do not. The method guarantees that if a candidate is preferred by the majority in a head to head against each of the other candidates, then that candidate must win (Condorcet criterion). It also guarantees that if a candidate is ranked first by the majority of candidates, it will win (Majority criterion). "),ce(149,"br"),ce(150,"br"),ne(151," The main disadvantage of the method is that there is no algorithm that can find a solution in polynomial time. On a small numbers of candidates, a solution can usually be found in reasonable time, however the number of permutations that need to be considered is C! where C is the number of candidates, meaning that for a large number of candidates a solution cannot be found easily. "),J(),J())},directives:[Ur,sr,rg,To],styles:[""]}),n})(),MG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-plurality-learn"]],decls:37,vars:0,consts:[["title","Plurality (First Past The Post)","link","plurality"],["heading","How It Works"],["heading","Example"],["rankingString","Smith, Jones, Wood"],["rankingString","Smith, Wood, Jones"],["rankingString","Jones, Smith, Wood"],["rankingString","Wood, Jones, Smith"],["heading","Evaluation"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),Z(1,"app-tile",1),ne(2," Only consider the first choice of each voter. Simply count the number of votes received by each candidate and rank them from highest to lowest number of votes. "),J(),Z(3,"app-tile",2),ne(4," Given the candidates: "),Z(5,"hl"),ne(6,"Smith"),J(),ne(7,", "),Z(8,"hl"),ne(9,"Jones"),J(),ne(10," and "),Z(11,"hl"),ne(12,"Wood"),J(),ne(13,", and the 4 rankings: "),ce(14,"br"),ce(15,"br"),ce(16,"app-ranking",3),ce(17,"br"),ce(18,"app-ranking",4),ce(19,"br"),ce(20,"app-ranking",5),ce(21,"br"),ce(22,"app-ranking",6),ce(23,"br"),ce(24,"br"),ne(25," The second and third choice of each voter can be ignored. "),Z(26,"hl"),ne(27,"Smith"),J(),ne(28," wins since they have the most first-choice votes (2). "),J(),Z(29,"app-tile",7),ne(30," Plurality voting is a very simple and widely used system. "),ce(31,"br"),ce(32,"br"),ne(33," The system is very susceptible to tactical voting. Voters are incentivised to vote for one of the two candidates most likely to win, even if this is not their preferred choice, since votes for any other candidate are unlikely to have an impact on the outcome. "),ce(34,"br"),ce(35,"br"),ne(36," Another disadvantage of the system is that multiple similar candidates are likely to split their distribution of the vote, reducing the chance that any of them can win. "),J(),J())},directives:[Ur,sr,rg,To],styles:[""]}),n})(),OG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-popular-learn"]],decls:5,vars:0,consts:[["title","Popular Rankings","link","popular"],["heading","Background"],["heading","How It Works"],["heading","Example"],["heading","Evaluation"]],template:function(t,i){1&t&&(Z(0,"app-alg",0),ce(1,"app-tile",1),ce(2,"app-tile",2),ce(3,"app-tile",3),ce(4,"app-tile",4),J())},directives:[Ur,sr],styles:[""]}),n})(),kG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-tutorial"]],decls:57,vars:0,consts:[[1,"d-flex"],[1,"me-auto","p-2"],[1,"display-3"],["heading","Candidates, Rankings and Voters"],["rankingString","Adam"],["rankingString","Beth"],["rankingString","Chris"],["rankingString","Adam, Chris, Beth"],["heading","Voting Aggregation"],["rankingString","Chris, Beth, Adam"],["rankingString","Beth, Adam, Chris"],["rankingString","Chris, Adam, Beth"],["rankingString","Beth, Chris, Adam"],["heading","Using this Application"]],template:function(t,i){1&t&&(Z(0,"div",0),Z(1,"div",1),Z(2,"h1",2),ne(3,"How To Use"),J(),J(),J(),Z(4,"div"),Z(5,"app-tile",3),ne(6," In an election, there are multiple candidates. For example an election may have 3 candidates: "),ce(7,"app-ranking",4),ne(8,", "),ce(9,"app-ranking",5),ne(10," and "),ce(11,"app-ranking",6),ne(12,". "),ce(13,"br"),ce(14,"br"),ne(15," Each voter produces a ranking, which is their order of preference for the list of candidates. For example, if a voter believed "),ce(16,"app-ranking",4),ne(17," was the best candidate and "),ce(18,"app-ranking",5),ne(19," was the worst, their ranking would be "),ce(20,"app-ranking",7),ne(21,". "),J(),Z(22,"app-tile",8),ne(23," Once all votes have been cast, there is a list of rankings. For example, suppose 10 voters ranked the candidates introduced above. The list of rankings produced may look like: "),ce(24,"app-ranking",7),ne(25,", "),ce(26,"app-ranking",9),ne(27,", "),ce(28,"app-ranking",10),ne(29,", "),ce(30,"app-ranking",7),ne(31,", "),ce(32,"app-ranking",7),ne(33,", "),ce(34,"app-ranking",10),ne(35,", "),ce(36,"app-ranking",11),ne(37,", "),ce(38,"app-ranking",7),ne(39,", "),ce(40,"app-ranking",11),ne(41,", "),ce(42,"app-ranking",12),ce(43,"br"),ce(44,"br"),ne(45," So who won the election? "),ce(46,"br"),ce(47,"br"),ne(48," The challenge now is to determine the order of the candidates in the final standings, which should reflect the preferences of the voters as a whole. This may seem trivial at first, but there are many different algorithms used to accomplish this, each having advantages and disadvantages. "),J(),Z(49,"app-tile",13),ne(50," This application allows the user to input their own set of rankings and candidates to compare how different preference aggregation algorithms would determine the winner of the election and the final standings. "),ce(51,"br"),ce(52,"br"),ne(53," Begin by editing the candidates and list of rankings by XXXX. Rankings are input as a comma separated list containing each of the candidates names. The candidates and rankings can also be imported from a txt file or generated randomly. "),ce(54,"br"),ce(55,"br"),ne(56," Once the candidates and rankings have been input, select an algorithm from the sidebar to run. "),J(),J())},directives:[sr,To],styles:[""]}),n})(),IG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_i({type:n,bootstrap:[x$]}),n.\u0275inj=fn({providers:[Ys],imports:[[Ny,DU.forRoot([{path:"how-to-use",component:kG},{path:"kendall",component:H$},{path:"borda/learn",component:_G},{path:"borda",component:F$},{path:"topological/learn",component:TG},{path:"topological",component:G$},{path:"plurality/learn",component:MG},{path:"plurality",component:X$},{path:"kemeny/learn",component:xG},{path:"kemeny",component:J$},{path:"popular/learn",component:OG},{path:"popular",component:aG},{path:"instant-runoff/learn",component:SG},{path:"instant-runoff",component:EG}]),vj.forRoot({animation:150}),ZH,c$.forRoot({timeOut:3e3,progressBar:!0}),jW]]}),n})();(function(){if(rS)throw new Error("Cannot enable prod mode after platform setup.");iS=!1})(),QV().bootstrapModule(IG).catch(n=>console.error(n))},22:()=>{},890:()=>{}},ut=>{ut(ut.s=425)}]);