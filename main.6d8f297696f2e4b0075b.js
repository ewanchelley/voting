var K$=Object.defineProperty,Q$=Object.defineProperties,X$=Object.getOwnPropertyDescriptors,QM=Object.getOwnPropertySymbols,Z$=Object.prototype.hasOwnProperty,J$=Object.prototype.propertyIsEnumerable,XM=(ut,J,L)=>J in ut?K$(ut,J,{enumerable:!0,configurable:!0,writable:!0,value:L}):ut[J]=L,Yr=(ut,J)=>{for(var L in J||(J={}))Z$.call(J,L)&&XM(ut,L,J[L]);if(QM)for(var L of QM(J))J$.call(J,L)&&XM(ut,L,J[L]);return ut},Qu=(ut,J)=>Q$(ut,X$(J));(self.webpackChunkvoting=self.webpackChunkvoting||[]).push([[179],{255:ut=>{function J(L){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+L+"'");throw E.code="MODULE_NOT_FOUND",E})}J.keys=()=>[],J.resolve=J,J.id=255,ut.exports=J},635:ut=>{ut.exports=function(E){return E.length?function(E){var P={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},y={opType:"",optimize:"_obj",constraints:{},variables:{}},S={">=":"min","<=":"max","=":"equal"},D="",A=null,x="",O="",b="",w=0;"string"==typeof E&&(E=E.split("\n"));for(var v=0;v<E.length;v++)if(b="__"+v,A=null,P.is_objective.test(D=E[v]))y.opType=D.match(/(max|min)/gi)[0],(A=D.match(P.parse_lhs).map(function(T){return T.replace(/\s+/,"")}).slice(1)).forEach(function(T){x=null===(x=T.match(P.get_num))?"-"===T.substr(0,1)?-1:1:x[0],x=parseFloat(x),O=T.match(P.get_word)[0].replace(/\;$/,""),y.variables[O]=y.variables[O]||{},y.variables[O]._obj=x});else if(P.is_int.test(D))A=D.match(P.parse_int).slice(1),y.ints=y.ints||{},A.forEach(function(T){T=T.replace(";",""),y.ints[T]=1});else if(P.is_bin.test(D))A=D.match(P.parse_bin).slice(1),y.binaries=y.binaries||{},A.forEach(function(T){T=T.replace(";",""),y.binaries[T]=1});else if(P.is_constraint.test(D)){var m=D.indexOf(":");(A=(-1===m?D:D.slice(m+1)).match(P.parse_lhs).map(function(T){return T.replace(/\s+/,"")})).forEach(function(T){x=null===(x=T.match(P.get_num))?"-"===T.substr(0,1)?-1:1:x[0],x=parseFloat(x),O=T.match(P.get_word)[0],y.variables[O]=y.variables[O]||{},y.variables[O][b]=x}),w=parseFloat(D.match(P.parse_rhs)[0]),D=S[D.match(P.parse_dir)[0]],y.constraints[b]=y.constraints[b]||{},y.constraints[b][D]=w}else P.is_unrestricted.test(D)&&(A=D.match(P.parse_int).slice(1),y.unrestricted=y.unrestricted||{},A.forEach(function(T){T=T.replace(";",""),y.unrestricted[T]=1}));return y}(E):function(E){if(!E)throw new Error("Solver requires a model to operate on");var P="",D={max:"<=",min:">=",equal:"="},k=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(E.opType)for(var A in P+=E.opType+":",E.variables)E.variables[A][A]=E.variables[A][A]?E.variables[A][A]:1,E.variables[A][E.optimize]&&(P+=" "+E.variables[A][E.optimize]+" "+A.replace(k,"_"));else P+="max:";for(var x in P+=";\n\n",E.constraints)for(var O in E.constraints[x])if(void 0!==D[O]){for(var b in E.variables)void 0!==E.variables[b][x]&&(P+=" "+E.variables[b][x]+" "+b.replace(k,"_"));P+=" "+D[O]+" "+E.constraints[x][O],P+=";\n"}if(E.ints)for(var w in P+="\n\n",E.ints)P+="int "+w.replace(k,"_")+";\n";if(E.unrestricted)for(var v in P+="\n\n",E.unrestricted)P+="unrestricted "+v.replace(k,"_")+";\n";return P}(E)}},495:(ut,J,L)=>{function E(P){return(P=(P=P.replace("\\r\\n","\r\n")).split("\r\n")).filter(function(y){var S;return!(!0===(S=new RegExp(" 0$","gi")).test(y)||(S=new RegExp("\\d$","gi"),!1===S.test(y)))}).map(function(y){return y.split(/\:{0,1} +(?=\d)/)}).reduce(function(y,S,D){return y[S[0]]=S[1],y},{})}J.reformat=L(635),J.solve=function(P){return new Promise(function(y,S){"undefined"!=typeof window&&S("Function Not Available in Browser");var D=L(635)(P);P.external||S("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),P.external.binPath||S("No Executable | Binary path provided in arguments as 'binPath'"),P.external.args||S("No arguments array for cli | bash provided on 'args' attribute"),P.external.tempName||S("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),L(890).writeFile(P.external.tempName,D,function(A,x){if(A)S(A);else{var O=L(22).execFile;P.external.args.push(P.external.tempName),O(P.external.binPath,P.external.args,function(b,w){b?1===b.code?y(E(w)):S({code:b.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[b.code],data:w}):y(E(w))})}})})}},636:(ut,J,L)=>{ut.exports={lpsolve:L(495)}},595:(ut,J,L)=>{var E=L(982),y=(L(96),L(413)),S=y.Constraint,D=y.Equality,k=y.Variable,A=y.IntegerVariable;function O(b,w){this.tableau=new E(b),this.name=w,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}ut.exports=O,O.prototype.minimize=function(){return this.isMinimization=!0,this},O.prototype.maximize=function(){return this.isMinimization=!1,this},O.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var b=this.lastElementIndex;return this.lastElementIndex+=1,b},O.prototype._addConstraint=function(b){var w=b.slack;this.tableau.variablesPerIndex[w.index]=w,this.constraints.push(b),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(b)},O.prototype.smallerThan=function(b){var w=new S(b,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(w),w},O.prototype.greaterThan=function(b){var w=new S(b,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(w),w},O.prototype.equal=function(b){var w=new S(b,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(w);var v=new S(b,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(v),new D(w,v)},O.prototype.addVariable=function(b,w,v,m,c){if("string"==typeof c)switch(c){case"required":c=0;break;case"strong":c=1;break;case"medium":c=2;break;case"weak":c=3;break;default:c=0}var a,T=this.tableau.getNewElementIndex();return null==w&&(w="v"+T),null==b&&(b=0),null==c&&(c=0),v?(a=new A(w,b,T,c),this.integerVariables.push(a)):a=new k(w,b,T,c),this.variables.push(a),this.tableau.variablesPerIndex[T]=a,m&&(this.unrestrictedVariables[T]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(a),a},O.prototype._removeConstraint=function(b){var w=this.constraints.indexOf(b);-1!==w?(this.constraints.splice(w,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(b),b.relaxation&&this.removeVariable(b.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},O.prototype.removeConstraint=function(b){return b.isEquality?(this._removeConstraint(b.upperBound),this._removeConstraint(b.lowerBound)):this._removeConstraint(b),this},O.prototype.removeVariable=function(b){var w=this.variables.indexOf(b);if(-1!==w)return this.variables.splice(w,1),!0===this.tableauInitialized&&this.tableau.removeVariable(b),this;console.warn("[Model.removeVariable] Variable not present in model")},O.prototype.updateRightHandSide=function(b,w){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(b,w),this},O.prototype.updateConstraintCoefficient=function(b,w,v){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(b,w,v),this},O.prototype.setCost=function(b,w){var v=b-w.cost;return!1===this.isMinimization&&(v=-v),w.cost=b,this.tableau.updateCost(w,v),this},O.prototype.loadJson=function(b){this.isMinimization="max"!==b.opType;for(var w=b.variables,v=b.constraints,m={},c={},T=Object.keys(v),a=T.length,p=0;p<a;p+=1){var _,I,d=T[p],u=v[d],g=u.equal,M=u.weight,h=u.priority,f=void 0!==M||void 0!==h;if(void 0===g){var F=u.min;void 0!==F&&(_=this.greaterThan(F),m[d]=_,f&&_.relax(M,h));var V=u.max;void 0!==V&&(I=this.smallerThan(V),c[d]=I,f&&I.relax(M,h))}else{_=this.greaterThan(g),m[d]=_,I=this.smallerThan(g),c[d]=I;var j=new D(_,I);f&&j.relax(M,h)}}var $=Object.keys(w),G=$.length;this.tolerance=b.tolerance||0,b.timeout&&(this.timeout=b.timeout),b.options&&(b.options.timeout&&(this.timeout=b.options.timeout),0===this.tolerance&&(this.tolerance=b.options.tolerance||0),b.options.useMIRCuts&&(this.useMIRCuts=b.options.useMIRCuts),this.checkForCycles=void 0===b.options.exitOnCycles||b.options.exitOnCycles);for(var Z=b.ints||{},ne=b.binaries||{},oe=b.unrestricted||{},le=b.optimize,pe=0;pe<G;pe+=1){var _e=$[pe],we=w[_e],ge=!!ne[_e],Ce=this.addVariable(we[le]||0,_e,!!Z[_e]||ge,!!oe[_e]);ge&&this.smallerThan(1).addTerm(1,Ce);var ke=Object.keys(we);for(p=0;p<ke.length;p+=1){var Ie=ke[p];if(Ie!==le){var xe=we[Ie],Be=m[Ie];void 0!==Be&&Be.addTerm(xe,Ce);var ze=c[Ie];void 0!==ze&&ze.addTerm(xe,Ce)}}}return this},O.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},O.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},O.prototype.isFeasible=function(){return this.tableau.feasible},O.prototype.save=function(){return this.tableau.save()},O.prototype.restore=function(){return this.tableau.restore()},O.prototype.activateMIRCuts=function(b){this.useMIRCuts=b},O.prototype.debug=function(b){this.checkForCycles=b},O.prototype.log=function(b){return this.tableau.log(b)}},813:ut=>{ut.exports=function(J,L){var S,b,w,v,m,E=L.optimize,P=JSON.parse(JSON.stringify(L.optimize)),y=Object.keys(L.optimize),D=0,k={},A="",x={},O=[];for(delete L.optimize,b=0;b<y.length;b++)P[y[b]]=0;for(b=0;b<y.length;b++){for(m in L.optimize=y[b],L.opType=E[y[b]],S=J.Solve(L,void 0,void 0,!0),y)if(!L.variables[y[m]])for(v in S[y[m]]=S[y[m]]?S[y[m]]:0,L.variables)L.variables[v][y[m]]&&S[v]&&(S[y[m]]+=S[v]*L.variables[v][y[m]]);for(A="base",w=0;w<y.length;w++)A+=S[y[w]]?"-"+(1e3*S[y[w]]|0)/1e3:"-0";if(!k[A]){for(k[A]=1,D++,w=0;w<y.length;w++)S[y[w]]&&(P[y[w]]+=S[y[w]]);delete S.feasible,delete S.result,O.push(S)}}for(b=0;b<y.length;b++)L.constraints[y[b]]={equal:P[y[b]]/D};for(b in L.optimize="cheater-"+Math.random(),L.opType="max",L.variables)L.variables[b].cheater=1;for(b in O)for(v in O[b])x[v]=x[v]||{min:1e99,max:-1e99};for(b in x)for(v in O)O[v][b]?(O[v][b]>x[b].max&&(x[b].max=O[v][b]),O[v][b]<x[b].min&&(x[b].min=O[v][b])):(O[v][b]=0,x[b].min=0);return{midpoint:S=J.Solve(L,void 0,void 0,!0),vertices:O,ranges:x}}},258:(ut,J,L)=>{var E=L(212);function P(y,S,D,k,A){E.call(this,y,S,D,k),this.iter=A}ut.exports=P,P.prototype=Object.create(E.prototype),P.constructor=P},212:ut=>{function J(L,E,P,y){this.feasible=P,this.evaluation=E,this.bounded=y,this._tableau=L}ut.exports=J,J.prototype.generateSolutionSet=function(){for(var L={},E=this._tableau,P=E.varIndexByRow,y=E.variablesPerIndex,S=E.matrix,D=E.rhsColumn,k=E.height-1,A=Math.round(1/E.precision),x=1;x<=k;x+=1){var b=y[P[x]];void 0!==b&&!0!==b.isSlack&&(L[b.id]=Math.round((Number.EPSILON+S[x][D])*A)/A)}return L}},982:(ut,J,L)=>{var E=L(212),P=L(258);function y(D){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=D||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function S(D,k){this.priority=D,this.reducedCosts=new Array(k);for(var A=0;A<k;A+=1)this.reducedCosts[A]=0}ut.exports=y,y.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},S.prototype.copy=function(){var D=new S(this.priority,this.reducedCosts.length);return D.reducedCosts=this.reducedCosts.slice(),D},y.prototype.setOptionalObjective=function(D,k,A){var x=this.objectivesByPriority[D];void 0===x&&(x=new S(D,Math.max(this.width,k+1)),this.objectivesByPriority[D]=x,this.optionalObjectives.push(x),this.optionalObjectives.sort(function(b,w){return b.priority-w.priority})),x.reducedCosts[k]=A},y.prototype.initialize=function(D,k,A,x){this.variables=A,this.unrestrictedVars=x,this.width=D,this.height=k;for(var O=new Array(D),b=0;b<D;b++)O[b]=0;this.matrix=new Array(k);for(var w=0;w<k;w++)this.matrix[w]=O.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=D+k-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},y.prototype._resetMatrix=function(){var O,b,D=this.model.variables,k=this.model.constraints,A=D.length,x=k.length,w=this.matrix[0],v=!0===this.model.isMinimization?-1:1;for(O=0;O<A;O+=1){var m=D[O],c=m.priority,T=v*m.cost;0===c?w[O+1]=T:this.setOptionalObjective(c,O+1,T),this.rowByVarIndex[b=D[O].index]=-1,this.colByVarIndex[b]=O+1,this.varIndexByCol[O+1]=b}for(var a=1,p=0;p<x;p+=1){var d=k[p],u=d.index;this.rowByVarIndex[u]=a,this.colByVarIndex[u]=-1,this.varIndexByRow[a]=u;var g,M,f=d.terms,_=f.length,I=this.matrix[a++];if(d.isUpperBound){for(g=0;g<_;g+=1)I[this.colByVarIndex[(M=f[g]).variable.index]]=M.coefficient;I[0]=d.rhs}else{for(g=0;g<_;g+=1)I[this.colByVarIndex[(M=f[g]).variable.index]]=-M.coefficient;I[0]=-d.rhs}}},y.prototype.setModel=function(D){return this.model=D,this.initialize(D.nVariables+1,D.nConstraints+1,D.variables,D.unrestrictedVariables),this._resetMatrix(),this},y.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var D=this.lastElementIndex;return this.lastElementIndex+=1,D},y.prototype.density=function(){for(var D=0,k=this.matrix,A=0;A<this.height;A++)for(var x=k[A],O=0;O<this.width;O++)0!==x[O]&&(D+=1);return D/(this.height*this.width)},y.prototype.setEvaluation=function(){var D=Math.round(1/this.precision),A=Math.round((Number.EPSILON+this.matrix[this.costRowIndex][this.rhsColumn])*D)/D;this.evaluation=A,0===this.simplexIters&&(this.bestPossibleEval=A)},y.prototype.getSolution=function(){var D=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new P(this,D,this.feasible,this.bounded,this.branchAndCutIterations):new E(this,D,this.feasible,this.bounded)}},354:(ut,J,L)=>{var E=L(982);E.prototype.copy=function(){var P=new E(this.precision);P.width=this.width,P.height=this.height,P.nVars=this.nVars,P.model=this.model,P.variables=this.variables,P.variablesPerIndex=this.variablesPerIndex,P.unrestrictedVars=this.unrestrictedVars,P.lastElementIndex=this.lastElementIndex,P.varIndexByRow=this.varIndexByRow.slice(),P.varIndexByCol=this.varIndexByCol.slice(),P.rowByVarIndex=this.rowByVarIndex.slice(),P.colByVarIndex=this.colByVarIndex.slice(),P.availableIndexes=this.availableIndexes.slice();for(var y=[],S=0;S<this.optionalObjectives.length;S++)y[S]=this.optionalObjectives[S].copy();P.optionalObjectives=y;for(var D=this.matrix,k=new Array(this.height),A=0;A<this.height;A++)k[A]=D[A].slice();return P.matrix=k,P},E.prototype.save=function(){this.savedState=this.copy()},E.prototype.restore=function(){if(null!==this.savedState){var S,D,P=this.savedState,y=P.matrix;for(this.nVars=P.nVars,this.model=P.model,this.variables=P.variables,this.variablesPerIndex=P.variablesPerIndex,this.unrestrictedVars=P.unrestrictedVars,this.lastElementIndex=P.lastElementIndex,this.width=P.width,this.height=P.height,S=0;S<this.height;S+=1){var k=y[S],A=this.matrix[S];for(D=0;D<this.width;D+=1)A[D]=k[D]}var x=P.varIndexByRow;for(D=0;D<this.height;D+=1)this.varIndexByRow[D]=x[D];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var O=P.varIndexByCol;for(S=0;S<this.width;S+=1)this.varIndexByCol[S]=O[S];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var b=P.rowByVarIndex,w=P.colByVarIndex,v=0;v<this.nVars;v+=1)this.rowByVarIndex[v]=b[v],this.colByVarIndex[v]=w[v];if(P.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var m=0;m<P.optionalObjectives.length;m++){var c=P.optionalObjectives[m].copy();this.optionalObjectives[m]=c,this.optionalObjectivePerPriority[c.priority]=c}}}}},96:(ut,J,L)=>{var E=L(982);function P(D,k,A){this.type=D,this.varIndex=k,this.value=A}function y(D,k){this.relaxedEvaluation=D,this.cuts=k}function S(D,k){return k.relaxedEvaluation-D.relaxedEvaluation}E.prototype.applyCuts=function(D){if(this.restore(),this.addCutConstraints(D),this.simplex(),this.model.useMIRCuts)for(var k=!0;k;){var A=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*A&&(k=!1)}},E.prototype.branchAndCut=function(){var D=[],k=0,A=this.model.tolerance,x=!0,O=1e99;this.model.timeout&&(O=Date.now()+this.model.timeout);for(var b=1/0,w=null,v=[],m=0;m<this.optionalObjectives.length;m+=1)v.push(1/0);var c=new y(-1/0,[]);for(D.push(c);D.length>0&&!0===x&&Date.now()<O;)if(A>0&&b<(this.model.isMinimization?this.bestPossibleEval*(1+A):this.bestPossibleEval*(1-A))&&(x=!1),!((c=D.pop()).relaxedEvaluation>b)){var a=c.cuts;if(this.applyCuts(a),k++,!1!==this.feasible){var p=this.evaluation;if(!(p>b)){if(p===b){for(var d=!0,u=0;u<this.optionalObjectives.length&&!(this.optionalObjectives[u].reducedCosts[0]>v[u]);u+=1)if(this.optionalObjectives[u].reducedCosts[0]<v[u]){d=!1;break}if(d)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===k)return void(this.branchAndCutIterations=k);w=c,b=p;for(var g=0;g<this.optionalObjectives.length;g+=1)v[g]=this.optionalObjectives[g].reducedCosts[0]}else{1===k&&this.save();for(var M=this.getMostFractionalVar(),h=M.index,f=[],_=[],I=a.length,F=0;F<I;F+=1){var V=a[F];V.varIndex===h?"min"===V.type?_.push(V):f.push(V):(f.push(V),_.push(V))}var j=Math.ceil(M.value),$=Math.floor(M.value),G=new P("min",h,j);f.push(G);var Z=new P("max",h,$);_.push(Z),D.push(new y(p,f)),D.push(new y(p,_)),D.sort(S)}}}}null!==w&&this.applyCuts(w.cuts),this.branchAndCutIterations=k}},811:(ut,J,L)=>{var E=L(982);function P(y,S){this.index=y,this.value=S}E.prototype.getMostFractionalVar=function(){for(var y=0,S=null,D=null,A=this.model.integerVariables,x=A.length,O=0;O<x;O++){var b=A[O].index,w=this.rowByVarIndex[b];if(-1!==w){var v=this.matrix[w][this.rhsColumn],m=Math.abs(v-Math.round(v));y<m&&(y=m,S=b,D=v)}}return new P(S,D)},E.prototype.getFractionalVarWithLowestCost=function(){for(var y=1/0,S=null,D=null,k=this.model.integerVariables,A=k.length,x=0;x<A;x++){var O=k[x],b=O.index,w=this.rowByVarIndex[b];if(-1!==w){var v=this.matrix[w][this.rhsColumn];if(Math.abs(v-Math.round(v))>this.precision){var m=O.cost;y>m&&(y=m,S=b,D=v)}}}return new P(S,D)}},511:(ut,J,L)=>{var E=L(982),P=L(413).SlackVariable;E.prototype.addCutConstraints=function(y){for(var S=y.length,D=this.height,k=D+S,A=D;A<k;A+=1)void 0===this.matrix[A]&&(this.matrix[A]=this.matrix[A-1].slice());this.height=k,this.nVars=this.width+this.height-2;for(var x,O=this.width-1,b=0;b<S;b+=1){var w=y[b],v=D+b,m="min"===w.type?-1:1,c=w.varIndex,T=this.rowByVarIndex[c],a=this.matrix[v];if(-1===T){for(a[this.rhsColumn]=m*w.value,x=1;x<=O;x+=1)a[x]=0;a[this.colByVarIndex[c]]=m}else{var p=this.matrix[T];for(a[this.rhsColumn]=m*(w.value-p[this.rhsColumn]),x=1;x<=O;x+=1)a[x]=-m*p[x]}var u=this.getNewElementIndex();this.varIndexByRow[v]=u,this.rowByVarIndex[u]=v,this.colByVarIndex[u]=-1,this.variablesPerIndex[u]=new P("s"+u,u),this.nVars+=1}},E.prototype._addLowerBoundMIRCut=function(y){if(y===this.costRowIndex)return!1;var D=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[y]].isInteger)return!1;var A=D[y][this.rhsColumn],x=A-Math.floor(A);if(x<this.precision||1-this.precision<x)return!1;var O=this.height;D[O]=D[O-1].slice(),this.height+=1,this.nVars+=1;var b=this.getNewElementIndex();this.varIndexByRow[O]=b,this.rowByVarIndex[b]=O,this.colByVarIndex[b]=-1,this.variablesPerIndex[b]=new P("s"+b,b),D[O][this.rhsColumn]=Math.floor(A);for(var w=1;w<this.varIndexByCol.length;w+=1)if(this.variablesPerIndex[this.varIndexByCol[w]].isInteger){var m=D[y][w],c=Math.floor(m)+Math.max(0,m-Math.floor(m)-x)/(1-x);D[O][w]=c}else D[O][w]=Math.min(0,D[y][w]/(1-x));for(var T=0;T<this.width;T+=1)D[O][T]-=D[y][T];return!0},E.prototype._addUpperBoundMIRCut=function(y){if(y===this.costRowIndex)return!1;var D=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[y]].isInteger)return!1;var A=D[y][this.rhsColumn],x=A-Math.floor(A);if(x<this.precision||1-this.precision<x)return!1;var O=this.height;D[O]=D[O-1].slice(),this.height+=1,this.nVars+=1;var b=this.getNewElementIndex();this.varIndexByRow[O]=b,this.rowByVarIndex[b]=O,this.colByVarIndex[b]=-1,this.variablesPerIndex[b]=new P("s"+b,b),D[O][this.rhsColumn]=-x;for(var w=1;w<this.varIndexByCol.length;w+=1){var v=this.variablesPerIndex[this.varIndexByCol[w]],m=D[y][w],c=m-Math.floor(m);D[O][w]=v.isInteger?c<=x?-c:-(1-c)*x/c:m>=0?-m:m*x/(1-x)}return!0},E.prototype.applyMIRCuts=function(){}},78:(ut,J,L)=>{var E=L(982);E.prototype._putInBase=function(P){var y=this.rowByVarIndex[P];if(-1===y){for(var S=this.colByVarIndex[P],D=1;D<this.height;D+=1){var k=this.matrix[D][S];if(k<-this.precision||this.precision<k){y=D;break}}this.pivot(y,S)}return y},E.prototype._takeOutOfBase=function(P){var y=this.colByVarIndex[P];if(-1===y){for(var S=this.rowByVarIndex[P],D=this.matrix[S],k=1;k<this.height;k+=1){var A=D[k];if(A<-this.precision||this.precision<A){y=k;break}}this.pivot(S,y)}return y},E.prototype.updateVariableValues=function(){for(var P=this.variables.length,y=Math.round(1/this.precision),S=0;S<P;S+=1){var D=this.variables[S],A=this.rowByVarIndex[D.index];D.value=-1===A?0:Math.round((this.matrix[A][this.rhsColumn]+Number.EPSILON)*y)/y}},E.prototype.updateRightHandSide=function(P,y){var S=this.height-1,D=this.rowByVarIndex[P.index];if(-1===D){for(var k=this.colByVarIndex[P.index],A=0;A<=S;A+=1){var x=this.matrix[A];x[this.rhsColumn]-=y*x[k]}var O=this.optionalObjectives.length;if(O>0)for(var b=0;b<O;b+=1){var w=this.optionalObjectives[b].reducedCosts;w[this.rhsColumn]-=y*w[k]}}else this.matrix[D][this.rhsColumn]-=y},E.prototype.updateConstraintCoefficient=function(P,y,S){if(P.index===y.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var D=this._putInBase(P.index),k=this.colByVarIndex[y.index];if(-1===k)for(var A=this.rowByVarIndex[y.index],x=0;x<this.width;x+=1)this.matrix[D][x]+=S*this.matrix[A][x];else this.matrix[D][k]-=S},E.prototype.updateCost=function(P,y){var S=P.index,D=this.width-1,k=this.colByVarIndex[S];if(-1===k){var x,A=this.matrix[this.rowByVarIndex[S]];if(0===P.priority){var O=this.matrix[0];for(x=0;x<=D;x+=1)O[x]+=y*A[x]}else{var b=this.objectivesByPriority[P.priority].reducedCosts;for(x=0;x<=D;x+=1)b[x]+=y*A[x]}}else this.matrix[0][k]-=y},E.prototype.addConstraint=function(P){var y=P.isUpperBound?1:-1,S=this.height,D=this.matrix[S];void 0===D&&(D=this.matrix[0].slice(),this.matrix[S]=D);for(var k=this.width-1,A=0;A<=k;A+=1)D[A]=0;D[this.rhsColumn]=y*P.rhs;for(var x=P.terms,O=x.length,b=0;b<O;b+=1){var w=x[b],v=w.coefficient,m=w.variable.index,c=this.rowByVarIndex[m];if(-1===c)D[this.colByVarIndex[m]]+=y*v;else{var T=this.matrix[c];for(A=0;A<=k;A+=1)D[A]-=y*v*T[A]}}var p=P.index;this.varIndexByRow[S]=p,this.rowByVarIndex[p]=S,this.colByVarIndex[p]=-1,this.height+=1},E.prototype.removeConstraint=function(P){var y=P.index,S=this.height-1,D=this._putInBase(y),k=this.matrix[S];this.matrix[S]=this.matrix[D],this.matrix[D]=k,this.varIndexByRow[D]=this.varIndexByRow[S],this.varIndexByRow[S]=-1,this.rowByVarIndex[y]=-1,this.availableIndexes[this.availableIndexes.length]=y,P.slack.index=-1,this.height-=1},E.prototype.addVariable=function(P){var y=this.height-1,S=this.width,D=!0===this.model.isMinimization?-P.cost:P.cost,k=P.priority,A=this.optionalObjectives.length;if(A>0)for(var x=0;x<A;x+=1)this.optionalObjectives[x].reducedCosts[S]=0;0===k?this.matrix[0][S]=D:(this.setOptionalObjective(k,S,D),this.matrix[0][S]=0);for(var O=1;O<=y;O+=1)this.matrix[O][S]=0;var b=P.index;this.varIndexByCol[S]=b,this.rowByVarIndex[b]=-1,this.colByVarIndex[b]=S,this.width+=1},E.prototype.removeVariable=function(P){var y=P.index,S=this._takeOutOfBase(y),D=this.width-1;if(S!==D){for(var k=this.height-1,A=0;A<=k;A+=1){var x=this.matrix[A];x[S]=x[D]}var O=this.optionalObjectives.length;if(O>0)for(var b=0;b<O;b+=1){var w=this.optionalObjectives[b].reducedCosts;w[S]=w[D]}var v=this.varIndexByCol[D];this.varIndexByCol[S]=v,this.colByVarIndex[v]=S}this.varIndexByCol[D]=-1,this.colByVarIndex[y]=-1,this.availableIndexes[this.availableIndexes.length]=y,P.index=-1,this.width-=1}},403:(ut,J,L)=>{L(279),L(511),L(78),L(2),L(354),L(811),L(931),ut.exports=L(982)},931:(ut,J,L)=>{var E=L(982);E.prototype.countIntegerValues=function(){for(var P=0,y=1;y<this.height;y+=1)if(this.variablesPerIndex[this.varIndexByRow[y]].isInteger){var S=this.matrix[y][this.rhsColumn];(S-=Math.floor(S))<this.precision&&-S<this.precision&&(P+=1)}return P},E.prototype.isIntegral=function(){for(var P=this.model.integerVariables,y=P.length,S=0;S<y;S++){var D=this.rowByVarIndex[P[S].index];if(-1!==D){var k=this.matrix[D][this.rhsColumn];if(Math.abs(k-Math.round(k))>this.precision)return!1}}return!0},E.prototype.computeFractionalVolume=function(P){for(var y=-1,S=1;S<this.height;S+=1)if(this.variablesPerIndex[this.varIndexByRow[S]].isInteger){var D=this.matrix[S][this.rhsColumn];if(D=Math.abs(D),Math.min(D-Math.floor(D),Math.floor(D+1))<this.precision){if(!P)return 0}else-1===y?y=D:y*=D}return-1===y?0:y}},2:(ut,J,L)=>{L(982).prototype.log=function(P,y){console.log("****",P,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var A,x,b,w,v,m,c,a,p,d,u,D="",k=[" "];for(x=1;x<this.width;x+=1)c=(m=void 0===(w=this.variablesPerIndex[v=this.varIndexByCol[x]])?"c"+v:w.id).length,Math.abs(c-5),a=" ",p="\t",c>5?a+=" ":p+="\t",k[x]=a,D+=p+m;console.log(D);var M=this.matrix[this.costRowIndex],h="\t";for(A=1;A<this.width;A+=1)h+="\t",h+=k[A],h+=M[A].toFixed(5);for(h+="\t"+k[0]+M[0].toFixed(5),console.log(h+"\tZ"),b=1;b<this.height;b+=1){for(d=this.matrix[b],u="\t",x=1;x<this.width;x+=1)u+="\t"+k[x]+d[x].toFixed(5);u+="\t"+k[0]+d[0].toFixed(5),m=void 0===(w=this.variablesPerIndex[v=this.varIndexByRow[b]])?"c"+v:w.id,console.log(u+"\t"+m)}console.log("");var f=this.optionalObjectives.length;if(f>0){console.log("    Optional objectives:");for(var _=0;_<f;_+=1){var I=this.optionalObjectives[_].reducedCosts,F="";for(A=1;A<this.width;A+=1)F+=I[A]<0?"":" ",F+=k[A],F+=I[A].toFixed(5);F+=(I[0]<0?"":" ")+k[0]+I[0].toFixed(5),console.log(F+" z"+_)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}},279:(ut,J,L)=>{var E=L(982);E.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},E.prototype.phase1=function(){for(var y=this.model.checkForCycles,S=[],D=this.matrix,k=this.rhsColumn,A=this.width-1,x=this.height-1,b=0;;){for(var w=0,v=-this.precision,m=1;m<=x;m++){var c=D[m][k];c<v&&(v=c,w=m)}if(0===w)return this.feasible=!0,b;for(var T=0,a=-1/0,p=D[0],d=D[w],u=1;u<=A;u++){var g=d[u];if(!0===this.unrestrictedVars[this.varIndexByCol[u]]||g<-this.precision){var M=-p[u]/g;a<M&&(a=M,T=u)}}if(0===T)return this.feasible=!1,b;if(y){S.push([this.varIndexByRow[w],this.varIndexByCol[T]]);var h=this.checkForCycles(S);if(h.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+h[0]),this.model.messages.push("Length :"+h[1]),this.feasible=!1,b}this.pivot(w,T),b+=1}},E.prototype.phase2=function(){for(var m,c,y=this.model.checkForCycles,S=[],D=this.matrix,k=this.rhsColumn,A=this.width-1,x=this.height-1,O=this.precision,b=this.optionalObjectives.length,w=null,v=0;;){var T=D[this.costRowIndex];b>0&&(w=[]);for(var a=0,p=O,d=!1,u=1;u<=A;u++)m=T[u],c=!0===this.unrestrictedVars[this.varIndexByCol[u]],b>0&&-O<m&&m<O?w.push(u):c&&m<0?-m>p&&(p=-m,a=u,d=!0):m>p&&(p=m,a=u,d=!1);if(b>0)for(var g=0;0===a&&w.length>0&&g<b;){var M=[],h=this.optionalObjectives[g].reducedCosts;p=O;for(var f=0;f<w.length;f++)c=!0===this.unrestrictedVars[this.varIndexByCol[u=w[f]]],-O<(m=h[u])&&m<O?M.push(u):c&&m<0?-m>p&&(p=-m,a=u,d=!0):m>p&&(p=m,a=u,d=!1);w=M,g+=1}if(0===a)return this.setEvaluation(),this.simplexIters+=1,v;for(var _=0,I=1/0,V=1;V<=x;V++){var j=D[V],$=j[k],G=j[a];if(!(-O<G&&G<O)){if(G>0&&O>$&&$>-O){I=0,_=V;break}var Z=d?-$/G:$/G;Z>O&&I>Z&&(I=Z,_=V)}}if(I===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[a],v;if(y){S.push([this.varIndexByRow[_],this.varIndexByCol[a]]);var ne=this.checkForCycles(S);if(ne.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+ne[0]),this.model.messages.push("Length :"+ne[1]),this.feasible=!1,v}this.pivot(_,a,!0),v+=1}};var P=[];E.prototype.pivot=function(y,S){var D=this.matrix,k=D[y][S],A=this.height-1,x=this.width-1,O=this.varIndexByRow[y],b=this.varIndexByCol[S];this.varIndexByRow[y]=b,this.varIndexByCol[S]=O,this.rowByVarIndex[b]=y,this.rowByVarIndex[O]=-1,this.colByVarIndex[b]=-1,this.colByVarIndex[O]=S;for(var w=D[y],v=0,m=0;m<=x;m++)w[m]>=-1e-16&&w[m]<=1e-16?w[m]=0:(w[m]/=k,P[v]=m,v+=1);w[S]=1/k;for(var c,T,a,d=0;d<=A;d++)if(d!==y&&!(D[d][S]>=-1e-16&&D[d][S]<=1e-16)){var u=D[d];if((c=u[S])>=-1e-16&&c<=1e-16)0!==c&&(u[S]=0);else{for(T=0;T<v;T++)(a=w[m=P[T]])>=-1e-16&&a<=1e-16?0!==a&&(w[m]=0):u[m]=u[m]-c*a;u[S]=-c/k}}var g=this.optionalObjectives.length;if(g>0)for(var M=0;M<g;M+=1){var h=this.optionalObjectives[M].reducedCosts;if(0!==(c=h[S])){for(T=0;T<v;T++)0!==(a=w[m=P[T]])&&(h[m]=h[m]-c*a);h[S]=-c/k}}},E.prototype.checkForCycles=function(y){for(var S=0;S<y.length-1;S++)for(var D=S+1;D<y.length;D++){var k=y[S],A=y[D];if(k[0]===A[0]&&k[1]===A[1]){if(D-S>y.length-D)break;for(var x=!0,O=1;O<D-S;O++){var b=y[S+O],w=y[D+O];if(b[0]!==w[0]||b[1]!==w[1]){x=!1;break}}if(x)return[S,D-S]}}return[]}},528:(ut,J)=>{J.CleanObjectiveAttributes=function(L){var E,P,y;if("string"==typeof L.optimize){if(L.constraints[L.optimize]){for(P in E=Math.random(),L.variables)L.variables[P][L.optimize]&&(L.variables[P][E]=L.variables[P][L.optimize]);return L.constraints[E]=L.constraints[L.optimize],delete L.constraints[L.optimize],L}return L}for(y in L.optimize)if(L.constraints[y])if("equal"===L.constraints[y])delete L.optimize[y];else{for(P in E=Math.random(),L.variables)L.variables[P][y]&&(L.variables[P][E]=L.variables[P][y]);L.constraints[E]=L.constraints[y],delete L.constraints[y]}return L}},413:ut=>{function J(k,A,x,O){this.id=k,this.cost=A,this.index=x,this.value=0,this.priority=O}function L(k,A,x,O){J.call(this,k,A,x,O)}function E(k,A){J.call(this,k,0,A,0)}function P(k,A){this.variable=k,this.coefficient=A}function y(k,A,x){return 0===x||"required"===x?null:(A=A||1,x=x||1,!1===k.isMinimization&&(A=-A),k.addVariable(A,"r"+k.relaxationIndex++,!1,!1,x))}function S(k,A,x,O){this.slack=new E("s"+x,x),this.index=x,this.model=O,this.rhs=k,this.isUpperBound=A,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function D(k,A){this.upperBound=k,this.lowerBound=A,this.model=k.model,this.rhs=k.rhs,this.relaxation=null}L.prototype.isInteger=!0,E.prototype.isSlack=!0,S.prototype.addTerm=function(k,A){var x=A.index,O=this.termsByVarIndex[x];return void 0===O?(O=new P(A,k),this.termsByVarIndex[x]=O,this.terms.push(O),!0===this.isUpperBound&&(k=-k),this.model.updateConstraintCoefficient(this,A,k)):this.setVariableCoefficient(O.coefficient+k,A),this},S.prototype.removeTerm=function(k){return this},S.prototype.setRightHandSide=function(k){if(k!==this.rhs){var A=k-this.rhs;!0===this.isUpperBound&&(A=-A),this.rhs=k,this.model.updateRightHandSide(this,A)}return this},S.prototype.setVariableCoefficient=function(k,A){var x=A.index;if(-1!==x){var O=this.termsByVarIndex[x];if(void 0===O)this.addTerm(k,A);else if(k!==O.coefficient){var b=k-O.coefficient;!0===this.isUpperBound&&(b=-b),O.coefficient=k,this.model.updateConstraintCoefficient(this,A,b)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},S.prototype.relax=function(k,A){this.relaxation=y(this.model,k,A),this._relax(this.relaxation)},S.prototype._relax=function(k){null!==k&&this.setVariableCoefficient(this.isUpperBound?-1:1,k)},D.prototype.isEquality=!0,D.prototype.addTerm=function(k,A){return this.upperBound.addTerm(k,A),this.lowerBound.addTerm(k,A),this},D.prototype.removeTerm=function(k){return this.upperBound.removeTerm(k),this.lowerBound.removeTerm(k),this},D.prototype.setRightHandSide=function(k){this.upperBound.setRightHandSide(k),this.lowerBound.setRightHandSide(k),this.rhs=k},D.prototype.relax=function(k,A){this.relaxation=y(this.model,k,A),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},ut.exports={Constraint:S,Variable:J,IntegerVariable:L,SlackVariable:E,Equality:D,Term:P}},328:(ut,J,L)=>{var P,y=L(403),S=L(595),D=L(96),k=L(413),A=L(528),x=k.Constraint,O=k.Variable,b=k.Numeral,w=k.Term,v=L(636),m=function(){"use strict";this.Model=S,this.branchAndCut=D,this.Constraint=x,this.Variable=O,this.Numeral=b,this.Term=w,this.Tableau=y,this.lastSolvedModel=null,this.External=v,this.Solve=function(c,T,a,p){if(p)for(var d in A)c=A[d](c);if(!c)throw new Error("Solver requires a model to operate on");if("object"==typeof c.optimize&&Object.keys(c.optimize>1))return L(813)(this,c);if(c.external){var u=Object.keys(v);if(u=JSON.stringify(u),!c.external.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+u);if(!v[c.external.solver])throw new Error("No support (yet) for "+c.external.solver+". Please use one of these instead:"+u);return v[c.external.solver].solve(c)}c instanceof S||(c=new S(T).loadJson(c));var g=c.solve();if(this.lastSolvedModel=c,g.solutionSet=g.generateSolutionSet(),a)return g;var M={};return M.feasible=g.feasible,M.result=g.evaluation,M.bounded=g.bounded,g._tableau.__isIntegral&&(M.isIntegral=!0),Object.keys(g.solutionSet).forEach(function(h){0!==g.solutionSet[h]&&(M[h]=g.solutionSet[h])}),M},this.ReformatLP=L(635),this.MultiObjective=function(c){return L(813)(this,c)}};void 0!==(P=function(){return new m}.apply(J,[]))&&(ut.exports=P),ut.exports=new m},21:function(ut){"use strict";ut.exports=function(J){var L={};function E(P){if(L[P])return L[P].exports;var y=L[P]={i:P,l:!1,exports:{}};return J[P].call(y.exports,y,y.exports,E),y.l=!0,y.exports}return E.m=J,E.c=L,E.d=function(P,y,S){E.o(P,y)||Object.defineProperty(P,y,{configurable:!1,enumerable:!0,get:S})},E.n=function(P){var y=P&&P.__esModule?function(){return P.default}:function(){return P};return E.d(y,"a",y),y},E.o=function(P,y){return Object.prototype.hasOwnProperty.call(P,y)},E.p="",E(E.s=123)}([function(J,L,E){L.__esModule=!0,L.default=function(P,y){if(!(P instanceof y))throw new TypeError("Cannot call a class as a function")}},function(J,L,E){L.__esModule=!0;var D,y=(D=E(169))&&D.__esModule?D:{default:D};L.default=function(){function D(k,A){for(var x=0;x<A.length;x++){var O=A[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),(0,y.default)(k,O.key,O)}}return function(k,A,x){return A&&D(k.prototype,A),x&&D(k,x),k}}()},function(J,L,E){var y=b(E(77)),D=b(E(29)),A=b(E(8)),O=b(E(6));function b(a){return a&&a.__esModule?a:{default:a}}var w=E(9),v=E(157);function m(a,p,d,u){var g=!1;!0===u&&(g=null===p[d]&&void 0!==a[d]),g?delete a[d]:a[d]=p[d]}L.isNumber=function(a){return a instanceof Number||"number"==typeof a},L.recursiveDOMDelete=function(a){if(a)for(;!0===a.hasChildNodes();)L.recursiveDOMDelete(a.firstChild),a.removeChild(a.firstChild)},L.giveRange=function(a,p,d,u){return p==a?.5:Math.max(0,1/(p-a)*(u-a))},L.isString=function(a){return a instanceof String||"string"==typeof a},L.isDate=function(a){if(a instanceof Date)return!0;if(L.isString(a)){if(c.exec(a))return!0;if(!isNaN(Date.parse(a)))return!0}return!1},L.randomUUID=function(){return v.v4()},L.assignAllKeys=function(a,p){for(var d in a)a.hasOwnProperty(d)&&"object"!==(0,O.default)(a[d])&&(a[d]=p)},L.fillIfDefined=function(a,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var u in a)void 0!==p[u]&&(null===p[u]||"object"!==(0,O.default)(p[u])?m(a,p,u,d):"object"===(0,O.default)(a[u])&&L.fillIfDefined(a[u],p[u],d))},L.extend=function(a,p){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var g in u)u.hasOwnProperty(g)&&(a[g]=u[g])}return a},L.selectiveExtend=function(a,p,d){if(!Array.isArray(a))throw new Error("Array with property names expected as first argument");for(var u=2;u<arguments.length;u++)for(var g=arguments[u],M=0;M<a.length;M++){var h=a[M];g&&g.hasOwnProperty(h)&&(p[h]=g[h])}return p},L.selectiveDeepExtend=function(a,p,d){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(d))throw new TypeError("Arrays are not supported by deepExtend");for(var g=0;g<a.length;g++){var M=a[g];if(d.hasOwnProperty(M))if(d[M]&&d[M].constructor===Object)void 0===p[M]&&(p[M]={}),p[M].constructor===Object?L.deepExtend(p[M],d[M],!1,u):m(p,d,M,u);else{if(Array.isArray(d[M]))throw new TypeError("Arrays are not supported by deepExtend");m(p,d,M,u)}}return p},L.selectiveNotDeepExtend=function(a,p,d){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(d))throw new TypeError("Arrays are not supported by deepExtend");for(var g in d)if(d.hasOwnProperty(g)&&-1===a.indexOf(g))if(d[g]&&d[g].constructor===Object)void 0===p[g]&&(p[g]={}),p[g].constructor===Object?L.deepExtend(p[g],d[g]):m(p,d,g,u);else if(Array.isArray(d[g])){p[g]=[];for(var M=0;M<d[g].length;M++)p[g].push(d[g][M])}else m(p,d,g,u);return p},L.deepExtend=function(a,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var g in p)if(p.hasOwnProperty(g)||!0===d)if(p[g]&&p[g].constructor===Object)void 0===a[g]&&(a[g]={}),a[g].constructor===Object?L.deepExtend(a[g],p[g],d):m(a,p,g,u);else if(Array.isArray(p[g])){a[g]=[];for(var M=0;M<p[g].length;M++)a[g].push(p[g][M])}else m(a,p,g,u);return a},L.equalArray=function(a,p){if(a.length!=p.length)return!1;for(var d=0,u=a.length;d<u;d++)if(a[d]!=p[d])return!1;return!0},L.convert=function(a,p){var d;if(void 0!==a){if(null===a)return null;if(!p)return a;if("string"!=typeof p&&!(p instanceof String))throw new Error("Type must be a string");switch(p){case"boolean":case"Boolean":return Boolean(a);case"number":case"Number":return L.isString(a)&&!isNaN(Date.parse(a))?w(a).valueOf():Number(a.valueOf());case"string":case"String":return String(a);case"Date":if(L.isNumber(a))return new Date(a);if(a instanceof Date)return new Date(a.valueOf());if(w.isMoment(a))return new Date(a.valueOf());if(L.isString(a))return(d=c.exec(a))?new Date(Number(d[1])):w(new Date(a)).toDate();throw new Error("Cannot convert object of type "+L.getType(a)+" to type Date");case"Moment":if(L.isNumber(a))return w(a);if(a instanceof Date)return w(a.valueOf());if(w.isMoment(a))return w(a);if(L.isString(a))return d=c.exec(a),w(d?Number(d[1]):a);throw new Error("Cannot convert object of type "+L.getType(a)+" to type Date");case"ISODate":if(L.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(w.isMoment(a))return a.toDate().toISOString();if(L.isString(a))return(d=c.exec(a))?new Date(Number(d[1])).toISOString():w(a).format();throw new Error("Cannot convert object of type "+L.getType(a)+" to type ISODate");case"ASPDate":if(L.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(L.isString(a))return"/Date("+((d=c.exec(a))?new Date(Number(d[1])).valueOf():new Date(a).valueOf())+")/";throw new Error("Cannot convert object of type "+L.getType(a)+" to type ASPDate");default:throw new Error('Unknown type "'+p+'"')}}};var c=/^\/?Date\((\-?\d+)/i;L.getType=function(a){var p=void 0===a?"undefined":(0,O.default)(a);return"object"==p?null===a?"null":a instanceof Boolean?"Boolean":a instanceof Number?"Number":a instanceof String?"String":Array.isArray(a)?"Array":a instanceof Date?"Date":"Object":"number"==p?"Number":"boolean"==p?"Boolean":"string"==p?"String":void 0===p?"undefined":p},L.copyAndExtendArray=function(a,p){for(var d=[],u=0;u<a.length;u++)d.push(a[u]);return d.push(p),d},L.copyArray=function(a){for(var p=[],d=0;d<a.length;d++)p.push(a[d]);return p},L.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left},L.getAbsoluteRight=function(a){return a.getBoundingClientRect().right},L.getAbsoluteTop=function(a){return a.getBoundingClientRect().top},L.addClassName=function(a,p){var d=a.className.split(" "),u=p.split(" ");d=d.concat(u.filter(function(g){return d.indexOf(g)<0})),a.className=d.join(" ")},L.removeClassName=function(a,p){var d=a.className.split(" "),u=p.split(" ");d=d.filter(function(g){return u.indexOf(g)<0}),a.className=d.join(" ")},L.forEach=function(a,p){var d,u;if(Array.isArray(a))for(d=0,u=a.length;d<u;d++)p(a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&p(a[d],d,a)},L.toArray=function(a){var p=[];for(var d in a)a.hasOwnProperty(d)&&p.push(a[d]);return p},L.updateProperty=function(a,p,d){return a[p]!==d&&(a[p]=d,!0)},L.throttle=function(a){var p=!1;return function(){p||(p=!0,requestAnimationFrame(function(){p=!1,a()}))}},L.addEventListener=function(a,p,d,u){a.addEventListener?(void 0===u&&(u=!1),"mousewheel"===p&&navigator.userAgent.indexOf("Firefox")>=0&&(p="DOMMouseScroll"),a.addEventListener(p,d,u)):a.attachEvent("on"+p,d)},L.removeEventListener=function(a,p,d,u){a.removeEventListener?(void 0===u&&(u=!1),"mousewheel"===p&&navigator.userAgent.indexOf("Firefox")>=0&&(p="DOMMouseScroll"),a.removeEventListener(p,d,u)):a.detachEvent("on"+p,d)},L.preventDefault=function(a){a||(a=window.event),a.preventDefault?a.preventDefault():a.returnValue=!1},L.getTarget=function(a){var p;return a||(a=window.event),a.target?p=a.target:a.srcElement&&(p=a.srcElement),null!=p.nodeType&&3==p.nodeType&&(p=p.parentNode),p},L.hasParent=function(a,p){for(var d=a;d;){if(d===p)return!0;d=d.parentNode}return!1},L.option={},L.option.asBoolean=function(a,p){return"function"==typeof a&&(a=a()),null!=a?0!=a:p||null},L.option.asNumber=function(a,p){return"function"==typeof a&&(a=a()),null!=a?Number(a)||p||null:p||null},L.option.asString=function(a,p){return"function"==typeof a&&(a=a()),null!=a?String(a):p||null},L.option.asSize=function(a,p){return"function"==typeof a&&(a=a()),L.isString(a)?a:L.isNumber(a)?a+"px":p||null},L.option.asElement=function(a,p){return"function"==typeof a&&(a=a()),a||p||null},L.hexToRGB=function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,g,M,h){return g+g+M+M+h+h});var d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16)}:null},L.overrideOpacity=function(a,p){var d;return-1!=a.indexOf("rgba")?a:-1!=a.indexOf("rgb")?"rgba("+(d=a.substr(a.indexOf("(")+1).replace(")","").split(","))[0]+","+d[1]+","+d[2]+","+p+")":null==(d=L.hexToRGB(a))?a:"rgba("+d.r+","+d.g+","+d.b+","+p+")"},L.RGBToHex=function(a,p,d){return"#"+((1<<24)+(a<<16)+(p<<8)+d).toString(16).slice(1)},L.parseColor=function(a){var p;if(!0===L.isString(a)){if(!0===L.isValidRGB(a)){var d=a.substr(4).substr(0,a.length-5).split(",").map(function(_){return parseInt(_)});a=L.RGBToHex(d[0],d[1],d[2])}if(!0===L.isValidHex(a)){var u=L.hexToHSV(a),g={h:u.h,s:.8*u.s,v:Math.min(1,1.02*u.v)},M={h:u.h,s:Math.min(1,1.25*u.s),v:.8*u.v},h=L.HSVToHex(M.h,M.s,M.v),f=L.HSVToHex(g.h,g.s,g.v);p={background:a,border:h,highlight:{background:f,border:h},hover:{background:f,border:h}}}else p={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}}}else(p={}).background=a.background||void 0,p.border=a.border||void 0,L.isString(a.highlight)?p.highlight={border:a.highlight,background:a.highlight}:(p.highlight={},p.highlight.background=a.highlight&&a.highlight.background||void 0,p.highlight.border=a.highlight&&a.highlight.border||void 0),L.isString(a.hover)?p.hover={border:a.hover,background:a.hover}:(p.hover={},p.hover.background=a.hover&&a.hover.background||void 0,p.hover.border=a.hover&&a.hover.border||void 0);return p},L.RGBToHSV=function(a,p,d){a/=255,p/=255,d/=255;var u=Math.min(a,Math.min(p,d)),g=Math.max(a,Math.max(p,d));return u==g?{h:0,s:0,v:u}:{h:60*((a==u?3:d==u?1:5)-(a==u?p-d:d==u?a-p:d-a)/(g-u))/360,s:(g-u)/g,v:g}};var T_split=function(p){var d={};return p.split(";").forEach(function(u){if(""!=u.trim()){var g=u.split(":"),M=g[0].trim(),h=g[1].trim();d[M]=h}}),d},T_join=function(p){return(0,A.default)(p).map(function(d){return d+": "+p[d]}).join("; ")};L.addCssText=function(a,p){var d=T_split(a.style.cssText),u=T_split(p),g=L.extend(d,u);a.style.cssText=T_join(g)},L.removeCssText=function(a,p){var d=T_split(a.style.cssText),u=T_split(p);for(var g in u)u.hasOwnProperty(g)&&delete d[g];a.style.cssText=T_join(d)},L.HSVToRGB=function(a,p,d){var u,g,M,h=Math.floor(6*a),f=6*a-h,_=d*(1-p),I=d*(1-f*p),F=d*(1-(1-f)*p);switch(h%6){case 0:u=d,g=F,M=_;break;case 1:u=I,g=d,M=_;break;case 2:u=_,g=d,M=F;break;case 3:u=_,g=I,M=d;break;case 4:u=F,g=_,M=d;break;case 5:u=d,g=_,M=I}return{r:Math.floor(255*u),g:Math.floor(255*g),b:Math.floor(255*M)}},L.HSVToHex=function(a,p,d){var u=L.HSVToRGB(a,p,d);return L.RGBToHex(u.r,u.g,u.b)},L.hexToHSV=function(a){var p=L.hexToRGB(a);return L.RGBToHSV(p.r,p.g,p.b)},L.isValidHex=function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},L.isValidRGB=function(a){return a=a.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a)},L.isValidRGBA=function(a){return a=a.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(a)},L.selectiveBridgeObject=function(a,p){if(null!==p&&"object"===(void 0===p?"undefined":(0,O.default)(p))){for(var d=(0,D.default)(p),u=0;u<a.length;u++)p.hasOwnProperty(a[u])&&"object"==(0,O.default)(p[a[u]])&&(d[a[u]]=L.bridgeObject(p[a[u]]));return d}return null},L.bridgeObject=function(a){if(null!==a&&"object"===(void 0===a?"undefined":(0,O.default)(a))){var p=(0,D.default)(a);if(a instanceof Element)p=a;else for(var d in p=(0,D.default)(a),a)a.hasOwnProperty(d)&&"object"==(0,O.default)(a[d])&&(p[d]=L.bridgeObject(a[d]));return p}return null},L.insertSort=function(a,p){for(var d=0;d<a.length;d++){for(var u=a[d],g=d;g>0&&p(u,a[g-1])<0;g--)a[g]=a[g-1];a[g]=u}return a},L.mergeOptions=function(a,p,d){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=function(G){return null!=G},M=function(G){return null!==G&&"object"===(void 0===G?"undefined":(0,O.default)(G))},h=function(G){for(var Z in G)if(G.hasOwnProperty(Z))return!1;return!0};if(!M(a))throw new Error("Parameter mergeTarget must be an object");if(!M(p))throw new Error("Parameter options must be an object");if(!g(d))throw new Error("Parameter option must have a value");if(!M(u))throw new Error("Parameter globalOptions must be an object");var f=function(G,Z,ne){M(G[ne])||(G[ne]={});var oe=Z[ne],le=G[ne];for(var pe in oe)oe.hasOwnProperty(pe)&&(le[pe]=oe[pe])},_=p[d],F=M(u)&&!h(u)?u[d]:void 0,V=F?F.enabled:void 0;if(void 0!==_){if("boolean"==typeof _)return M(a[d])||(a[d]={}),void(a[d].enabled=_);if(null===_&&!M(a[d])){if(!g(F))return;a[d]=(0,D.default)(F)}if(M(_)){var j=!0;void 0!==_.enabled?j=_.enabled:void 0!==V&&(j=F.enabled),f(a,p,d),a[d].enabled=j}}},L.binarySearchCustom=function(a,p,d,u){for(var M=0,h=0,f=a.length-1;h<=f&&M<1e4;){var _=Math.floor((h+f)/2),I=a[_],V=p(void 0===u?I[d]:I[d][u]);if(0==V)return _;-1==V?h=_+1:f=_-1,M++}return-1},L.binarySearchValue=function(a,p,d,u,g){var I,F,V,j,h=0,f=0,_=a.length-1;for(g=null!=g?g:function($,G){return $==G?0:$<G?-1:1};f<=_&&h<1e4;){if(j=Math.floor(.5*(_+f)),I=a[Math.max(0,j-1)][d],F=a[j][d],V=a[Math.min(a.length-1,j+1)][d],0==g(F,p))return j;if(g(I,p)<0&&g(F,p)>0)return"before"==u?Math.max(0,j-1):j;if(g(F,p)<0&&g(V,p)>0)return"before"==u?j:Math.min(a.length-1,j+1);g(F,p)<0?f=j+1:_=j-1,h++}return-1},L.easingFunctions={linear:function(p){return p},easeInQuad:function(p){return p*p},easeOutQuad:function(p){return p*(2-p)},easeInOutQuad:function(p){return p<.5?2*p*p:(4-2*p)*p-1},easeInCubic:function(p){return p*p*p},easeOutCubic:function(p){return--p*p*p+1},easeInOutCubic:function(p){return p<.5?4*p*p*p:(p-1)*(2*p-2)*(2*p-2)+1},easeInQuart:function(p){return p*p*p*p},easeOutQuart:function(p){return 1- --p*p*p*p},easeInOutQuart:function(p){return p<.5?8*p*p*p*p:1-8*--p*p*p*p},easeInQuint:function(p){return p*p*p*p*p},easeOutQuint:function(p){return 1+--p*p*p*p*p},easeInOutQuint:function(p){return p<.5?16*p*p*p*p*p:1+16*--p*p*p*p*p}},L.getScrollBarWidth=function(){var a=document.createElement("p");a.style.width="100%",a.style.height="200px";var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left="0px",p.style.visibility="hidden",p.style.width="200px",p.style.height="150px",p.style.overflow="hidden",p.appendChild(a),document.body.appendChild(p);var d=a.offsetWidth;p.style.overflow="scroll";var u=a.offsetWidth;return d==u&&(u=p.clientWidth),document.body.removeChild(p),d-u},L.topMost=function(a,p){var d=void 0;Array.isArray(p)||(p=[p]);var u=!0,g=!1,M=void 0;try{for(var f,h=(0,y.default)(a);!(u=(f=h.next()).done);u=!0){var _=f.value;if(_){d=_[p[0]];for(var I=1;I<p.length;I++)d&&(d=d[p[I]]);if(void 0!==d)break}}}catch(F){g=!0,M=F}finally{try{!u&&h.return&&h.return()}finally{if(g)throw M}}return d}},function(J,L,E){J.exports={default:E(194),__esModule:!0}},function(J,L,E){L.__esModule=!0;var D,y=(D=E(6))&&D.__esModule?D:{default:D};L.default=function(D,k){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!==(void 0===k?"undefined":(0,y.default)(k))&&"function"!=typeof k?D:k}},function(J,L,E){L.__esModule=!0;var y=x(E(196)),D=x(E(29)),A=x(E(6));function x(O){return O&&O.__esModule?O:{default:O}}L.default=function(O,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":(0,A.default)(b)));O.prototype=(0,D.default)(b&&b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),b&&(y.default?(0,y.default)(O,b):O.__proto__=b)}},function(J,L,E){L.__esModule=!0;var y=A(E(142)),D=A(E(144)),k="function"==typeof D.default&&"symbol"==typeof y.default?function(x){return typeof x}:function(x){return x&&"function"==typeof D.default&&x.constructor===D.default&&x!==D.default.prototype?"symbol":typeof x};function A(x){return x&&x.__esModule?x:{default:x}}L.default="function"==typeof D.default&&"symbol"===k(y.default)?function(x){return void 0===x?"undefined":k(x)}:function(x){return x&&"function"==typeof D.default&&x.constructor===D.default&&x!==D.default.prototype?"symbol":void 0===x?"undefined":k(x)}},function(J,L){var E=J.exports={version:"2.5.1"};"number"==typeof __e&&(__e=E)},function(J,L,E){J.exports={default:E(140),__esModule:!0}},function(J,L,E){J.exports="undefined"!=typeof window&&window.moment||E(154)},function(J,L,E){if("undefined"!=typeof window){var y=E(175),S=window.Hammer||E(176);J.exports=y(S,{preventDefault:"mouse"})}else J.exports=function(){return{on:D=function(){},off:D,destroy:D,emit:D,get:function(A){return{set:D}}};var D}},function(J,L,E){var y=x(E(19)),D=x(E(6)),A=x(E(8));function x(v){return v&&v.__esModule?v:{default:v}}var O=E(2),b=E(43);function w(v,m){if(v&&!Array.isArray(v)&&(m=v,v=null),this._options=m||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var c=(0,A.default)(this._options.type),T=0,a=c.length;T<a;T++){var p=c[T],d=this._options.type[p];this._type[p]="Date"==d||"ISODate"==d||"ASPDate"==d?"Date":d}this._subscribers={},v&&this.add(v),this.setOptions(m)}w.prototype.setOptions=function(v){v&&void 0!==v.queue&&(!1===v.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=b.extend(this,{replace:["add","update","remove"]})),"object"===(0,D.default)(v.queue)&&this._queue.setOptions(v.queue)))},w.prototype.on=function(v,m){var c=this._subscribers[v];c||(this._subscribers[v]=c=[]),c.push({callback:m})},w.prototype.off=function(v,m){var c=this._subscribers[v];c&&(this._subscribers[v]=c.filter(function(T){return T.callback!=m}))},w.prototype._trigger=function(v,m,c){if("*"==v)throw new Error("Cannot trigger event *");var T=[];v in this._subscribers&&(T=T.concat(this._subscribers[v])),"*"in this._subscribers&&(T=T.concat(this._subscribers["*"]));for(var a=0,p=T.length;a<p;a++){var d=T[a];d.callback&&d.callback(v,m,c||null)}},w.prototype.add=function(v,m){var T,c=[];if(Array.isArray(v))for(var p=0,d=v.length;p<d;p++)T=this._addItem(v[p]),c.push(T);else{if(!v||"object"!==(void 0===v?"undefined":(0,D.default)(v)))throw new Error("Unknown dataType");T=this._addItem(v),c.push(T)}return c.length&&this._trigger("add",{items:c},m),c},w.prototype.update=function(v,m){var c=[],T=[],a=[],p=[],d=this,u=d._fieldId,g=function(I){var F=I[u];if(d._data[F]){var V=O.extend({},d._data[F]);F=d._updateItem(I),T.push(F),p.push(I),a.push(V)}else F=d._addItem(I),c.push(F)};if(Array.isArray(v))for(var M=0,h=v.length;M<h;M++)v[M]&&"object"===(0,D.default)(v[M])?g(v[M]):console.warn("Ignoring input item, which is not an object at index "+M);else{if(!v||"object"!==(void 0===v?"undefined":(0,D.default)(v)))throw new Error("Unknown dataType");g(v)}return c.length&&this._trigger("add",{items:c},m),T.length&&this._trigger("update",{items:T,oldData:a,data:p},m),c.concat(T)},w.prototype.get=function(v){var c,T,a,d,m=this,p=O.getType(arguments[0]);"String"==p||"Number"==p?(c=arguments[0],a=arguments[1]):"Array"==p?(T=arguments[0],a=arguments[1]):a=arguments[0],d=a&&a.returnType?-1==["Array","Object"].indexOf(a.returnType)?"Array":a.returnType:"Array";var f,_,F,V,g=a&&a.type||this._options.type,M=a&&a.filter,h=[];if(null!=c)(f=m._getItem(c,g))&&M&&!M(f)&&(f=null);else if(null!=T)for(F=0,V=T.length;F<V;F++)f=m._getItem(T[F],g),(!M||M(f))&&h.push(f);else for(F=0,V=(_=(0,A.default)(this._data)).length;F<V;F++)f=m._getItem(_[F],g),(!M||M(f))&&h.push(f);if(a&&a.order&&null==c&&this._sort(h,a.order),a&&a.fields){var j=a.fields;if(null!=c)f=this._filterFields(f,j);else for(F=0,V=h.length;F<V;F++)h[F]=this._filterFields(h[F],j)}if("Object"==d){var G,$={};for(F=0,V=h.length;F<V;F++)$[(G=h[F]).id]=G;return $}return null!=c?f:h},w.prototype.getIds=function(v){var d,u,M,h,m=this._data,c=v&&v.filter,T=v&&v.order,a=v&&v.type||this._options.type,p=(0,A.default)(m),f=[];if(c)if(T){for(h=[],d=0,u=p.length;d<u;d++)c(M=this._getItem(p[d],a))&&h.push(M);for(this._sort(h,T),d=0,u=h.length;d<u;d++)f.push(h[d][this._fieldId])}else for(d=0,u=p.length;d<u;d++)c(M=this._getItem(p[d],a))&&f.push(M[this._fieldId]);else if(T){for(h=[],d=0,u=p.length;d<u;d++)h.push(m[p[d]]);for(this._sort(h,T),d=0,u=h.length;d<u;d++)f.push(h[d][this._fieldId])}else for(d=0,u=p.length;d<u;d++)f.push((M=m[p[d]])[this._fieldId]);return f},w.prototype.getDataSet=function(){return this},w.prototype.forEach=function(v,m){var d,u,g,M,c=m&&m.filter,T=m&&m.type||this._options.type,p=(0,A.default)(this._data);if(m&&m.order){var h=this.get(m);for(d=0,u=h.length;d<u;d++)v(g=h[d],M=g[this._fieldId])}else for(d=0,u=p.length;d<u;d++)g=this._getItem(M=p[d],T),(!c||c(g))&&v(g,M)},w.prototype.map=function(v,m){var u,g,M,h,c=m&&m.filter,T=m&&m.type||this._options.type,a=[],d=(0,A.default)(this._data);for(u=0,g=d.length;u<g;u++)h=this._getItem(M=d[u],T),(!c||c(h))&&a.push(v(h,M));return m&&m.order&&this._sort(a,m.order),a},w.prototype._filterFields=function(v,m){if(!v)return v;var p,d,c={},T=(0,A.default)(v),a=T.length;if(Array.isArray(m))for(p=0;p<a;p++)-1!=m.indexOf(d=T[p])&&(c[d]=v[d]);else for(p=0;p<a;p++)m.hasOwnProperty(d=T[p])&&(c[m[d]]=v[d]);return c},w.prototype._sort=function(v,m){if(O.isString(m)){var c=m;v.sort(function(T,a){var p=T[c],d=a[c];return p>d?1:p<d?-1:0})}else{if("function"!=typeof m)throw new TypeError("Order must be a function or a string");v.sort(m)}},w.prototype.remove=function(v,m){var p,d,u,g,a,c=[],T=[];for(p=0,d=(a=Array.isArray(v)?v:[v]).length;p<d;p++)(g=this._remove(a[p]))&&null!=(u=g[this._fieldId])&&(c.push(u),T.push(g));return c.length&&this._trigger("remove",{items:c,oldData:T},m),c},w.prototype._remove=function(v){var m,c;return O.isNumber(v)||O.isString(v)?c=v:v&&"object"===(void 0===v?"undefined":(0,D.default)(v))&&(c=v[this._fieldId]),void 0!==c&&this._data[c]?(m=this._data[c],delete this._data[c],this.length--,m):null},w.prototype.clear=function(v){var m,c,T=(0,A.default)(this._data),a=[];for(m=0,c=T.length;m<c;m++)a.push(this._data[T[m]]);return this._data={},this.length=0,this._trigger("remove",{items:T,oldData:a},v),T},w.prototype.max=function(v){var p,d,m=this._data,c=(0,A.default)(m),T=null,a=null;for(p=0,d=c.length;p<d;p++){var g=m[c[p]],M=g[v];null!=M&&(!T||M>a)&&(T=g,a=M)}return T},w.prototype.min=function(v){var p,d,m=this._data,c=(0,A.default)(m),T=null,a=null;for(p=0,d=c.length;p<d;p++){var g=m[c[p]],M=g[v];null!=M&&(!T||M<a)&&(T=g,a=M)}return T},w.prototype.distinct=function(v){var d,u,g,m=this._data,c=(0,A.default)(m),T=[],a=this._options.type&&this._options.type[v]||null,p=0;for(d=0,g=c.length;d<g;d++){var f=m[c[d]][v],_=!1;for(u=0;u<p;u++)if(T[u]==f){_=!0;break}!_&&void 0!==f&&(T[p]=f,p++)}if(a)for(d=0,g=T.length;d<g;d++)T[d]=O.convert(T[d],a);return T},w.prototype._addItem=function(v){var m=v[this._fieldId];if(null!=m){if(this._data[m])throw new Error("Cannot add item: item with id "+m+" already exists")}else m=O.randomUUID(),v[this._fieldId]=m;var a,p,c={},T=(0,A.default)(v);for(a=0,p=T.length;a<p;a++){var d=T[a];c[d]=O.convert(v[d],this._type[d])}return this._data[m]=c,this.length++,m},w.prototype._getItem=function(v,m){var c,a,p,d=this._data[v];if(!d)return null;var u={},g=(0,A.default)(d);if(m)for(a=0,p=g.length;a<p;a++)u[c=g[a]]=O.convert(d[c],m[c]);else for(a=0,p=g.length;a<p;a++)u[c=g[a]]=d[c];return u[this._fieldId]||(u[this._fieldId]=d.id),u},w.prototype._updateItem=function(v){var m=v[this._fieldId];if(null==m)throw new Error("Cannot update item: item has no id (item: "+(0,y.default)(v)+")");var c=this._data[m];if(!c)throw new Error("Cannot update item: no item with id "+m+" found");for(var T=(0,A.default)(v),a=0,p=T.length;a<p;a++){var d=T[a];c[d]=O.convert(v[d],this._type[d])}return m},J.exports=w},function(J,L,E){var x,y=(x=E(8))&&x.__esModule?x:{default:x};var D=E(2),k=E(11);function A(x,O){this._data=null,this._ids={},this.length=0,this._options=O||{},this._fieldId="id",this._subscribers={};var b=this;this.listener=function(){b._onEvent.apply(b,arguments)},this.setData(x)}A.prototype.setData=function(x){var O,w,v,m;if(this._data){for(this._data.off&&this._data.off("*",this.listener),m=[],w=0,v=(O=this._data.getIds({filter:this._options&&this._options.filter})).length;w<v;w++)m.push(this._data._data[O[w]]);this._ids={},this.length=0,this._trigger("remove",{items:O,oldData:m})}if(this._data=x,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",w=0,v=(O=this._data.getIds({filter:this._options&&this._options.filter})).length;w<v;w++)this._ids[O[w]]=!0;this.length=O.length,this._trigger("add",{items:O}),this._data.on&&this._data.on("*",this.listener)}},A.prototype.refresh=function(){var x,O,b,w=this._data.getIds({filter:this._options&&this._options.filter}),v=(0,y.default)(this._ids),m={},c=[],T=[],a=[];for(O=0,b=w.length;O<b;O++)m[x=w[O]]=!0,this._ids[x]||(c.push(x),this._ids[x]=!0);for(O=0,b=v.length;O<b;O++)m[x=v[O]]||(T.push(x),a.push(this._data._data[x]),delete this._ids[x]);this.length+=c.length-T.length,c.length&&this._trigger("add",{items:c}),T.length&&this._trigger("remove",{items:T,oldData:a})},A.prototype.get=function(x){var b,w,v,O=this,m=D.getType(arguments[0]);"String"==m||"Number"==m||"Array"==m?(b=arguments[0],w=arguments[1],v=arguments[2]):(w=arguments[0],v=arguments[1]);var c=D.extend({},this._options,w);this._options.filter&&w&&w.filter&&(c.filter=function(a){return O._options.filter(a)&&w.filter(a)});var T=[];return null!=b&&T.push(b),T.push(c),T.push(v),this._data&&this._data.get.apply(this._data,T)},A.prototype.getIds=function(x){var O;if(this._data){var b=this._options.filter;O=this._data.getIds({filter:x&&x.filter?b?function(m){return b(m)&&x.filter(m)}:x.filter:b,order:x&&x.order})}else O=[];return O},A.prototype.map=function(x,O){var b=[];if(this._data){var w=this._options.filter;b=this._data.map(x,{filter:O&&O.filter?w?function(c){return w(c)&&O.filter(c)}:O.filter:w,order:O&&O.order})}else b=[];return b},A.prototype.getDataSet=function(){for(var x=this;x instanceof A;)x=x._data;return x||null},A.prototype._onEvent=function(x,O,b){var w,v,m,T=O&&O.items,a=[],p=[],d=[],u=[],g=[],M=[];if(T&&this._data){switch(x){case"add":for(w=0,v=T.length;w<v;w++)this.get(m=T[w])&&(this._ids[m]=!0,a.push(m));break;case"update":for(w=0,v=T.length;w<v;w++)this.get(m=T[w])?this._ids[m]?(p.push(m),g.push(O.data[w]),u.push(O.oldData[w])):(this._ids[m]=!0,a.push(m)):this._ids[m]&&(delete this._ids[m],d.push(m),M.push(O.oldData[w]));break;case"remove":for(w=0,v=T.length;w<v;w++)this._ids[m=T[w]]&&(delete this._ids[m],d.push(m),M.push(O.oldData[w]))}this.length+=a.length-d.length,a.length&&this._trigger("add",{items:a},b),p.length&&this._trigger("update",{items:p,oldData:u,data:g},b),d.length&&this._trigger("remove",{items:d,oldData:M},b)}},A.prototype.on=k.prototype.on,A.prototype.off=k.prototype.off,A.prototype._trigger=k.prototype._trigger,A.prototype.subscribe=A.prototype.on,A.prototype.unsubscribe=A.prototype.off,J.exports=A},function(J,L,E){var P=E(57)("wks"),y=E(40),S=E(18).Symbol,D="function"==typeof S;(J.exports=function(A){return P[A]||(P[A]=D&&S[A]||(D?S:y)("Symbol."+A))}).store=P},function(J,L,E){L.prepareElements=function(P){for(var y in P)P.hasOwnProperty(y)&&(P[y].redundant=P[y].used,P[y].used=[])},L.cleanupElements=function(P){for(var y in P)if(P.hasOwnProperty(y)&&P[y].redundant){for(var S=0;S<P[y].redundant.length;S++)P[y].redundant[S].parentNode.removeChild(P[y].redundant[S]);P[y].redundant=[]}},L.resetElements=function(P){L.prepareElements(P),L.cleanupElements(P),L.prepareElements(P)},L.getSVGElement=function(P,y,S){var D;return y.hasOwnProperty(P)?y[P].redundant.length>0?(D=y[P].redundant[0],y[P].redundant.shift()):(D=document.createElementNS("http://www.w3.org/2000/svg",P),S.appendChild(D)):(D=document.createElementNS("http://www.w3.org/2000/svg",P),y[P]={used:[],redundant:[]},S.appendChild(D)),y[P].used.push(D),D},L.getDOMElement=function(P,y,S,D){var k;return y.hasOwnProperty(P)?y[P].redundant.length>0?(k=y[P].redundant[0],y[P].redundant.shift()):(k=document.createElement(P),void 0!==D?S.insertBefore(k,D):S.appendChild(k)):(k=document.createElement(P),y[P]={used:[],redundant:[]},void 0!==D?S.insertBefore(k,D):S.appendChild(k)),y[P].used.push(k),k},L.drawPoint=function(P,y,S,D,k,A){var x;if("circle"==S.style?((x=L.getSVGElement("circle",D,k)).setAttributeNS(null,"cx",P),x.setAttributeNS(null,"cy",y),x.setAttributeNS(null,"r",.5*S.size)):((x=L.getSVGElement("rect",D,k)).setAttributeNS(null,"x",P-.5*S.size),x.setAttributeNS(null,"y",y-.5*S.size),x.setAttributeNS(null,"width",S.size),x.setAttributeNS(null,"height",S.size)),void 0!==S.styles&&x.setAttributeNS(null,"style",S.styles),x.setAttributeNS(null,"class",S.className+" vis-point"),A){var O=L.getSVGElement("text",D,k);A.xOffset&&(P+=A.xOffset),A.yOffset&&(y+=A.yOffset),A.content&&(O.textContent=A.content),A.className&&O.setAttributeNS(null,"class",A.className+" vis-label"),O.setAttributeNS(null,"x",P),O.setAttributeNS(null,"y",y)}return x},L.drawBar=function(P,y,S,D,k,A,x,O){if(0!=D){D<0&&(y-=D*=-1);var b=L.getSVGElement("rect",A,x);b.setAttributeNS(null,"x",P-.5*S),b.setAttributeNS(null,"y",y),b.setAttributeNS(null,"width",S),b.setAttributeNS(null,"height",D),b.setAttributeNS(null,"class",k),O&&b.setAttributeNS(null,"style",O)}}},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0}),L.printStyle=void 0;var y=v(E(19)),D=v(E(6)),A=v(E(8)),O=v(E(0)),w=v(E(1));function v(d){return d&&d.__esModule?d:{default:d}}var m=E(2),c=!1,T=void 0,a="background: #FFeeee; color: #dd0000",p=function(){function d(){(0,O.default)(this,d)}return(0,w.default)(d,null,[{key:"validate",value:function(g,M,h){c=!1,T=M;var f=M;return void 0!==h&&(f=M[h]),d.parse(g,f,[]),c}},{key:"parse",value:function(g,M,h){for(var f in g)g.hasOwnProperty(f)&&d.check(f,g,M,h)}},{key:"check",value:function(g,M,h,f){if(void 0!==h[g]||void 0!==h.__any__){var _=g,I=!0;void 0===h[g]&&void 0!==h.__any__&&(_="__any__",I="object"===d.getType(M[g]));var F=h[_];I&&void 0!==F.__type__&&(F=F.__type__),d.checkFields(g,M,h,_,F,f)}else d.getSuggestion(g,h,f)}},{key:"checkFields",value:function(g,M,h,f,_,I){var F=function(G){console.log("%c"+G+d.printLocation(I,g),a)},V=d.getType(M[g]),j=_[V];void 0!==j?"array"===d.getType(j)&&-1===j.indexOf(M[g])?(F('Invalid option detected in "'+g+'". Allowed values are:'+d.print(j)+' not "'+M[g]+'". '),c=!0):"object"===V&&"__any__"!==f&&(I=m.copyAndExtendArray(I,g),d.parse(M[g],h[f],I)):void 0===_.any&&(F('Invalid type received for "'+g+'". Expected: '+d.print((0,A.default)(_))+". Received ["+V+'] "'+M[g]+'"'),c=!0)}},{key:"getType",value:function(g){var M=void 0===g?"undefined":(0,D.default)(g);return"object"===M?null===g?"null":g instanceof Boolean?"boolean":g instanceof Number?"number":g instanceof String?"string":Array.isArray(g)?"array":g instanceof Date?"date":void 0!==g.nodeType?"dom":!0===g._isAMomentObject?"moment":"object":"number"===M?"number":"boolean"===M?"boolean":"string"===M?"string":void 0===M?"undefined":M}},{key:"getSuggestion",value:function(g,M,h){var V,f=d.findInOptions(g,M,h,!1),_=d.findInOptions(g,T,[],!0);V=void 0!==f.indexMatch?" in "+d.printLocation(f.path,g,"")+'Perhaps it was incomplete? Did you mean: "'+f.indexMatch+'"?\n\n':_.distance<=4&&f.distance>_.distance?" in "+d.printLocation(f.path,g,"")+"Perhaps it was misplaced? Matching option found at: "+d.printLocation(_.path,_.closestMatch,""):f.distance<=8?'. Did you mean "'+f.closestMatch+'"?'+d.printLocation(f.path,g):". Did you mean one of these: "+d.print((0,A.default)(M))+d.printLocation(h,g),console.log('%cUnknown option detected: "'+g+'"'+V,a),c=!0}},{key:"findInOptions",value:function(g,M,h){var f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],_=1e9,I="",F=[],V=g.toLowerCase(),j=void 0;for(var $ in M){var G=void 0;if(void 0!==M[$].__type__&&!0===f){var Z=d.findInOptions(g,M[$],m.copyAndExtendArray(h,$));_>Z.distance&&(I=Z.closestMatch,F=Z.path,_=Z.distance,j=Z.indexMatch)}else-1!==$.toLowerCase().indexOf(V)&&(j=$),_>(G=d.levenshteinDistance(g,$))&&(I=$,F=m.copyArray(h),_=G)}return{closestMatch:I,path:F,distance:_,indexMatch:j}}},{key:"printLocation",value:function(g,M){for(var f="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",_=0;_<g.length;_++){for(var I=0;I<_+1;I++)f+="  ";f+=g[_]+": {\n"}for(var F=0;F<g.length+1;F++)f+="  ";f+=M+"\n";for(var V=0;V<g.length+1;V++){for(var j=0;j<g.length-V;j++)f+="  ";f+="}\n"}return f+"\n\n"}},{key:"print",value:function(g){return(0,y.default)(g).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(g,M){if(0===g.length)return M.length;if(0===M.length)return g.length;var f,_,h=[];for(f=0;f<=M.length;f++)h[f]=[f];for(_=0;_<=g.length;_++)h[0][_]=_;for(f=1;f<=M.length;f++)for(_=1;_<=g.length;_++)h[f][_]=M.charAt(f-1)==g.charAt(_-1)?h[f-1][_-1]:Math.min(h[f-1][_-1]+1,Math.min(h[f][_-1]+1,h[f-1][_]+1));return h[M.length][g.length]}}]),d}();L.default=p,L.printStyle=a},function(J,L,E){var P=E(2);function y(S,D){this.options=null,this.props=null}y.prototype.setOptions=function(S){S&&P.extend(this.options,S)},y.prototype.redraw=function(){return!1},y.prototype.destroy=function(){},y.prototype._isResized=function(){var S=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,S},J.exports=y},function(J,L,E){var P=E(18),y=E(7),S=E(80),D=E(26),k="prototype",A=function(x,O,b){var g,M,h,w=x&A.F,v=x&A.G,m=x&A.S,c=x&A.P,T=x&A.B,a=x&A.W,p=v?y:y[O]||(y[O]={}),d=p[k],u=v?P:m?P[O]:(P[O]||{})[k];for(g in v&&(b=O),b)(!(M=!w&&u&&void 0!==u[g])||!(g in p))&&(h=M?u[g]:b[g],p[g]=v&&"function"!=typeof u[g]?b[g]:T&&M?S(h,P):a&&u[g]==h?function(f){var _=function(I,F,V){if(this instanceof f){switch(arguments.length){case 0:return new f;case 1:return new f(I);case 2:return new f(I,F)}return new f(I,F,V)}return f.apply(this,arguments)};return _[k]=f[k],_}(h):c&&"function"==typeof h?S(Function.call,h):h,c&&((p.virtual||(p.virtual={}))[g]=h,x&A.R&&d&&!d[g]&&D(d,g,h)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,J.exports=A},function(J,L){var E=J.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=E)},function(J,L,E){J.exports={default:E(160),__esModule:!0}},function(J,L,E){var P=E(27),y=E(81),S=E(53),D=Object.defineProperty;L.f=E(21)?Object.defineProperty:function(A,x,O){if(P(A),x=S(x,!0),P(O),y)try{return D(A,x,O)}catch(b){}if("get"in O||"set"in O)throw TypeError("Accessors not supported!");return"value"in O&&(A[x]=O.value),A}},function(J,L,E){J.exports=!E(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(J,L){var E={}.hasOwnProperty;J.exports=function(P,y){return E.call(P,y)}},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=x(E(6)),D=x(E(0)),A=x(E(1));function x(b){return b&&b.__esModule?b:{default:b}}var O=function(){function b(w,v,m){(0,D.default)(this,b),this.body=v,this.labelModule=m,this.setOptions(w),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,A.default)(b,[{key:"setOptions",value:function(v){this.options=v}},{key:"_setMargins",value:function(v){this.margin={},this.options.margin&&("object"==(0,y.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),v.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(v,m){var c=this.options.borderWidth;return this.resize(v),Math.min(Math.abs(this.width/2/Math.cos(m)),Math.abs(this.height/2/Math.sin(m)))+c}},{key:"enableShadow",value:function(v,m){m.shadow&&(v.shadowColor=m.shadowColor,v.shadowBlur=m.shadowSize,v.shadowOffsetX=m.shadowX,v.shadowOffsetY=m.shadowY)}},{key:"disableShadow",value:function(v,m){m.shadow&&(v.shadowColor="rgba(0,0,0,0)",v.shadowBlur=0,v.shadowOffsetX=0,v.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(v,m){if(!1!==m.borderDashes)if(void 0!==v.setLineDash){var c=m.borderDashes;!0===c&&(c=[5,15]),v.setLineDash(c)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,m.borderDashes=!1}},{key:"disableBorderDashes",value:function(v,m){!1!==m.borderDashes&&(void 0!==v.setLineDash?v.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,m.borderDashes=!1))}},{key:"needsRefresh",value:function(v,m){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(v,m)}},{key:"initContextForDraw",value:function(v,m){v.lineWidth=Math.min(this.width,m.borderWidth/this.body.view.scale),v.strokeStyle=m.borderColor,v.fillStyle=m.color}},{key:"performStroke",value:function(v,m){var c=m.borderWidth/this.body.view.scale;v.save(),c>0&&(this.enableBorderDashes(v,m),v.stroke(),this.disableBorderDashes(v,m)),v.restore()}},{key:"performFill",value:function(v,m){this.enableShadow(v,m),v.fill(),this.disableShadow(v,m),this.performStroke(v,m)}},{key:"_addBoundingBoxMargin",value:function(v){this.boundingBox.left-=v,this.boundingBox.top-=v,this.boundingBox.bottom+=v,this.boundingBox.right+=v}},{key:"_updateBoundingBox",value:function(v,m,c,T,a){void 0!==c&&this.resize(c,T,a),this.left=v-this.width/2,this.top=m-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(v,m,c,T,a){this._updateBoundingBox(v,m,c,T,a)}},{key:"getDimensionsFromLabel",value:function(v,m,c){this.textSize=this.labelModule.getTextSize(v,m,c);var T=this.textSize.width,a=this.textSize.height;return 0===T&&(T=14,a=14),{width:T,height:a}}}]),b}();L.default=O},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(g,M)){this.labelModule.getTextSize(u,g,M);var f=2*h.size;this.width=f,this.height=f,this.radius=.5*this.width}}},{key:"_drawShape",value:function(u,g,M,h,f,_,I,F){this.resize(u,_,I,F),this.left=h-this.width/2,this.top=f-this.height/2,this.initContextForDraw(u,F),u[g](h,f,F.size),this.performFill(u,F),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(u,_,I,h,f,"hanging"),this.labelModule.draw(u,h,f+.5*this.height+.5*this.labelModule.size.height,_,I,"hanging")),this.updateBoundingBox(h,f)}},{key:"updateBoundingBox",value:function(u,g){this.boundingBox.top=g-this.options.size,this.boundingBox.left=u-this.options.size,this.boundingBox.right=u+this.options.size,this.boundingBox.bottom=g+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),p}(c(E(23)).default);L.default=T},function(J,L,E){var P=E(78),y=E(51);J.exports=function(S){return P(y(S))}},function(J,L,E){var P=E(20),y=E(39);J.exports=E(21)?function(S,D,k){return P.f(S,D,y(1,k))}:function(S,D,k){return S[D]=k,S}},function(J,L,E){var P=E(32);J.exports=function(y){if(!P(y))throw TypeError(y+" is not an object!");return y}},function(J,L){J.exports=function(E){try{return!!E()}catch(P){return!0}}},function(J,L,E){J.exports={default:E(138),__esModule:!0}},function(J,L,E){L.__esModule=!0;var y=k(E(188)),D=k(E(77));function k(A){return A&&A.__esModule?A:{default:A}}L.default=function(x,O){if(Array.isArray(x))return x;if((0,y.default)(Object(x)))return function(x,O){var b=[],w=!0,v=!1,m=void 0;try{for(var T,c=(0,D.default)(x);!(w=(T=c.next()).done)&&(b.push(T.value),!O||b.length!==O);w=!0);}catch(a){v=!0,m=a}finally{try{!w&&c.return&&c.return()}finally{if(v)throw m}}return b}(x,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(J,L){J.exports={}},function(J,L){J.exports=function(E){return"object"==typeof E?null!==E:"function"==typeof E}},function(J,L,E){var P=E(84),y=E(58);J.exports=Object.keys||function(D){return P(D,y)}},function(J,L,E){function P(y,S,D){this.x=void 0!==y?y:0,this.y=void 0!==S?S:0,this.z=void 0!==D?D:0}P.subtract=function(y,S){var D=new P;return D.x=y.x-S.x,D.y=y.y-S.y,D.z=y.z-S.z,D},P.add=function(y,S){var D=new P;return D.x=y.x+S.x,D.y=y.y+S.y,D.z=y.z+S.z,D},P.avg=function(y,S){return new P((y.x+S.x)/2,(y.y+S.y)/2,(y.z+S.z)/2)},P.crossProduct=function(y,S){var D=new P;return D.x=y.y*S.z-y.z*S.y,D.y=y.z*S.x-y.x*S.z,D.z=y.x*S.y-y.y*S.x,D},P.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},J.exports=P},function(J,L,E){var P,S;void 0!==(S="function"==typeof(P=function(){return function(k){var v,A=k&&k.preventDefault||!1,x=k&&k.container||window,O={},b={keydown:{},keyup:{}},w={};for(v=97;v<=122;v++)w[String.fromCharCode(v)]={code:v-97+65,shift:!1};for(v=65;v<=90;v++)w[String.fromCharCode(v)]={code:v,shift:!0};for(v=0;v<=9;v++)w[""+v]={code:48+v,shift:!1};for(v=1;v<=12;v++)w["F"+v]={code:111+v,shift:!1};for(v=0;v<=9;v++)w["num"+v]={code:96+v,shift:!1};w["num*"]={code:106,shift:!1},w["num+"]={code:107,shift:!1},w["num-"]={code:109,shift:!1},w["num/"]={code:111,shift:!1},w["num."]={code:110,shift:!1},w.left={code:37,shift:!1},w.up={code:38,shift:!1},w.right={code:39,shift:!1},w.down={code:40,shift:!1},w.space={code:32,shift:!1},w.enter={code:13,shift:!1},w.shift={code:16,shift:void 0},w.esc={code:27,shift:!1},w.backspace={code:8,shift:!1},w.tab={code:9,shift:!1},w.ctrl={code:17,shift:!1},w.alt={code:18,shift:!1},w.delete={code:46,shift:!1},w.pageup={code:33,shift:!1},w.pagedown={code:34,shift:!1},w["="]={code:187,shift:!1},w["-"]={code:189,shift:!1},w["]"]={code:221,shift:!1},w["["]={code:219,shift:!1};var m=function(a){T(a,"keydown")},c=function(a){T(a,"keyup")},T=function(a,p){if(void 0!==b[p][a.keyCode]){for(var d=b[p][a.keyCode],u=0;u<d.length;u++)(void 0===d[u].shift||1==d[u].shift&&1==a.shiftKey||0==d[u].shift&&0==a.shiftKey)&&d[u].fn(a);1==A&&a.preventDefault()}};return O.bind=function(a,p,d){if(void 0===d&&(d="keydown"),void 0===w[a])throw new Error("unsupported key: "+a);void 0===b[d][w[a].code]&&(b[d][w[a].code]=[]),b[d][w[a].code].push({fn:p,shift:w[a].shift})},O.bindAll=function(a,p){for(var d in void 0===p&&(p="keydown"),w)w.hasOwnProperty(d)&&O.bind(d,a,p)},O.getKey=function(a){for(var p in w)if(w.hasOwnProperty(p)){if(1==a.shiftKey&&1==w[p].shift&&a.keyCode==w[p].code)return p;if(0==a.shiftKey&&0==w[p].shift&&a.keyCode==w[p].code)return p;if(a.keyCode==w[p].code&&"shift"==p)return p}return"unknown key, currently not supported"},O.unbind=function(a,p,d){if(void 0===d&&(d="keydown"),void 0===w[a])throw new Error("unsupported key: "+a);if(void 0!==p){var u=[],g=b[d][w[a].code];if(void 0!==g)for(var M=0;M<g.length;M++)g[M].fn==p&&g[M].shift==w[a].shift||u.push(b[d][w[a].code][M]);b[d][w[a].code]=u}else b[d][w[a].code]=[]},O.reset=function(){b={keydown:{},keyup:{}}},O.destroy=function(){b={keydown:{},keyup:{}},x.removeEventListener("keydown",m,!0),x.removeEventListener("keyup",c,!0)},x.addEventListener("keydown",m,!0),x.addEventListener("keyup",c,!0),O}})?P.apply(L,[]):P)&&(J.exports=S)},function(J,L,E){L.convertHiddenOptions=function(P,y,S){if(S&&!Array.isArray(S))return L.convertHiddenOptions(P,y,[S]);if(y.hiddenDates=[],S&&1==Array.isArray(S)){for(var D=0;D<S.length;D++)if(void 0===S[D].repeat){var k={};k.start=P(S[D].start).toDate().valueOf(),k.end=P(S[D].end).toDate().valueOf(),y.hiddenDates.push(k)}y.hiddenDates.sort(function(A,x){return A.start-x.start})}},L.updateHiddenDates=function(P,y,S){if(S&&!Array.isArray(S))return L.updateHiddenDates(P,y,[S]);if(S&&void 0!==y.domProps.centerContainer.width){L.convertHiddenOptions(P,y,S);for(var D=P(y.range.start),k=P(y.range.end),x=(y.range.end-y.range.start)/y.domProps.centerContainer.width,O=0;O<S.length;O++)if(void 0!==S[O].repeat){var b=P(S[O].start),w=P(S[O].end);if("Invalid Date"==b._d)throw new Error("Supplied start date is not valid: "+S[O].start);if("Invalid Date"==w._d)throw new Error("Supplied end date is not valid: "+S[O].end);if(w-b>=4*x){var m=0,c=k.clone();switch(S[O].repeat){case"daily":b.day()!=w.day()&&(m=1),b.dayOfYear(D.dayOfYear()),b.year(D.year()),b.subtract(7,"days"),w.dayOfYear(D.dayOfYear()),w.year(D.year()),w.subtract(7-m,"days"),c.add(1,"weeks");break;case"weekly":var T=w.diff(b,"days"),a=b.day();b.date(D.date()),b.month(D.month()),b.year(D.year()),w=b.clone(),b.day(a),w.day(a),w.add(T,"days"),b.subtract(1,"weeks"),w.subtract(1,"weeks"),c.add(1,"weeks");break;case"monthly":b.month()!=w.month()&&(m=1),b.month(D.month()),b.year(D.year()),b.subtract(1,"months"),w.month(D.month()),w.year(D.year()),w.subtract(1,"months"),w.add(m,"months"),c.add(1,"months");break;case"yearly":b.year()!=w.year()&&(m=1),b.year(D.year()),b.subtract(1,"years"),w.year(D.year()),w.subtract(1,"years"),w.add(m,"years"),c.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",S[O].repeat)}for(;b<c;)switch(y.hiddenDates.push({start:b.valueOf(),end:w.valueOf()}),S[O].repeat){case"daily":b.add(1,"days"),w.add(1,"days");break;case"weekly":b.add(1,"weeks"),w.add(1,"weeks");break;case"monthly":b.add(1,"months"),w.add(1,"months");break;case"yearly":b.add(1,"y"),w.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",S[O].repeat)}y.hiddenDates.push({start:b.valueOf(),end:w.valueOf()})}}L.removeDuplicates(y);var p=L.isHidden(y.range.start,y.hiddenDates),d=L.isHidden(y.range.end,y.hiddenDates),u=y.range.start,g=y.range.end;1==p.hidden&&(u=1==y.range.startToFront?p.startDate-1:p.endDate+1),1==d.hidden&&(g=1==y.range.endToFront?d.startDate-1:d.endDate+1),(1==p.hidden||1==d.hidden)&&y.range._applyRange(u,g)}},L.removeDuplicates=function(P){for(var y=P.hiddenDates,S=[],D=0;D<y.length;D++)for(var k=0;k<y.length;k++)D!=k&&1!=y[k].remove&&1!=y[D].remove&&(y[k].start>=y[D].start&&y[k].end<=y[D].end?y[k].remove=!0:y[k].start>=y[D].start&&y[k].start<=y[D].end?(y[D].end=y[k].end,y[k].remove=!0):y[k].end>=y[D].start&&y[k].end<=y[D].end&&(y[D].start=y[k].start,y[k].remove=!0));for(D=0;D<y.length;D++)!0!==y[D].remove&&S.push(y[D]);P.hiddenDates=S,P.hiddenDates.sort(function(A,x){return A.start-x.start})},L.printDates=function(P){for(var y=0;y<P.length;y++)console.log(y,new Date(P[y].start),new Date(P[y].end),P[y].start,P[y].end,P[y].remove)},L.stepOverHiddenDates=function(P,y,S){for(var D=!1,k=y.current.valueOf(),A=0;A<y.hiddenDates.length;A++){var O=y.hiddenDates[A].end;if(k>=y.hiddenDates[A].start&&k<O){D=!0;break}}if(1==D&&k<y._end.valueOf()&&k!=S){var b=P(S),w=P(O);b.year()!=w.year()?y.switchedYear=!0:b.month()!=w.month()?y.switchedMonth=!0:b.dayOfYear()!=w.dayOfYear()&&(y.switchedDay=!0),y.current=w}},L.toScreen=function(P,y,S){var D;if(0==P.body.hiddenDates.length)return D=P.range.conversion(S),(y.valueOf()-D.offset)*D.scale;var k=L.isHidden(y,P.body.hiddenDates);1==k.hidden&&(y=k.startDate);var A=L.getHiddenDurationBetween(P.body.hiddenDates,P.range.start,P.range.end);if(y<P.range.start){D=P.range.conversion(S,A);var x=L.getHiddenDurationBeforeStart(P.body.hiddenDates,y,D.offset);return y=P.options.moment(y).toDate().valueOf(),-(D.offset-(y+=x).valueOf())*D.scale}return y>P.range.end?(y=L.correctTimeForHidden(P.options.moment,P.body.hiddenDates,{start:P.range.start,end:y},y),D=P.range.conversion(S,A),(y.valueOf()-D.offset)*D.scale):(y=L.correctTimeForHidden(P.options.moment,P.body.hiddenDates,P.range,y),D=P.range.conversion(S,A),(y.valueOf()-D.offset)*D.scale)},L.toTime=function(P,y,S){if(0==P.body.hiddenDates.length){var D=P.range.conversion(S);return new Date(y/D.scale+D.offset)}var k=L.getHiddenDurationBetween(P.body.hiddenDates,P.range.start,P.range.end),x=(P.range.end-P.range.start-k)*y/S,O=L.getAccumulatedHiddenDuration(P.body.hiddenDates,P.range,x);return new Date(O+x+P.range.start)},L.getHiddenDurationBetween=function(P,y,S){for(var D=0,k=0;k<P.length;k++){var A=P[k].start,x=P[k].end;A>=y&&x<S&&(D+=x-A)}return D},L.getHiddenDurationBeforeStart=function(P,y,S){for(var D=0,k=0;k<P.length;k++){var A=P[k].start,x=P[k].end;A>=y&&x<=S&&(D+=x-A)}return D},L.correctTimeForHidden=function(P,y,S,D){return(D=P(D).toDate().valueOf())-L.getHiddenDurationBefore(P,y,S,D)},L.getHiddenDurationBefore=function(P,y,S,D){var k=0;D=P(D).toDate().valueOf();for(var A=0;A<y.length;A++){var x=y[A].start,O=y[A].end;x>=S.start&&O<S.end&&D>=O&&(k+=O-x)}return k},L.getAccumulatedHiddenDuration=function(P,y,S){for(var D=0,k=0,A=y.start,x=0;x<P.length;x++){var O=P[x].start,b=P[x].end;if(O>=y.start&&b<y.end){if(k+=O-A,A=b,k>=S)break;D+=b-O}}return D},L.snapAwayFromHidden=function(P,y,S,D){var k=L.isHidden(y,P);return 1==k.hidden?S<0?1==D?k.startDate-(k.endDate-y)-1:k.startDate-1:1==D?k.endDate+(y-k.startDate)+1:k.endDate+1:y},L.isHidden=function(P,y){for(var S=0;S<y.length;S++){var D=y[S].start,k=y[S].end;if(P>=D&&P<k)return{hidden:!0,startDate:D,endDate:k}}return{hidden:!1,startDate:D,endDate:k}}},function(J,L,E){L.onTouch=function(P,y){y.inputHandler=function(S){S.isFirst&&y(S)},P.on("hammer.input",y.inputHandler)},L.onRelease=function(P,y){return y.inputHandler=function(S){S.isFinal&&y(S)},P.on("hammer.input",y.inputHandler)},L.offTouch=function(P,y){P.off("hammer.input",y.inputHandler)},L.offRelease=L.offTouch,L.disablePreventDefaultVertically=function(P){return P.getTouchAction=function(){return["pan-y"]},P}},function(J,L,E){var y=k(E(6)),D=k(E(8));function k(w){return w&&w.__esModule?w:{default:w}}var A=E(10),x=E(2),O=E(9);function b(w,v,m){this.id=null,this.parent=null,this.data=w,this.dom=null,this.conversion=v||{},this.options=m||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}b.prototype.stack=!0,b.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},b.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},b.prototype.setData=function(w){null!=w.group&&this.data.group!=w.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,w.group),this.parent&&(this.parent.stackDirty=!0),null!=w.subgroup&&this.data.subgroup!=w.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,w.subgroup),this.data=w,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},b.prototype.setParent=function(w){this.displayed?(this.hide(),this.parent=w,this.parent&&this.show()):this.parent=w},b.prototype.isVisible=function(w){return!1},b.prototype.show=function(){return!1},b.prototype.hide=function(){return!1},b.prototype.redraw=function(){},b.prototype.repositionX=function(){},b.prototype.repositionY=function(){},b.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var w=this,v=document.createElement("div");v.className="vis-drag-center",v.dragCenterItem=this;var m=new A(v);m.on("tap",function(c){w.parent.itemSet.body.emitter.emit("click",{event:c,item:w.id})}),m.on("doubletap",function(c){c.stopPropagation(),w.parent.itemSet._onUpdateItem(w),w.parent.itemSet.body.emitter.emit("doubleClick",{event:c,item:w.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(v,this.dom.dragLeft):this.dom.box.appendChild(v):this.dom.point&&this.dom.point.appendChild(v),this.dom.dragCenter=v}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},b.prototype._repaintDeleteButton=function(w){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var m=this,c=document.createElement("div");c.className=this.options.rtl?"vis-delete-rtl":"vis-delete",c.title="Delete this item",new A(c).on("tap",function(T){T.stopPropagation(),m.parent.removeFromDataSet(m)}),w.appendChild(c),this.dom.deleteButton=c}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},b.prototype._repaintOnItemUpdateTimeTooltip=function(w){if(this.options.tooltipOnItemUpdateTime){var d;if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var m=document.createElement("div");m.className="vis-onUpdateTime-tooltip",w.appendChild(m),this.dom.onItemUpdateTimeTooltip=m}this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?d=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(d="start: "+O(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(d+="<br> end: "+O(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=d)}},b.prototype._updateContents=function(w){var v,c,T,a,p=this.parent.itemSet.itemsData.get(this.id),d=this.dom.box||this.dom.point,u=d.getElementsByClassName("vis-item-visible-frame")[0];if(T=this.options.visibleFrameTemplate?(a=this.options.visibleFrameTemplate.bind(this))(p,d):"",u)if(T instanceof Object&&!(T instanceof Element))a(p,u);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(T)){if(T instanceof Element)u.innerHTML="",u.appendChild(T);else if(null!=T)u.innerHTML=T;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=T}if((v=this.options.template?(c=this.options.template.bind(this))(p,w,this.data):this.data.content)instanceof Object&&!(v instanceof Element))c(p,w);else if(this._contentToString(this.content)!==this._contentToString(v)){if(v instanceof Element)w.innerHTML="",w.appendChild(v);else if(null!=v)w.innerHTML=v;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=v}},b.prototype._updateDataAttributes=function(w){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var v=[];if(Array.isArray(this.options.dataAttributes))v=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;v=(0,D.default)(this.data)}for(var m=0;m<v.length;m++){var c=v[m],T=this.data[c];null!=T?w.setAttribute("data-"+c,T):w.removeAttribute("data-"+c)}}},b.prototype._updateStyle=function(w){this.style&&(x.removeCssText(w,this.style),this.style=null),this.data.style&&(x.addCssText(w,this.data.style),this.style=this.data.style)},b.prototype._contentToString=function(w){return"string"==typeof w?w:w&&"outerHTML"in w?w.outerHTML:w},b.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,y.default)(this.options.editable)&&(this.editable={},x.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||!0!==this.options.editable.overrideItems)&&this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,y.default)(this.data.editable)&&(this.editable={},x.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},b.prototype.getWidthLeft=function(){return 0},b.prototype.getWidthRight=function(){return 0},b.prototype.getTitle=function(){return this.data.title},J.exports=b},function(J,L){J.exports=function(E,P){return{enumerable:!(1&E),configurable:!(2&E),writable:!(4&E),value:P}}},function(J,L){var E=0,P=Math.random();J.exports=function(y){return"Symbol(".concat(void 0===y?"":y,")_",(++E+P).toString(36))}},function(J,L,E){var P=E(51);J.exports=function(y){return Object(P(y))}},function(J,L){L.f={}.propertyIsEnumerable},function(J,L,E){function P(y){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(y)}P.prototype.setOptions=function(y){y&&void 0!==y.delay&&(this.delay=y.delay),y&&void 0!==y.max&&(this.max=y.max),this._flushIfNeeded()},P.extend=function(y,S){var D=new P(S);if(void 0!==y.flush)throw new Error("Target object already has a property flush");y.flush=function(){D.flush()};var k=[{name:"flush",original:void 0}];if(S&&S.replace)for(var A=0;A<S.replace.length;A++){var x=S.replace[A];k.push({name:x,original:y[x]}),D.replace(y,x)}return D._extended={object:y,methods:k},D},P.prototype.destroy=function(){if(this.flush(),this._extended){for(var y=this._extended.object,S=this._extended.methods,D=0;D<S.length;D++){var k=S[D];k.original?y[k.name]=k.original:delete y[k.name]}this._extended=null}},P.prototype.replace=function(y,S){var D=this,k=y[S];if(!k)throw new Error("Method "+S+" undefined");y[S]=function(){for(var A=[],x=0;x<arguments.length;x++)A[x]=arguments[x];D.queue({args:A,fn:k,context:this})}},P.prototype.queue=function(y){this._queue.push("function"==typeof y?{fn:y}:y),this._flushIfNeeded()},P.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var y=this;this._timeout=setTimeout(function(){y.flush()},this.delay)}},P.prototype.flush=function(){for(;this._queue.length>0;){var y=this._queue.shift();y.fn.apply(y.context||y.fn,y.args||[])}},J.exports=P},function(J,L){function E(y){if(y)return function(y){for(var S in E.prototype)y[S]=E.prototype[S];return y}(y)}J.exports=E,E.prototype.on=E.prototype.addEventListener=function(y,S){return this._callbacks=this._callbacks||{},(this._callbacks[y]=this._callbacks[y]||[]).push(S),this},E.prototype.once=function(y,S){var D=this;function k(){D.off(y,k),S.apply(this,arguments)}return this._callbacks=this._callbacks||{},k.fn=S,this.on(y,k),this},E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=function(y,S){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var D=this._callbacks[y];if(!D)return this;if(1==arguments.length)return delete this._callbacks[y],this;for(var k,A=0;A<D.length;A++)if((k=D[A])===S||k.fn===S){D.splice(A,1);break}return this},E.prototype.emit=function(y){this._callbacks=this._callbacks||{};var S=[].slice.call(arguments,1),D=this._callbacks[y];if(D)for(var k=0,A=(D=D.slice(0)).length;k<A;++k)D[k].apply(this,S);return this},E.prototype.listeners=function(y){return this._callbacks=this._callbacks||{},this._callbacks[y]||[]},E.prototype.hasListeners=function(y){return!!this.listeners(y).length}},function(J,L,E){var v,y=(v=E(6))&&v.__esModule?v:{default:v};var D=E(2),k=E(16),A=E(66),x=E(36),O=E(9);function b(v,m){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:A.FORMAT,moment:O,timeAxis:null},this.options=D.extend({},this.defaultOptions),this.body=v,this._create(),this.setOptions(m)}(b.prototype=new k).setOptions=function(v){v&&(D.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,v),D.selectiveDeepExtend(["format"],this.options,v),"orientation"in v&&("string"==typeof v.orientation?this.options.orientation.axis=v.orientation:"object"===(0,y.default)(v.orientation)&&"axis"in v.orientation&&(this.options.orientation.axis=v.orientation.axis)),"locale"in v&&("function"==typeof O.locale?O.locale(v.locale):O.lang(v.locale)))},b.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},b.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},b.prototype.redraw=function(){var v=this.props,m=this.dom.foreground,c=this.dom.background,T="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,a=m.parentNode!==T;this._calculateCharSize();var d=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;v.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?v.minorCharHeight:0,v.majorLabelHeight=d?v.majorCharHeight:0,v.height=v.minorLabelHeight+v.majorLabelHeight,v.width=m.offsetWidth,v.minorLineHeight=this.body.domProps.root.height-v.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),v.minorLineWidth=1,v.majorLineHeight=v.minorLineHeight+v.majorLabelHeight,v.majorLineWidth=1;var u=m.nextSibling,g=c.nextSibling;return m.parentNode&&m.parentNode.removeChild(m),c.parentNode&&c.parentNode.removeChild(c),m.style.height=this.props.height+"px",this._repaintLabels(),u?T.insertBefore(m,u):T.appendChild(m),g?this.body.dom.backgroundVertical.insertBefore(c,g):this.body.dom.backgroundVertical.appendChild(c),this._isResized()||a},b.prototype._repaintLabels=function(){var v=this.options.orientation.axis,m=D.convert(this.body.range.start,"Number"),c=D.convert(this.body.range.end,"Number"),T=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),a=T-x.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,T);a-=this.body.util.toTime(0).valueOf();var p=new A(new Date(m),new Date(c),a,this.body.hiddenDates,this.options);p.setMoment(this.options.moment),this.options.format&&p.setFormat(this.options.format),this.options.timeAxis&&p.setScale(this.options.timeAxis),this.step=p;var d=this.dom;d.redundant.lines=d.lines,d.redundant.majorTexts=d.majorTexts,d.redundant.minorTexts=d.minorTexts,d.lines=[],d.majorTexts=[],d.minorTexts=[];var g,M,h,f,I,V,j,$,oe,F=0,G=void 0,Z=0;for(p.start(),g=p.getCurrent(),h=this.body.util.toScreen(g);p.hasNext()&&Z<1e3;){switch(Z++,f=p.isMajor(),oe=p.getClassName(),$=p.getLabelMinor(),M=h,p.next(),g=p.getCurrent(),p.isMajor(),V=F,F=(h=this.body.util.toScreen(g))-M,p.scale){case"week":I=!0;break;default:I=F>=.4*V}if(this.options.showMinorLabels&&I){var le=this._repaintMinorText(M,$,v,oe);le.style.width=F+"px"}f&&this.options.showMajorLabels?(M>0&&(null==G&&(G=M),le=this._repaintMajorText(M,p.getLabelMajor(),v,oe)),j=this._repaintMajorLine(M,F,v,oe)):I?j=this._repaintMinorLine(M,F,v,oe):j&&(j.style.width=parseInt(j.style.width)+F+"px")}if(1e3===Z&&!w&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),w=!0),this.options.showMajorLabels){var pe=this.body.util.toTime(0),_e=p.getLabelMajor(pe);(null==G||_e.length*(this.props.majorCharWidth||10)+10<G)&&this._repaintMajorText(0,_e,v,oe)}D.forEach(this.dom.redundant,function(Ee){for(;Ee.length;){var ge=Ee.pop();ge&&ge.parentNode&&ge.parentNode.removeChild(ge)}})},b.prototype._repaintMinorText=function(v,m,c,T){var a=this.dom.redundant.minorTexts.shift();if(!a){var p=document.createTextNode("");(a=document.createElement("div")).appendChild(p),this.dom.foreground.appendChild(a)}return this.dom.minorTexts.push(a),a.innerHTML=m,a.style.top="top"==c?this.props.majorLabelHeight+"px":"0",this.options.rtl?(a.style.left="",a.style.right=v+"px"):a.style.left=v+"px",a.className="vis-text vis-minor "+T,a},b.prototype._repaintMajorText=function(v,m,c,T){var a=this.dom.redundant.majorTexts.shift();if(!a){var p=document.createElement("div");(a=document.createElement("div")).appendChild(p),this.dom.foreground.appendChild(a)}return a.childNodes[0].innerHTML=m,a.className="vis-text vis-major "+T,a.style.top="top"==c?"0":this.props.minorLabelHeight+"px",this.options.rtl?(a.style.left="",a.style.right=v+"px"):a.style.left=v+"px",this.dom.majorTexts.push(a),a},b.prototype._repaintMinorLine=function(v,m,c,T){var a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);var p=this.props;return a.style.top="top"==c?p.majorLabelHeight+"px":this.body.domProps.top.height+"px",a.style.height=p.minorLineHeight+"px",this.options.rtl?(a.style.left="",a.style.right=v-p.minorLineWidth/2+"px",a.className="vis-grid vis-vertical-rtl vis-minor "+T):(a.style.left=v-p.minorLineWidth/2+"px",a.className="vis-grid vis-vertical vis-minor "+T),a.style.width=m+"px",a},b.prototype._repaintMajorLine=function(v,m,c,T){var a=this.dom.redundant.lines.shift();a||(a=document.createElement("div"),this.dom.background.appendChild(a)),this.dom.lines.push(a);var p=this.props;return a.style.top="top"==c?"0":this.body.domProps.top.height+"px",this.options.rtl?(a.style.left="",a.style.right=v-p.majorLineWidth/2+"px",a.className="vis-grid vis-vertical-rtl vis-major "+T):(a.style.left=v-p.majorLineWidth/2+"px",a.className="vis-grid vis-vertical vis-major "+T),a.style.height=p.majorLineHeight+"px",a.style.width=m+"px",a},b.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var w=!1;J.exports=b},function(J,L,E){var P=E(10),y=E(2),S=E(16),D=E(9),k=E(98);function A(x,O){this.body=x,this.defaultOptions={moment:D,locales:k,locale:"en",id:void 0,title:void 0},this.options=y.extend({},this.defaultOptions),this.customTime=O&&O.time?O.time:new Date,this.eventParams={},this.setOptions(O),this._create()}(A.prototype=new S).setOptions=function(x){x&&y.selectiveExtend(["moment","locale","locales","id"],this.options,x)},A.prototype._create=function(){var x=document.createElement("div");x["custom-time"]=this,x.className="vis-custom-time "+(this.options.id||""),x.style.position="absolute",x.style.top="0px",x.style.height="100%",this.bar=x;var O=document.createElement("div");function b(w){this.body.range._onMouseWheel(w)}O.style.position="relative",O.style.top="0px",O.style.left="-10px",O.style.height="100%",O.style.width="20px",O.addEventListener?(O.addEventListener("mousewheel",b.bind(this),!1),O.addEventListener("DOMMouseScroll",b.bind(this),!1)):O.attachEvent("onmousewheel",b.bind(this)),x.appendChild(O),this.hammer=new P(O),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:P.DIRECTION_HORIZONTAL})},A.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},A.prototype.redraw=function(){var x=this.body.dom.backgroundVertical;this.bar.parentNode!=x&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),x.appendChild(this.bar));var O=this.body.util.toScreen(this.customTime),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),b=this.options.locales.en);var w=this.options.title;return void 0===w?w=(w=b.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+w.substring(1):"function"==typeof w&&(w=w.call(this.customTime)),this.bar.style.left=O+"px",this.bar.title=w,!1},A.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},A.prototype.setCustomTime=function(x){this.customTime=y.convert(x,"Date"),this.redraw()},A.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},A.prototype.setCustomTitle=function(x){this.options.title=x},A.prototype._onDragStart=function(x){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,x.stopPropagation()},A.prototype._onDrag=function(x){if(this.eventParams.dragging){var O=this.body.util.toScreen(this.eventParams.customTime)+x.deltaX,b=this.body.util.toTime(O);this.setCustomTime(b),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:x}),x.stopPropagation()}},A.prototype._onDragEnd=function(x){!this.eventParams.dragging||(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:x}),x.stopPropagation())},A.customTimeFromTarget=function(x){for(var O=x.target;O;){if(O.hasOwnProperty("custom-time"))return O["custom-time"];O=O.parentNode}return null},J.exports=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(j){return j&&j.__esModule?j:{default:j}}var A=E(2),x=E(117).default,O=E(48).default,b=E(193).default,w=E(200).default,v=E(201).default,m=E(202).default,c=E(203).default,T=E(204).default,a=E(205).default,p=E(206).default,d=E(207).default,u=E(208).default,g=E(209).default,M=E(210).default,h=E(211).default,f=E(212).default,_=E(213).default,F=E(15).printStyle,V=function(){function j($,G,Z,ne,oe,le){(0,y.default)(this,j),this.options=A.bridgeObject(oe),this.globalOptions=oe,this.defaultOptions=le,this.body=G,this.edges=[],this.id=void 0,this.imagelist=Z,this.grouplist=ne,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new x(this.body,this.options,!1),this.setOptions($)}return(0,D.default)(j,[{key:"attachEdge",value:function(G){-1===this.edges.indexOf(G)&&this.edges.push(G)}},{key:"detachEdge",value:function(G){var Z=this.edges.indexOf(G);-1!=Z&&this.edges.splice(Z,1)}},{key:"setOptions",value:function(G){var Z=this.options.shape;if(G){if(void 0!==G.id&&(this.id=G.id),void 0===this.id)throw new Error("Node must have an id");return j.checkMass(G,this.id),void 0!==G.x&&(null===G.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(G.x),this.predefinedPosition=!0)),void 0!==G.y&&(null===G.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(G.y),this.predefinedPosition=!0)),void 0!==G.size&&(this.baseSize=G.size),void 0!==G.value&&(G.value=parseFloat(G.value)),j.parseOptions(this.options,G,!0,this.globalOptions,this.grouplist),this.chooser=O.choosify("node",[G,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(G),this.updateShape(Z),void 0!==G.hidden||void 0!==G.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var G={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(G.borderWidth*=2,G.color=this.options.color.highlight.background,G.borderColor=this.options.color.highlight.border,G.shadow=this.options.shadow.enabled):this.hover&&(G.color=this.options.color.hover.background,G.borderColor=this.options.color.hover.border,G.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(G,this.options.id,this.selected,this.hover),!1===G.shadow&&(G.shadowColor!==this.options.shadow.color||G.shadowSize!==this.options.shadow.size||G.shadowX!==this.options.shadow.x||G.shadowY!==this.options.shadow.y)&&(G.shadow=!0)):G.shadow=this.options.shadow.enabled,G}},{key:"updateLabelModule",value:function(G){null==this.options.label&&(this.options.label=""),j.updateGroupOptions(this.options,G,this.grouplist);var Z=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[G,this.options,Z,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(G){if(G===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new b(this.options,this.body,this.labelModule);break;case"circle":this.shape=new w(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new m(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new c(this.options,this.body,this.labelModule);break;case"dot":this.shape=new T(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new a(this.options,this.body,this.labelModule);break;case"icon":this.shape=new p(this.options,this.body,this.labelModule);break;case"image":this.shape=new d(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new u(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new g(this.options,this.body,this.labelModule);break;case"star":this.shape=new M(this.options,this.body,this.labelModule);break;case"text":this.shape=new h(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new f(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new _(this.options,this.body,this.labelModule);break;default:this.shape=new a(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(G,Z){return this.shape.distanceToBorder(G,Z)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(G,Z,ne){if(void 0!==this.options.value){var oe=this.options.scaling.customScalingFunction(G,Z,ne,this.options.value),le=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+oe*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+oe*le}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(G){var Z=this.getFormattingValues();this.shape.draw(G,this.x,this.y,this.selected,this.hover,Z)}},{key:"updateBoundingBox",value:function(G){this.shape.updateBoundingBox(this.x,this.y,G)}},{key:"resize",value:function(G){var Z=this.getFormattingValues();this.shape.resize(G,this.selected,this.hover,Z)}},{key:"getItemsOnPoint",value:function(G){var Z=[];return this.labelModule.visible()&&O.pointInRect(this.labelModule.getSize(),G)&&Z.push({nodeId:this.id,labelId:0}),O.pointInRect(this.shape.boundingBox,G)&&Z.push({nodeId:this.id}),Z}},{key:"isOverlappingWith",value:function(G){return this.shape.left<G.right&&this.shape.left+this.shape.width>G.left&&this.shape.top<G.bottom&&this.shape.top+this.shape.height>G.top}},{key:"isBoundingBoxOverlappingWith",value:function(G){return this.shape.boundingBox.left<G.right&&this.shape.boundingBox.right>G.left&&this.shape.boundingBox.top<G.bottom&&this.shape.boundingBox.bottom>G.top}}],[{key:"updateGroupOptions",value:function(G,Z,ne){if(void 0!==ne){var oe=G.group;if(void 0!==Z&&void 0!==Z.group&&oe!==Z.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof oe||"string"==typeof oe&&""!=oe){var pe=ne.get(oe);A.selectiveNotDeepExtend(["font"],G,pe),G.color=A.parseColor(G.color)}}}},{key:"parseOptions",value:function(G,Z){var ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2],oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},le=arguments[4];if(A.selectiveNotDeepExtend(["color","fixed","shadow"],G,Z,ne),j.checkMass(Z),A.mergeOptions(G,Z,"shadow",oe),null!=Z.color){var _e=A.parseColor(Z.color);A.fillIfDefined(G.color,_e)}else!0===ne&&null===Z.color&&(G.color=A.bridgeObject(oe.color));null!=Z.fixed&&("boolean"==typeof Z.fixed?(G.fixed.x=Z.fixed,G.fixed.y=Z.fixed):(void 0!==Z.fixed.x&&"boolean"==typeof Z.fixed.x&&(G.fixed.x=Z.fixed.x),void 0!==Z.fixed.y&&"boolean"==typeof Z.fixed.y&&(G.fixed.y=Z.fixed.y))),!0===ne&&null===Z.font&&(G.font=A.bridgeObject(oe.font)),j.updateGroupOptions(G,Z,le),void 0!==Z.scaling&&A.mergeOptions(G.scaling,Z.scaling,"label",oe.scaling)}},{key:"checkMass",value:function(G,Z){if(void 0!==G.mass&&G.mass<=0){var ne="";void 0!==Z&&(ne=" in node id: "+Z),console.log("%cNegative or zero mass disallowed"+ne+", setting mass to 1.",F),G.mass=1}}}]),j}();L.default=V},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=x(E(6)),D=x(E(0)),A=x(E(1));function x(w){return w&&w.__esModule?w:{default:w}}var O=E(2),b=function(){function w(){(0,D.default)(this,w)}return(0,A.default)(w,null,[{key:"choosify",value:function(m,c){var T=["node","edge","label"],a=!0,p=O.topMost(c,"chosen");if("boolean"==typeof p)a=p;else if("object"===(void 0===p?"undefined":(0,y.default)(p))){if(-1===T.indexOf(m))throw new Error("choosify: subOption '"+m+"' should be one of '"+T.join("', '")+"'");var d=O.topMost(c,["chosen",m]);("boolean"==typeof d||"function"==typeof d)&&(a=d)}return a}},{key:"pointInRect",value:function(m,c,T){if(m.width<=0||m.height<=0)return!1;if(void 0!==T){var a={x:c.x-T.x,y:c.y-T.y};if(0!==T.angle){var p=-T.angle;c={x:Math.cos(p)*a.x-Math.sin(p)*a.y,y:Math.sin(p)*a.x+Math.cos(p)*a.y}}else c=a}return m.left<c.x&&m.x+m.width>c.x&&m.top<c.y&&m.y+m.width>c.y}},{key:"isValidLabel",value:function(m){return"string"==typeof m&&""!==m}}]),w}();L.default=b},function(J,L,E){E(125);for(var P=E(18),y=E(26),S=E(31),D=E(13)("toStringTag"),k="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),A=0;A<k.length;A++){var x=k[A],O=P[x],b=O&&O.prototype;b&&!b[D]&&y(b,D,x),S[x]=S.Array}},function(J,L){var E={}.toString;J.exports=function(P){return E.call(P).slice(8,-1)}},function(J,L){J.exports=function(E){if(null==E)throw TypeError("Can't call method on  "+E);return E}},function(J,L){J.exports=!0},function(J,L,E){var P=E(32);J.exports=function(y,S){if(!P(y))return y;var D,k;if(S&&"function"==typeof(D=y.toString)&&!P(k=D.call(y))||"function"==typeof(D=y.valueOf)&&!P(k=D.call(y))||!S&&"function"==typeof(D=y.toString)&&!P(k=D.call(y)))return k;throw TypeError("Can't convert object to primitive value")}},function(J,L,E){var P=E(27),y=E(130),S=E(58),D=E(56)("IE_PROTO"),k=function(){},A="prototype",x=function(){var m,O=E(82)("iframe"),b=S.length;for(O.style.display="none",E(134).appendChild(O),O.src="javascript:",(m=O.contentWindow.document).open(),m.write("<script>document.F=Object<\/script>"),m.close(),x=m.F;b--;)delete x[A][S[b]];return x()};J.exports=Object.create||function(b,w){var v;return null!==b?(k[A]=P(b),v=new k,k[A]=null,v[D]=b):v=x(),void 0===w?v:y(v,w)}},function(J,L){var E=Math.ceil,P=Math.floor;J.exports=function(y){return isNaN(y=+y)?0:(y>0?P:E)(y)}},function(J,L,E){var P=E(57)("keys"),y=E(40);J.exports=function(S){return P[S]||(P[S]=y(S))}},function(J,L,E){var P=E(18),y="__core-js_shared__",S=P[y]||(P[y]={});J.exports=function(D){return S[D]||(S[D]={})}},function(J,L){J.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(J,L,E){var P=E(20).f,y=E(22),S=E(13)("toStringTag");J.exports=function(D,k,A){D&&!y(D=A?D:D.prototype,S)&&P(D,S,{configurable:!0,value:k})}},function(J,L,E){var P=E(135)(!0);E(79)(String,"String",function(y){this._t=String(y),this._i=0},function(){var D,y=this._t,S=this._i;return S>=y.length?{value:void 0,done:!0}:(D=P(y,S),this._i+=D.length,{value:D,done:!1})})},function(J,L,E){L.f=E(13)},function(J,L,E){var P=E(18),y=E(7),S=E(52),D=E(61),k=E(20).f;J.exports=function(A){var x=y.Symbol||(y.Symbol=S?{}:P.Symbol||{});"_"!=A.charAt(0)&&!(A in x)&&k(x,A,{value:D.f(A)})}},function(J,L){L.f=Object.getOwnPropertySymbols},function(J,L,E){var y=x(E(8)),D=x(E(19)),A=x(E(6));function x(T){return T&&T.__esModule?T:{default:T}}var O=E(2),b=E(9),w=E(16),v=E(36);function m(T,a){var p=b().hours(0).minutes(0).seconds(0).milliseconds(0),d=p.clone().add(-3,"days").valueOf(),u=p.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===a?(this.start=d,this.end=u):(this.start=a.start||d,this.end=a.end||u),this.rolling=!1,this.body=T,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:b,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=O.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(a)}function c(T){if("horizontal"!=T&&"vertical"!=T)throw new TypeError('Unknown direction "'+T+'". Choose "horizontal" or "vertical".')}(m.prototype=new w).setOptions=function(T){T&&(O.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,T),T.rollingMode&&T.rollingMode.follow&&this.startRolling(),("start"in T||"end"in T)&&this.setRange(T.start,T.end))},m.prototype.startRolling=function(){var T=this;!function a(){T.stopRolling(),T.rolling=!0;var p=T.end-T.start,d=O.convert(new Date,"Date").valueOf();T.setRange(d-p*T.options.rollingMode.offset,d+p*(1-T.options.rollingMode.offset),{animation:!1}),(p=1/T.conversion(T.body.domProps.center.width).scale/10)<30&&(p=30),p>1e3&&(p=1e3),T.body.dom.rollingModeBtn.style.visibility="hidden",T.currentTimeTimer=setTimeout(a,p)}()},m.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},m.prototype.setRange=function(T,a,p,d,u){p||(p={}),!0!==p.byUser&&(p.byUser=!1);var g=this,M=null!=T?O.convert(T,"Date").valueOf():null,h=null!=a?O.convert(a,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,p.animation){var f=this.start,_=this.end,I="object"===(0,A.default)(p.animation)&&"duration"in p.animation?p.animation.duration:500,F="object"===(0,A.default)(p.animation)&&"easingFunction"in p.animation?p.animation.easingFunction:"easeInOutQuad",V=O.easingFunctions[F];if(!V)throw new Error("Unknown easing function "+(0,D.default)(F)+". Choose from: "+(0,y.default)(O.easingFunctions).join(", "));var j=(new Date).valueOf(),$=!1;return function oe(){if(!g.props.touch.dragging){var pe=(new Date).valueOf()-j,_e=V(pe/I),we=pe>I;Z=g._applyRange(we||null===M?M:f+(M-f)*_e,we||null===h?h:_+(h-_)*_e),v.updateHiddenDates(g.options.moment,g.body,g.options.hiddenDates),$=$||Z;var ue={start:new Date(g.start),end:new Date(g.end),byUser:p.byUser,event:p.event};if(u&&u(_e,Z,we),Z&&g.body.emitter.emit("rangechange",ue),we){if($&&(g.body.emitter.emit("rangechanged",ue),d))return d()}else g.animationTimer=setTimeout(oe,20)}}()}var Z=this._applyRange(M,h);if(v.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),Z){var ne={start:new Date(this.start),end:new Date(this.end),byUser:p.byUser,event:p.event};if(this.body.emitter.emit("rangechange",ne),clearTimeout(g.timeoutID),g.timeoutID=setTimeout(function(){g.body.emitter.emit("rangechanged",ne)},200),d)return d()}},m.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},m.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},m.prototype._applyRange=function(T,a){var M,p=null!=T?O.convert(T,"Date").valueOf():this.start,d=null!=a?O.convert(a,"Date").valueOf():this.end,u=null!=this.options.max?O.convert(this.options.max,"Date").valueOf():null,g=null!=this.options.min?O.convert(this.options.min,"Date").valueOf():null;if(isNaN(p)||null===p)throw new Error('Invalid start "'+T+'"');if(isNaN(d)||null===d)throw new Error('Invalid end "'+a+'"');if(d<p&&(d=p),null!==g&&p<g&&(p+=M=g-p,d+=M,null!=u&&d>u&&(d=u)),null!==u&&d>u&&(p-=M=d-u,d-=M,null!=g&&p<g&&(p=g)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);h<0&&(h=0),d-p<h&&(this.end-this.start===h&&p>=this.start-.5&&d<=this.end?(p=this.start,d=this.end):(p-=(M=h-(d-p))/2,d+=M/2))}if(null!==this.options.zoomMax){var _=parseFloat(this.options.zoomMax);_<0&&(_=0),d-p>_&&(this.end-this.start===_&&p<this.start&&d>this.end?(p=this.start,d=this.end):(p+=(M=d-p-_)/2,d-=M/2))}var I=this.start!=p||this.end!=d;return!(p>=this.start&&p<=this.end||d>=this.start&&d<=this.end)&&!(this.start>=p&&this.start<=d||this.end>=p&&this.end<=d)&&this.body.emitter.emit("checkRangedItems"),this.start=p,this.end=d,I},m.prototype.getRange=function(){return{start:this.start,end:this.end}},m.prototype.conversion=function(T,a){return m.conversion(this.start,this.end,T,a)},m.conversion=function(T,a,p,d){return void 0===d&&(d=0),0!=p&&a-T!=0?{offset:T,scale:p/(a-T-d)}:{offset:0,scale:1}},m.prototype._onDragStart=function(T){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&(!this._isInsideRange(T)||!this.props.touch.allowDragging||(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move")))},m.prototype._onDrag=function(T){if(T&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var a=this.options.direction;c(a);var p="horizontal"==a?T.deltaX:T.deltaY;p-=this.deltaDifference;var d=this.props.touch.end-this.props.touch.start;d-=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var M,g="horizontal"==a?this.body.domProps.center.width:this.body.domProps.center.height,h=this.props.touch.start+(M=this.options.rtl?p/g*d:-p/g*d),f=this.props.touch.end+M,_=v.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-p,!0),I=v.snapAwayFromHidden(this.body.hiddenDates,f,this.previousDelta-p,!0);if(_!=h||I!=f)return this.deltaDifference+=p,this.props.touch.start=_,this.props.touch.end=I,void this._onDrag(T);this.previousDelta=p,this._applyRange(h,f);var F=new Date(this.start),V=new Date(this.end);this.body.emitter.emit("rangechange",{start:F,end:V,byUser:!0,event:T}),this.body.emitter.emit("panmove")}},m.prototype._onDragEnd=function(T){!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging||(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:T}))},m.prototype._onMouseWheel=function(T){var a=0;if(T.wheelDelta?a=T.wheelDelta/120:T.detail&&(a=-T.detail/3),!(this.options.zoomKey&&!T[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(T)&&a){var p,d;if(p=a<0?1-a/5:1/(1+a/5),this.rolling)d=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var u=this.getPointer({x:T.clientX,y:T.clientY},this.body.dom.center);d=this._pointerToDate(u)}this.zoom(p,d,a,T),T.preventDefault()}},m.prototype._onTouch=function(T){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,O.preventDefault(T)},m.prototype._onPinch=function(T){if(this.options.zoomable&&this.options.moveable){O.preventDefault(T),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(T.center,this.body.dom.center)),this.stopRolling();var a=1/(T.scale+this.scaleOffset),p=this._pointerToDate(this.props.touch.center),d=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),u=v.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,p),g=d-u,M=p-u+(this.props.touch.start-(p-u))*a,h=p+g+(this.props.touch.end-(p+g))*a;this.startToFront=1-a<=0,this.endToFront=a-1<=0;var f=v.snapAwayFromHidden(this.body.hiddenDates,M,1-a,!0),_=v.snapAwayFromHidden(this.body.hiddenDates,h,a-1,!0);(f!=M||_!=h)&&(this.props.touch.start=f,this.props.touch.end=_,this.scaleOffset=1-T.scale,M=f,h=_),this.setRange(M,h,{animation:!1,byUser:!0,event:T}),this.startToFront=!1,this.endToFront=!0}},m.prototype._isInsideRange=function(T){var p,a=T.center?T.center.x:T.clientX;p=this.options.rtl?a-O.getAbsoluteLeft(this.body.dom.centerContainer):O.getAbsoluteRight(this.body.dom.centerContainer)-a;var d=this.body.util.toTime(p);return d>=this.start&&d<=this.end},m.prototype._pointerToDate=function(T){var a,p=this.options.direction;return c(p),"horizontal"==p?this.body.util.toTime(T.x).valueOf():(a=this.conversion(this.body.domProps.center.height),T.y/a.scale+a.offset)},m.prototype.getPointer=function(T,a){return this.options.rtl?{x:O.getAbsoluteRight(a)-T.x,y:T.y-O.getAbsoluteTop(a)}:{x:T.x-O.getAbsoluteLeft(a),y:T.y-O.getAbsoluteTop(a)}},m.prototype.zoom=function(T,a,p,d){null==a&&(a=(this.start+this.end)/2);var u=v.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),g=v.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,a),M=u-g,h=a-g+(this.start-(a-g))*T,f=a+M+(this.end-(a+M))*T;this.startToFront=!(p>0),this.endToFront=!(-p>0);var _=v.snapAwayFromHidden(this.body.hiddenDates,h,p,!0),I=v.snapAwayFromHidden(this.body.hiddenDates,f,-p,!0);(_!=h||I!=f)&&(h=_,f=I),this.setRange(h,f,{animation:!1,byUser:!0,event:d}),this.startToFront=!1,this.endToFront=!0},m.prototype.move=function(T){var a=this.end-this.start,d=this.end+a*T;this.start=this.start+a*T,this.end=d},m.prototype.moveTo=function(T){var p=(this.start+this.end)/2-T;this.setRange(this.start-p,this.end-p,{animation:!1,byUser:!0,event:null})},J.exports=m},function(J,L,E){var y=k(E(19)),D=k(E(6));function k(a){return a&&a.__esModule?a:{default:a}}var A=E(44),x=E(10),O=E(37),b=E(2),w=E(45),v=E(97),m=E(36),c=E(46);function T(){}A(T.prototype),T.prototype._create=function(a){this.dom={},this.dom.container=a,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var p=this;this._origRedraw=this._redraw.bind(this),this._redraw=b.throttle(this._origRedraw),this.on("_change",function(I){p.itemSet&&p.itemSet.initialItemSetDrawn&&I&&1==I.queue?p._redraw():p._origRedraw()}),this.hammer=new x(this.dom.root);var d=this.hammer.get("pinch").set({enable:!0});function g(I){this.isActive()&&this.emit("mousewheel",I);var F=0,V=0;if("detail"in I&&(V=-1*I.detail),"wheelDelta"in I&&(V=I.wheelDelta),"wheelDeltaY"in I&&(V=I.wheelDeltaY),"wheelDeltaX"in I&&(F=-1*I.wheelDeltaX),"axis"in I&&I.axis===I.HORIZONTAL_AXIS&&(F=-1*V,V=0),"deltaY"in I&&(V=-1*I.deltaY),"deltaX"in I&&(F=I.deltaX),this.options.zoomKey&&!I[this.options.zoomKey])if(I.preventDefault(),this.options.verticalScroll&&Math.abs(V)>=Math.abs(F)){var $=this.props.scrollTop+V;this.isActive()&&(this._setScrollTop($),this._redraw(),this.emit("scroll",I))}else if(this.options.horizontalScroll){var Z=(Math.abs(F)>=Math.abs(V)?F:V)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+Z,this.range.end+Z,{animation:!1,byUser:!0,event:I})}}function M(I){p.options.verticalScroll&&(I.preventDefault(),p.isActive())&&(p._setScrollTop(-I.target.scrollTop),p._redraw(),p.emit("scrollSide",I))}O.disablePreventDefaultVertically(d),this.hammer.get("pan").set({threshold:5,direction:x.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(I){var F=function(j){p.isActive()&&p.emit(I,j)};p.hammer.on(I,F),p.listeners[I]=F}),O.onTouch(this.hammer,function(I){p.emit("touch",I)}.bind(this)),O.onRelease(this.hammer,function(I){p.emit("release",I)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",g.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",g.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",g.bind(this)),this.dom.left.parentNode.addEventListener("scroll",M.bind(this)),this.dom.right.parentNode.addEventListener("scroll",M.bind(this));var h=!1;if(this.dom.center.addEventListener("dragover",function(I){if(I.preventDefault&&I.preventDefault(),!(!I.target.className.indexOf("vis")>-1||h))return I.dataTransfer.dropEffect="move",h=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(I){I.preventDefault&&I.preventDefault(),I.stopPropagation&&I.stopPropagation();try{var F=JSON.parse(I.dataTransfer.getData("text"));if(!F||!F.content)return}catch(V){return!1}return h=!1,I.center={x:I.clientX,y:I.clientY},"item"!==F.target?p.itemSet._onAddItem(I):p.itemSet._onDropObjectOnItem(I),p.emit("drop",p.getEventProperties(I)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!a)throw new Error("No container provided");a.appendChild(this.dom.root)},T.prototype.setOptions=function(a){if(a){if(b.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,a),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,D.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in a&&("string"==typeof a.orientation?this.options.orientation={item:a.orientation,axis:a.orientation}:"object"===(0,D.default)(a.orientation)&&("item"in a.orientation&&(this.options.orientation.item=a.orientation.item),"axis"in a.orientation&&(this.options.orientation.axis=a.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var d=this.timeAxis2=new w(this.body);d.setOptions=function(M){var h=M?b.extend({},M):{};h.orientation="top",w.prototype.setOptions.call(d,h)},this.components.push(d)}}else if(this.timeAxis2){var u=this.components.indexOf(this.timeAxis2);-1!==u&&this.components.splice(u,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof a.drawPoints&&(a.drawPoints={onRender:a.drawPoints}),"hiddenDates"in this.options&&m.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in a&&(a.clickToUse?this.activator||(this.activator=new v(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in a)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(M){return M.setOptions(a)}),"configure"in a){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(a.configure);var g=b.deepExtend({},this.options);this.components.forEach(function(M){b.deepExtend(g,M.options)}),this.configurator.setModuleOptions({global:g})}this._redraw()},T.prototype.isActive=function(){return!this.activator||this.activator.active},T.prototype.destroy=function(){for(var a in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.listeners=null,this.hammer=null,this.components.forEach(function(p){return p.destroy()}),this.body=null},T.prototype.setCustomTime=function(a,p){var d=this.customTimes.filter(function(u){return p===u.options.id});if(0===d.length)throw new Error("No custom time bar found with id "+(0,y.default)(p));d.length>0&&d[0].setCustomTime(a)},T.prototype.getCustomTime=function(a){var p=this.customTimes.filter(function(d){return d.options.id===a});if(0===p.length)throw new Error("No custom time bar found with id "+(0,y.default)(a));return p[0].getCustomTime()},T.prototype.setCustomTimeTitle=function(a,p){var d=this.customTimes.filter(function(u){return u.options.id===p});if(0===d.length)throw new Error("No custom time bar found with id "+(0,y.default)(p));if(d.length>0)return d[0].setCustomTitle(a)},T.prototype.getEventProperties=function(a){return{event:a}},T.prototype.addCustomTime=function(a,p){var d=void 0!==a?b.convert(a,"Date").valueOf():new Date;if(this.customTimes.some(function(M){return M.options.id===p}))throw new Error("A custom time with id "+(0,y.default)(p)+" already exists");var g=new c(this.body,b.extend({},this.options,{time:d,id:p}));return this.customTimes.push(g),this.components.push(g),this._redraw(),p},T.prototype.removeCustomTime=function(a){var p=this.customTimes.filter(function(d){return d.options.id===a});if(0===p.length)throw new Error("No custom time bar found with id "+(0,y.default)(a));p.forEach(function(d){this.customTimes.splice(this.customTimes.indexOf(d),1),this.components.splice(this.components.indexOf(d),1),d.destroy()}.bind(this))},T.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},T.prototype.fit=function(a,p){var d=this.getDataRange();if(null!==d.min||null!==d.max){var u=d.max-d.min,g=new Date(d.min.valueOf()-.01*u),M=new Date(d.max.valueOf()+.01*u);this.range.setRange(g,M,{animation:!a||void 0===a.animation||a.animation},p)}},T.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},T.prototype.setWindow=function(a,p,d,u){var M;"function"==typeof arguments[2]&&(u=arguments[2],d={}),1==arguments.length?this.range.setRange((M=arguments[0]).start,M.end,{animation:void 0===M.animation||M.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((M=arguments[0]).start,M.end,{animation:void 0===M.animation||M.animation},u=arguments[1]):this.range.setRange(a,p,{animation:!d||void 0===d.animation||d.animation},u)},T.prototype.moveTo=function(a,p,d){"function"==typeof arguments[1]&&(d=arguments[1],p={});var u=this.range.end-this.range.start,g=b.convert(a,"Date").valueOf();this.range.setRange(g-u/2,g+u/2,{animation:!p||void 0===p.animation||p.animation},d)},T.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}},T.prototype.zoomIn=function(a,p,d){if(!(!a||a<0||a>1)){"function"==typeof arguments[1]&&(d=arguments[1],p={});var u=this.getWindow(),g=u.start.valueOf(),M=u.end.valueOf(),h=M-g,_=(h-h/(1+a))/2;this.setWindow(g+_,M-_,p,d)}},T.prototype.zoomOut=function(a,p,d){if(!(!a||a<0||a>1)){"function"==typeof arguments[1]&&(d=arguments[1],p={});var u=this.getWindow(),g=u.start.valueOf(),M=u.end.valueOf(),h=M-g;this.setWindow(g-h*a/2,M+h*a/2,p,d)}},T.prototype.redraw=function(){this._redraw()},T.prototype._redraw=function(){this.redrawCount++;var a=!1,p=this.options,d=this.props,u=this.dom;if(u&&u.container&&0!=u.root.offsetWidth){m.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==p.orientation?(b.addClassName(u.root,"vis-top"),b.removeClassName(u.root,"vis-bottom")):(b.removeClassName(u.root,"vis-top"),b.addClassName(u.root,"vis-bottom")),u.root.style.maxHeight=b.option.asSize(p.maxHeight,""),u.root.style.minHeight=b.option.asSize(p.minHeight,""),u.root.style.width=b.option.asSize(p.width,""),d.border.left=(u.centerContainer.offsetWidth-u.centerContainer.clientWidth)/2,d.border.right=d.border.left,d.border.top=(u.centerContainer.offsetHeight-u.centerContainer.clientHeight)/2,d.border.bottom=d.border.top,d.borderRootHeight=u.root.offsetHeight-u.root.clientHeight,d.borderRootWidth=u.root.offsetWidth-u.root.clientWidth,0===u.centerContainer.clientHeight&&(d.border.left=d.border.top,d.border.right=d.border.left),0===u.root.clientHeight&&(d.borderRootWidth=d.borderRootHeight),d.center.height=u.center.offsetHeight,d.left.height=u.left.offsetHeight,d.right.height=u.right.offsetHeight,d.top.height=u.top.clientHeight||-d.border.top,d.bottom.height=u.bottom.clientHeight||-d.border.bottom;var g=Math.max(d.left.height,d.center.height,d.right.height);u.root.style.height=b.option.asSize(p.height,d.top.height+g+d.bottom.height+d.borderRootHeight+d.border.top+d.border.bottom+"px"),d.root.height=u.root.offsetHeight,d.background.height=d.root.height-d.borderRootHeight;var h=d.root.height-d.top.height-d.bottom.height-d.borderRootHeight;d.centerContainer.height=h,d.leftContainer.height=h,d.rightContainer.height=d.leftContainer.height,d.root.width=u.root.offsetWidth,d.background.width=d.root.width-d.borderRootWidth,this.initialDrawDone||(d.scrollbarWidth=b.getScrollBarWidth()),p.verticalScroll?p.rtl?(d.left.width=u.leftContainer.clientWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth+d.scrollbarWidth||-d.border.right):(d.left.width=u.leftContainer.clientWidth+d.scrollbarWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth||-d.border.right):(d.left.width=u.leftContainer.clientWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth||-d.border.right),this._setDOM();var f=this._updateScrollTop();"top"!=p.orientation.item&&(f+=Math.max(d.centerContainer.height-d.center.height-d.border.top-d.border.bottom,0)),u.center.style.top=f+"px";var _=0==d.scrollTop?"hidden":"",I=d.scrollTop==d.scrollTopMin?"hidden":"";u.shadowTop.style.visibility=_,u.shadowBottom.style.visibility=I,u.shadowTopLeft.style.visibility=_,u.shadowBottomLeft.style.visibility=I,u.shadowTopRight.style.visibility=_,u.shadowBottomRight.style.visibility=I,p.verticalScroll&&(u.rightContainer.className="vis-panel vis-right vis-vertical-scroll",u.leftContainer.className="vis-panel vis-left vis-vertical-scroll",u.shadowTopRight.style.visibility="hidden",u.shadowBottomRight.style.visibility="hidden",u.shadowTopLeft.style.visibility="hidden",u.shadowBottomLeft.style.visibility="hidden",u.left.style.top="0px",u.right.style.top="0px"),(!p.verticalScroll||d.center.height<d.centerContainer.height)&&(u.left.style.top=f+"px",u.right.style.top=f+"px",u.rightContainer.className=u.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),u.leftContainer.className=u.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),d.left.width=u.leftContainer.clientWidth||-d.border.left,d.right.width=u.rightContainer.clientWidth||-d.border.right,this._setDOM());var F=d.center.height>d.centerContainer.height;if(this.hammer.get("pan").set({direction:F?x.DIRECTION_ALL:x.DIRECTION_HORIZONTAL}),this.components.forEach(function(j){a=j.redraw()||a}),a){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},T.prototype._setDOM=function(){var a=this.props,p=this.dom;a.leftContainer.width=a.left.width,a.rightContainer.width=a.right.width;var d=a.root.width-a.left.width-a.right.width-a.borderRootWidth;a.center.width=d,a.centerContainer.width=d,a.top.width=d,a.bottom.width=d,p.background.style.height=a.background.height+"px",p.backgroundVertical.style.height=a.background.height+"px",p.backgroundHorizontal.style.height=a.centerContainer.height+"px",p.centerContainer.style.height=a.centerContainer.height+"px",p.leftContainer.style.height=a.leftContainer.height+"px",p.rightContainer.style.height=a.rightContainer.height+"px",p.background.style.width=a.background.width+"px",p.backgroundVertical.style.width=a.centerContainer.width+"px",p.backgroundHorizontal.style.width=a.background.width+"px",p.centerContainer.style.width=a.center.width+"px",p.top.style.width=a.top.width+"px",p.bottom.style.width=a.bottom.width+"px",p.background.style.left="0",p.background.style.top="0",p.backgroundVertical.style.left=a.left.width+a.border.left+"px",p.backgroundVertical.style.top="0",p.backgroundHorizontal.style.left="0",p.backgroundHorizontal.style.top=a.top.height+"px",p.centerContainer.style.left=a.left.width+"px",p.centerContainer.style.top=a.top.height+"px",p.leftContainer.style.left="0",p.leftContainer.style.top=a.top.height+"px",p.rightContainer.style.left=a.left.width+a.center.width+"px",p.rightContainer.style.top=a.top.height+"px",p.top.style.left=a.left.width+"px",p.top.style.top="0",p.bottom.style.left=a.left.width+"px",p.bottom.style.top=a.top.height+a.centerContainer.height+"px",p.center.style.left="0",p.left.style.left="0",p.right.style.left="0"},T.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},T.prototype.setCurrentTime=function(a){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)},T.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},T.prototype._toTime=function(a){return m.toTime(this,a,this.props.center.width)},T.prototype._toGlobalTime=function(a){return m.toTime(this,a,this.props.root.width)},T.prototype._toScreen=function(a){return m.toScreen(this,a,this.props.center.width)},T.prototype._toGlobalScreen=function(a){return m.toScreen(this,a,this.props.root.width)},T.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},T.prototype._startAutoResize=function(){var a=this;this._stopAutoResize(),this._onResize=function(){1==a.options.autoResize?a.dom.root&&(a.dom.root.offsetWidth!=a.props.lastWidth||a.dom.root.offsetHeight!=a.props.lastHeight)&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight,a.props.scrollbarWidth=b.getScrollBarWidth(),a.body.emitter.emit("_change")):a._stopAutoResize()},b.addEventListener(window,"resize",this._onResize),a.dom.root&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},T.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(b.removeEventListener(window,"resize",this._onResize),this._onResize=null)},T.prototype._onTouch=function(a){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},T.prototype._onPinch=function(a){this.touch.allowDragging=!1},T.prototype._onDrag=function(a){if(a&&this.touch.allowDragging){var p=a.deltaY,d=this._getScrollTop(),u=this._setScrollTop(this.touch.initialScrollTop+p);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),u!=d&&this.emit("verticalDrag")}},T.prototype._setScrollTop=function(a){return this.props.scrollTop=a,this._updateScrollTop(),this.props.scrollTop},T.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);return a!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<a&&(this.props.scrollTop=a),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},T.prototype._getScrollTop=function(){return this.props.scrollTop},T.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},J.exports=T},function(J,L,E){var P=E(9),y=E(36),S=E(2);function D(k,A,x,O,b){this.moment=P,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(k,A,x),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(O)?O:null!=O?[O]:[],this.format=D.FORMAT,this.options=b||{}}D.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},D.prototype.setMoment=function(k){this.moment=k,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},D.prototype.setFormat=function(k){var A=S.deepExtend({},D.FORMAT);this.format=S.deepExtend(A,k)},D.prototype.setRange=function(k,A,x){if(!(k instanceof Date&&A instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=k?this.moment(k.valueOf()):new Date,this._end=null!=A?this.moment(A.valueOf()):new Date,this.autoScale&&this.setMinimumStep(x)},D.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},D.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},D.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},D.prototype.next=function(){var k=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var A=this.current.clone();A.add(1,"week"),A.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==k&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,y.stepOverHiddenDates(this.moment,this,k)},D.prototype.getCurrent=function(){return this.current},D.prototype.setScale=function(k){k&&"string"==typeof k.scale&&(this.scale=k.scale,this.step=k.step>0?k.step:1,this.autoScale=!1)},D.prototype.setAutoScale=function(k){this.autoScale=k},D.prototype.setMinimumStep=function(k){if(null!=k){var A=31104e6,x=2592e6,O=864e5,b=36e5,w=6e4,v=1e3;1e3*A>k&&(this.scale="year",this.step=1e3),500*A>k&&(this.scale="year",this.step=500),100*A>k&&(this.scale="year",this.step=100),50*A>k&&(this.scale="year",this.step=50),10*A>k&&(this.scale="year",this.step=10),5*A>k&&(this.scale="year",this.step=5),A>k&&(this.scale="year",this.step=1),3*x>k&&(this.scale="month",this.step=3),x>k&&(this.scale="month",this.step=1),5*O>k&&(this.scale="day",this.step=5),2*O>k&&(this.scale="day",this.step=2),O>k&&(this.scale="day",this.step=1),O/2>k&&(this.scale="weekday",this.step=1),4*b>k&&(this.scale="hour",this.step=4),b>k&&(this.scale="hour",this.step=1),15*w>k&&(this.scale="minute",this.step=15),10*w>k&&(this.scale="minute",this.step=10),5*w>k&&(this.scale="minute",this.step=5),w>k&&(this.scale="minute",this.step=1),15*v>k&&(this.scale="second",this.step=15),10*v>k&&(this.scale="second",this.step=10),5*v>k&&(this.scale="second",this.step=5),v>k&&(this.scale="second",this.step=1),200>k&&(this.scale="millisecond",this.step=200),100>k&&(this.scale="millisecond",this.step=100),50>k&&(this.scale="millisecond",this.step=50),10>k&&(this.scale="millisecond",this.step=10),5>k&&(this.scale="millisecond",this.step=5),1>k&&(this.scale="millisecond",this.step=1)}},D.snap=function(k,A,x){var O=P(k);if("year"==A){var b=O.year()+Math.round(O.month()/12);O.year(Math.round(b/x)*x),O.month(0),O.date(0),O.hours(0),O.minutes(0),O.seconds(0),O.milliseconds(0)}else if("month"==A)O.date()>15?(O.date(1),O.add(1,"month")):O.date(1),O.hours(0),O.minutes(0),O.seconds(0),O.milliseconds(0);else if("week"==A)O.weekday()>2?(O.weekday(0),O.add(1,"week")):O.weekday(0),O.hours(0),O.minutes(0),O.seconds(0),O.milliseconds(0);else if("day"==A){switch(x){case 5:case 2:O.hours(24*Math.round(O.hours()/24));break;default:O.hours(12*Math.round(O.hours()/12))}O.minutes(0),O.seconds(0),O.milliseconds(0)}else if("weekday"==A){switch(x){case 5:case 2:O.hours(12*Math.round(O.hours()/12));break;default:O.hours(6*Math.round(O.hours()/6))}O.minutes(0),O.seconds(0),O.milliseconds(0)}else if("hour"==A){switch(x){case 4:O.minutes(60*Math.round(O.minutes()/60));break;default:O.minutes(30*Math.round(O.minutes()/30))}O.seconds(0),O.milliseconds(0)}else if("minute"==A){switch(x){case 15:case 10:O.minutes(5*Math.round(O.minutes()/5)),O.seconds(0);break;case 5:O.seconds(60*Math.round(O.seconds()/60));break;default:O.seconds(30*Math.round(O.seconds()/30))}O.milliseconds(0)}else if("second"==A)switch(x){case 15:case 10:O.seconds(5*Math.round(O.seconds()/5)),O.milliseconds(0);break;case 5:O.milliseconds(1e3*Math.round(O.milliseconds()/1e3));break;default:O.milliseconds(500*Math.round(O.milliseconds()/500))}else if("millisecond"==A){var w=x>5?x/2:1;O.milliseconds(Math.round(O.milliseconds()/w)*w)}return O},D.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var k=this.moment(this.current);switch(this.scale){case"millisecond":return 0==k.milliseconds();case"second":return 0==k.seconds();case"minute":return 0==k.hours()&&0==k.minutes();case"hour":return 0==k.hours();case"weekday":case"day":case"week":return 1==k.date();case"month":return 0==k.month();case"year":default:return!1}},D.prototype.getLabelMinor=function(k){if(null==k&&(k=this.current),k instanceof Date&&(k=this.moment(k)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(k,this.scale,this.step);var A=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==k.weekday())return"";default:return A&&A.length>0?this.moment(k).format(A):""}},D.prototype.getLabelMajor=function(k){if(null==k&&(k=this.current),k instanceof Date&&(k=this.moment(k)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(k,this.scale,this.step);var A=this.format.majorLabels[this.scale];return A&&A.length>0?this.moment(k).format(A):""},D.prototype.getClassName=function(){var k=this.moment,A=this.moment(this.current),x=A.locale?A.locale("en"):A.lang("en"),O=this.step,b=[];function w(a){return a/O%2==0?" vis-even":" vis-odd"}function v(a){return a.isSame(new Date,"day")?" vis-today":a.isSame(k().add(1,"day"),"day")?" vis-tomorrow":a.isSame(k().add(-1,"day"),"day")?" vis-yesterday":""}function m(a){return a.isSame(new Date,"week")?" vis-current-week":""}function c(a){return a.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":b.push(v(x)),b.push(w(x.milliseconds()));break;case"second":b.push(v(x)),b.push(w(x.seconds()));break;case"minute":b.push(v(x)),b.push(w(x.minutes()));break;case"hour":b.push("vis-h"+x.hours()+(4==this.step?"-h"+(x.hours()+4):"")),b.push(v(x)),b.push(w(x.hours()));break;case"weekday":b.push("vis-"+x.format("dddd").toLowerCase()),b.push(v(x)),b.push(m(x)),b.push(w(x.date()));break;case"day":b.push("vis-day"+x.date()),b.push("vis-"+x.format("MMMM").toLowerCase()),b.push(v(x)),b.push(c(x)),b.push(this.step<=2?v(x):""),b.push(this.step<=2?"vis-"+x.format("dddd").toLowerCase():""),b.push(w(x.date()-1));break;case"week":b.push("vis-week"+x.format("w")),b.push(m(x)),b.push(w(x.week()));break;case"month":b.push("vis-"+x.format("MMMM").toLowerCase()),b.push(c(x)),b.push(w(x.month()));break;case"year":b.push("vis-year"+x.year()),b.push(x.isSame(new Date,"year")?" vis-current-year":""),b.push(w(x.year()))}return b.filter(String).join(" ")},J.exports=D},function(J,L,E){var P=E(2),y=E(16),S=E(9),D=E(98);function k(A,x){this.body=A,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:S,locales:D,locale:"en"},this.options=P.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(x)}(k.prototype=new y)._create=function(){var A=document.createElement("div");A.className="vis-current-time",A.style.position="absolute",A.style.top="0px",A.style.height="100%",this.bar=A},k.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},k.prototype.setOptions=function(A){A&&P.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,A)},k.prototype.redraw=function(){if(this.options.showCurrentTime){var A=this.body.dom.backgroundVertical;this.bar.parentNode!=A&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),A.appendChild(this.bar),this.start());var x=this.options.moment((new Date).valueOf()+this.offset),O=this.body.util.toScreen(x),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),b=this.options.locales.en);var w=b.current+" "+b.time+": "+x.format("dddd, MMMM Do YYYY, H:mm:ss");w=w.charAt(0).toUpperCase()+w.substring(1),this.options.rtl?this.bar.style.right=O+"px":this.bar.style.left=O+"px",this.bar.title=w}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},k.prototype.start=function(){var A=this;!function x(){A.stop();var b=1/A.body.range.conversion(A.body.domProps.center.width).scale/10;b<30&&(b=30),b>1e3&&(b=1e3),A.redraw(),A.body.emitter.emit("currentTimeTick"),A.currentTimeTimer=setTimeout(x,b)}()},k.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},k.prototype.setCurrentTime=function(A){var x=P.convert(A,"Date").valueOf(),O=(new Date).valueOf();this.offset=x-O,this.redraw()},k.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},J.exports=k},function(J,L,E){var x,y=(x=E(8))&&x.__esModule?x:{default:x};var D=E(2),k=E(100);function A(x,O,b){if(this.groupId=x,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=O&&O.subgroupOrder,this.itemSet=b,this.isVisible=null,this.stackDirty=!0,O&&O.nestedGroups&&(this.nestedGroups=O.nestedGroups,this.showNested=0!=O.showNested),O&&O.subgroupStack)if("boolean"==typeof O.subgroupStack)this.doInnerStack=O.subgroupStack,this.subgroupStackAll=O.subgroupStack;else for(var w in O.subgroupStack)this.subgroupStack[w]=O.subgroupStack[w],this.doInnerStack=this.doInnerStack||O.subgroupStack[w];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var v=this;this.itemSet.body.emitter.on("checkRangedItems",function(){v.checkRangedItems=!0}),this._create(),this.setData(O)}A.prototype._create=function(){var x=document.createElement("div");x.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=x;var O=document.createElement("div");O.className="vis-inner",x.appendChild(O),this.dom.inner=O;var b=document.createElement("div");b.className="vis-group",b["timeline-group"]=this,this.dom.foreground=b,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},A.prototype.setData=function(x){var O,b;if((O=this.itemSet.options&&this.itemSet.options.groupTemplate?(b=this.itemSet.options.groupTemplate.bind(this))(x,this.dom.inner):x&&x.content)instanceof Element){for(this.dom.inner.appendChild(O);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(O)}else O instanceof Object?b(x,this.dom.inner):this.dom.inner.innerHTML=null!=O?O:this.groupId||"";if(this.dom.label.title=x&&x.title||"",this.dom.inner.firstChild?D.removeClassName(this.dom.inner,"vis-hidden"):D.addClassName(this.dom.inner,"vis-hidden"),x&&x.nestedGroups){(!this.nestedGroups||this.nestedGroups!=x.nestedGroups)&&(this.nestedGroups=x.nestedGroups),(void 0!==x.showNested||void 0===this.showNested)&&(this.showNested=0!=x.showNested),D.addClassName(this.dom.label,"vis-nesting-group");var w=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(D.removeClassName(this.dom.label,w),D.addClassName(this.dom.label,"expanded")):(D.removeClassName(this.dom.label,"expanded"),D.addClassName(this.dom.label,w))}else this.nestedGroups&&(this.nestedGroups=null,D.removeClassName(this.dom.label,w=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),D.removeClassName(this.dom.label,"expanded"),D.removeClassName(this.dom.label,"vis-nesting-group"));x&&x.nestedInGroup&&(D.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var v=x&&x.className||null;v!=this.className&&(this.className&&(D.removeClassName(this.dom.label,this.className),D.removeClassName(this.dom.foreground,this.className),D.removeClassName(this.dom.background,this.className),D.removeClassName(this.dom.axis,this.className)),D.addClassName(this.dom.label,v),D.addClassName(this.dom.foreground,v),D.addClassName(this.dom.background,v),D.addClassName(this.dom.axis,v),this.className=v),this.style&&(D.removeCssText(this.dom.label,this.style),this.style=null),x&&x.style&&(D.addCssText(this.dom.label,x.style),this.style=x.style)},A.prototype.getLabelWidth=function(){return this.props.label.width},A.prototype._didMarkerHeightChange=function(){var x=this.dom.marker.clientHeight;if(x!=this.lastMarkerHeight){this.lastMarkerHeight=x;var O={},b=0;if(D.forEach(this.items,function(m,c){m.dirty=!0,m.displayed&&(O[c]=m.redraw(!0),b=O[c].length)}),b>0)for(var v=0;v<b;v++)D.forEach(O,function(m){m[v]()});return!0}},A.prototype._calculateGroupSizeAndPosition=function(){var O=this.dom.foreground.offsetLeft,b=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=O,this.width=b},A.prototype._redrawItems=function(x,O,b,w){if(x||this.stackDirty||this.isVisible&&!O){var m={},c=null;if("function"==typeof this.itemSet.options.order){var T=this,p={},d=0;if(D.forEach(this.items,function(h,f){h.displayed||(p[f]=h.redraw(!0),d=p[f].length,T.visibleItems.push(h))}),d>0)for(var g=0;g<d;g++)D.forEach(p,function(h){h[g]()});if(D.forEach(this.items,function(h){h.repositionX(false)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(c in this.subgroups)m[c]=this.subgroups[c].items.slice().sort(function(h,f){return T.itemSet.options.order(h.data,f.data)});k.stackSubgroupsWithInnerStack(m,b,this.subgroups)}else{var M=this.orderedItems.byStart.slice().sort(function(h,f){return T.itemSet.options.order(h.data,f.data)});k.stack(M,b,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,w)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,w),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(c in this.subgroups)m[c]=this.subgroups[c].items;k.stackSubgroupsWithInnerStack(m,b,this.subgroups)}else k.stack(this.visibleItems,b,!0);else k.nostack(this.visibleItems,b,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},A.prototype._didResize=function(x,O){x=D.updateProperty(this,"height",O)||x;var w=this.dom.inner.clientHeight;return x=D.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||x,D.updateProperty(this.props.label,"height",w)||x},A.prototype._applyGroupHeight=function(x){this.dom.background.style.height=x+"px",this.dom.foreground.style.height=x+"px",this.dom.label.style.height=x+"px"},A.prototype._updateItemsVerticalPosition=function(x){for(var O=0,b=this.visibleItems.length;O<b;O++){var w=this.visibleItems[O];w.repositionY(x),!this.isVisible&&"__background__"!=this.groupId&&w.displayed&&w.hide()}},A.prototype.redraw=function(x,O,b,w){var c,a,v=!1,m=this.isVisible,T=[function(){b=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,O),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(x,O)}.bind(this),function(){this._redrawItems.bind(this)(b,m,O,x)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){c=this._calculateHeight.bind(this)(O)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){v=this._didResize.bind(this)(v,c)}.bind(this),function(){this._applyGroupHeight.bind(this)(c)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(O)}.bind(this),function(){return!this.isVisible&&this.height&&(v=!1),v}];return w?T:(T.forEach(function(p){a=p()}),a)},A.prototype._updateSubGroupHeights=function(x){if((0,y.default)(this.subgroups).length>0){var O=this;this.resetSubgroups(),D.forEach(this.visibleItems,function(b){void 0!==b.data.subgroup&&(O.subgroups[b.data.subgroup].height=Math.max(O.subgroups[b.data.subgroup].height,b.height+x.item.vertical),O.subgroups[b.data.subgroup].visible=!0)})}},A.prototype._isGroupVisible=function(x,O){return this.top<=x.body.domProps.centerContainer.height-x.body.domProps.scrollTop+O.axis&&this.top+this.height+O.axis>=-x.body.domProps.scrollTop},A.prototype._calculateHeight=function(x){var O,b=this.visibleItems;if(b.length>0){var w=b[0].top,v=b[0].top+b[0].height;if(D.forEach(b,function(c){w=Math.min(w,c.top),v=Math.max(v,c.top+c.height)}),w>x.axis){var m=w-x.axis;v-=m,D.forEach(b,function(c){c.top-=m})}O=v+x.item.vertical/2}else O=0;return Math.max(O,this.props.label.height)},A.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},A.prototype.hide=function(){var x=this.dom.label;x.parentNode&&x.parentNode.removeChild(x);var O=this.dom.foreground;O.parentNode&&O.parentNode.removeChild(O);var b=this.dom.background;b.parentNode&&b.parentNode.removeChild(b);var w=this.dom.axis;w.parentNode&&w.parentNode.removeChild(w)},A.prototype.add=function(x){this.items[x.id]=x,x.setParent(this),this.stackDirty=!0,void 0!==x.data.subgroup&&(this._addToSubgroup(x),this.orderSubgroups()),-1==this.visibleItems.indexOf(x)&&this._checkIfVisible(x,this.visibleItems,this.itemSet.body.range)},A.prototype._addToSubgroup=function(x,O){null!=(O=O||x.data.subgroup)&&void 0===this.subgroups[O]&&(this.subgroups[O]={height:0,top:0,start:x.data.start,end:x.data.end||x.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[O]||!1},this.subgroupIndex++),new Date(x.data.start)<new Date(this.subgroups[O].start)&&(this.subgroups[O].start=x.data.start);var b=x.data.end||x.data.start;new Date(b)>new Date(this.subgroups[O].end)&&(this.subgroups[O].end=b),this.subgroups[O].items.push(x)},A.prototype._updateSubgroupsSizes=function(){var x=this;if(x.subgroups)for(var O in x.subgroups){var w=x.subgroups[O].items[0].data.start,v=(x.subgroups[O].items[0].data.end||x.subgroups[O].items[0].data.start)-1;x.subgroups[O].items.forEach(function(m){new Date(m.data.start)<new Date(w)&&(w=m.data.start);var c=m.data.end||m.data.start;new Date(c)>new Date(v)&&(v=c)}),x.subgroups[O].start=w,x.subgroups[O].end=new Date(v-1)}},A.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var O,x=[];if("string"==typeof this.subgroupOrderer){for(O in this.subgroups)x.push({subgroup:O,sortField:this.subgroups[O].items[0].data[this.subgroupOrderer]});x.sort(function(w,v){return w.sortField-v.sortField})}else if("function"==typeof this.subgroupOrderer){for(O in this.subgroups)x.push(this.subgroups[O].items[0].data);x.sort(this.subgroupOrderer)}if(x.length>0)for(var b=0;b<x.length;b++)this.subgroups[x[b].subgroup].index=b}},A.prototype.resetSubgroups=function(){for(var x in this.subgroups)this.subgroups.hasOwnProperty(x)&&(this.subgroups[x].visible=!1,this.subgroups[x].height=0)},A.prototype.remove=function(x){delete this.items[x.id],x.setParent(null),this.stackDirty=!0;var O=this.visibleItems.indexOf(x);-1!=O&&this.visibleItems.splice(O,1),void 0!==x.data.subgroup&&(this._removeFromSubgroup(x),this.orderSubgroups())},A.prototype._removeFromSubgroup=function(x,O){if(null!=(O=O||x.data.subgroup)){var b=this.subgroups[O];if(b){var w=b.items.indexOf(x);w>=0&&(b.items.splice(w,1),b.items.length?this._updateSubgroupsSizes():delete this.subgroups[O])}}},A.prototype.removeFromDataSet=function(x){this.itemSet.removeItem(x.id)},A.prototype.order=function(){for(var x=D.toArray(this.items),O=[],b=[],w=0;w<x.length;w++)void 0!==x[w].data.end&&b.push(x[w]),O.push(x[w]);this.orderedItems={byStart:O,byEnd:b},k.orderByStart(this.orderedItems.byStart),k.orderByEnd(this.orderedItems.byEnd)},A.prototype._updateItemsInRange=function(x,O,b){var w=[],v={},m=(b.end-b.start)/4,c=b.start-m,T=b.end+m,a=function(V){return V<c?-1:V<=T?0:1};if(O.length>0)for(var p=0;p<O.length;p++)this._checkIfVisibleWithReference(O[p],w,v,b);var d=D.binarySearchCustom(x.byStart,a,"data","start");if(this._traceVisible(d,x.byStart,w,v,function(F){return F.data.start<c||F.data.start>T}),1==this.checkRangedItems)for(this.checkRangedItems=!1,p=0;p<x.byEnd.length;p++)this._checkIfVisibleWithReference(x.byEnd[p],w,v,b);else{var u=D.binarySearchCustom(x.byEnd,a,"data","end");this._traceVisible(u,x.byEnd,w,v,function(F){return F.data.end<c||F.data.end>T})}var g={},M=0;for(p=0;p<w.length;p++){var h=w[p];h.displayed||(g[p]=h.redraw(!0),M=g[p].length)}if(M>0)for(var I=0;I<M;I++)D.forEach(g,function(F){F[I]()});for(p=0;p<w.length;p++)w[p].repositionX();return w},A.prototype._traceVisible=function(x,O,b,w,v){if(-1!=x){var m,c;for(m=x;m>=0&&!v(c=O[m]);m--)void 0===w[c.id]&&(w[c.id]=!0,b.push(c));for(m=x+1;m<O.length&&!v(c=O[m]);m++)void 0===w[c.id]&&(w[c.id]=!0,b.push(c))}},A.prototype._checkIfVisible=function(x,O,b){x.isVisible(b)?(x.displayed||x.show(),x.repositionX(),O.push(x)):x.displayed&&x.hide()},A.prototype._checkIfVisibleWithReference=function(x,O,b,w){x.isVisible(w)?void 0===b[x.id]&&(b[x.id]=!0,O.push(x)):x.displayed&&x.hide()},A.prototype.changeSubgroup=function(x,O,b){this._removeFromSubgroup(x,O),this._addToSubgroup(x,b),this.orderSubgroups()},J.exports=A},function(J,L,E){var A,y=(A=E(29))&&A.__esModule?A:{default:A};var D=E(68);function k(A,x,O){D.call(this,A,x,O),this.width=0,this.height=0,this.top=0,this.left=0}(k.prototype=(0,y.default)(D.prototype)).redraw=function(A,x,O){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,A),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var w=0,v=this.visibleItems.length;w<v;w++)this.visibleItems[w].repositionY(x);return!1},k.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},J.exports=k},function(J,L,E){var P=E(38);function y(S,D,k){if(this.props={content:{width:0}},this.overflow=!1,this.options=k,S){if(null==S.start)throw new Error('Property "start" missing in item '+S.id);if(null==S.end)throw new Error('Property "end" missing in item '+S.id)}P.call(this,S,D,k)}(y.prototype=new P(null,null,null)).baseClassName="vis-item vis-range",y.prototype.isVisible=function(S){return this.data.start<S.end&&this.data.end>S.start},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var S=this.parent.dom.foreground;if(!S)throw new Error("Cannot redraw item: parent has no foreground container element");S.appendChild(this.dom.box)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},y.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(S){this.props.content.width=S.content.width,this.height=S.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},y.prototype.redraw=function(S){var D,A,k=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(D=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(D)}.bind(this),this._repaintDomAdditionals.bind(this)];return S?k:(k.forEach(function(x){A=x()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){if(this.displayed){var S=this.dom.box;S.parentNode&&S.parentNode.removeChild(S),this.displayed=!1}},y.prototype.repositionX=function(S){var O,b,D=this.parent.width,k=this.conversion.toScreen(this.data.start),A=this.conversion.toScreen(this.data.end),x=void 0===this.data.align?this.options.align:this.data.align;!1!==this.data.limitSize&&(void 0===S||!0===S)&&(k<-D&&(k=-D),A>2*D&&(A=2*D));var w=Math.max(A-k+.5,1);switch(this.overflow?(this.options.rtl?this.right=k:this.left=k,this.width=w+this.props.content.width,b=this.props.content.width):(this.options.rtl?this.right=k:this.left=k,this.width=w,b=Math.min(A-k,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=w+"px",x){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(w-b,0)+"px":this.dom.content.style.left=Math.max(w-b,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((w-b)/2,0)+"px":this.dom.content.style.left=Math.max((w-b)/2,0)+"px";break;default:O=this.overflow?A>0?Math.max(-k,0):-b:k<0?-k:0,this.options.rtl?this.dom.content.style.right=O+"px":(this.dom.content.style.left=O+"px",this.dom.content.style.width="calc(100% - "+O+"px)")}},y.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},y.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var S=document.createElement("div");S.className="vis-drag-left",S.dragLeftItem=this,this.dom.box.appendChild(S),this.dom.dragLeft=S}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},y.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var S=document.createElement("div");S.className="vis-drag-right",S.dragRightItem=this,this.dom.box.appendChild(S),this.dom.dragRight=S}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},J.exports=y},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=b(E(19)),D=b(E(6)),A=b(E(0)),O=b(E(1));function b(c){return c&&c.__esModule?c:{default:c}}var w=E(2),v=E(179).default,m=function(){function c(T,a,p){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,A.default)(this,c),this.parent=T,this.changedOptions=[],this.container=a,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},w.extend(this.options,this.defaultOptions),this.configureOptions=p,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new v(d),this.wrapper=void 0}return(0,O.default)(c,[{key:"setOptions",value:function(a){if(void 0!==a){this.popupHistory={},this._removePopup();var p=!0;"string"==typeof a?this.options.filter=a:a instanceof Array?this.options.filter=a.join():"object"===(void 0===a?"undefined":(0,D.default)(a))?(void 0!==a.container&&(this.options.container=a.container),void 0!==a.filter&&(this.options.filter=a.filter),void 0!==a.showButton&&(this.options.showButton=a.showButton),void 0!==a.enabled&&(p=a.enabled)):"boolean"==typeof a?(this.options.filter=!0,p=a):"function"==typeof a&&(this.options.filter=a,p=!0),!1===this.options.filter&&(p=!1),this.options.enabled=p}this._clean()}},{key:"setModuleOptions",value:function(a){this.moduleOptions=a,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var a=this;this._clean(),this.changedOptions=[];var p=this.options.filter,d=0,u=!1;for(var g in this.configureOptions)this.configureOptions.hasOwnProperty(g)&&(this.allowCreation=!1,u=!1,"function"==typeof p?u=(u=p(g,[]))||this._handleObject(this.configureOptions[g],[g],!0):(!0===p||-1!==p.indexOf(g))&&(u=!0),!1!==u&&(this.allowCreation=!0,d>0&&this._makeItem([]),this._makeHeader(g),this._handleObject(this.configureOptions[g],[g])),d++);if(!0===this.options.showButton){var M=document.createElement("div");M.className="vis-configuration vis-config-button",M.innerHTML="generate options",M.onclick=function(){a._printOptions()},M.onmouseover=function(){M.className="vis-configuration vis-config-button hover"},M.onmouseout=function(){M.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(M)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var a=0;a<this.domElements.length;a++)this.wrapper.appendChild(this.domElements[a]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var a=0;a<this.domElements.length;a++)this.wrapper.removeChild(this.domElements[a]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(a){for(var p=this.moduleOptions,d=0;d<a.length;d++){if(void 0===p[a[d]]){p=void 0;break}p=p[a[d]]}return p}},{key:"_makeItem",value:function(a){if(!0===this.allowCreation){var p=document.createElement("div");p.className="vis-configuration vis-config-item vis-config-s"+a.length;for(var d=arguments.length,u=Array(d>1?d-1:0),g=1;g<d;g++)u[g-1]=arguments[g];return u.forEach(function(M){p.appendChild(M)}),this.domElements.push(p),this.domElements.length}return 0}},{key:"_makeHeader",value:function(a){var p=document.createElement("div");p.className="vis-configuration vis-config-header",p.innerHTML=a,this._makeItem([],p)}},{key:"_makeLabel",value:function(a,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=document.createElement("div");return u.className="vis-configuration vis-config-label vis-config-s"+p.length,u.innerHTML=!0===d?"<i><b>"+a+":</b></i>":a+":",u}},{key:"_makeDropdown",value:function(a,p,d){var u=document.createElement("select");u.className="vis-configuration vis-config-select";var g=0;void 0!==p&&-1!==a.indexOf(p)&&(g=a.indexOf(p));for(var M=0;M<a.length;M++){var h=document.createElement("option");h.value=a[M],M===g&&(h.selected="selected"),h.innerHTML=a[M],u.appendChild(h)}var f=this;u.onchange=function(){f._update(this.value,d)};var _=this._makeLabel(d[d.length-1],d);this._makeItem(d,_,u)}},{key:"_makeRange",value:function(a,p,d){var u=a[0],g=a[1],M=a[2],h=a[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=g,f.max=M}catch(Z){}f.step=h;var _="",I=0;if(void 0!==p){var F=1.2;p<0&&p*F<g?(f.min=Math.ceil(p*F),I=f.min,_="range increased"):p/F<g&&(f.min=Math.ceil(p/F),I=f.min,_="range increased"),p*F>M&&1!==M&&(f.max=Math.ceil(p*F),I=f.max,_="range increased"),f.value=p}else f.value=u;var V=document.createElement("input");V.className="vis-configuration vis-config-rangeinput",V.value=f.value;var j=this;f.onchange=function(){V.value=this.value,j._update(Number(this.value),d)},f.oninput=function(){V.value=this.value};var $=this._makeLabel(d[d.length-1],d),G=this._makeItem(d,$,f,V);""!==_&&this.popupHistory[G]!==I&&(this.popupHistory[G]=I,this._setupPopup(_,G))}},{key:"_setupPopup",value:function(a,p){var d=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var u=document.createElement("div");u.id="vis-configuration-popup",u.className="vis-configuration-popup",u.innerHTML=a,u.onclick=function(){d._removePopup()},this.popupCounter+=1,this.popupDiv={html:u,index:p}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var a=this;if(void 0!==this.popupDiv.html){var d=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=d.left+"px",this.popupDiv.html.style.top=d.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){a.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){a._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(a,p,d){var u=document.createElement("input");u.type="checkbox",u.className="vis-configuration vis-config-checkbox",u.checked=a,void 0!==p&&(u.checked=p,p!==a&&("object"===(void 0===a?"undefined":(0,D.default)(a))?p!==a.enabled&&this.changedOptions.push({path:d,value:p}):this.changedOptions.push({path:d,value:p})));var g=this;u.onchange=function(){g._update(this.checked,d)};var M=this._makeLabel(d[d.length-1],d);this._makeItem(d,M,u)}},{key:"_makeTextInput",value:function(a,p,d){var u=document.createElement("input");u.type="text",u.className="vis-configuration vis-config-text",u.value=p,p!==a&&this.changedOptions.push({path:d,value:p});var g=this;u.onchange=function(){g._update(this.value,d)};var M=this._makeLabel(d[d.length-1],d);this._makeItem(d,M,u)}},{key:"_makeColorField",value:function(a,p,d){var u=this,g=a[1],M=document.createElement("div");"none"!==(p=void 0===p?g:p)?(M.className="vis-configuration vis-config-colorBlock",M.style.backgroundColor=p):M.className="vis-configuration vis-config-colorBlock none",p=void 0===p?g:p,M.onclick=function(){u._showColorPicker(p,M,d)};var h=this._makeLabel(d[d.length-1],d);this._makeItem(d,h,M)}},{key:"_showColorPicker",value:function(a,p,d){var u=this;p.onclick=function(){},this.colorPicker.insertTo(p),this.colorPicker.show(),this.colorPicker.setColor(a),this.colorPicker.setUpdateCallback(function(g){var M="rgba("+g.r+","+g.g+","+g.b+","+g.a+")";p.style.backgroundColor=M,u._update(M,d)}),this.colorPicker.setCloseCallback(function(){p.onclick=function(){u._showColorPicker(a,p,d)}})}},{key:"_handleObject",value:function(a){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=!1,g=this.options.filter,M=!1;for(var h in a)if(a.hasOwnProperty(h)){u=!0;var f=a[h],_=w.copyAndExtendArray(p,h);if("function"==typeof g&&!1===(u=g(h,p))&&!(f instanceof Array)&&"string"!=typeof f&&"boolean"!=typeof f&&f instanceof Object&&(this.allowCreation=!1,u=this._handleObject(f,_,!0),this.allowCreation=!1===d),!1!==u){M=!0;var I=this._getValue(_);if(f instanceof Array)this._handleArray(f,I,_);else if("string"==typeof f)this._makeTextInput(f,I,_);else if("boolean"==typeof f)this._makeCheckbox(f,I,_);else if(f instanceof Object){var F=!0;if(-1!==p.indexOf("physics")&&this.moduleOptions.physics.solver!==h&&(F=!1),!0===F)if(void 0!==f.enabled){var V=w.copyAndExtendArray(_,"enabled"),j=this._getValue(V);if(!0===j){var $=this._makeLabel(h,_,!0);this._makeItem(_,$),M=this._handleObject(f,_)||M}else this._makeCheckbox(f,j,_)}else{var G=this._makeLabel(h,_,!0);this._makeItem(_,G),M=this._handleObject(f,_)||M}}else console.error("dont know how to handle",f,h,_)}}return M}},{key:"_handleArray",value:function(a,p,d){"string"==typeof a[0]&&"color"===a[0]?(this._makeColorField(a,p,d),a[1]!==p&&this.changedOptions.push({path:d,value:p})):"string"==typeof a[0]?(this._makeDropdown(a,p,d),a[0]!==p&&this.changedOptions.push({path:d,value:p})):"number"==typeof a[0]&&(this._makeRange(a,p,d),a[0]!==p&&this.changedOptions.push({path:d,value:Number(p)}))}},{key:"_update",value:function(a,p){var d=this._constructOptions(a,p);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",d),this.initialized=!0,this.parent.setOptions(d)}},{key:"_constructOptions",value:function(a,p){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=d;a="false"!==(a="true"===a||a)&&a;for(var g=0;g<p.length;g++)"global"!==p[g]&&(void 0===u[p[g]]&&(u[p[g]]={}),g!==p.length-1?u=u[p[g]]:u[p[g]]=a);return d}},{key:"_printOptions",value:function(){var a=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,y.default)(a,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var a={},p=0;p<this.changedOptions.length;p++)this._constructOptions(this.changedOptions[p].value,this.changedOptions[p].path,a);return a}}]),c}();L.default=m},function(J,L,E){var O,y=(O=E(6))&&O.__esModule?O:{default:O};var D=E(14);function k(O,b){}function A(O,b){return{style:(b=void 0===b?{}:b).style||O.options.drawPoints.style,styles:b.styles||O.options.drawPoints.styles,size:b.size||O.options.drawPoints.size,className:b.className||O.className}}k.draw=function(O,b,w,v){v=v||0;for(var m=function(O,b){var w=void 0;return O.options&&O.options.drawPoints&&O.options.drawPoints.onRender&&"function"==typeof O.options.drawPoints.onRender&&(w=O.options.drawPoints.onRender),b.group.options&&b.group.options.drawPoints&&b.group.options.drawPoints.onRender&&"function"==typeof b.group.options.drawPoints.onRender&&(w=b.group.options.drawPoints.onRender),w}(w,b),c=0;c<O.length;c++)if(m){var T=m(O[c],b);(!0===T||"object"===(void 0===T?"undefined":(0,y.default)(T)))&&D.drawPoint(O[c].screen_x+v,O[c].screen_y,A(b,T),w.svgElements,w.svg,O[c].label)}else D.drawPoint(O[c].screen_x+v,O[c].screen_y,A(b),w.svgElements,w.svg,O[c].label)},k.drawIcon=function(O,b,w,v,m,c){var T=.5*m,a=D.getSVGElement("rect",c.svgElements,c.svg);a.setAttributeNS(null,"x",b),a.setAttributeNS(null,"y",w-T),a.setAttributeNS(null,"width",v),a.setAttributeNS(null,"height",2*T),a.setAttributeNS(null,"class","vis-outline"),D.drawPoint(b+.5*v,w,A(O),c.svgElements,c.svg)},J.exports=k},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M.labelOffset=0,M.selected=!1,M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"setOptions",value:function(u,g,M){this.options=u,void 0===g&&void 0===M||this.setImages(g,M)}},{key:"setImages",value:function(u,g){g&&this.selected?(this.imageObj=g,this.imageObjAlt=u):(this.imageObj=u,this.imageObjAlt=g)}},{key:"switchImages",value:function(u){var g=u&&!this.selected||!u&&this.selected;if(this.selected=u,void 0!==this.imageObjAlt&&g){var M=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=M}}},{key:"_resizeImage",value:function(){var u,g;if(!1===this.options.shapeProperties.useImageSize){var M=1,h=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?M=this.imageObj.width/this.imageObj.height:h=this.imageObj.height/this.imageObj.width),u=2*this.options.size*M,g=2*this.options.size*h}else u=this.imageObj.width,g=this.imageObj.height;this.width=u,this.height=g,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(u,g,M,h){this.initContextForDraw(u,h),u.circle(g,M,h.size),this.performFill(u,h)}},{key:"_drawImageAtPosition",value:function(u,g){if(0!=this.imageObj.width){u.globalAlpha=1,this.enableShadow(u,g);var M=1;!0===this.options.shapeProperties.interpolation&&(M=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(u,M,this.left,this.top,this.width,this.height),this.disableShadow(u,g)}}},{key:"_drawImageLabel",value:function(u,g,M,h,f){var _,I=0;if(void 0!==this.height){I=.5*this.height;var F=this.labelModule.getTextSize(u,h,f);F.lineCount>=1&&(I+=F.height/2)}_=M+I,this.options.label&&(this.labelOffset=I),this.labelModule.draw(u,g,_,h,f,"hanging")}}]),p}(c(E(23)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=v(E(19)),D=v(E(6)),A=v(E(29)),O=v(E(0)),w=v(E(1));function v(M){return M&&M.__esModule?M:{default:M}}var m=E(2),c=E(117).default,T=E(48).default,a=E(215).default,p=E(217).default,d=E(218).default,u=E(219).default,g=function(){function M(h,f,_,I){if((0,O.default)(this,M),void 0===f)throw new Error("No body provided");this.options=m.bridgeObject(_),this.globalOptions=_,this.defaultOptions=I,this.body=f,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new c(this.body,this.options,!0),this.setOptions(h)}return(0,w.default)(M,[{key:"setOptions",value:function(f){if(f){M.parseOptions(this.options,f,!0,this.globalOptions),void 0!==f.id&&(this.id=f.id),void 0!==f.from&&(this.fromId=f.from),void 0!==f.to&&(this.toId=f.to),void 0!==f.title&&(this.title=f.title),void 0!==f.value&&(f.value=parseFloat(f.value)),this.chooser=T.choosify("edge",[f,this.options,this.defaultOptions]),this.updateLabelModule(f);var I=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==f.hidden||void 0!==f.physics)&&(I=!0),I}}},{key:"getFormattingValues",value:function(){var F=this.options.color.inherit,V={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:F?void 0:this.options.color.color,inheritsColor:F,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var j=this.options.selectionWidth;"function"==typeof j?V.width=j(V.width):"number"==typeof j&&(V.width+=j),V.width=Math.max(V.width,.3/this.body.view.scale),V.color=this.options.color.highlight,V.shadow=this.options.shadow.enabled}else if(this.hover){var $=this.options.hoverWidth;"function"==typeof $?V.width=$(V.width):"number"==typeof $&&(V.width+=$),V.width=Math.max(V.width,.3/this.body.view.scale),V.color=this.options.color.hover,V.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(V,this.options.id,this.selected,this.hover),void 0!==V.color&&(V.inheritsColor=!1),!1===V.shadow&&(V.shadowColor!==this.options.shadow.color||V.shadowSize!==this.options.shadow.size||V.shadowX!==this.options.shadow.x||V.shadowY!==this.options.shadow.y)&&(V.shadow=!0));else V.shadow=this.options.shadow.enabled,V.width=Math.max(V.width,.3/this.body.view.scale);return V}},{key:"updateLabelModule",value:function(f){this.labelModule.update(this.options,[f,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var f=this.options.smooth,_=!1,I=!0;return void 0!==this.edgeType&&((this.edgeType instanceof p&&!0===f.enabled&&"dynamic"===f.type||this.edgeType instanceof a&&!0===f.enabled&&"cubicBezier"===f.type||this.edgeType instanceof d&&!0===f.enabled&&"dynamic"!==f.type&&"cubicBezier"!==f.type||this.edgeType instanceof u&&!1===f.type.enabled)&&(I=!1),!0===I&&(_=this.cleanup())),!0===I?!0===f.enabled?"dynamic"===f.type?(_=!0,this.edgeType=new p(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===f.type?new a(this.options,this.body,this.labelModule):new d(this.options,this.body,this.labelModule):this.edgeType=new u(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),_}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(f,_,I){if(void 0!==this.options.value){var F=this.options.scaling.customScalingFunction(f,_,I,this.options.value),V=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+F*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+F*V}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(f){var _=this.getFormattingValues();if(!_.hidden){var I=this.edgeType.getViaNode(),F={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,_.fromArrow&&(F.from=this.edgeType.getArrowData(f,"from",I,this.selected,this.hover,_),!1===_.arrowStrikethrough&&(this.edgeType.fromPoint=F.from.core)),_.toArrow&&(F.to=this.edgeType.getArrowData(f,"to",I,this.selected,this.hover,_),!1===_.arrowStrikethrough&&(this.edgeType.toPoint=F.to.core)),_.middleArrow&&(F.middle=this.edgeType.getArrowData(f,"middle",I,this.selected,this.hover,_)),this.edgeType.drawLine(f,_,this.selected,this.hover,I),this.drawArrows(f,F,_),this.drawLabel(f,I)}}},{key:"drawArrows",value:function(f,_,I){I.fromArrow&&this.edgeType.drawArrowHead(f,I,this.selected,this.hover,_.from),I.middleArrow&&this.edgeType.drawArrowHead(f,I,this.selected,this.hover,_.middle),I.toArrow&&this.edgeType.drawArrowHead(f,I,this.selected,this.hover,_.to)}},{key:"drawLabel",value:function(f,_){if(void 0!==this.options.label){var I=this.from,F=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(f,this.selected,this.hover),I.id!=F.id){this.labelModule.pointToSelf=!1;var V=this.edgeType.getPoint(.5,_);f.save();var j=this._getRotation(f);0!=j.angle&&(f.translate(j.x,j.y),f.rotate(j.angle)),this.labelModule.draw(f,V.x,V.y,this.selected,this.hover),f.restore()}else{this.labelModule.pointToSelf=!0;var $,G,Z=this.options.selfReferenceSize;I.shape.width>I.shape.height?($=I.x+.5*I.shape.width,G=I.y-Z):($=I.x+Z,G=I.y-.5*I.shape.height),V=this._pointOnCircle($,G,Z,.125),this.labelModule.draw(f,V.x,V.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(f){var _=[];if(this.labelModule.visible()){var I=this._getRotation();T.pointInRect(this.labelModule.getSize(),f,I)&&_.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:f.x,top:f.y})&&_.push({edgeId:this.id}),_}},{key:"isOverlappingWith",value:function(f){if(this.connected){return this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,f.left,f.top)<10}return!1}},{key:"_getRotation",value:function(f){var _=this.edgeType.getViaNode(),I=this.edgeType.getPoint(.5,_);void 0!==f&&this.labelModule.calculateLabelSize(f,this.selected,this.hover,I.x,I.y);var F={x:I.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return F;var j=this.from.x-this.to.x,$=Math.atan2(this.from.y-this.to.y,j);return($<-1&&j<0||$>0&&j<0)&&($+=Math.PI),F.angle=$,F}},{key:"_pointOnCircle",value:function(f,_,I,F){var V=2*F*Math.PI;return{x:f+I*Math.cos(V),y:_-I*Math.sin(V)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(f,_){var I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},V=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],f,_,I),f.label=T.isValidLabel(_.label)?_.label:void 0,m.mergeOptions(f,_,"smooth",F),m.mergeOptions(f,_,"shadow",F),null!=_.dashes?f.dashes=_.dashes:!0===I&&null===_.dashes&&(f.dashes=(0,A.default)(F.dashes)),null!=_.scaling?(void 0!==_.scaling.min&&(f.scaling.min=_.scaling.min),void 0!==_.scaling.max&&(f.scaling.max=_.scaling.max),m.mergeOptions(f.scaling,_.scaling,"label",F.scaling)):!0===I&&null===_.scaling&&(f.scaling=(0,A.default)(F.scaling)),null!=_.arrows)if("string"==typeof _.arrows){var $=_.arrows.toLowerCase();f.arrows.to.enabled=-1!=$.indexOf("to"),f.arrows.middle.enabled=-1!=$.indexOf("middle"),f.arrows.from.enabled=-1!=$.indexOf("from")}else{if("object"!==(0,D.default)(_.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,y.default)(_.arrows));m.mergeOptions(f.arrows,_.arrows,"to",F.arrows),m.mergeOptions(f.arrows,_.arrows,"middle",F.arrows),m.mergeOptions(f.arrows,_.arrows,"from",F.arrows)}else!0===I&&null===_.arrows&&(f.arrows=(0,A.default)(F.arrows));if(null!=_.color){var G=_.color,Z=f.color;if(V)m.deepExtend(Z,F.color,!1,I);else for(var ne in Z)Z.hasOwnProperty(ne)&&delete Z[ne];if(m.isString(Z))Z.color=Z,Z.highlight=Z,Z.hover=Z,Z.inherit=!1,void 0===G.opacity&&(Z.opacity=1);else{var oe=!1;void 0!==G.color&&(Z.color=G.color,oe=!0),void 0!==G.highlight&&(Z.highlight=G.highlight,oe=!0),void 0!==G.hover&&(Z.hover=G.hover,oe=!0),void 0!==G.inherit&&(Z.inherit=G.inherit),void 0!==G.opacity&&(Z.opacity=Math.min(1,Math.max(0,G.opacity))),!0===oe?Z.inherit=!1:void 0===Z.inherit&&(Z.inherit="from")}}else!0===I&&null===_.color&&(f.color=m.bridgeObject(F.color));!0===I&&null===_.font&&(f.font=m.bridgeObject(F.font))}}]),M}();L.default=g},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_findBorderPositionBezier",value:function(u,g){var F,V,G,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),h=10,f=0,_=0,I=1,Z=.2,ne=this.to,oe=!1;for(u.id===this.from.id&&(ne=this.from,oe=!0);_<=I&&f<h;){var le=.5*(_+I);if(F=this.getPoint(le,M),V=Math.atan2(ne.y-F.y,ne.x-F.x),G=ne.distanceToBorder(g,V)-Math.sqrt(Math.pow(F.x-ne.x,2)+Math.pow(F.y-ne.y,2)),Math.abs(G)<Z)break;G<0?!1===oe?_=le:I=le:!1===oe?I=le:_=le,f++}return F.t=le,F}},{key:"_getDistanceToBezierEdge",value:function(u,g,M,h,f,_,I){var F=1e9,V=void 0,j=void 0,$=void 0,G=void 0,Z=void 0,ne=u,oe=g;for(j=1;j<10;j++)$=.1*j,G=Math.pow(1-$,2)*u+2*$*(1-$)*I.x+Math.pow($,2)*M,Z=Math.pow(1-$,2)*g+2*$*(1-$)*I.y+Math.pow($,2)*h,j>0&&(F=(V=this._getDistanceToLine(ne,oe,G,Z,f,_))<F?V:F),ne=G,oe=Z;return F}},{key:"_bezierCurve",value:function(u,g,M,h){var f=void 0!==M&&void 0!==M.x,_=void 0!==h&&void 0!==h.x;u.beginPath(),u.moveTo(this.fromPoint.x,this.fromPoint.y),f&&_?u.bezierCurveTo(M.x,M.y,h.x,h.y,this.toPoint.x,this.toPoint.y):f?u.quadraticCurveTo(M.x,M.y,this.toPoint.x,this.toPoint.y):u.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(u,g),u.stroke(),this.disableShadow(u,g)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),p}(c(E(118)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(O){return O&&O.__esModule?O:{default:O}}var A=E(2),x=function(){function O(){(0,y.default)(this,O)}return(0,D.default)(O,null,[{key:"getRange",value:function(w){var p,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=1e9,c=-1e9,T=1e9,a=-1e9;if(v.length>0)for(var d=0;d<v.length;d++)T>(p=w[v[d]]).shape.boundingBox.left&&(T=p.shape.boundingBox.left),a<p.shape.boundingBox.right&&(a=p.shape.boundingBox.right),m>p.shape.boundingBox.top&&(m=p.shape.boundingBox.top),c<p.shape.boundingBox.bottom&&(c=p.shape.boundingBox.bottom);return 1e9===T&&-1e9===a&&1e9===m&&-1e9===c&&(m=0,c=0,T=0,a=0),{minX:T,maxX:a,minY:m,maxY:c}}},{key:"getRangeCore",value:function(w){var p,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=1e9,c=-1e9,T=1e9,a=-1e9;if(v.length>0)for(var d=0;d<v.length;d++)T>(p=w[v[d]]).x&&(T=p.x),a<p.x&&(a=p.x),m>p.y&&(m=p.y),c<p.y&&(c=p.y);return 1e9===T&&-1e9===a&&1e9===m&&-1e9===c&&(m=0,c=0,T=0,a=0),{minX:T,maxX:a,minY:m,maxY:c}}},{key:"findCenter",value:function(w){return{x:.5*(w.maxX+w.minX),y:.5*(w.maxY+w.minY)}}},{key:"cloneOptions",value:function(w,v){var m={};return void 0===v||"node"===v?(A.deepExtend(m,w.options,!0),m.x=w.x,m.y=w.y,m.amountOfConnections=w.edges.length):A.deepExtend(m,w.options,!0),m}}]),O}();L.default=x},function(J,L,E){J.exports={default:E(124),__esModule:!0}},function(J,L,E){var P=E(50);J.exports=Object("z").propertyIsEnumerable(0)?Object:function(y){return"String"==P(y)?y.split(""):Object(y)}},function(J,L,E){var P=E(52),y=E(17),S=E(83),D=E(26),k=E(22),A=E(31),x=E(129),O=E(59),b=E(85),w=E(13)("iterator"),v=!([].keys&&"next"in[].keys()),c="keys",T="values",a=function(){return this};J.exports=function(p,d,u,g,M,h,f){x(u,d,g);var oe,le,pe,_=function(_e){if(!v&&_e in j)return j[_e];switch(_e){case c:case T:return function(){return new u(this,_e)}}return function(){return new u(this,_e)}},I=d+" Iterator",F=M==T,V=!1,j=p.prototype,$=j[w]||j["@@iterator"]||M&&j[M],G=$||_(M),Z=M?F?_("entries"):G:void 0,ne="Array"==d&&j.entries||$;if(ne&&(pe=b(ne.call(new p)))!==Object.prototype&&pe.next&&(O(pe,I,!0),!P&&!k(pe,w)&&D(pe,w,a)),F&&$&&$.name!==T&&(V=!0,G=function(){return $.call(this)}),(!P||f)&&(v||V||!j[w])&&D(j,w,G),A[d]=G,A[I]=a,M)if(oe={values:F?G:_(T),keys:h?G:_(c),entries:Z},f)for(le in oe)le in j||S(j,le,oe[le]);else y(y.P+y.F*(v||V),d,oe);return oe}},function(J,L,E){var P=E(128);J.exports=function(y,S,D){if(P(y),void 0===S)return y;switch(D){case 1:return function(k){return y.call(S,k)};case 2:return function(k,A){return y.call(S,k,A)};case 3:return function(k,A,x){return y.call(S,k,A,x)}}return function(){return y.apply(S,arguments)}}},function(J,L,E){J.exports=!E(21)&&!E(28)(function(){return 7!=Object.defineProperty(E(82)("div"),"a",{get:function(){return 7}}).a})},function(J,L,E){var P=E(32),y=E(18).document,S=P(y)&&P(y.createElement);J.exports=function(D){return S?y.createElement(D):{}}},function(J,L,E){J.exports=E(26)},function(J,L,E){var P=E(22),y=E(25),S=E(131)(!1),D=E(56)("IE_PROTO");J.exports=function(k,A){var w,x=y(k),O=0,b=[];for(w in x)w!=D&&P(x,w)&&b.push(w);for(;A.length>O;)P(x,w=A[O++])&&(~S(b,w)||b.push(w));return b}},function(J,L,E){var P=E(22),y=E(41),S=E(56)("IE_PROTO"),D=Object.prototype;J.exports=Object.getPrototypeOf||function(k){return k=y(k),P(k,S)?k[S]:"function"==typeof k.constructor&&k instanceof k.constructor?k.constructor.prototype:k instanceof Object?D:null}},function(J,L,E){var P=E(50),y=E(13)("toStringTag"),S="Arguments"==P(function(){return arguments}());J.exports=function(k){var A,x,O;return void 0===k?"Undefined":null===k?"Null":"string"==typeof(x=function(k,A){try{return k[A]}catch(x){}}(A=Object(k),y))?x:S?P(A):"Object"==(O=P(A))&&"function"==typeof A.callee?"Arguments":O}},function(J,L,E){var P=E(17),y=E(7),S=E(28);J.exports=function(D,k){var A=(y.Object||{})[D]||Object[D],x={};x[D]=k(A),P(P.S+P.F*S(function(){A(1)}),"Object",x)}},function(J,L,E){var P=E(84),y=E(58).concat("length","prototype");L.f=Object.getOwnPropertyNames||function(D){return P(D,y)}},function(J,L,E){var P=E(42),y=E(39),S=E(25),D=E(53),k=E(22),A=E(81),x=Object.getOwnPropertyDescriptor;L.f=E(21)?x:function(b,w){if(b=S(b),w=D(w,!0),A)try{return x(b,w)}catch(v){}if(k(b,w))return y(!P.f.call(b,w),b[w])}},function(J,L,E){J.exports={default:E(162),__esModule:!0}},function(J,L,E){J.exports=function(y,S){this.x=void 0!==y?y:0,this.y=void 0!==S?S:0}},function(J,L,E){var P=E(2);function y(S,D){if(void 0===S)throw new Error("No container element defined");if(this.container=S,this.visible=!D||null==D.visible||D.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var k=this;this.frame.slide.onmousedown=function(A){k._onMouseDown(A)},this.frame.prev.onclick=function(A){k.prev(A)},this.frame.play.onclick=function(A){k.togglePlay(A)},this.frame.next.onclick=function(A){k.next(A)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}y.prototype.prev=function(){var S=this.getIndex();S>0&&(S--,this.setIndex(S))},y.prototype.next=function(){var S=this.getIndex();S<this.values.length-1&&(S++,this.setIndex(S))},y.prototype.playNext=function(){var S=new Date,D=this.getIndex();D<this.values.length-1?(D++,this.setIndex(D)):this.playLoop&&this.setIndex(D=0);var k=new Date,x=Math.max(this.playInterval-(k-S),0),O=this;this.playTimeout=setTimeout(function(){O.playNext()},x)},y.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},y.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},y.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},y.prototype.setOnChangeCallback=function(S){this.onChangeCallback=S},y.prototype.setPlayInterval=function(S){this.playInterval=S},y.prototype.getPlayInterval=function(){return this.playInterval},y.prototype.setPlayLoop=function(S){this.playLoop=S},y.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},y.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var S=this.indexToLeft(this.index);this.frame.slide.style.left=S+"px"}},y.prototype.setValues=function(S){this.values=S,this.values.length>0?this.setIndex(0):this.index=void 0},y.prototype.setIndex=function(S){if(!(S<this.values.length))throw new Error("Index out of range");this.index=S,this.redraw(),this.onChange()},y.prototype.getIndex=function(){return this.index},y.prototype.get=function(){return this.values[this.index]},y.prototype._onMouseDown=function(S){if(S.which?1===S.which:1===S.button){this.startClientX=S.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var k=this;this.onmousemove=function(A){k._onMouseMove(A)},this.onmouseup=function(A){k._onMouseUp(A)},P.addEventListener(document,"mousemove",this.onmousemove),P.addEventListener(document,"mouseup",this.onmouseup),P.preventDefault(S)}},y.prototype.leftToIndex=function(S){var D=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,A=Math.round((S-3)/D*(this.values.length-1));return A<0&&(A=0),A>this.values.length-1&&(A=this.values.length-1),A},y.prototype.indexToLeft=function(S){var D=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return S/(this.values.length-1)*D+3},y.prototype._onMouseMove=function(S){var A=this.leftToIndex(this.startSlideX+(S.clientX-this.startClientX));this.setIndex(A),P.preventDefault()},y.prototype._onMouseUp=function(S){this.frame.style.cursor="auto",P.removeEventListener(document,"mousemove",this.onmousemove),P.removeEventListener(document,"mouseup",this.onmouseup),P.preventDefault()},J.exports=y},function(J,L,E){function P(y,S,D,k){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(y,S,D,k)}P.prototype.isNumeric=function(y){return!isNaN(parseFloat(y))&&isFinite(y)},P.prototype.setRange=function(y,S,D,k){if(!this.isNumeric(y))throw new Error("Parameter 'start' is not numeric; value: "+y);if(!this.isNumeric(S))throw new Error("Parameter 'end' is not numeric; value: "+y);if(!this.isNumeric(D))throw new Error("Parameter 'step' is not numeric; value: "+y);this._start=y||0,this._end=S||0,this.setStep(D,k)},P.prototype.setStep=function(y,S){void 0===y||y<=0||(void 0!==S&&(this.prettyStep=S),this._step=!0===this.prettyStep?P.calculatePrettyStep(y):y)},P.calculatePrettyStep=function(y){var S=function(b){return Math.log(b)/Math.LN10},D=Math.pow(10,Math.round(S(y))),k=2*Math.pow(10,Math.round(S(y/2))),A=5*Math.pow(10,Math.round(S(y/5))),x=D;return Math.abs(k-y)<=Math.abs(x-y)&&(x=k),Math.abs(A-y)<=Math.abs(x-y)&&(x=A),x<=0&&(x=1),x},P.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},P.prototype.getStep=function(){return this._step},P.prototype.start=function(y){void 0===y&&(y=!1),this._current=this._start-this._start%this._step,y&&this.getCurrent()<this._start&&this.next()},P.prototype.next=function(){this._current+=this._step},P.prototype.end=function(){return this._current>this._end},J.exports=P},function(J,L,E){var j,y=(j=E(6))&&j.__esModule?j:{default:j};var D=E(2),k=E(95),A=E(34),x={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},O={dot:x.DOT,"dot-line":x.DOTLINE,"dot-color":x.DOTCOLOR,"dot-size":x.DOTSIZE,line:x.LINE,grid:x.GRID,surface:x.SURFACE,bar:x.BAR,"bar-color":x.BARCOLOR,"bar-size":x.BARSIZE},b=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],w=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],v=void 0;function m(j){for(var $ in j)if(j.hasOwnProperty($))return!1;return!0}function T(j,$){return void 0===j||""===j?$:j+function(j){return void 0===j||""===j||"string"!=typeof j?j:j.charAt(0).toUpperCase()+j.slice(1)}($)}function a(j,$,G,Z){for(var ne,le=0;le<G.length;++le)$[T(Z,ne=G[le])]=j[ne]}function p(j,$,G,Z){for(var ne,le=0;le<G.length;++le)void 0!==j[ne=G[le]]&&($[T(Z,ne)]=j[ne])}function g(j,$){void 0!==j.backgroundColor&&function(j,$){var G="white",Z="gray",ne=1;if("string"==typeof j)G=j,Z="none",ne=0;else{if("object"!==(void 0===j?"undefined":(0,y.default)(j)))throw new Error("Unsupported type of backgroundColor");void 0!==j.fill&&(G=j.fill),void 0!==j.stroke&&(Z=j.stroke),void 0!==j.strokeWidth&&(ne=j.strokeWidth)}$.frame.style.backgroundColor=G,$.frame.style.borderColor=Z,$.frame.style.borderWidth=ne+"px",$.frame.style.borderStyle="solid"}(j.backgroundColor,$),function(j,$){void 0!==j&&(void 0===$.dataColor&&($.dataColor={}),"string"==typeof j?($.dataColor.fill=j,$.dataColor.stroke=j):(j.fill&&($.dataColor.fill=j.fill),j.stroke&&($.dataColor.stroke=j.stroke),void 0!==j.strokeWidth&&($.dataColor.strokeWidth=j.strokeWidth)))}(j.dataColor,$),function(j,$){if(void 0!==j){var G;if("string"==typeof j){if(-1===(G=function(j){var $=O[j];return void 0===$?-1:$}(j)))throw new Error("Style '"+j+"' is invalid")}else{if(!function(j){var $=!1;for(var G in x)if(x[G]===j){$=!0;break}return $}(j))throw new Error("Style '"+j+"' is invalid");G=j}$.style=G}}(j.style,$),function(j,$){void 0===j?void 0===v.showLegend&&($.showLegend=$.style===x.DOTCOLOR||$.style===x.DOTSIZE):$.showLegend=j}(j.showLegend,$),V(j.cameraPosition,$),void 0!==j.tooltip&&($.showTooltip=j.tooltip),null!=j.onclick&&($.onclick_callback=j.onclick),void 0!==j.tooltipStyle&&D.selectiveDeepExtend(["tooltipStyle"],$,j)}function V(j,$){var G=j;void 0!==G&&(void 0===$.camera&&($.camera=new k),$.camera.setArmRotation(G.horizontal,G.vertical),$.camera.setArmLength(G.distance))}J.exports.STYLE=x,J.exports.setDefaults=function(j,$){if(void 0===j||m(j))throw new Error("No DEFAULTS passed");if(void 0===$)throw new Error("No dst passed");v=j,a(j,$,b),a(j,$,w,"default"),g(j,$),$.margin=10,$.showGrayBottom=!1,$.showTooltip=!1,$.onclick_callback=null,$.eye=new A(0,0,-1)},J.exports.setOptions=function(j,$){if(void 0!==j){if(void 0===$)throw new Error("No dst passed");if(void 0===v||m(v))throw new Error("DEFAULTS not set for module Settings");p(j,$,b),p(j,$,w,"default"),g(j,$)}},J.exports.setCameraPosition=V},function(J,L,E){var A,y=(A=E(165))&&A.__esModule?A:{default:A};var D=E(34);function k(){this.armLocation=new D,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new D,this.offsetMultiplier=.6,this.cameraLocation=new D,this.cameraRotation=new D(.5*Math.PI,0,0),this.calculateCameraOrientation()}k.prototype.setOffset=function(A,x){var O=Math.abs,b=y.default,v=this.armLength*this.offsetMultiplier;O(A)>v&&(A=b(A)*v),O(x)>v&&(x=b(x)*v),this.cameraOffset.x=A,this.cameraOffset.y=x,this.calculateCameraOrientation()},k.prototype.getOffset=function(){return this.cameraOffset},k.prototype.setArmLocation=function(A,x,O){this.armLocation.x=A,this.armLocation.y=x,this.armLocation.z=O,this.calculateCameraOrientation()},k.prototype.setArmRotation=function(A,x){void 0!==A&&(this.armRotation.horizontal=A),void 0!==x&&(this.armRotation.vertical=x,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==A||void 0!==x)&&this.calculateCameraOrientation()},k.prototype.getArmRotation=function(){var A={};return A.horizontal=this.armRotation.horizontal,A.vertical=this.armRotation.vertical,A},k.prototype.setArmLength=function(A){void 0!==A&&(this.armLength=A,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},k.prototype.getArmLength=function(){return this.armLength},k.prototype.getCameraLocation=function(){return this.cameraLocation},k.prototype.getCameraRotation=function(){return this.cameraRotation},k.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var A=this.cameraRotation.x,x=this.cameraRotation.z,O=this.cameraOffset.x,b=this.cameraOffset.y,w=Math.sin,v=Math.cos;this.cameraLocation.x=this.cameraLocation.x+O*v(x)+b*-w(x)*v(A),this.cameraLocation.y=this.cameraLocation.y+O*w(x)+b*v(x)*v(A),this.cameraLocation.z=this.cameraLocation.z+b*w(A)},J.exports=k},function(J,L,E){var P=E(12);function y(S,D,k){this.dataGroup=S,this.column=D,this.graph=k,this.index=void 0,this.value=void 0,this.values=S.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,k.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}y.prototype.isLoaded=function(){return this.loaded},y.prototype.getLoadedProgress=function(){for(var S=this.values.length,D=0;this.dataPoints[D];)D++;return Math.round(D/S*100)},y.prototype.getLabel=function(){return this.graph.filterLabel},y.prototype.getColumn=function(){return this.column},y.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},y.prototype.getValues=function(){return this.values},y.prototype.getValue=function(S){if(S>=this.values.length)throw new Error("Index out of range");return this.values[S]},y.prototype._getDataPoints=function(S){if(void 0===S&&(S=this.index),void 0===S)return[];var D;if(this.dataPoints[S])D=this.dataPoints[S];else{var k={};k.column=this.column,k.value=this.values[S];var A=new P(this.dataGroup.getDataSet(),{filter:function(O){return O[k.column]==k.value}}).get();D=this.dataGroup._getDataPoints(A),this.dataPoints[S]=D}return D},y.prototype.setOnLoadCallback=function(S){this.onLoadCallback=S},y.prototype.selectValue=function(S){if(S>=this.values.length)throw new Error("Index out of range");this.index=S,this.value=this.values[S]},y.prototype.loadInBackground=function(S){void 0===S&&(S=0);var D=this.graph.frame;if(S<this.values.length){void 0===D.progress&&(D.progress=document.createElement("DIV"),D.progress.style.position="absolute",D.progress.style.color="gray",D.appendChild(D.progress));var k=this.getLoadedProgress();D.progress.innerHTML="Loading animation... "+k+"%",D.progress.style.bottom="60px",D.progress.style.left="10px";var A=this;setTimeout(function(){A.loadInBackground(S+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==D.progress&&(D.removeChild(D.progress),D.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},J.exports=y},function(J,L,E){var P=E(35),y=E(44),S=E(10),D=E(2);function k(x){this.active=!1,this.dom={container:x},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=S(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var O=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(w){O.hammer.on(w,function(v){v.stopPropagation()})}),document&&document.body&&(this.onClick=function(w){(function(x,O){for(;x;){if(x===O)return!0;x=x.parentNode}return!1})(w.target,x)||O.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=P(),this.escListener=this.deactivate.bind(this)}y(k.prototype),k.current=null,k.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},k.prototype.activate=function(){k.current&&k.current.deactivate(),k.current=this,this.active=!0,this.dom.overlay.style.display="none",D.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},k.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",D.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},k.prototype._onTapOverlay=function(x){this.activate(),x.stopPropagation()},J.exports=k},function(J,L,E){L.en={current:"current",time:"time"},L.en_EN=L.en,L.en_US=L.en,L.it={current:"attuale",time:"tempo"},L.it_IT=L.it,L.it_CH=L.it,L.nl={current:"huidige",time:"tijd"},L.nl_NL=L.nl,L.nl_BE=L.nl,L.de={current:"Aktuelle",time:"Zeit"},L.de_DE=L.de,L.fr={current:"actuel",time:"heure"},L.fr_FR=L.fr,L.fr_CA=L.fr,L.fr_BE=L.fr,L.es={current:"corriente",time:"hora"},L.es_ES=L.es},function(J,L,E){var y=k(E(29)),D=k(E(6));function k(f){return f&&f.__esModule?f:{default:f}}var A=E(10),x=E(2),O=E(11),b=E(12),w=E(66),v=E(16),m=E(68),c=E(69),T=E(101),a=E(102),p=E(70),d=E(103),u=E(104).default,g="__ungrouped__",M="__background__";function h(f,_){this.body=f,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(V,j,$){var G=j.order;j.order=V.order,V.order=G},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:w.snap,onDropObjectOnItem:function(V,j,$){$(j)},onAdd:function(V,j){j(V)},onUpdate:function(V,j){j(V)},onMove:function(V,j){j(V)},onRemove:function(V,j){j(V)},onMoving:function(V,j){j(V)},onAddGroup:function(V,j){j(V)},onMoveGroup:function(V,j){j(V)},onRemoveGroup:function(V,j){j(V)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=x.extend({},this.defaultOptions),this.options.rtl=_.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:f.util.toScreen,toTime:f.util.toTime},this.dom={},this.props={},this.hammer=null;var I=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(V,j,$){I._onAdd(j.items)},update:function(V,j,$){I._onUpdate(j.items)},remove:function(V,j,$){I._onRemove(j.items)}},this.groupListeners={add:function(V,j,$){if(I._onAddGroups(j.items),I.groupsData&&I.groupsData.length>0){var G=I.groupsData.getDataSet();G.get().forEach(function(Z){if(Z.nestedGroups){0!=Z.showNested&&(Z.showNested=!0);var ne=[];Z.nestedGroups.forEach(function(oe){var le=G.get(oe);!le||(le.nestedInGroup=Z.id,0==Z.showNested&&(le.visible=!1),ne=ne.concat(le))}),G.update(ne,$)}})}},update:function(V,j,$){I._onUpdateGroups(j.items)},remove:function(V,j,$){I._onRemoveGroups(j.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(_)}h.prototype=new v,h.types={background:d,box:T,range:p,point:a},h.prototype._create=function(){var f=document.createElement("div");f.className="vis-itemset",f["timeline-itemset"]=this,this.dom.frame=f;var _=document.createElement("div");_.className="vis-background",f.appendChild(_),this.dom.background=_;var I=document.createElement("div");I.className="vis-foreground",f.appendChild(I),this.dom.foreground=I;var F=document.createElement("div");F.className="vis-axis",this.dom.axis=F;var V=document.createElement("div");V.className="vis-labelset",this.dom.labelSet=V,this._updateUngrouped();var j=new c(M,null,this);j.show(),this.groups[M]=j,this.hammer=new A(this.body.dom.centerContainer),this.hammer.on("hammer.input",function($){$.isFirst&&this._onTouch($)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:A.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new A(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:A.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},h.prototype.setOptions=function(f){if(f){x.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,f),"itemsAlwaysDraggable"in f&&("boolean"==typeof f.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=f.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,D.default)(f.itemsAlwaysDraggable)&&(x.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,f.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in f&&("string"==typeof f.orientation?this.options.orientation.item="top"===f.orientation?"top":"bottom":"object"===(0,D.default)(f.orientation)&&"item"in f.orientation&&(this.options.orientation.item=f.orientation.item)),"margin"in f&&("number"==typeof f.margin?(this.options.margin.axis=f.margin,this.options.margin.item.horizontal=f.margin,this.options.margin.item.vertical=f.margin):"object"===(0,D.default)(f.margin)&&(x.selectiveExtend(["axis"],this.options.margin,f.margin),"item"in f.margin&&("number"==typeof f.margin.item?(this.options.margin.item.horizontal=f.margin.item,this.options.margin.item.vertical=f.margin.item):"object"===(0,D.default)(f.margin.item)&&x.selectiveExtend(["horizontal","vertical"],this.options.margin.item,f.margin.item)))),"editable"in f&&("boolean"==typeof f.editable?(this.options.editable.updateTime=f.editable,this.options.editable.updateGroup=f.editable,this.options.editable.add=f.editable,this.options.editable.remove=f.editable,this.options.editable.overrideItems=!1):"object"===(0,D.default)(f.editable)&&x.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,f.editable)),"groupEditable"in f&&("boolean"==typeof f.groupEditable?(this.options.groupEditable.order=f.groupEditable,this.options.groupEditable.add=f.groupEditable,this.options.groupEditable.remove=f.groupEditable):"object"===(0,D.default)(f.groupEditable)&&x.selectiveExtend(["order","add","remove"],this.options.groupEditable,f.groupEditable));var I=function(F){var V=f[F];if(V){if(!(V instanceof Function))throw new Error("option "+F+" must be a function "+F+"(item, callback)");this.options[F]=V}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(I),this.markDirty()}},h.prototype.markDirty=function(f){this.groupIds=[],f&&f.refreshItems&&x.forEach(this.items,function(_){_.dirty=!0,_.displayed&&_.redraw()})},h.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},h.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},h.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},h.prototype.setSelection=function(f){var _,I,F,V;for(null==f&&(f=[]),Array.isArray(f)||(f=[f]),_=0,I=this.selection.length;_<I;_++)(V=this.items[F=this.selection[_]])&&V.unselect();for(this.selection=[],_=0,I=f.length;_<I;_++)(V=this.items[F=f[_]])&&(this.selection.push(F),V.select())},h.prototype.getSelection=function(){return this.selection.concat([])},h.prototype.getVisibleItems=function(){var _,I,f=this.body.range.getRange();this.options.rtl?(_=this.body.util.toScreen(f.start),I=this.body.util.toScreen(f.end)):(I=this.body.util.toScreen(f.start),_=this.body.util.toScreen(f.end));var F=[];for(var V in this.groups)if(this.groups.hasOwnProperty(V))for(var j=this.groups[V],$=j.isVisible?j.visibleItems:[],G=0;G<$.length;G++){var Z=$[G];this.options.rtl?Z.right<I&&Z.right+Z.width>_&&F.push(Z.id):Z.left<_&&Z.left+Z.width>I&&F.push(Z.id)}return F},h.prototype._deselect=function(f){for(var _=this.selection,I=0,F=_.length;I<F;I++)if(_[I]==f){_.splice(I,1);break}},h.prototype.redraw=function(){var f=this.options.margin,_=this.body.range,I=x.option.asSize,F=this.options,V=F.orientation.item,j=!1,$=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,$.className="vis-itemset",j=this._orderGroups()||j;var G=_.end-_.start,pe=G!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||_.start!=this.lastRangeStart||F.stack!=this.lastStack||F.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=G,this.lastRangeStart=_.start,this.lastStack=F.stack,this.lastStackSubgroups=F.stackSubgroups,this.props.lastWidth=this.props.width;var _e=this._firstGroup(),we={item:f.item,axis:f.axis},Ee={item:f.item,axis:f.item.vertical/2},ge=0,ue=f.axis+f.item.vertical;this.groups[M].redraw(_,Ee,pe);var ce={},Ce=0;if(x.forEach(this.groups,function(Be,ze){ze!==M&&(ce[ze]=Be.redraw(_,Be==_e?we:Ee,pe,!0),Ce=ce[ze].length)}),Ce>0){for(var Ie={},xe=0;xe<Ce;xe++)x.forEach(ce,function(Be,ze){Ie[ze]=Be[xe]()});x.forEach(this.groups,function(Be,ze){ze!==M&&(j=Ie[ze]||j,ge+=Be.height)}),ge=Math.max(ge,ue)}return ge=Math.max(ge,ue),$.style.height=I(ge),this.props.width=$.offsetWidth,this.props.height=ge,this.dom.axis.style.top=I("top"==V?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,j=this._isResized()||j},h.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[g]||null},h.prototype._updateUngrouped=function(){var _,I,f=this.groups[g];if(this.groupsData){if(f)for(I in f.hide(),delete this.groups[g],this.items)if(this.items.hasOwnProperty(I)){(_=this.items[I]).parent&&_.parent.remove(_);var F=this._getGroupId(_.data),V=this.groups[F];V&&V.add(_)||_.hide()}}else if(!f){for(I in f=new m(null,null,this),this.groups[g]=f,this.items)this.items.hasOwnProperty(I)&&f.add(_=this.items[I]);f.show()}},h.prototype.getLabelSet=function(){return this.dom.labelSet},h.prototype.setItems=function(f){var I,_=this,F=this.itemsData;if(f){if(!(f instanceof O||f instanceof b))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=f}else this.itemsData=null;if(F&&(x.forEach(this.itemListeners,function(j,$){F.off($,j)}),I=F.getIds(),this._onRemove(I)),this.itemsData){var V=this.id;x.forEach(this.itemListeners,function(j,$){_.itemsData.on($,j,V)}),I=this.itemsData.getIds(),this._onAdd(I),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},h.prototype.getItems=function(){return this.itemsData},h.prototype.setGroups=function(f){var I,_=this;if(this.groupsData&&(x.forEach(this.groupListeners,function(j,$){_.groupsData.off($,j)}),I=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(I)),f){if(!(f instanceof O||f instanceof b))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=f}else this.groupsData=null;if(this.groupsData){var F=this.groupsData;this.groupsData instanceof b&&(F=this.groupsData.getDataSet()),F.get().forEach(function(j){j.nestedGroups&&j.nestedGroups.forEach(function($){var G=F.get($);G.nestedInGroup=j.id,0==j.showNested&&(G.visible=!1),F.update(G)})});var V=this.id;x.forEach(this.groupListeners,function(j,$){_.groupsData.on($,j,V)}),I=this.groupsData.getIds(),this._onAddGroups(I)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},h.prototype.getGroups=function(){return this.groupsData},h.prototype.removeItem=function(f){var _=this.itemsData.get(f),I=this.itemsData.getDataSet();_&&this.options.onRemove(_,function(F){F&&I.remove(f)})},h.prototype._getType=function(f){return f.type||this.options.type||(f.end?"range":"box")},h.prototype._getGroupId=function(f){return"background"==this._getType(f)&&null==f.group?M:this.groupsData?f.group:g},h.prototype._onAdd=h.prototype._onUpdate=function(f){var _=this;f.forEach(function(I){var G,F=_.itemsData.get(I,_.itemOptions),V=_.items[I],j=F?_._getType(F):null,$=h.types[j];if(V&&($&&V instanceof $?_._updateItem(V,F):(G=V.selected,_._removeItem(V),V=null)),!V&&F){if(!$)throw"rangeoverflow"==j?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+j+'"');(V=new $(F,_.conversion,_.options)).id=I,_._addItem(V),G&&(this.selection.push(I),V.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},h.prototype._onRemove=function(f){var _=0,I=this;f.forEach(function(F){var V=I.items[F];V&&(_++,I._removeItem(V))}),_&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},h.prototype._order=function(){x.forEach(this.groups,function(f){f.order()})},h.prototype._onUpdateGroups=function(f){this._onAddGroups(f)},h.prototype._onAddGroups=function(f){var _=this;f.forEach(function(I){var F=_.groupsData.get(I),V=_.groups[I];if(V)V.setData(F);else{if(I==g||I==M)throw new Error("Illegal group id. "+I+" is a reserved id.");var j=(0,y.default)(_.options);for(var $ in x.extend(j,{height:null}),V=new m(I,F,_),_.groups[I]=V,_.items)if(_.items.hasOwnProperty($)){var G=_.items[$];G.data.group==I&&V.add(G)}V.order(),V.show()}}),this.body.emitter.emit("_change",{queue:!0})},h.prototype._onRemoveGroups=function(f){var _=this.groups;f.forEach(function(I){var F=_[I];F&&(F.hide(),delete _[I])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},h.prototype._orderGroups=function(){if(this.groupsData){var f=this.groupsData.getIds({order:this.options.groupOrder});f=this._orderNestedGroups(f);var _=!x.equalArray(f,this.groupIds);if(_){var I=this.groups;f.forEach(function(F){I[F].hide()}),f.forEach(function(F){I[F].show()}),this.groupIds=f}return _}return!1},h.prototype._orderNestedGroups=function(f){var _=[];return f.forEach(function(I){var F=this.groupsData.get(I);if(F.nestedInGroup||_.push(I),F.nestedGroups){var j=this.groupsData.get({filter:function(G){return G.nestedInGroup==I},order:this.options.groupOrder}).map(function($){return $.id});_=_.concat(j)}},this),_},h.prototype._addItem=function(f){this.items[f.id]=f;var _=this._getGroupId(f.data),I=this.groups[_];I?I&&I.data&&I.data.showNested&&(f.groupShowing=!0):f.groupShowing=!1,I&&I.add(f)},h.prototype._updateItem=function(f,_){f.setData(_);var I=this._getGroupId(f.data),F=this.groups[I];F?F&&F.data&&F.data.showNested&&(f.groupShowing=!0):f.groupShowing=!1},h.prototype._removeItem=function(f){f.hide(),delete this.items[f.id];var _=this.selection.indexOf(f.id);-1!=_&&this.selection.splice(_,1),f.parent&&f.parent.remove(f)},h.prototype._constructByEndArray=function(f){for(var _=[],I=0;I<f.length;I++)f[I]instanceof p&&_.push(f[I]);return _},h.prototype._onTouch=function(f){this.touchParams.item=this.itemFromTarget(f),this.touchParams.dragLeftItem=f.target.dragLeftItem||!1,this.touchParams.dragRightItem=f.target.dragRightItem||!1,this.touchParams.itemProps=null},h.prototype._getGroupIndex=function(f){for(var _=0;_<this.groupIds.length;_++)if(f==this.groupIds[_])return _},h.prototype._onDragStart=function(f){if(!this.touchParams.itemIsDragging){var F,_=this.touchParams.item||null,I=this;if(_&&(_.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||null!=_.editable&&!_.editable.updateTime&&!_.editable.updateGroup&&!this.options.editable.overrideItems)return;var V=this.touchParams.dragLeftItem,j=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=_,V)F={item:V,initialX:f.center.x,dragLeft:!0,data:this._cloneItemData(_.data)},this.touchParams.itemProps=[F];else if(j)F={item:j,initialX:f.center.x,dragRight:!0,data:this._cloneItemData(_.data)},this.touchParams.itemProps=[F];else if(this.options.editable.add&&(f.srcEvent.ctrlKey||f.srcEvent.metaKey))this._onDragStartAddItem(f);else{this.groupIds.length<1&&this.redraw();var $=this._getGroupIndex(_.data.group),G=this.options.itemsAlwaysDraggable.item&&!_.selected?[_.id]:this.getSelection();this.touchParams.itemProps=G.map(function(Z){var ne=I.items[Z],oe=I._getGroupIndex(ne.data.group);return{item:ne,initialX:f.center.x,groupOffset:$-oe,data:this._cloneItemData(ne.data)}}.bind(this))}f.stopPropagation()}else this.options.editable.add&&(f.srcEvent.ctrlKey||f.srcEvent.metaKey)&&this._onDragStartAddItem(f)}},h.prototype._onDragStartAddItem=function(f){var _,I,F=this.options.snap||null;this.options.rtl?I=(_=x.getAbsoluteRight(this.dom.frame))-f.center.x+10:(_=x.getAbsoluteLeft(this.dom.frame),I=f.center.x-_-10);var V=this.body.util.toTime(I),j=this.body.util.getScale(),$=this.body.util.getStep(),G=F?F(V,j,$):V,ne={type:"range",start:G,end:G,content:"new item"},oe=x.randomUUID();ne[this.itemsData._fieldId]=oe;var le=this.groupFromTarget(f);le&&(ne.group=le.groupId);var pe=new p(ne,this.conversion,this.options);pe.id=oe,pe.data=this._cloneItemData(ne),this._addItem(pe),this.touchParams.selectedItem=pe;var _e={item:pe,initialX:f.center.x,data:pe.data};this.options.rtl?_e.dragLeft=!0:_e.dragRight=!0,this.touchParams.itemProps=[_e],f.stopPropagation()},h.prototype._onDrag=function(f){if(this.touchParams.itemProps){f.stopPropagation();var F,_=this,I=this.options.snap||null;F=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var V=this.body.util.getScale(),j=this.body.util.getStep(),$=this.touchParams.selectedItem,G=(this.options.editable.overrideItems||null==$.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=$.editable&&$.editable.updateGroup,Z=null;if(G&&$&&null!=$.data.group){var ne=_.groupFromTarget(f);ne&&(Z=this._getGroupIndex(ne.groupId))}this.touchParams.itemProps.forEach(function(oe){var _e,we,Ee,ge,ue,le=_.body.util.toTime(f.center.x-F),pe=_.body.util.toTime(oe.initialX-F);_e=this.options.rtl?-(le-pe):le-pe;var ce=this._cloneItemData(oe.item.data);if(null==oe.item.editable||oe.item.editable.updateTime||oe.item.editable.updateGroup||_.options.editable.overrideItems){if((this.options.editable.overrideItems||null==$.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=$.editable&&$.editable.updateTime)if(oe.dragLeft)this.options.rtl?null!=ce.end&&(Ee=x.convert(oe.data.end,"Date"),ue=new Date(Ee.valueOf()+_e),ce.end=I?I(ue,V,j):ue):null!=ce.start&&(we=x.convert(oe.data.start,"Date"),ge=new Date(we.valueOf()+_e),ce.start=I?I(ge,V,j):ge);else if(oe.dragRight)this.options.rtl?null!=ce.start&&(we=x.convert(oe.data.start,"Date"),ge=new Date(we.valueOf()+_e),ce.start=I?I(ge,V,j):ge):null!=ce.end&&(Ee=x.convert(oe.data.end,"Date"),ue=new Date(Ee.valueOf()+_e),ce.end=I?I(ue,V,j):ue);else if(null!=ce.start)if(we=x.convert(oe.data.start,"Date").valueOf(),ge=new Date(we+_e),null!=ce.end){var ke=(Ee=x.convert(oe.data.end,"Date")).valueOf()-we.valueOf();ce.start=I?I(ge,V,j):ge,ce.end=new Date(ce.start.valueOf()+ke)}else ce.start=I?I(ge,V,j):ge;if(G&&!oe.dragLeft&&!oe.dragRight&&null!=Z&&null!=ce.group){var Ie=Z-oe.groupOffset;Ie=Math.max(0,Ie),Ie=Math.min(_.groupIds.length-1,Ie),ce.group=_.groupIds[Ie]}ce=this._cloneItemData(ce),_.options.onMoving(ce,function(xe){xe&&oe.item.setData(this._cloneItemData(xe,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},h.prototype._moveToGroup=function(f,_){var I=this.groups[_];if(I&&I.groupId!=f.data.group){var F=f.parent;F.remove(f),F.order(),f.data.group=I.groupId,I.add(f),I.order()}},h.prototype._onDragEnd=function(f){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){f.stopPropagation();var _=this,I=this.itemsData.getDataSet(),F=this.touchParams.itemProps;this.touchParams.itemProps=null,F.forEach(function(V){var j=V.item.id;if(null!=_.itemsData.get(j,_.itemOptions)){var G=this._cloneItemData(V.item.data);_.options.onMove(G,function(Z){Z?(Z[I._fieldId]=j,I.update(Z)):(V.item.setData(V.data),_.body.emitter.emit("_change"))})}else _.options.onAdd(V.item.data,function(Z){_._removeItem(V.item),Z&&_.itemsData.getDataSet().add(Z),_.body.emitter.emit("_change")})}.bind(this))}},h.prototype._onGroupClick=function(f){var _=this.groupFromTarget(f);if(_&&_.nestedGroups){var I=this.groupsData.getDataSet(),F=I.get(_.groupId);null==F.showNested&&(F.showNested=!0),F.showNested=!F.showNested;var V=I.get(_.nestedGroups).map(function($){return $.visible=F.showNested,$});I.update(V.concat(F)),F.showNested?(x.removeClassName(_.dom.label,"collapsed"),x.addClassName(_.dom.label,"expanded")):(x.removeClassName(_.dom.label,"expanded"),x.addClassName(_.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},h.prototype._onGroupDragStart=function(f){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(f),this.groupTouchParams.group&&(f.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},h.prototype._onGroupDrag=function(f){if(this.options.groupEditable.order&&this.groupTouchParams.group){f.stopPropagation();var _=this.groupsData;this.groupsData instanceof b&&(_=this.groupsData.getDataSet());var I=this.groupFromTarget(f);if(I&&I.height!=this.groupTouchParams.group.height){var F=I.top<this.groupTouchParams.group.top,V=f.center?f.center.y:f.clientY,j=x.getAbsoluteTop(I.dom.foreground),$=this.groupTouchParams.group.height;if(F){if(j+$<V)return}else if(j+I.height-$>V)return}if(I&&I!=this.groupTouchParams.group){var Z=_.get(I.groupId),ne=_.get(this.groupTouchParams.group.groupId);ne&&Z&&(this.options.groupOrderSwap(ne,Z,_),_.update(ne),_.update(Z));var oe=_.getIds({order:this.options.groupOrder});if(!x.equalArray(oe,this.groupTouchParams.originalOrder))for(var le=this.groupTouchParams.originalOrder,pe=this.groupTouchParams.group.groupId,_e=Math.min(le.length,oe.length),we=0,Ee=0,ge=0;we<_e;){for(;we+Ee<_e&&we+ge<_e&&oe[we+Ee]==le[we+ge];)we++;if(we+Ee>=_e)break;if(oe[we+Ee]==pe)Ee=1;else if(le[we+ge]==pe)ge=1;else{var ue=oe.indexOf(le[we+ge]),ce=_.get(oe[we+Ee]),Ce=_.get(le[we+ge]);this.options.groupOrderSwap(ce,Ce,_),_.update(ce),_.update(Ce);var ke=oe[we+Ee];oe[we+Ee]=le[we+ge],oe[ue]=ke,we++}}}}},h.prototype._onGroupDragEnd=function(f){if(this.options.groupEditable.order&&this.groupTouchParams.group){f.stopPropagation();var _=this,I=_.groupTouchParams.group.groupId,F=_.groupsData.getDataSet(),V=x.extend({},F.get(I));_.options.onMoveGroup(V,function(j){if(j)j[F._fieldId]=I,F.update(j);else{var $=F.getIds({order:_.options.groupOrder});if(!x.equalArray($,_.groupTouchParams.originalOrder))for(var G=_.groupTouchParams.originalOrder,Z=Math.min(G.length,$.length),ne=0;ne<Z;){for(;ne<Z&&$[ne]==G[ne];)ne++;if(ne>=Z)break;var oe=$.indexOf(G[ne]),le=F.get($[ne]),pe=F.get(G[ne]);_.options.groupOrderSwap(le,pe,F),F.update(le),F.update(pe);var _e=$[ne];$[ne]=G[ne],$[oe]=_e,ne++}}}),_.body.emitter.emit("groupDragged",{groupId:I})}},h.prototype._onSelectItem=function(f){if(this.options.selectable){if(f.srcEvent&&(f.srcEvent.ctrlKey||f.srcEvent.metaKey)||f.srcEvent&&f.srcEvent.shiftKey)return void this._onMultiSelectItem(f);var F=this.getSelection(),V=this.itemFromTarget(f);this.setSelection(V?[V.id]:[]);var $=this.getSelection();($.length>0||F.length>0)&&this.body.emitter.emit("select",{items:$,event:f})}},h.prototype._onMouseOver=function(f){var _=this.itemFromTarget(f);if(_&&_!==this.itemFromRelatedTarget(f)){var F=_.getTitle();if(this.options.showTooltips&&F){null==this.popup&&(this.popup=new u(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(F);var V=this.body.dom.centerContainer;this.popup.setPosition(f.clientX-x.getAbsoluteLeft(V)+V.offsetLeft,f.clientY-x.getAbsoluteTop(V)+V.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:_.id,event:f})}},h.prototype._onMouseOut=function(f){var _=this.itemFromTarget(f);_&&_!==this.itemFromRelatedTarget(f)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:_.id,event:f}))},h.prototype._onMouseMove=function(f){if(this.itemFromTarget(f)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var I=this.body.dom.centerContainer;this.popup.setPosition(f.clientX-x.getAbsoluteLeft(I)+I.offsetLeft,f.clientY-x.getAbsoluteTop(I)+I.offsetTop),this.popup.show()}},h.prototype._onMouseWheel=function(f){this.touchParams.itemIsDragging&&this._onDragEnd(f)},h.prototype._onUpdateItem=function(f){if(this.options.selectable&&this.options.editable.add){var _=this;if(f){var I=_.itemsData.get(f.id);this.options.onUpdate(I,function(F){F&&_.itemsData.getDataSet().update(F)})}}},h.prototype._onDropObjectOnItem=function(f){var _=this.itemFromTarget(f),I=JSON.parse(f.dataTransfer.getData("text"));this.options.onDropObjectOnItem(I,_)},h.prototype._onAddItem=function(f){if(this.options.selectable&&this.options.editable.add){var F,V,_=this,I=this.options.snap||null;this.options.rtl?V=(F=x.getAbsoluteRight(this.dom.frame))-f.center.x:(F=x.getAbsoluteLeft(this.dom.frame),V=f.center.x-F);var Z,ne,j=this.body.util.toTime(V),$=this.body.util.getScale(),G=this.body.util.getStep();"drop"==f.type?((ne=JSON.parse(f.dataTransfer.getData("text"))).content=ne.content?ne.content:"new item",ne.start=ne.start?ne.start:I?I(j,$,G):j,ne.type=ne.type||"box",ne[this.itemsData._fieldId]=ne.id||x.randomUUID(),"range"==ne.type&&!ne.end&&(Z=this.body.util.toTime(V+this.props.width/5),ne.end=I?I(Z,$,G):Z)):((ne={start:I?I(j,$,G):j,content:"new item"})[this.itemsData._fieldId]=x.randomUUID(),"range"===this.options.type&&(Z=this.body.util.toTime(V+this.props.width/5),ne.end=I?I(Z,$,G):Z));var oe=this.groupFromTarget(f);oe&&(ne.group=oe.groupId),ne=this._cloneItemData(ne),this.options.onAdd(ne,function(le){le&&(_.itemsData.getDataSet().add(le),"drop"==f.type&&_.setSelection([le.id]))})}},h.prototype._onMultiSelectItem=function(f){if(this.options.selectable){var _=this.itemFromTarget(f);if(_){var I=this.options.multiselect?this.getSelection():[];if(f.srcEvent&&f.srcEvent.shiftKey&&this.options.multiselect){var V=this.itemsData.get(_.id).group,j=void 0;this.options.multiselectPerGroup&&I.length>0&&(j=this.itemsData.get(I[0]).group),(!this.options.multiselectPerGroup||null==j||j==V)&&I.push(_.id);var $=h._getItemRange(this.itemsData.get(I,this.itemOptions));if(!this.options.multiselectPerGroup||j==V)for(var G in I=[],this.items)if(this.items.hasOwnProperty(G)){var Z=this.items[G],ne=Z.data.start;ne>=$.min&&(void 0!==Z.data.end?Z.data.end:ne)<=$.max&&(!this.options.multiselectPerGroup||j==this.itemsData.get(Z.id).group)&&!(Z instanceof d)&&I.push(Z.id)}}else{var le=I.indexOf(_.id);-1==le?I.push(_.id):I.splice(le,1)}this.setSelection(I),this.body.emitter.emit("select",{items:this.getSelection(),event:f})}}},h._getItemRange=function(f){var _=null,I=null;return f.forEach(function(F){(null==I||F.start<I)&&(I=F.start),null!=F.end?(null==_||F.end>_)&&(_=F.end):(null==_||F.start>_)&&(_=F.start)}),{min:I,max:_}},h.prototype.itemFromElement=function(f){for(var _=f;_;){if(_.hasOwnProperty("timeline-item"))return _["timeline-item"];_=_.parentNode}return null},h.prototype.itemFromTarget=function(f){return this.itemFromElement(f.target)},h.prototype.itemFromRelatedTarget=function(f){return this.itemFromElement(f.relatedTarget)},h.prototype.groupFromTarget=function(f){var _=f.center?f.center.y:f.clientY,I=this.groupIds;I.length<=0&&this.groupsData&&(I=this.groupsData.getIds({order:this.options.groupOrder}));for(var F=0;F<I.length;F++){var j=this.groups[I[F]],$=j.dom.foreground,G=x.getAbsoluteTop($);if(_>G&&_<G+$.offsetHeight)return j;if("top"===this.options.orientation.item){if(F===this.groupIds.length-1&&_>G)return j}else if(0===F&&_<G+$.offset)return j}return null},h.itemSetFromTarget=function(f){for(var _=f.target;_;){if(_.hasOwnProperty("timeline-itemset"))return _["timeline-itemset"];_=_.parentNode}return null},h.prototype._cloneItemData=function(f,_){var I=x.extend({},f);return _||(_=this.itemsData.getDataSet()._options.type),null!=I.start&&(I.start=x.convert(I.start,_&&_.start||"Date")),null!=I.end&&(I.end=x.convert(I.end,_&&_.end||"Date")),I},J.exports=h},function(J,L,E){var P=.001;L.orderByStart=function(y){y.sort(function(S,D){return S.data.start-D.data.start})},L.orderByEnd=function(y){y.sort(function(S,D){return("end"in S.data?S.data.end:S.data.start)-("end"in D.data?D.data.end:D.data.start)})},L.stack=function(y,S,D){if(D)for(var k=0;k<y.length;k++)y[k].top=null;for(k=0;k<y.length;k++){var A=y[k];if(A.stack&&null===A.top){A.top=S.axis;do{for(var x=null,O=0,b=y.length;O<b;O++){var w=y[O];if(null!==w.top&&w!==A&&w.stack&&L.collision(A,w,S.item,w.options.rtl)){x=w;break}}null!=x&&(A.top=x.top+x.height+S.item.vertical)}while(x)}}},L.substack=function(y,S,D){for(var k=0;k<y.length;k++)y[k].top=null;var A=D.height;for(k=0;k<y.length;k++){var x=y[k];if(x.stack&&null===x.top){x.top=x.baseTop;do{for(var O=null,b=0,w=y.length;b<w;b++){var v=y[b];if(null!==v.top&&v!==x&&L.collision(x,v,S.item,v.options.rtl)){O=v;break}}null!=O&&(x.top=O.top+O.height+S.item.vertical),x.top+x.height>A&&(A=x.top+x.height)}while(O)}}D.height=A-D.top+.5*S.item.vertical},L.nostack=function(y,S,D,k){for(var A=0;A<y.length;A++)if(null==y[A].data.subgroup)y[A].top=S.item.vertical;else if(void 0!==y[A].data.subgroup&&k){var x=0;for(var O in D)D.hasOwnProperty(O)&&1==D[O].visible&&D[O].index<D[y[A].data.subgroup].index&&(D[y[A].data.subgroup].top=x+=D[O].height);y[A].top=x+.5*S.item.vertical}k||L.stackSubgroups(y,S,D)},L.stackSubgroups=function(y,S,D){for(var k in D)if(D.hasOwnProperty(k)){D[k].top=0;do{var A=null;for(var x in D)if(null!==D[x].top&&x!==k&&D[k].index>D[x].index&&L.collisionByTimes(D[k],D[x])){A=D[x];break}null!=A&&(D[k].top=A.top+A.height)}while(A)}for(var O=0;O<y.length;O++)void 0!==y[O].data.subgroup&&(y[O].top=D[y[O].data.subgroup].top+.5*S.item.vertical)},L.stackSubgroupsWithInnerStack=function(y,S,D){var k=!1,A=[];for(var x in D)D[x].hasOwnProperty("index")?A[D[x].index]=x:A.push(x);for(var O=0;O<A.length;O++)if(D.hasOwnProperty(x=A[O])){for(var b in k=k||D[x].stack,D[x].top=0,D)D[b].visible&&D[x].index>D[b].index&&(D[x].top+=D[b].height);for(var w=y[x],v=0;v<w.length;v++)void 0!==w[v].data.subgroup&&(w[v].top=D[w[v].data.subgroup].top+.5*S.item.vertical,D[x].stack&&(w[v].baseTop=w[v].top));k&&D[x].stack&&L.substack(y[x],S,D[x])}},L.collision=function(y,S,D,k){return k?y.right-D.horizontal+P<S.right+S.width&&y.right+y.width+D.horizontal-P>S.right&&y.top-D.vertical+P<S.top+S.height&&y.top+y.height+D.vertical-P>S.top:y.left-D.horizontal+P<S.left+S.width&&y.left+y.width+D.horizontal-P>S.left&&y.top-D.vertical+P<S.top+S.height&&y.top+y.height+D.vertical-P>S.top},L.collisionByTimes=function(y,S){return y.start<=S.start&&y.end>=S.start&&y.top<S.top+S.height&&y.top+y.height>S.top||S.start<=y.start&&S.end>=y.start&&S.top<y.top+y.height&&S.top+S.height>y.top}},function(J,L,E){var P=E(38);function y(S,D,k){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=k,S&&null==S.start)throw new Error('Property "start" missing in item '+S);P.call(this,S,D,k)}(y.prototype=new P(null,null,null)).isVisible=function(S){var k=this.options.align,A=this.width*S.getMillisecondsPerPixel();return"right"==k?this.data.start.getTime()>S.start&&this.data.start.getTime()-A<S.end:"left"==k?this.data.start.getTime()+A>S.start&&this.data.start.getTime()<S.end:this.data.start.getTime()+A/2>S.start&&this.data.start.getTime()-A/2<S.end},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var S=this.parent.dom.foreground;if(!S)throw new Error("Cannot redraw item: parent has no foreground container element");S.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var D=this.parent.dom.background;if(!D)throw new Error("Cannot redraw item: parent has no background container element");D.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var k=this.parent.dom.axis;if(!D)throw new Error("Cannot redraw item: parent has no axis container element");k.appendChild(this.dom.dot)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var D=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+D,this.dom.line.className="vis-item vis-line"+D,this.dom.dot.className="vis-item vis-dot"+D}},y.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(S){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=S.dot.height,this.props.dot.width=S.dot.width,this.props.line.width=S.line.width,this.width=S.box.width,this.height=S.box.height,this.options.rtl?this.dom.box.style.right=S.previous.right:this.dom.box.style.left=S.previous.left,this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},y.prototype.redraw=function(S){var D,A,k=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(D=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(D)}.bind(this),this._repaintDomAdditionals.bind(this)];return S?k:(k.forEach(function(x){A=x()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){if(this.displayed){var S=this.dom;S.box.parentNode&&S.box.parentNode.removeChild(S.box),S.line.parentNode&&S.line.parentNode.removeChild(S.line),S.dot.parentNode&&S.dot.parentNode.removeChild(S.dot),this.displayed=!1}},y.prototype.repositionX=function(){var S=this.conversion.toScreen(this.data.start),D=this.options.align;"right"==D?this.options.rtl?(this.right=S-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=S-this.props.line.width+"px",this.dom.dot.style.right=S-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=S-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=S-this.props.line.width+"px",this.dom.dot.style.left=S-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==D?this.options.rtl?(this.right=S,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=S+"px",this.dom.dot.style.right=S+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=S,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=S+"px",this.dom.dot.style.left=S+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=S-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=S-this.props.line.width+"px",this.dom.dot.style.right=S-this.props.dot.width/2+"px"):(this.left=S-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=S-this.props.line.width/2+"px",this.dom.dot.style.left=S-this.props.dot.width/2+"px")},y.prototype.repositionY=function(){var D=this.dom.box,k=this.dom.line,A=this.dom.dot;if("top"==this.options.orientation.item)D.style.top=(this.top||0)+"px",k.style.top="0",k.style.height=this.parent.top+this.top+1+"px",k.style.bottom="";else{var x=this.parent.itemSet.props.height,O=x-this.parent.top-this.parent.height+this.top;D.style.top=(this.parent.height-this.top-this.height||0)+"px",k.style.top=x-O+"px",k.style.bottom="0"}A.style.top=-this.props.dot.height/2+"px"},y.prototype.getWidthLeft=function(){return this.width/2},y.prototype.getWidthRight=function(){return this.width/2},J.exports=y},function(J,L,E){var P=E(38);function y(S,D,k){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=k,S&&null==S.start)throw new Error('Property "start" missing in item '+S);P.call(this,S,D,k)}(y.prototype=new P(null,null,null)).isVisible=function(S){var D=this.width*S.getMillisecondsPerPixel();return this.data.start.getTime()+D>S.start&&this.data.start<S.end},y.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},y.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var S=this.parent.dom.foreground;if(!S)throw new Error("Cannot redraw item: parent has no foreground container element");S.appendChild(this.dom.point)}this.displayed=!0},y.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var D=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+D,this.dom.dot.className="vis-item vis-dot"+D}},y.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},y.prototype._updateDomComponentsSizes=function(S){this.props.dot.width=S.dot.width,this.props.dot.height=S.dot.height,this.props.content.height=S.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=S.point.width,this.height=S.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},y.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},y.prototype.redraw=function(S){var D,A,k=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(D=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(D)}.bind(this),this._repaintDomAdditionals.bind(this)];return S?k:(k.forEach(function(x){A=x()}),A)},y.prototype.show=function(){this.displayed||this.redraw()},y.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},y.prototype.repositionX=function(){var S=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=S-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=S-this.props.dot.width,this.dom.point.style.left=this.left+"px")},y.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},y.prototype.getWidthLeft=function(){return this.props.dot.width},y.prototype.getWidthRight=function(){return this.props.dot.width},J.exports=y},function(J,L,E){var P=E(38),y=E(69),S=E(70);function D(k,A,x){if(this.props={content:{width:0}},this.overflow=!1,k){if(null==k.start)throw new Error('Property "start" missing in item '+k.id);if(null==k.end)throw new Error('Property "end" missing in item '+k.id)}P.call(this,k,A,x)}(D.prototype=new P(null,null,null)).baseClassName="vis-item vis-background",D.prototype.stack=!1,D.prototype.isVisible=function(k){return this.data.start<k.end&&this.data.end>k.start},D.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},D.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var k=this.parent.dom.background;if(!k)throw new Error("Cannot redraw item: parent has no background container element");k.appendChild(this.dom.box)}this.displayed=!0},D.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},D.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},D.prototype._updateDomComponentsSizes=function(k){this.props.content.width=k.content.width,this.height=0,this.dirty=!1},D.prototype._repaintDomAdditionals=function(){},D.prototype.redraw=function(k){var A,O,x=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(A=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(A)}.bind(this),this._repaintDomAdditionals.bind(this)];return k?x:(x.forEach(function(b){O=b()}),O)},D.prototype.show=S.prototype.show,D.prototype.hide=S.prototype.hide,D.prototype.repositionX=S.prototype.repositionX,D.prototype.repositionY=function(k){var A,x=this.options.orientation.item;if(void 0!==this.data.subgroup){var O=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[O].height+"px",this.dom.box.style.top="top"==x?this.parent.top+this.parent.subgroups[O].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[O].top-this.parent.subgroups[O].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof y?(A=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==x?"0":"",this.dom.box.style.top="top"==x?"0":""):(A=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=A+"px"},J.exports=D},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(O,b){(0,y.default)(this,x),this.container=O,this.overflowMethod=b||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,D.default)(x,[{key:"setPosition",value:function(b,w){this.x=parseInt(b),this.y=parseInt(w)}},{key:"setText",value:function(b){b instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(b)):this.frame.innerHTML=b}},{key:"show",value:function(b){if(void 0===b&&(b=!0),!0===b){var w=this.frame.clientHeight,v=this.frame.clientWidth,m=this.frame.parentNode.clientHeight,c=this.frame.parentNode.clientWidth,T=0,a=0;if("flip"==this.overflowMethod){var p=!1,d=!0;this.y-w<this.padding&&(d=!1),this.x+v>c-this.padding&&(p=!0),T=p?this.x-v:this.x,a=d?this.y-w:this.y}else(a=this.y-w)+w+this.padding>m&&(a=m-w-this.padding),a<this.padding&&(a=this.padding),(T=this.x)+v+this.padding>c&&(T=c-v-this.padding),T<this.padding&&(T=this.padding);this.frame.style.left=T+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",D="array",k="date",A="object",O="moment";L.allOptions={configure:{enabled:{boolean:y},filter:{boolean:y,function:"function"},container:{dom:"dom"},__type__:{object:A,boolean:y,function:"function"}},align:{string:P},rtl:{boolean:y,undefined:"undefined"},rollingMode:{follow:{boolean:y},offset:{number:S,undefined:"undefined"},__type__:{object:A}},verticalScroll:{boolean:y,undefined:"undefined"},horizontalScroll:{boolean:y,undefined:"undefined"},autoResize:{boolean:y},throttleRedraw:{number:S},clickToUse:{boolean:y},dataAttributes:{string:P,array:D},editable:{add:{boolean:y,undefined:"undefined"},remove:{boolean:y,undefined:"undefined"},updateGroup:{boolean:y,undefined:"undefined"},updateTime:{boolean:y,undefined:"undefined"},overrideItems:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},end:{number:S,date:k,string:P,moment:O},format:{minorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},week:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A,function:"function"}},majorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},week:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A,function:"function"}},__type__:{object:A}},moment:{function:"function"},groupOrder:{string:P,function:"function"},groupEditable:{add:{boolean:y,undefined:"undefined"},remove:{boolean:y,undefined:"undefined"},order:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},groupOrderSwap:{function:"function"},height:{string:P,number:S},hiddenDates:{start:{date:k,number:S,string:P,moment:O},end:{date:k,number:S,string:P,moment:O},repeat:{string:P},__type__:{object:A,array:D}},itemsAlwaysDraggable:{item:{boolean:y,undefined:"undefined"},range:{boolean:y,undefined:"undefined"},__type__:{boolean:y,object:A}},limitSize:{boolean:y},locale:{string:P},locales:{__any__:{any:"any"},__type__:{object:A}},margin:{axis:{number:S},item:{horizontal:{number:S,undefined:"undefined"},vertical:{number:S,undefined:"undefined"},__type__:{object:A,number:S}},__type__:{object:A,number:S}},max:{date:k,number:S,string:P,moment:O},maxHeight:{number:S,string:P},maxMinorChars:{number:S},min:{date:k,number:S,string:P,moment:O},minHeight:{number:S,string:P},moveable:{boolean:y},multiselect:{boolean:y},multiselectPerGroup:{boolean:y},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:P,undefined:"undefined"},item:{string:P,undefined:"undefined"},__type__:{string:P,object:A}},selectable:{boolean:y},showCurrentTime:{boolean:y},showMajorLabels:{boolean:y},showMinorLabels:{boolean:y},stack:{boolean:y},stackSubgroups:{boolean:y},snap:{function:"function",null:"null"},start:{date:k,number:S,string:P,moment:O},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:P,function:"function"},showTooltips:{boolean:y},tooltip:{followMouse:{boolean:y},overflowMethod:{string:["cap","flip"]},__type__:{object:A}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:y,object:A}},timeAxis:{scale:{string:P,undefined:"undefined"},step:{number:S,undefined:"undefined"},__type__:{object:A}},type:{string:P},width:{string:P,number:S},zoomable:{boolean:y},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:S},zoomMin:{number:S},__type__:{object:A}},L.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(J,L,E){var d,y=(d=E(6))&&d.__esModule?d:{default:d};var D=E(2),k=E(14),A=E(11),x=E(12),O=E(16),b=E(107),w=E(109),v=E(112),m=E(110),c=E(111),T=E(72),a="__ungrouped__";function p(d,u){this.id=D.randomUUID(),this.body=d,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=D.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var g=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(h,f,_){g._onAdd(f.items)},update:function(h,f,_){g._onUpdate(f.items)},remove:function(h,f,_){g._onRemove(f.items)}},this.groupListeners={add:function(h,f,_){g._onAddGroups(f.items)},update:function(h,f,_){g._onUpdateGroups(f.items)},remove:function(h,f,_){g._onRemoveGroups(f.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(u),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){g.lastStart=g.body.range.start,g.svg.style.left=D.option.asSize(-g.props.width),g.forceGraphUpdate=!0,g.redraw.call(g)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(p.prototype=new O)._create=function(){var d=document.createElement("div");d.className="vis-line-graph",this.dom.frame=d,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",d.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new b(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new b(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new v(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new v(this.body,this.options.legend,"right",this.options.groups),this.show()},p.prototype.setOptions=function(d){if(d){void 0===d.graphHeight&&void 0!==d.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==d.graphHeight&&parseInt((d.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),D.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,d),D.mergeOptions(this.options,d,"interpolation"),D.mergeOptions(this.options,d,"drawPoints"),D.mergeOptions(this.options,d,"shaded"),D.mergeOptions(this.options,d,"legend"),d.interpolation&&"object"==(0,y.default)(d.interpolation)&&d.interpolation.parametrization&&("uniform"==d.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==d.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==d.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==d.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(a)&&this.groups[a].setOptions(d)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},p.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},p.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},p.prototype.setItems=function(d){var g,u=this,M=this.itemsData;if(d){if(!(d instanceof A||d instanceof x))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=d}else this.itemsData=null;if(M&&(D.forEach(this.itemListeners,function(f,_){M.off(_,f)}),g=M.getIds(),this._onRemove(g)),this.itemsData){var h=this.id;D.forEach(this.itemListeners,function(f,_){u.itemsData.on(_,f,h)}),g=this.itemsData.getIds(),this._onAdd(g)}},p.prototype.setGroups=function(d){var g,u=this;if(this.groupsData){D.forEach(this.groupListeners,function(f,_){u.groupsData.off(_,f)}),g=this.groupsData.getIds(),this.groupsData=null;for(var M=0;M<g.length;M++)this._removeGroup(g[M])}if(d){if(!(d instanceof A||d instanceof x))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=d}else this.groupsData=null;if(this.groupsData){var h=this.id;D.forEach(this.groupListeners,function(f,_){u.groupsData.on(_,f,h)}),g=this.groupsData.getIds(),this._onAddGroups(g)}},p.prototype._onUpdate=function(d){this._updateAllGroupData(d)},p.prototype._onAdd=function(d){this._onUpdate(d)},p.prototype._onRemove=function(d){this._onUpdate(d)},p.prototype._onUpdateGroups=function(d){this._updateAllGroupData(null,d)},p.prototype._onAddGroups=function(d){this._onUpdateGroups(d)},p.prototype._onRemoveGroups=function(d){for(var u=0;u<d.length;u++)this._removeGroup(d[u]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},p.prototype._removeGroup=function(d){this.groups.hasOwnProperty(d)&&("right"==this.groups[d].options.yAxisOrientation?(this.yAxisRight.removeGroup(d),this.legendRight.removeGroup(d),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(d),this.legendLeft.removeGroup(d),this.legendLeft.redraw()),delete this.groups[d])},p.prototype._updateGroup=function(d,u){this.groups.hasOwnProperty(u)?(this.groups[u].update(d),"right"==this.groups[u].options.yAxisOrientation?(this.yAxisRight.updateGroup(u,this.groups[u]),this.legendRight.updateGroup(u,this.groups[u]),this.yAxisLeft.removeGroup(u),this.legendLeft.removeGroup(u)):(this.yAxisLeft.updateGroup(u,this.groups[u]),this.legendLeft.updateGroup(u,this.groups[u]),this.yAxisRight.removeGroup(u),this.legendRight.removeGroup(u))):(this.groups[u]=new w(d,u,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[u].options.yAxisOrientation?(this.yAxisRight.addGroup(u,this.groups[u]),this.legendRight.addGroup(u,this.groups[u])):(this.yAxisLeft.addGroup(u,this.groups[u]),this.legendLeft.addGroup(u,this.groups[u]))),this.legendLeft.redraw(),this.legendRight.redraw()},p.prototype._updateAllGroupData=function(d,u){if(null!=this.itemsData){var g={},M=this.itemsData.get(),h=this.itemsData._fieldId,f={};d&&d.map(function(le){f[le]=le});for(var _={},I=0;I<M.length;I++){var F=M[I],V=F.group;null==V&&(V=a),_.hasOwnProperty(V)?_[V]++:_[V]=1}var j={};if(!u&&d)for(V in this.groups)if(this.groups.hasOwnProperty(V)){var $=(oe=this.groups[V]).getItems();g[V]=$.filter(function(le){return j[le[h]]=le[h],le[h]!==f[le[h]]});var G=_[V];_[V]-=g[V].length,g[V].length<G&&(g[V][G-1]={})}for(I=0;I<M.length;I++)if(null==(V=(F=M[I]).group)&&(V=a),u||!d||F[h]===f[F[h]]||!j.hasOwnProperty(F[h])){g.hasOwnProperty(V)||(g[V]=new Array(_[V]));var Z=D.bridgeObject(F);Z.x=D.convert(F.x,"Date"),Z.end=D.convert(F.end,"Date"),Z.orginalY=F.y,Z.y=Number(F.y),Z[h]=F[h];var ne=g[V].length-_[V]--;g[V][ne]=Z}for(V in this.groups)this.groups.hasOwnProperty(V)&&(g.hasOwnProperty(V)||(g[V]=new Array(0)));for(V in g)if(g.hasOwnProperty(V))if(0==g[V].length)this.groups.hasOwnProperty(V)&&this._removeGroup(V);else{var oe=void 0;null!=this.groupsData&&(oe=this.groupsData.get(V)),null==oe&&(oe={id:V,content:this.options.defaultGroup+V}),this._updateGroup(oe,V),this.groups[V].setItems(g[V])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},p.prototype.redraw=function(){var d=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,d=this._isResized()||d;var u=this.body.range.end-this.body.range.start,g=u!=this.lastVisibleInterval;return this.lastVisibleInterval=u,1==d&&(this.svg.style.width=D.option.asSize(3*this.props.width),this.svg.style.left=D.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==d||1==g||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(d=this._updateGraph()||d,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),d},p.prototype._getSortedGroupIds=function(){var d=[];for(var u in this.groups)if(this.groups.hasOwnProperty(u)){var g=this.groups[u];1==g.visible&&(void 0===this.options.groups.visibility[u]||1==this.options.groups.visibility[u])&&d.push({id:u,zIndex:g.options.zIndex})}D.insertSort(d,function(f,_){var I=f.zIndex,F=_.zIndex;return void 0===I&&(I=0),void 0===F&&(F=0),I==F?0:I<F?-1:1});for(var M=new Array(d.length),h=0;h<d.length;h++)M[h]=d[h].id;return M},p.prototype._updateGraph=function(){if(k.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var d,u,g={},h=this.body.util.toGlobalTime(-this.body.domProps.root.width),f=this.body.util.toGlobalTime(2*this.body.domProps.root.width),_=this._getSortedGroupIds();if(_.length>0){var I={};for(this._getRelevantData(_,I,h,f),this._applySampling(_,I),u=0;u<_.length;u++)this._convertXcoordinates(I[_[u]]);if(this._getYRanges(_,I,g),1==this._updateYAxis(_,g))return k.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var F=void 0;for(u=0;u<_.length;u++)d=this.groups[_[u]],!0===this.options.stack&&"line"===this.options.style&&(null==d.options.excludeFromStacking||!d.options.excludeFromStacking)&&(null!=F&&(this._stack(I[d.id],I[F.id]),1==d.options.shaded.enabled&&"group"!==d.options.shaded.orientation&&("top"==d.options.shaded.orientation&&"group"!==F.options.shaded.orientation?(F.options.shaded.orientation="group",F.options.shaded.groupId=d.id):(d.options.shaded.orientation="group",d.options.shaded.groupId=F.id))),F=d),this._convertYcoordinates(I[_[u]],d);var V={};for(u=0;u<_.length;u++)if("line"===(d=this.groups[_[u]]).options.style&&1==d.options.shaded.enabled){var j=I[_[u]];if(null==j||0==j.length)continue;if(V.hasOwnProperty(_[u])||(V[_[u]]=c.calcPath(j,d)),"group"===d.options.shaded.orientation){var $=d.options.shaded.groupId;if(-1===_.indexOf($)){console.log(d.id+": Unknown shading group target given:"+$);continue}V.hasOwnProperty($)||(V[$]=c.calcPath(I[$],this.groups[$])),c.drawShading(V[_[u]],d,V[$],this.framework)}else c.drawShading(V[_[u]],d,void 0,this.framework)}for(m.draw(_,I,this.framework),u=0;u<_.length;u++)if(d=this.groups[_[u]],I[_[u]].length>0)switch(d.options.style){case"line":V.hasOwnProperty(_[u])||(V[_[u]]=c.calcPath(I[_[u]],d)),c.draw(V[_[u]],d,this.framework);case"point":case"points":("point"==d.options.style||"points"==d.options.style||1==d.options.drawPoints.enabled)&&T.draw(I[_[u]],d,this.framework)}}}return k.cleanupElements(this.svgElements),!1},p.prototype._stack=function(d,u){var g,M,f,_;g=0;for(var I=0;I<d.length;I++){f=void 0,_=void 0;for(var F=g;F<u.length;F++){if(u[F].x===d[I].x){f=u[F],_=u[F],g=F;break}if(u[F].x>d[I].x){_=u[F],f=0==F?_:u[F-1],g=F;break}}void 0===_&&(f=u[u.length-1],_=u[u.length-1]),d[I].y=0==(M=_.x-f.x)?d[I].orginalY+_.y:d[I].orginalY+(_.y-f.y)/M*(d[I].x-f.x)+f.y}},p.prototype._getRelevantData=function(d,u,g,M){var h,f,_;if(d.length>0)for(f=0;f<d.length;f++){var F=(h=this.groups[d[f]]).getItems();if(1==h.options.sort){var V=function(ne,oe){return ne.getTime()==oe.getTime()?0:ne<oe?-1:1},j=Math.max(0,D.binarySearchValue(F,g,"x","before",V)),$=Math.min(F.length,D.binarySearchValue(F,M,"x","after",V)+1);$<=0&&($=F.length);var G=new Array($-j);for(_=j;_<$;_++)G[_-j]=h.itemsData[_];u[d[f]]=G}else u[d[f]]=h.itemsData}},p.prototype._applySampling=function(d,u){if(d.length>0)for(var M=0;M<d.length;M++)if(1==this.groups[d[M]].options.sampling){var h=u[d[M]];if(h.length>0){var f,_=h.length,F=_/(this.body.util.toGlobalScreen(h[h.length-1].x)-this.body.util.toGlobalScreen(h[0].x));f=Math.min(Math.ceil(.2*_),Math.max(1,Math.round(F)));for(var V=new Array(_),j=0;j<_;j+=f)V[Math.round(j/f)]=h[j];u[d[M]]=V.splice(0,Math.round(_/f))}}},p.prototype._getYRanges=function(d,u,g){var M,h,f,F,_=[],I=[];if(d.length>0){for(f=0;f<d.length;f++)F=this.groups[d[f]].options,(M=u[d[f]]).length>0&&(h=this.groups[d[f]],!0===F.stack&&"bar"===F.style?"left"===F.yAxisOrientation?_=_.concat(M):I=I.concat(M):g[d[f]]=h.getYRange(M,d[f]));m.getStackedYRange(_,g,d,"__barStackLeft","left"),m.getStackedYRange(I,g,d,"__barStackRight","right")}},p.prototype._updateYAxis=function(d,u){var V,j,g=!1,M=!1,h=!1,f=1e9,_=1e9,I=-1e9,F=-1e9;if(d.length>0){for(var $=0;$<d.length;$++){var G=this.groups[d[$]];G&&"right"!=G.options.yAxisOrientation?(M=!0,f=1e9,I=-1e9):G&&G.options.yAxisOrientation&&(h=!0,_=1e9,F=-1e9)}for($=0;$<d.length;$++)u.hasOwnProperty(d[$])&&!0!==u[d[$]].ignore&&(V=u[d[$]].min,j=u[d[$]].max,"right"!=u[d[$]].yAxisOrientation?(M=!0,f=f>V?V:f,I=I<j?j:I):(h=!0,_=_>V?V:_,F=F<j?j:F));1==M&&this.yAxisLeft.setRange(f,I),1==h&&this.yAxisRight.setRange(_,F)}g=this._toggleAxisVisiblity(M,this.yAxisLeft)||g,g=this._toggleAxisVisiblity(h,this.yAxisRight)||g,1==h&&1==M?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!M,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==h?this.yAxisRight.width:0,g=this.yAxisLeft.redraw()||g,g=this.yAxisRight.redraw()||g):g=this.yAxisRight.redraw()||g;var Z=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for($=0;$<Z.length;$++)-1!=d.indexOf(Z[$])&&d.splice(d.indexOf(Z[$]),1);return g},p.prototype._toggleAxisVisiblity=function(d,u){var g=!1;return 0==d?u.dom.frame.parentNode&&0==u.hidden&&(u.hide(),g=!0):!u.dom.frame.parentNode&&1==u.hidden&&(u.show(),g=!0),g},p.prototype._convertXcoordinates=function(d){for(var u=this.body.util.toScreen,g=0;g<d.length;g++)d[g].screen_x=u(d[g].x)+this.props.width,d[g].screen_y=d[g].y,d[g].screen_end=null!=d[g].end?u(d[g].end)+this.props.width:void 0},p.prototype._convertYcoordinates=function(d,u){var g=this.yAxisLeft,M=Number(this.svg.style.height.replace("px",""));"right"==u.options.yAxisOrientation&&(g=this.yAxisRight);for(var h=0;h<d.length;h++)d[h].screen_y=Math.round(g.convertValue(d[h].y));u.setZeroPosition(Math.min(M,g.convertValue(0)))},J.exports=p},function(J,L,E){var b,y=(b=E(8))&&b.__esModule?b:{default:b};var D=E(2),k=E(14),A=E(16),x=E(108);function O(b,w,v,m){this.id=D.randomUUID(),this.body=b,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=m,this.linegraphSVG=v,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=D.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(w),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var c=this;this.body.emitter.on("verticalDrag",function(){c.dom.lineContainer.style.top=c.body.domProps.scrollTop+"px"})}(O.prototype=new A).addGroup=function(b,w){this.groups.hasOwnProperty(b)||(this.groups[b]=w),this.amountOfGroups+=1},O.prototype.updateGroup=function(b,w){this.groups.hasOwnProperty(b)||(this.amountOfGroups+=1),this.groups[b]=w},O.prototype.removeGroup=function(b){this.groups.hasOwnProperty(b)&&(delete this.groups[b],this.amountOfGroups-=1)},O.prototype.setOptions=function(b){if(b){var w=!1;this.options.orientation!=b.orientation&&void 0!==b.orientation&&(w=!0),D.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,b),this.minWidth=Number((""+this.options.width).replace("px","")),!0===w&&this.dom.frame&&(this.hide(),this.show())}},O.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},O.prototype._redrawGroupIcons=function(){k.prepareElements(this.svgElements);var b,w=this.options.iconWidth,c=11.5;b="left"===this.options.orientation?4:this.width-w-4;var T=(0,y.default)(this.groups);T.sort(function(d,u){return d<u?-1:1});for(var a=0;a<T.length;a++){var p=T[a];!0===this.groups[p].visible&&(void 0===this.linegraphOptions.visibility[p]||!0===this.linegraphOptions.visibility[p])&&(this.groups[p].getLegend(w,15,this.framework,b,c),c+=19)}k.cleanupElements(this.svgElements),this.iconsRemoved=!1},O.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(k.prepareElements(this.svgElements),k.cleanupElements(this.svgElements),this.iconsRemoved=!0)},O.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},O.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},O.prototype.setRange=function(b,w){this.range.start=b,this.range.end=w},O.prototype.redraw=function(){var b=!1,w=0;for(var v in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(v)&&!0===this.groups[v].visible&&(void 0===this.linegraphOptions.visibility[v]||!0===this.linegraphOptions.visibility[v])&&w++;if(0===this.amountOfGroups||0===w)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var m=this.props,c=this.dom.frame;c.className="vis-data-axis",this._calculateCharSize();var T=this.options.orientation,p=this.options.showMajorLabels;m.minorLabelHeight=this.options.showMinorLabels?m.minorCharHeight:0,m.majorLabelHeight=p?m.majorCharHeight:0,m.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,m.minorLineHeight=1,m.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,m.majorLineHeight=1,"left"===T?(c.style.top="0",c.style.left="0",c.style.bottom="",c.style.width=this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(c.style.top="",c.style.bottom="0",c.style.left="0",c.style.width=this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),b=this._redrawLabels(),b=this._isResized()||b,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(T)}return b},O.prototype._redrawLabels=function(){var b=this,w=!1;k.prepareElements(this.DOMelements.lines),k.prepareElements(this.DOMelements.labels);var v=this.options.orientation,m=null!=this.options[v].range?this.options[v].range:{},c=!0;null!=m.max&&(this.range.end=m.max,c=!1);var T=!0;null!=m.min&&(this.range.start=m.min,T=!1),this.scale=new x(this.range.start,this.range.end,T,c,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[v].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(u){var g=u.y,M=u.major;b.options.showMinorLabels&&!1===M&&b._redrawLabel(g-2,u.val,v,"vis-y-axis vis-minor",b.props.minorCharHeight),M&&g>=0&&b._redrawLabel(g-2,u.val,v,"vis-y-axis vis-major",b.props.majorCharHeight),!0===b.master&&(M?b._redrawLine(g,v,"vis-grid vis-horizontal vis-major",b.options.majorLinesOffset,b.props.majorLineWidth):b._redrawLine(g,v,"vis-grid vis-horizontal vis-minor",b.options.minorLinesOffset,b.props.minorLineWidth))});var p=0;void 0!==this.options[v].title&&void 0!==this.options[v].title.text&&(p=this.props.titleCharHeight);var d=!0===this.options.icons?Math.max(this.options.iconWidth,p)+this.options.labelOffsetX+15:p+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-d&&!0===this.options.visible?(this.width=this.maxLabelSize+d,this.options.width=this.width+"px",k.cleanupElements(this.DOMelements.lines),k.cleanupElements(this.DOMelements.labels),this.redraw(),w=!0):this.maxLabelSize<this.width-d&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+d),this.options.width=this.width+"px",k.cleanupElements(this.DOMelements.lines),k.cleanupElements(this.DOMelements.labels),this.redraw(),w=!0):(k.cleanupElements(this.DOMelements.lines),k.cleanupElements(this.DOMelements.labels),w=!1),w},O.prototype.convertValue=function(b){return this.scale.convertValue(b)},O.prototype.screenToValue=function(b){return this.scale.screenToValue(b)},O.prototype._redrawLabel=function(b,w,v,m,c){var T=k.getDOMElement("div",this.DOMelements.labels,this.dom.frame);T.className=m,T.innerHTML=w,"left"===v?(T.style.left="-"+this.options.labelOffsetX+"px",T.style.textAlign="right"):(T.style.right="-"+this.options.labelOffsetX+"px",T.style.textAlign="left"),T.style.top=b-.5*c+this.options.labelOffsetY+"px",w+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<w.length*a&&(this.maxLabelSize=w.length*a)},O.prototype._redrawLine=function(b,w,v,m,c){if(!0===this.master){var T=k.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);T.className=v,T.innerHTML="","left"===w?T.style.left=this.width-m+"px":T.style.right=this.width-m+"px",T.style.width=c+"px",T.style.top=b+"px"}},O.prototype._redrawTitle=function(b){if(k.prepareElements(this.DOMelements.title),void 0!==this.options[b].title&&void 0!==this.options[b].title.text){var w=k.getDOMElement("div",this.DOMelements.title,this.dom.frame);w.className="vis-y-axis vis-title vis-"+b,w.innerHTML=this.options[b].title.text,void 0!==this.options[b].title.style&&D.addCssText(w,this.options[b].title.style),"left"===b?w.style.left=this.props.titleCharHeight+"px":w.style.right=this.props.titleCharHeight+"px",w.style.width=this.height+"px"}k.cleanupElements(this.DOMelements.title)},O.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var b=document.createTextNode("0"),w=document.createElement("div");w.className="vis-y-axis vis-minor vis-measure",w.appendChild(b),this.dom.frame.appendChild(w),this.props.minorCharHeight=w.clientHeight,this.props.minorCharWidth=w.clientWidth,this.dom.frame.removeChild(w)}if(!("majorCharHeight"in this.props)){var v=document.createTextNode("0"),m=document.createElement("div");m.className="vis-y-axis vis-major vis-measure",m.appendChild(v),this.dom.frame.appendChild(m),this.props.majorCharHeight=m.clientHeight,this.props.majorCharWidth=m.clientWidth,this.dom.frame.removeChild(m)}if(!("titleCharHeight"in this.props)){var c=document.createTextNode("0"),T=document.createElement("div");T.className="vis-y-axis vis-title vis-measure",T.appendChild(c),this.dom.frame.appendChild(T),this.props.titleCharHeight=T.clientHeight,this.props.titleCharWidth=T.clientWidth,this.dom.frame.removeChild(T)}},J.exports=O},function(J,L,E){function P(y,S,D,k,A,x){var O=arguments.length>6&&void 0!==arguments[6]&&arguments[6],b=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=A,this.majorCharHeight=x,this._start=y,this._end=S,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=O,this.autoScaleStart=D,this.autoScaleEnd=k,this.formattingFunction=b,D||k){var w=this,v=function(c){var T=c-c%(w.magnitudefactor*w.minorSteps[w.minorStepIdx]);return c%(w.magnitudefactor*w.minorSteps[w.minorStepIdx])>w.magnitudefactor*w.minorSteps[w.minorStepIdx]*.5?T+w.magnitudefactor*w.minorSteps[w.minorStepIdx]:T};D&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=v(this._start)),k&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=v(this._end)),this.determineScale()}}P.prototype.setCharHeight=function(y){this.majorCharHeight=y},P.prototype.setHeight=function(y){this.containerHeight=y},P.prototype.determineScale=function(){var y=this._end-this._start;this.scale=this.containerHeight/y;var S=this.majorCharHeight/this.scale,D=y>0?Math.round(Math.log(y)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,D);var k=0;D<0&&(k=D);for(var A=!1,x=k;Math.abs(x)<=Math.abs(D);x++){this.magnitudefactor=Math.pow(10,x);for(var O=0;O<this.minorSteps.length;O++)if(this.magnitudefactor*this.minorSteps[O]>=S){A=!0,this.minorStepIdx=O;break}if(!0===A)break}},P.prototype.is_major=function(y){return y%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},P.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},P.prototype.getFirstMajor=function(){var y=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(y-this._start%y)%y)},P.prototype.formatValue=function(y){var S=y.toPrecision(5);return"function"==typeof this.formattingFunction&&(S=this.formattingFunction(y)),"number"==typeof S?""+S:"string"==typeof S?S:y.toPrecision(5)},P.prototype.getLines=function(){for(var y=[],S=this.getStep(),k=this._start+(S-this._start%S)%S;this._end-k>1e-5;k+=S)k!=this._start&&y.push({major:this.is_major(k),y:this.convertValue(k),val:this.formatValue(k)});return y},P.prototype.followScale=function(y){var S=this.minorStepIdx,D=this._start,k=this._end,A=this,x=function(){A.magnitudefactor*=2},O=function(){A.magnitudefactor/=2};y.minorStepIdx<=1&&this.minorStepIdx<=1||y.minorStepIdx>1&&this.minorStepIdx>1||(y.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==S||x(),x()):(this.minorStepIdx=2,1==S||O(),O()));for(var b=y.convertValue(0),w=y.getStep()*y.scale,v=!1,m=0;!v&&m++<5;){this.scale=w/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=D,this._end=this._start+c;var T=this._end*this.scale,a=this.magnitudefactor*this.majorSteps[this.minorStepIdx],p=this.getFirstMajor()-y.getFirstMajor();if(this.zeroAlign?(this._end+=(b-T)/this.scale,this._start=this._end-c):this.autoScaleStart?(this._start-=p/this.scale,this._end=this._start+c):(this._start+=a-p/this.scale,this._end=this._start+c),!this.autoScaleEnd&&this._end>k+1e-5)O(),v=!1;else{if(!this.autoScaleStart&&this._start<D-1e-5){if(!(this.zeroAlign&&D>=0)){O(),v=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&c<k-D?(x(),v=!1):v=!0}}},P.prototype.convertValue=function(y){return this.containerHeight-(y-this._start)*this.scale},P.prototype.screenToValue=function(y){return(this.containerHeight-y)/this.scale+this._start},J.exports=P},function(J,L,E){var b,y=(b=E(6))&&b.__esModule?b:{default:b};var D=E(2),k=E(110),A=E(111),x=E(72);function O(b,w,v,m){this.id=w,this.options=D.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],v),this.usingDefaultStyle=void 0===b.className,this.groupsUsingDefaultStyles=m,this.zeroPosition=0,this.update(b),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===b.visible||b.visible}O.prototype.setItems=function(b){null!=b?(this.itemsData=b,1==this.options.sort&&D.insertSort(this.itemsData,function(w,v){return w.x>v.x?1:-1})):this.itemsData=[]},O.prototype.getItems=function(){return this.itemsData},O.prototype.setZeroPosition=function(b){this.zeroPosition=b},O.prototype.setOptions=function(b){void 0!==b&&(D.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,b),"function"==typeof b.drawPoints&&(b.drawPoints={onRender:b.drawPoints}),D.mergeOptions(this.options,b,"interpolation"),D.mergeOptions(this.options,b,"drawPoints"),D.mergeOptions(this.options,b,"shaded"),b.interpolation&&"object"==(0,y.default)(b.interpolation)&&b.interpolation.parametrization&&("uniform"==b.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==b.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},O.prototype.update=function(b){this.group=b,this.content=b.content||"graph",this.className=b.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===b.visible||b.visible,this.style=b.style,this.setOptions(b.options)},O.prototype.getLegend=function(b,w,v,m,c){switch(null!=v&&null!=v||(v={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),(null==m||null==m)&&(m=0),(null==c||null==c)&&(c=.5*w),this.options.style){case"line":A.drawIcon(this,m,c,b,w,v);break;case"points":case"point":x.drawIcon(this,m,c,b,w,v);break;case"bar":k.drawIcon(this,m,c,b,w,v)}return{icon:v.svg,label:this.content,orientation:this.options.yAxisOrientation}},O.prototype.getYRange=function(b){for(var w=b[0].y,v=b[0].y,m=0;m<b.length;m++)w=w>b[m].y?b[m].y:w,v=v<b[m].y?b[m].y:v;return{min:w,max:v,yAxisOrientation:this.options.yAxisOrientation}},J.exports=O},function(J,L,E){var P=E(14),y=E(72);function S(D,k){}S.drawIcon=function(D,k,A,x,O,b){var w=.5*O,v=P.getSVGElement("rect",b.svgElements,b.svg);v.setAttributeNS(null,"x",k),v.setAttributeNS(null,"y",A-w),v.setAttributeNS(null,"width",x),v.setAttributeNS(null,"height",2*w),v.setAttributeNS(null,"class","vis-outline");var m=Math.round(.3*x),T=D.options.barChart.width/m,a=Math.round(.4*O),p=Math.round(.75*O),d=Math.round((x-2*m)/3);if(P.drawBar(k+.5*m+d,A+w-a-1,m,a,D.className+" vis-bar",b.svgElements,b.svg,D.style),P.drawBar(k+1.5*m+d+2,A+w-p-1,m,p,D.className+" vis-bar",b.svgElements,b.svg,D.style),1==D.options.drawPoints.enabled){var u={style:D.options.drawPoints.style,styles:D.options.drawPoints.styles,size:D.options.drawPoints.size/T,className:D.className};P.drawPoint(k+.5*m+d,A+w-a-1,u,b.svgElements,b.svg),P.drawPoint(k+1.5*m+d+2,A+w-p-1,u,b.svgElements,b.svg)}},S.draw=function(D,k,A){var b,w,v,m,c,T,x=[],O={},a=0;for(c=0;c<D.length;c++)if("bar"===(m=A.groups[D[c]]).options.style&&!0===m.visible&&(void 0===A.options.groups.visibility[D[c]]||!0===A.options.groups.visibility[D[c]]))for(T=0;T<k[D[c]].length;T++)x.push({screen_x:k[D[c]][T].screen_x,screen_end:k[D[c]][T].screen_end,screen_y:k[D[c]][T].screen_y,x:k[D[c]][T].x,end:k[D[c]][T].end,y:k[D[c]][T].y,groupId:D[c],label:k[D[c]][T].label}),a+=1;if(0!==a)for(x.sort(function(f,_){return f.screen_x===_.screen_x?f.groupId<_.groupId?-1:1:f.screen_x-_.screen_x}),S._getDataIntersections(O,x),c=0;c<x.length;c++){var p=null!=(m=A.groups[x[c].groupId]).options.barChart.minWidth?m.options.barChart.minWidth:.1*m.options.barChart.width,d=0;if(void 0===O[w=x[c].screen_x])c+1<x.length&&(b=Math.abs(x[c+1].screen_x-w)),v=S._getSafeDrawData(b,m,p);else{var u=c+(O[w].amount-O[w].resolved);u<x.length&&(b=Math.abs(x[u].screen_x-w)),v=S._getSafeDrawData(b,m,p),O[w].resolved+=1,!0===m.options.stack&&!0!==m.options.excludeFromStacking?x[c].screen_y<m.zeroPosition?(d=O[w].accumulatedNegative,O[w].accumulatedNegative+=m.zeroPosition-x[c].screen_y):(d=O[w].accumulatedPositive,O[w].accumulatedPositive+=m.zeroPosition-x[c].screen_y):!0===m.options.barChart.sideBySide&&(v.width=v.width/O[w].amount,v.offset+=O[w].resolved*v.width-.5*v.width*(O[w].amount+1))}var g=v.width,M=x[c].screen_x;M+=null!=x[c].screen_end?.5*(g=x[c].screen_end-x[c].screen_x):v.offset,P.drawBar(M,x[c].screen_y-d,g,m.zeroPosition-x[c].screen_y,m.className+" vis-bar",A.svgElements,A.svg,m.style),!0===m.options.drawPoints.enabled&&y.draw([{screen_x:x[c].screen_x,screen_y:x[c].screen_y-d,x:x[c].x,y:x[c].y,groupId:x[c].groupId,label:x[c].label}],m,A,v.offset)}},S._getDataIntersections=function(D,k){for(var A,x=0;x<k.length;x++)x+1<k.length&&(A=Math.abs(k[x+1].screen_x-k[x].screen_x)),x>0&&(A=Math.min(A,Math.abs(k[x-1].screen_x-k[x].screen_x))),0===A&&(void 0===D[k[x].screen_x]&&(D[k[x].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),D[k[x].screen_x].amount+=1)},S._getSafeDrawData=function(D,k,A){var x,O;return D<k.options.barChart.width&&D>0?(x=D<A?A:D,O=0,"left"===k.options.barChart.align?O-=.5*D:"right"===k.options.barChart.align&&(O+=.5*D)):(x=k.options.barChart.width,O=0,"left"===k.options.barChart.align?O-=.5*k.options.barChart.width:"right"===k.options.barChart.align&&(O+=.5*k.options.barChart.width)),{width:x,offset:O}},S.getStackedYRange=function(D,k,A,x,O){if(D.length>0){D.sort(function(w,v){return w.screen_x===v.screen_x?w.groupId<v.groupId?-1:1:w.screen_x-v.screen_x});var b={};S._getDataIntersections(b,D),k[x]=S._getStackedYRange(b,D),k[x].yAxisOrientation=O,A.push(x)}},S._getStackedYRange=function(D,k){for(var A,x=k[0].screen_y,O=k[0].screen_y,b=0;b<k.length;b++)void 0===D[A=k[b].screen_x]?(x=x>k[b].screen_y?k[b].screen_y:x,O=O<k[b].screen_y?k[b].screen_y:O):k[b].screen_y<0?D[A].accumulatedNegative+=k[b].screen_y:D[A].accumulatedPositive+=k[b].screen_y;for(var w in D)D.hasOwnProperty(w)&&(x=(x=x>D[w].accumulatedNegative?D[w].accumulatedNegative:x)>D[w].accumulatedPositive?D[w].accumulatedPositive:x,O=(O=O<D[w].accumulatedNegative?D[w].accumulatedNegative:O)<D[w].accumulatedPositive?D[w].accumulatedPositive:O);return{min:x,max:O}},J.exports=S},function(J,L,E){var P=E(14);function y(S,D){}y.calcPath=function(S,D){if(null!=S&&S.length>0)return 1==D.options.interpolation.enabled?y._catmullRom(S,D):y._linear(S)},y.drawIcon=function(S,D,k,A,x,O){var w,v,b=.5*x,m=P.getSVGElement("rect",O.svgElements,O.svg);m.setAttributeNS(null,"x",D),m.setAttributeNS(null,"y",k-b),m.setAttributeNS(null,"width",A),m.setAttributeNS(null,"height",2*b),m.setAttributeNS(null,"class","vis-outline"),(w=P.getSVGElement("path",O.svgElements,O.svg)).setAttributeNS(null,"class",S.className),void 0!==S.style&&w.setAttributeNS(null,"style",S.style),w.setAttributeNS(null,"d","M"+D+","+k+" L"+(D+A)+","+k),1==S.options.shaded.enabled&&((v=P.getSVGElement("path",O.svgElements,O.svg)).setAttributeNS(null,"d","top"==S.options.shaded.orientation?"M"+D+", "+(k-b)+"L"+D+","+k+" L"+(D+A)+","+k+" L"+(D+A)+","+(k-b):"M"+D+","+k+" L"+D+","+(k+b)+" L"+(D+A)+","+(k+b)+"L"+(D+A)+","+k),v.setAttributeNS(null,"class",S.className+" vis-icon-fill"),void 0!==S.options.shaded.style&&""!==S.options.shaded.style&&v.setAttributeNS(null,"style",S.options.shaded.style)),1==S.options.drawPoints.enabled&&P.drawPoint(D+.5*A,k,{style:S.options.drawPoints.style,styles:S.options.drawPoints.styles,size:S.options.drawPoints.size,className:S.className},O.svgElements,O.svg)},y.drawShading=function(S,D,k,A){if(1==D.options.shaded.enabled){var x=Number(A.svg.style.height.replace("px","")),O=P.getSVGElement("path",A.svgElements,A.svg),b="L";1==D.options.interpolation.enabled&&(b="C");var w,v;v="top"==D.options.shaded.orientation?0:"bottom"==D.options.shaded.orientation?x:Math.min(Math.max(0,D.zeroPosition),x),w="group"==D.options.shaded.orientation&&null!=k&&null!=k?"M"+S[0][0]+","+S[0][1]+" "+this.serializePath(S,b,!1)+" L"+k[k.length-1][0]+","+k[k.length-1][1]+" "+this.serializePath(k,b,!0)+k[0][0]+","+k[0][1]+" Z":"M"+S[0][0]+","+S[0][1]+" "+this.serializePath(S,b,!1)+" V"+v+" H"+S[0][0]+" Z",O.setAttributeNS(null,"class",D.className+" vis-fill"),void 0!==D.options.shaded.style&&O.setAttributeNS(null,"style",D.options.shaded.style),O.setAttributeNS(null,"d",w)}},y.draw=function(S,D,k){if(null!=S&&null!=S){var A=P.getSVGElement("path",k.svgElements,k.svg);A.setAttributeNS(null,"class",D.className),void 0!==D.style&&A.setAttributeNS(null,"style",D.style);var x="L";1==D.options.interpolation.enabled&&(x="C"),A.setAttributeNS(null,"d","M"+S[0][0]+","+S[0][1]+" "+this.serializePath(S,x,!1))}},y.serializePath=function(S,D,k){if(S.length<2)return"";var x,A=D;if(k)for(x=S.length-2;x>0;x--)A+=S[x][0]+","+S[x][1]+" ";else for(x=1;x<S.length;x++)A+=S[x][0]+","+S[x][1]+" ";return A},y._catmullRomUniform=function(S){var D,k,A,x,O,b,w=[];w.push([Math.round(S[0].screen_x),Math.round(S[0].screen_y)]);for(var v=1/6,m=S.length,c=0;c<m-1;c++)b={screen_x:((k=S[c]).screen_x+6*(A=S[c+1]).screen_x-(x=c+2<m?S[c+2]:A).screen_x)*v,screen_y:(k.screen_y+6*A.screen_y-x.screen_y)*v},w.push([(O={screen_x:(6*k.screen_x-(D=0==c?S[0]:S[c-1]).screen_x+A.screen_x)*v,screen_y:(6*k.screen_y-D.screen_y+A.screen_y)*v}).screen_x,O.screen_y]),w.push([b.screen_x,b.screen_y]),w.push([A.screen_x,A.screen_y]);return w},y._catmullRom=function(S,D){var k=D.options.interpolation.alpha;if(0==k||void 0===k)return this._catmullRomUniform(S);var A,x,O,b,w,v,m,c,T,a,p,d,u,g,M,h,f,_,I,F=[];F.push([Math.round(S[0].screen_x),Math.round(S[0].screen_y)]);for(var V=S.length,j=0;j<V-1;j++)A=0==j?S[0]:S[j-1],x=S[j],O=S[j+1],b=j+2<V?S[j+2]:O,m=Math.sqrt(Math.pow(A.screen_x-x.screen_x,2)+Math.pow(A.screen_y-x.screen_y,2)),c=Math.sqrt(Math.pow(x.screen_x-O.screen_x,2)+Math.pow(x.screen_y-O.screen_y,2)),T=Math.sqrt(Math.pow(O.screen_x-b.screen_x,2)+Math.pow(O.screen_y-b.screen_y,2)),g=Math.pow(T,k),h=Math.pow(T,2*k),M=Math.pow(c,k),f=Math.pow(c,2*k),I=Math.pow(m,k),_=Math.pow(m,2*k),(d=3*I*(I+M))>0&&(d=1/d),(u=3*g*(g+M))>0&&(u=1/u),0==(w={screen_x:(-f*A.screen_x+(a=2*_+3*I*M+f)*x.screen_x+_*O.screen_x)*d,screen_y:(-f*A.screen_y+a*x.screen_y+_*O.screen_y)*d}).screen_x&&0==w.screen_y&&(w=x),0==(v={screen_x:(h*x.screen_x+(p=2*h+3*g*M+f)*O.screen_x-f*b.screen_x)*u,screen_y:(h*x.screen_y+p*O.screen_y-f*b.screen_y)*u}).screen_x&&0==v.screen_y&&(v=O),F.push([w.screen_x,w.screen_y]),F.push([v.screen_x,v.screen_y]),F.push([O.screen_x,O.screen_y]);return F},y._linear=function(S){for(var D=[],k=0;k<S.length;k++)D.push([S[k].screen_x,S[k].screen_y]);return D},J.exports=y},function(J,L,E){var O,y=(O=E(8))&&O.__esModule?O:{default:O};var D=E(2),k=E(14),A=E(16);function x(O,b,w,v){this.body=O,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=w,this.options=D.extend({},this.defaultOptions),this.linegraphOptions=v,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(b)}(x.prototype=new A).clear=function(){this.groups={},this.amountOfGroups=0},x.prototype.addGroup=function(O,b){1!=b.options.excludeFromLegend&&(this.groups.hasOwnProperty(O)||(this.groups[O]=b),this.amountOfGroups+=1)},x.prototype.updateGroup=function(O,b){this.groups[O]=b},x.prototype.removeGroup=function(O){this.groups.hasOwnProperty(O)&&(delete this.groups[O],this.amountOfGroups-=1)},x.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},x.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},x.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},x.prototype.setOptions=function(O){D.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,O)},x.prototype.redraw=function(){var O=0,b=(0,y.default)(this.groups);b.sort(function(T,a){return T<a?-1:1});for(var w=0;w<b.length;w++){var v=b[w];1==this.groups[v].visible&&(void 0===this.linegraphOptions.visibility[v]||1==this.linegraphOptions.visibility[v])&&O++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==O)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var c="";for(w=0;w<b.length;w++)1==this.groups[v=b[w]].visible&&(void 0===this.linegraphOptions.visibility[v]||1==this.linegraphOptions.visibility[v])&&(c+=this.groups[v].content+"<br />");this.dom.textArea.innerHTML=c,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},x.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var O=(0,y.default)(this.groups);O.sort(function(d,u){return d<u?-1:1}),k.resetElements(this.svgElements);var b=window.getComputedStyle(this.dom.frame).paddingTop,w=Number(b.replace("px","")),v=w,m=this.options.iconSize,c=.75*this.options.iconSize,T=w+.5*c+3;this.svg.style.width=m+5+w+"px";for(var a=0;a<O.length;a++){var p=O[a];1==this.groups[p].visible&&(void 0===this.linegraphOptions.visibility[p]||1==this.linegraphOptions.visibility[p])&&(this.groups[p].getLegend(m,c,this.framework,v,T),T+=c+this.options.iconSpacing)}}},J.exports=x},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",k="date",A="object",O="moment";L.allOptions={configure:{enabled:{boolean:y},filter:{boolean:y,function:"function"},container:{dom:"dom"},__type__:{object:A,boolean:y,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:P},sort:{boolean:y},sampling:{boolean:y},stack:{boolean:y},graphHeight:{string:P,number:S},shaded:{enabled:{boolean:y},orientation:{string:["bottom","top","zero","group"]},groupId:{object:A},__type__:{boolean:y,object:A}},style:{string:["line","bar","points"]},barChart:{width:{number:S},minWidth:{number:S},sideBySide:{boolean:y},align:{string:["left","center","right"]},__type__:{object:A}},interpolation:{enabled:{boolean:y},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:S},__type__:{object:A,boolean:y}},drawPoints:{enabled:{boolean:y},onRender:{function:"function"},size:{number:S},style:{string:["square","circle"]},__type__:{object:A,boolean:y,function:"function"}},dataAxis:{showMinorLabels:{boolean:y},showMajorLabels:{boolean:y},icons:{boolean:y},width:{string:P,number:S},visible:{boolean:y},alignZeros:{boolean:y},left:{range:{min:{number:S,undefined:"undefined"},max:{number:S,undefined:"undefined"},__type__:{object:A}},format:{function:"function"},title:{text:{string:P,number:S,undefined:"undefined"},style:{string:P,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},right:{range:{min:{number:S,undefined:"undefined"},max:{number:S,undefined:"undefined"},__type__:{object:A}},format:{function:"function"},title:{text:{string:P,number:S,undefined:"undefined"},style:{string:P,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},__type__:{object:A}},legend:{enabled:{boolean:y},icons:{boolean:y},left:{visible:{boolean:y},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:A}},right:{visible:{boolean:y},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:A}},__type__:{object:A,boolean:y}},groups:{visibility:{any:"any"},__type__:{object:A}},autoResize:{boolean:y},throttleRedraw:{number:S},clickToUse:{boolean:y},end:{number:S,date:k,string:P,moment:O},format:{minorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A}},majorLabels:{millisecond:{string:P,undefined:"undefined"},second:{string:P,undefined:"undefined"},minute:{string:P,undefined:"undefined"},hour:{string:P,undefined:"undefined"},weekday:{string:P,undefined:"undefined"},day:{string:P,undefined:"undefined"},month:{string:P,undefined:"undefined"},year:{string:P,undefined:"undefined"},__type__:{object:A}},__type__:{object:A}},moment:{function:"function"},height:{string:P,number:S},hiddenDates:{start:{date:k,number:S,string:P,moment:O},end:{date:k,number:S,string:P,moment:O},repeat:{string:P},__type__:{object:A,array:"array"}},locale:{string:P},locales:{__any__:{any:"any"},__type__:{object:A}},max:{date:k,number:S,string:P,moment:O},maxHeight:{number:S,string:P},maxMinorChars:{number:S},min:{date:k,number:S,string:P,moment:O},minHeight:{number:S,string:P},moveable:{boolean:y},multiselect:{boolean:y},orientation:{string:P},showCurrentTime:{boolean:y},showMajorLabels:{boolean:y},showMinorLabels:{boolean:y},start:{date:k,number:S,string:P,moment:O},timeAxis:{scale:{string:P,undefined:"undefined"},step:{number:S,undefined:"undefined"},__type__:{object:A}},width:{string:P,number:S},zoomable:{boolean:y},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:S},zoomMin:{number:S},zIndex:{number:S},__type__:{object:A}},L.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(J,L,E){var ue,y=(ue=E(29))&&ue.__esModule?ue:{default:ue};function D(ue){return b=ue,function(){var ue={};if(w=0,v=b.charAt(0),I(),"strict"===m&&(ue.strict=!0,I()),("graph"===m||"digraph"===m)&&(ue.type=m,I()),c===x_IDENTIFIER&&(ue.id=m,I()),"{"!=m)throw le("Angle bracket { expected");if(I(),V(ue),"}"!=m)throw le("Angle bracket } expected");if(I(),""!==m)throw le("End of file expected");return I(),delete ue.node,delete ue.edge,delete ue.graph,ue}()}var k={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},A=(0,y.default)(k);A.color="color.color",A.style="dashes";var x_NULL=0,x_DELIMITER=1,x_IDENTIFIER=2,x_UNKNOWN=3,O={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},b="",w=0,v="",m="",c=x_NULL;function a(){w++,v=b.charAt(w)}function p(){return b.charAt(w+1)}var d=/[a-zA-Z_0-9.:#]/;function u(ue){return d.test(ue)}function g(ue,ce){if(ue||(ue={}),ce)for(var Ce in ce)ce.hasOwnProperty(Ce)&&(ue[Ce]=ce[Ce]);return ue}function M(ue,ce,Ce){for(var ke=ce.split("."),Ie=ue;ke.length;){var xe=ke.shift();ke.length?(Ie[xe]||(Ie[xe]={}),Ie=Ie[xe]):Ie[xe]=Ce}}function h(ue,ce){for(var Ce,ke,Ie=null,xe=[ue],Be=ue;Be.parent;)xe.push(Be.parent),Be=Be.parent;if(Be.nodes)for(Ce=0,ke=Be.nodes.length;Ce<ke;Ce++)if(ce.id===Be.nodes[Ce].id){Ie=Be.nodes[Ce];break}for(Ie||(Ie={id:ce.id},ue.node&&(Ie.attr=g(Ie.attr,ue.node))),Ce=xe.length-1;Ce>=0;Ce--){var ze=xe[Ce];ze.nodes||(ze.nodes=[]),-1===ze.nodes.indexOf(Ie)&&ze.nodes.push(Ie)}ce.attr&&(Ie.attr=g(Ie.attr,ce.attr))}function f(ue,ce){if(ue.edges||(ue.edges=[]),ue.edges.push(ce),ue.edge){var Ce=g({},ue.edge);ce.attr=g(Ce,ce.attr)}}function _(ue,ce,Ce,ke,Ie){var xe={from:ce,to:Ce,type:ke};return ue.edge&&(xe.attr=g({},ue.edge)),xe.attr=g(xe.attr||{},Ie),xe}function I(){for(c=x_NULL,m="";" "===v||"\t"===v||"\n"===v||"\r"===v;)a();do{var ue=!1;if("#"===v){for(var ce=w-1;" "===b.charAt(ce)||"\t"===b.charAt(ce);)ce--;if("\n"===b.charAt(ce)||""===b.charAt(ce)){for(;""!=v&&"\n"!=v;)a();ue=!0}}if("/"===v&&"/"===p()){for(;""!=v&&"\n"!=v;)a();ue=!0}if("/"===v&&"*"===p()){for(;""!=v;){if("*"===v&&"/"===p()){a(),a();break}a()}ue=!0}for(;" "===v||"\t"===v||"\n"===v||"\r"===v;)a()}while(ue);if(""!==v){var Ce=v+p();if(O[Ce])return c=x_DELIMITER,m=Ce,a(),void a();if(O[v])return c=x_DELIMITER,m=v,void a();if(u(v)||"-"===v){for(m+=v,a();u(v);)m+=v,a();return"false"===m?m=!1:"true"===m?m=!0:isNaN(Number(m))||(m=Number(m)),void(c=x_IDENTIFIER)}if('"'===v){for(a();""!=v&&('"'!=v||'"'===v&&'"'===p());)'"'===v?(m+=v,a()):"\\"===v&&"n"===p()?(m+="\n",a()):m+=v,a();if('"'!=v)throw le('End of string " expected');return a(),void(c=x_IDENTIFIER)}for(c=x_UNKNOWN;""!=v;)m+=v,a();throw new SyntaxError('Syntax error in part "'+pe(m,30)+'"')}c=x_DELIMITER}function V(ue){for(;""!==m&&"}"!=m;)j(ue),";"===m&&I()}function j(ue){var ce=$(ue);if(ce)ne(ue,ce);else if(!function(ue){return"node"===m?(I(),ue.node=oe(),"node"):"edge"===m?(I(),ue.edge=oe(),"edge"):"graph"===m?(I(),ue.graph=oe(),"graph"):null}(ue)){if(c!=x_IDENTIFIER)throw le("Identifier expected");var ke=m;if(I(),"="===m){if(I(),c!=x_IDENTIFIER)throw le("Identifier expected");ue[ke]=m,I()}else!function(ue,ce){var Ce={id:ce},ke=oe();ke&&(Ce.attr=ke),h(ue,Ce),ne(ue,ce)}(ue,ke)}}function $(ue){var ce=null;if("subgraph"===m&&((ce={}).type="subgraph",I(),c===x_IDENTIFIER&&(ce.id=m,I())),"{"===m){if(I(),ce||(ce={}),ce.parent=ue,ce.node=ue.node,ce.edge=ue.edge,ce.graph=ue.graph,V(ce),"}"!=m)throw le("Angle bracket } expected");I(),delete ce.node,delete ce.edge,delete ce.graph,delete ce.parent,ue.subgraphs||(ue.subgraphs=[]),ue.subgraphs.push(ce)}return ce}function ne(ue,ce){for(;"->"===m||"--"===m;){var Ce,ke=m;I();var Ie=$(ue);if(Ie)Ce=Ie;else{if(c!=x_IDENTIFIER)throw le("Identifier or subgraph expected");h(ue,{id:Ce=m}),I()}f(ue,_(ue,ce,Ce,ke,oe())),ce=Ce}}function oe(){for(var ue=null,ce={dashed:!0,solid:!1,dotted:[1,5]};"["===m;){for(I(),ue={};""!==m&&"]"!=m;){if(c!=x_IDENTIFIER)throw le("Attribute name expected");var Ce=m;if(I(),"="!=m)throw le("Equal sign = expected");if(I(),c!=x_IDENTIFIER)throw le("Attribute value expected");var ke=m;"style"===Ce&&(ke=ce[ke]),M(ue,Ce,ke),I(),","==m&&I()}if("]"!=m)throw le("Bracket ] expected");I()}return ue}function le(ue){return new SyntaxError(ue+', got "'+pe(m,30)+'" (char '+w+")")}function pe(ue,ce){return ue.length<=ce?ue:ue.substr(0,27)+"..."}function we(ue,ce,Ce){for(var ke=ce.split("."),Ie=ke.pop(),xe=ue,Be=0;Be<ke.length;Be++){var ze=ke[Be];ze in xe||(xe[ze]={}),xe=xe[ze]}return xe[Ie]=Ce,ue}function Ee(ue,ce){var Ce={};for(var ke in ue)if(ue.hasOwnProperty(ke)){var Ie=ce[ke];Array.isArray(Ie)?Ie.forEach(function(xe){we(Ce,xe,ue[ke])}):we(Ce,"string"==typeof Ie?Ie:ke,ue[ke])}return Ce}L.parseDOT=D,L.DOTToGraph=function(ue){var ce=D(ue),Ce={nodes:[],edges:[],options:{}};if(ce.nodes&&ce.nodes.forEach(function(Ie){var xe={id:Ie.id,label:String(Ie.label||Ie.id)};g(xe,Ee(Ie.attr,k)),xe.image&&(xe.shape="image"),Ce.nodes.push(xe)}),ce.edges){var ke=function(xe){var Be={from:xe.from,to:xe.to};return g(Be,Ee(xe.attr,A)),Be.arrows="->"===xe.type?"to":void 0,Be};ce.edges.forEach(function(Ie){var xe,Be;xe=Ie.from instanceof Object?Ie.from.nodes:{id:Ie.from},Be=Ie.to instanceof Object?Ie.to.nodes:{id:Ie.to},Ie.from instanceof Object&&Ie.from.edges&&Ie.from.edges.forEach(function(ze){var it=ke(ze);Ce.edges.push(it)}),function(ue,ce,Ce){Array.isArray(ue)?ue.forEach(function(ke){Array.isArray(ce)?ce.forEach(function(Ie){Ce(ke,Ie)}):Ce(ke,ce)}):Array.isArray(ce)?ce.forEach(function(ke){Ce(ue,ke)}):Ce(ue,ce)}(xe,Be,function(ze,it){var nn=_(Ce,ze.id,it.id,Ie.type,Ie.attr),cn=ke(nn);Ce.edges.push(cn)}),Ie.to instanceof Object&&Ie.to.edges&&Ie.to.edges.forEach(function(ze){var it=ke(ze);Ce.edges.push(it)})})}return ce.attr&&(Ce.options=ce.attr),Ce}},function(J,L,E){L.parseGephi=function(y,S){var D=[],k=[],A={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==S&&(void 0!==S.fixed&&(A.nodes.fixed=S.fixed),void 0!==S.parseColor&&(A.nodes.parseColor=S.parseColor),void 0!==S.inheritColor&&(A.edges.inheritColor=S.inheritColor));for(var x=y.edges,O=y.nodes,b=0;b<x.length;b++){var w={},v=x[b];w.id=v.id,w.from=v.source,w.to=v.target,w.attributes=v.attributes,w.label=v.label,w.title=void 0!==v.attributes?v.attributes.title:void 0,"Directed"===v.type&&(w.arrows="to"),v.color&&!1===A.inheritColor&&(w.color=v.color),D.push(w)}for(var m=0;m<O.length;m++){var c={},T=O[m];c.id=T.id,c.attributes=T.attributes,c.x=T.x,c.y=T.y,c.label=T.label,c.title=void 0!==T.attributes?T.attributes.title:T.title,c.color=!0===A.nodes.parseColor?T.color:void 0!==T.color?{background:T.color,border:T.color,highlight:{background:T.color,border:T.color},hover:{background:T.color,border:T.color}}:void 0,c.size=T.size,c.fixed=A.nodes.fixed&&void 0!==T.x&&void 0!==T.y,k.push(c)}return{nodes:k,edges:D}}},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=x(E(0)),D=x(E(1)),A=x(E(185));function x(b){return b&&b.__esModule?b:{default:b}}var O=function(){function b(w){(0,y.default)(this,b),this.images={},this.imageBroken={},this.callback=w}return(0,D.default)(b,[{key:"_tryloadBrokenUrl",value:function(v,m,c){if(void 0!==v&&void 0!==c){if(void 0===m)return void console.warn("No broken url image defined");c.onerror=function(){console.error("Could not load brokenImage:",m)},c.image.src=m}}},{key:"_redrawWithImage",value:function(v){this.callback&&this.callback(v)}},{key:"load",value:function(v,m){var c=this,T=this.images[v];if(T)return T;var a=new A.default;return this.images[v]=a,a.image.onload=function(){c._fixImageCoordinates(a.image),a.init(),c._redrawWithImage(a)},a.image.onerror=function(){console.error("Could not load image:",v),c._tryloadBrokenUrl(v,m,a)},a.image.src=v,a}},{key:"_fixImageCoordinates",value:function(v){0===v.width&&(document.body.appendChild(v),v.width=v.offsetWidth,v.height=v.offsetHeight,document.body.removeChild(v))}}]),b}();L.default=O},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=b(E(30)),D=b(E(6)),A=b(E(0)),O=b(E(1));function b(a){return a&&a.__esModule?a:{default:a}}var w=E(2),v=E(48).default,m=E(191).default,c=["bold","ital","boldital","mono"],T=function(){function a(p,d){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,A.default)(this,a),this.body=p,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(d),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=u}return(0,O.default)(a,[{key:"setOptions",value:function(d){if(this.elementOptions=d,this.initFontOptions(d.font),v.isValidLabel(d.label)?this.labelDirty=!0:d.label="",null!=d.font)if("string"==typeof d.font)this.baseSize=this.fontOptions.size;else if("object"===(0,D.default)(d.font)){var u=d.font.size;void 0!==u&&(this.baseSize=u)}}},{key:"initFontOptions",value:function(d){var u=this;w.forEach(c,function(g){u.fontOptions[g]={}}),a.parseFontString(this.fontOptions,d)?this.fontOptions.vadjust=0:w.forEach(d,function(g,M){null!=g&&"object"!==(void 0===g?"undefined":(0,D.default)(g))&&(u.fontOptions[M]=g)})}},{key:"constrain",value:function(d){var u={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},g=w.topMost(d,"widthConstraint");if("number"==typeof g)u.maxWdt=Number(g),u.minWdt=Number(g);else if("object"===(void 0===g?"undefined":(0,D.default)(g))){var M=w.topMost(d,["widthConstraint","maximum"]);"number"==typeof M&&(u.maxWdt=Number(M));var h=w.topMost(d,["widthConstraint","minimum"]);"number"==typeof h&&(u.minWdt=Number(h))}var f=w.topMost(d,"heightConstraint");if("number"==typeof f)u.minHgt=Number(f);else if("object"===(void 0===f?"undefined":(0,D.default)(f))){var _=w.topMost(d,["heightConstraint","minimum"]);"number"==typeof _&&(u.minHgt=Number(_));var I=w.topMost(d,["heightConstraint","valign"]);"string"==typeof I&&("top"===I||"bottom"===I)&&(u.valign=I)}return u}},{key:"update",value:function(d,u){this.setOptions(d,!0),this.propagateFonts(u),w.deepExtend(this.fontOptions,this.constrain(u)),this.fontOptions.chooser=v.choosify("label",u)}},{key:"adjustSizes",value:function(d){var u=d?d.right+d.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=u,this.fontOptions.minWdt-=u),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=d?d.top+d.bottom:0)}},{key:"addFontOptionsToPile",value:function(d,u){for(var g=0;g<u.length;++g)this.addFontToPile(d,u[g])}},{key:"addFontToPile",value:function(d,u){void 0!==u&&null!=u.font&&d.push(u.font)}},{key:"getBasicOptions",value:function(d){for(var u={},g=0;g<d.length;++g){var M=d[g],h={};a.parseFontString(h,M)&&(M=h),w.forEach(M,function(f,_){void 0!==f&&(u.hasOwnProperty(_)||(u[_]=-1!==c.indexOf(_)?{}:f))})}return u}},{key:"getFontOption",value:function(d,u,g){for(var M=void 0,h=0;h<d.length;++h){var f=d[h];if(f.hasOwnProperty(u)){if(null==(M=f[u]))continue;var _={};if(a.parseFontString(_,M)&&(M=_),M.hasOwnProperty(g))return M[g]}}if(this.fontOptions.hasOwnProperty(g))return this.fontOptions[g];throw new Error("Did not find value for multi-font for property: '"+g+"'")}},{key:"getFontOptions",value:function(d,u){for(var g={},M=["color","size","face","mod","vadjust"],h=0;h<M.length;++h){var f=M[h];g[f]=this.getFontOption(d,u,f)}return g}},{key:"propagateFonts",value:function(d){var u=this,g=[];this.addFontOptionsToPile(g,d),this.fontOptions=this.getBasicOptions(g);for(var M=function(_){var I=c[_],F=u.fontOptions[I],V=u.getFontOptions(g,I);w.forEach(V,function(j,$){F[$]=j}),F.size=Number(F.size),F.vadjust=Number(F.vadjust)},h=0;h<c.length;++h)M(h)}},{key:"draw",value:function(d,u,g,M,h){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var _=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&_<this.elementOptions.scaling.label.drawThreshold-1||(_>=this.elementOptions.scaling.label.maxVisible&&(_=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(d,M,h,u,g,f),this._drawBackground(d),this._drawText(d,u,this.size.yLine,f,_))}}},{key:"_drawBackground",value:function(d){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){d.fillStyle=this.fontOptions.background;var u=this.getSize();d.fillRect(u.left,u.top,u.width,u.height)}}},{key:"_drawText",value:function(d,u,g){var h=arguments[4],f=this._setAlignment(d,u,g,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),_=(0,y.default)(f,2);u=_[0],g=_[1],d.textAlign="left",u-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(g-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(g+=(this.size.height-this.size.labelHeight)/2));for(var I=0;I<this.lineCount;I++){var F=this.lines[I];if(F&&F.blocks){var V=0;this.isEdgeLabel||"center"===this.fontOptions.align?V+=(this.size.width-F.width)/2:"right"===this.fontOptions.align&&(V+=this.size.width-F.width);for(var j=0;j<F.blocks.length;j++){var $=F.blocks[j];d.font=$.font;var G=this._getColor($.color,h,$.strokeColor),Z=(0,y.default)(G,2),ne=Z[0],oe=Z[1];$.strokeWidth>0&&(d.lineWidth=$.strokeWidth,d.strokeStyle=oe,d.lineJoin="round"),d.fillStyle=ne,$.strokeWidth>0&&d.strokeText($.text,u+V,g+$.vadjust),d.fillText($.text,u+V,g+$.vadjust),V+=$.width}g+=F.height}}}},{key:"_setAlignment",value:function(d,u,g,M){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){u=0,g=0;"top"===this.fontOptions.align?(d.textBaseline="alphabetic",g-=4):"bottom"===this.fontOptions.align?(d.textBaseline="hanging",g+=4):d.textBaseline="middle"}else d.textBaseline=M;return[u,g]}},{key:"_getColor",value:function(d,u,g){var M=d||"#000000",h=g||"#ffffff";if(u<=this.elementOptions.scaling.label.drawThreshold){var f=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-u)));M=w.overrideOpacity(M,f),h=w.overrideOpacity(h,f)}return[M,h]}},{key:"getTextSize",value:function(d){return this._processLabel(d,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var u=this.size.left,g=this.size.top-1;if(this.isEdgeLabel){var M=.5*-this.size.width;switch(this.fontOptions.align){case"middle":u=M,g=.5*-this.size.height;break;case"top":u=M,g=-(this.size.height+2);break;case"bottom":u=M,g=2}}return{left:u,top:g,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(d,u,g){var M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(d,u,g),this.size.left=M-.5*this.size.width,this.size.top=h-.5*this.size.height,this.size.yLine=h+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===f&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(d,u,g,M){var h=function(F,V,j){return"normal"===V?"mod"===j?"":F[j]:void 0!==F[V][j]?F[V][j]:F[j]},f={color:h(this.fontOptions,M,"color"),size:h(this.fontOptions,M,"size"),face:h(this.fontOptions,M,"face"),mod:h(this.fontOptions,M,"mod"),vadjust:h(this.fontOptions,M,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(u||g)&&("normal"===M&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?f.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(f,this.elementOptions.id,u,g));var _="";return void 0!==f.mod&&""!==f.mod&&(_+=f.mod+" "),d.font=(_+=f.size+"px "+f.face).replace(/"/g,""),f.font=d.font,f.height=f.size,f}},{key:"differentState",value:function(d,u){return d!==this.selectedState||u!==this.hoverState}},{key:"_processLabelText",value:function(d,u,g,M){return new m(d,this,u,g).process(M)}},{key:"_processLabel",value:function(d,u,g){if(!1!==this.labelDirty||this.differentState(u,g)){var M=this._processLabelText(d,u,g,this.elementOptions.label);this.fontOptions.minWdt>0&&M.width<this.fontOptions.minWdt&&(M.width=this.fontOptions.minWdt),this.size.labelHeight=M.height,this.fontOptions.minHgt>0&&M.height<this.fontOptions.minHgt&&(M.height=this.fontOptions.minHgt),this.lines=M.lines,this.lineCount=M.lines.length,this.size.width=M.width,this.size.height=M.height,this.selectedState=u,this.hoverState=g,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(d,u){if(!u||"string"!=typeof u)return!1;var g=u.split(" ");return d.size=g[0].replace("px",""),d.face=g[1],d.color=g[2],!0}}]),a}();L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=x(E(30)),D=x(E(0)),A=x(E(1));function x(v){return v&&v.__esModule?v:{default:v}}var O=E(2),b=E(119).default,w=function(){function v(m,c,T){(0,D.default)(this,v),this.body=c,this.labelModule=T,this.options={},this.setOptions(m),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,A.default)(v,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(c){this.options=c,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(c,T,a,p,d){c.strokeStyle=this.getColor(c,T,a,p),c.lineWidth=T.width,!1!==T.dashes?this._drawDashedLine(c,T,d):this._drawLine(c,T,d)}},{key:"_drawLine",value:function(c,T,a,p,d){if(this.from!=this.to)this._line(c,T,a,p,d);else{var u=this._getCircleData(c),g=(0,y.default)(u,3);this._circle(c,T,g[0],g[1],g[2])}}},{key:"_drawDashedLine",value:function(c,T,a,p,d){c.lineCap="round";var u=[5,5];if(!0===Array.isArray(T.dashes)&&(u=T.dashes),void 0!==c.setLineDash){if(c.save(),c.setLineDash(u),c.lineDashOffset=0,this.from!=this.to)this._line(c,T,a);else{var g=this._getCircleData(c),M=(0,y.default)(g,3);this._circle(c,T,M[0],M[1],M[2])}c.setLineDash([0]),c.lineDashOffset=0,c.restore()}else{if(this.from!=this.to)c.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,u);else{var I=this._getCircleData(c),F=(0,y.default)(I,3);this._circle(c,T,F[0],F[1],F[2])}this.enableShadow(c,T),c.stroke(),this.disableShadow(c,T)}}},{key:"findBorderPosition",value:function(c,T,a){return this.from!=this.to?this._findBorderPosition(c,T,a):this._findBorderPositionCircle(c,T,a)}},{key:"findBorderPositions",value:function(c){var T={},a={};if(this.from!=this.to)T=this._findBorderPosition(this.from,c),a=this._findBorderPosition(this.to,c);else{var p=this._getCircleData(c).slice(0,2),d=(0,y.default)(p,2),u=d[0],g=d[1];T=this._findBorderPositionCircle(this.from,c,{x:u,y:g,low:.25,high:.6,direction:-1}),a=this._findBorderPositionCircle(this.from,c,{x:u,y:g,low:.6,high:.8,direction:1})}return{from:T,to:a}}},{key:"_getCircleData",value:function(c){var T=void 0,a=void 0,p=this.from,d=this.options.selfReferenceSize;return void 0!==c&&void 0===p.shape.width&&p.shape.resize(c),p.shape.width>p.shape.height?(T=p.x+.5*p.shape.width,a=p.y-d):(T=p.x+d,a=p.y-.5*p.shape.height),[T,a,d]}},{key:"_pointOnCircle",value:function(c,T,a,p){var d=2*p*Math.PI;return{x:c+a*Math.cos(d),y:T-a*Math.sin(d)}}},{key:"_findBorderPositionCircle",value:function(c,T,a){for(var p=a.x,d=a.y,u=a.low,g=a.high,M=a.direction,f=0,_=this.options.selfReferenceSize,I=void 0,F=void 0,$=void 0,Z=.5*(u+g);u<=g&&f<10&&(I=this._pointOnCircle(p,d,_,Z=.5*(u+g)),F=Math.atan2(c.y-I.y,c.x-I.x),$=c.distanceToBorder(T,F)-Math.sqrt(Math.pow(I.x-c.x,2)+Math.pow(I.y-c.y,2)),!(Math.abs($)<.05));)$>0?M>0?u=Z:g=Z:M>0?g=Z:u=Z,f++;return I.t=Z,I}},{key:"getLineWidth",value:function(c,T){return!0===c?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===T?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(c,T,a,p){if(!1!==T.inheritsColor){if("both"===T.inheritsColor&&this.from.id!==this.to.id){var d=c.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),u=void 0,g=void 0;return u=this.from.options.color.highlight.border,g=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(u=O.overrideOpacity(this.from.options.color.border,T.opacity),g=O.overrideOpacity(this.to.options.color.border,T.opacity)):!0===this.from.selected&&!1===this.to.selected?g=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(u=this.from.options.color.border),d.addColorStop(0,u),d.addColorStop(1,g),d}return O.overrideOpacity("to"===T.inheritsColor?this.to.options.color.border:this.from.options.color.border,T.opacity)}return O.overrideOpacity(T.color,T.opacity)}},{key:"_circle",value:function(c,T,a,p,d){this.enableShadow(c,T),c.beginPath(),c.arc(a,p,d,0,2*Math.PI,!1),c.stroke(),this.disableShadow(c,T)}},{key:"getDistanceToEdge",value:function(c,T,a,p,d,u,g,M){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(c,T,a,p,d,u,g);else{var f=this._getCircleData(void 0),_=(0,y.default)(f,3),V=_[2],j=_[0]-d,$=_[1]-u;h=Math.abs(Math.sqrt(j*j+$*$)-V)}return h}},{key:"_getDistanceToLine",value:function(c,T,a,p,d,u){var g=a-c,M=p-T,f=((d-c)*g+(u-T)*M)/(g*g+M*M);f>1?f=1:f<0&&(f=0);var F=c+f*g-d,V=T+f*M-u;return Math.sqrt(F*F+V*V)}},{key:"getArrowData",value:function(c,T,a,p,d,u){var g=void 0,M=void 0,h=void 0,f=void 0,_=void 0,I=void 0,F=void 0,V=u.width;if("from"===T?(h=this.from,f=this.to,_=.1,I=u.fromArrowScale,F=u.fromArrowType):"to"===T?(h=this.to,f=this.from,_=-.1,I=u.toArrowScale,F=u.toArrowType):(h=this.to,f=this.from,I=u.middleArrowScale,F=u.middleArrowType),h!=f)if("middle"!==T)if(!0===this.options.smooth.enabled){M=this.findBorderPosition(h,c,{via:a});var j=this.getPoint(Math.max(0,Math.min(1,M.t+_)),a);g=Math.atan2(M.y-j.y,M.x-j.x)}else g=Math.atan2(h.y-f.y,h.x-f.x),M=this.findBorderPosition(h,c);else g=Math.atan2(h.y-f.y,h.x-f.x),M=this.getPoint(.5,a);else{var $=this._getCircleData(c),G=(0,y.default)($,3),Z=G[0],ne=G[1],oe=G[2];"from"===T?g=-2*(M=this.findBorderPosition(this.from,c,{x:Z,y:ne,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===T?g=-2*(M=this.findBorderPosition(this.from,c,{x:Z,y:ne,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(M=this._pointOnCircle(Z,ne,oe,.175),g=3.9269908169872414)}"middle"===T&&I<0&&(V*=-1);var le=15*I+3*V;return{point:M,core:{x:M.x-.9*le*Math.cos(g),y:M.y-.9*le*Math.sin(g)},angle:g,length:le,type:F}}},{key:"drawArrowHead",value:function(c,T,a,p,d){c.strokeStyle=this.getColor(c,T,a,p),c.fillStyle=c.strokeStyle,c.lineWidth=T.width,b.draw(c,d),this.enableShadow(c,T),c.fill(),this.disableShadow(c,T)}},{key:"enableShadow",value:function(c,T){!0===T.shadow&&(c.shadowColor=T.shadowColor,c.shadowBlur=T.shadowSize,c.shadowOffsetX=T.shadowX,c.shadowOffsetY=T.shadowY)}},{key:"disableShadow",value:function(c,T){!0===T.shadow&&(c.shadowColor="rgba(0,0,0,0)",c.shadowBlur=0,c.shadowOffsetX=0,c.shadowOffsetY=0)}}]),v}();L.default=w},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=v(E(3)),D=v(E(4)),A=v(E(5)),O=v(E(0)),w=v(E(1));function v(d){return d&&d.__esModule?d:{default:d}}var m=function(){function d(){(0,O.default)(this,d)}return(0,w.default)(d,null,[{key:"transform",value:function(g,M){g instanceof Array||(g=[g]);for(var h=M.point.x,f=M.point.y,_=M.angle,I=M.length,F=0;F<g.length;++F){var V=g[F],j=V.x*Math.cos(_)-V.y*Math.sin(_),$=V.x*Math.sin(_)+V.y*Math.cos(_);V.x=h+I*j,V.y=f+I*$}}},{key:"drawPath",value:function(g,M){g.beginPath(),g.moveTo(M[0].x,M[0].y);for(var h=1;h<M.length;++h)g.lineTo(M[h].x,M[h].y);g.closePath()}}]),d}(),c=function(d){function u(){return(0,O.default)(this,u),(0,D.default)(this,(u.__proto__||(0,y.default)(u)).apply(this,arguments))}return(0,A.default)(u,d),(0,w.default)(u,null,[{key:"draw",value:function(M,h){var f=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];m.transform(f,h),m.drawPath(M,f)}}]),u}(m),T=function(){function d(){(0,O.default)(this,d)}return(0,w.default)(d,null,[{key:"draw",value:function(g,M){var h={x:-.4,y:0};m.transform(h,M),g.circle(h.x,h.y,.4*M.length)}}]),d}(),a=function(){function d(){(0,O.default)(this,d)}return(0,w.default)(d,null,[{key:"draw",value:function(g,M){var h=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];m.transform(h,M),m.drawPath(g,h)}}]),d}(),p=function(){function d(){(0,O.default)(this,d)}return(0,w.default)(d,null,[{key:"draw",value:function(g,M){var h;switch(M.type&&(h=M.type.toLowerCase()),h){case"circle":T.draw(g,M);break;case"bar":a.draw(g,M);break;case"arrow":default:c.draw(g,M)}}}]),d}();L.default=p},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(O,b,w){(0,y.default)(this,x),this.body=O,this.physicsBody=b,this.setOptions(w),this.randomSeed=5}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var b=1e4*Math.sin(this.randomSeed++);return b-Math.floor(b)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var b=void 0,w=this.body.nodes,v=this.physicsBody.physicsNodeIndices,m=v.length,c=this._formBarnesHutTree(w,v);this.barnesHutTree=c;for(var T=0;T<m;T++)(b=w[v[T]]).options.mass>0&&this._getForceContributions(c.root,b)}}},{key:"_getForceContributions",value:function(b,w){this._getForceContribution(b.children.NW,w),this._getForceContribution(b.children.NE,w),this._getForceContribution(b.children.SW,w),this._getForceContribution(b.children.SE,w)}},{key:"_getForceContribution",value:function(b,w){if(b.childrenCount>0){var v,m,c;v=b.centerOfMass.x-w.x,m=b.centerOfMass.y-w.y,(c=Math.sqrt(v*v+m*m))*b.calcSize>this.thetaInversed?this._calculateForces(c,v,m,w,b):4===b.childrenCount?this._getForceContributions(b,w):b.children.data.id!=w.id&&this._calculateForces(c,v,m,w,b)}}},{key:"_calculateForces",value:function(b,w,v,m,c){0===b&&(w=b=.1),this.overlapAvoidanceFactor<1&&m.shape.radius&&(b=Math.max(.1+this.overlapAvoidanceFactor*m.shape.radius,b-m.shape.radius));var T=this.options.gravitationalConstant*c.mass*m.options.mass/Math.pow(b,3),p=v*T;this.physicsBody.forces[m.id].x+=w*T,this.physicsBody.forces[m.id].y+=p}},{key:"_formBarnesHutTree",value:function(b,w){for(var v=void 0,m=w.length,c=b[w[0]].x,T=b[w[0]].y,a=b[w[0]].x,p=b[w[0]].y,d=1;d<m;d++){var u=b[w[d]],g=u.x,M=u.y;u.options.mass>0&&(g<c&&(c=g),g>a&&(a=g),M<T&&(T=M),M>p&&(p=M))}var h=Math.abs(a-c)-Math.abs(p-T);h>0?(T-=.5*h,p+=.5*h):(c+=.5*h,a-=.5*h);var _=Math.max(1e-5,Math.abs(a-c)),I=.5*_,F=.5*(c+a),V=.5*(T+p),j={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:F-I,maxX:F+I,minY:V-I,maxY:V+I},size:_,calcSize:1/_,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(j.root);for(var $=0;$<m;$++)(v=b[w[$]]).options.mass>0&&this._placeInTree(j.root,v);return j}},{key:"_updateBranchMass",value:function(b,w){var v=b.centerOfMass,m=b.mass+w.options.mass,c=1/m;v.x=v.x*b.mass+w.x*w.options.mass,v.x*=c,v.y=v.y*b.mass+w.y*w.options.mass,v.y*=c,b.mass=m;var T=Math.max(Math.max(w.height,w.radius),w.width);b.maxWidth=b.maxWidth<T?T:b.maxWidth}},{key:"_placeInTree",value:function(b,w,v){(1!=v||void 0===v)&&this._updateBranchMass(b,w);var m=b.children.NW.range;this._placeInRegion(b,w,m.maxX>w.x?m.maxY>w.y?"NW":"SW":m.maxY>w.y?"NE":"SE")}},{key:"_placeInRegion",value:function(b,w,v){var m=b.children[v];switch(m.childrenCount){case 0:m.children.data=w,m.childrenCount=1,this._updateBranchMass(m,w);break;case 1:m.children.data.x===w.x&&m.children.data.y===w.y?(w.x+=this.seededRandom(),w.y+=this.seededRandom()):(this._splitBranch(m),this._placeInTree(m,w));break;case 4:this._placeInTree(m,w)}}},{key:"_splitBranch",value:function(b){var w=null;1===b.childrenCount&&(w=b.children.data,b.mass=0,b.centerOfMass.x=0,b.centerOfMass.y=0),b.childrenCount=4,b.children.data=null,this._insertRegion(b,"NW"),this._insertRegion(b,"NE"),this._insertRegion(b,"SW"),this._insertRegion(b,"SE"),null!=w&&this._placeInTree(b,w)}},{key:"_insertRegion",value:function(b,w){var v=void 0,m=void 0,c=void 0,T=void 0,a=.5*b.size;switch(w){case"NW":v=b.range.minX,m=b.range.minX+a,c=b.range.minY,T=b.range.minY+a;break;case"NE":v=b.range.minX+a,m=b.range.maxX,c=b.range.minY,T=b.range.minY+a;break;case"SW":v=b.range.minX,m=b.range.minX+a,c=b.range.minY+a,T=b.range.maxY;break;case"SE":v=b.range.minX+a,m=b.range.maxX,c=b.range.minY+a,T=b.range.maxY}b.children[w]={centerOfMass:{x:0,y:0},mass:0,range:{minX:v,maxX:m,minY:c,maxY:T},size:.5*b.size,calcSize:2*b.calcSize,children:{data:null},maxWidth:0,level:b.level+1,childrenCount:0}}},{key:"_debug",value:function(b,w){void 0!==this.barnesHutTree&&(b.lineWidth=1,this._drawBranch(this.barnesHutTree.root,b,w))}},{key:"_drawBranch",value:function(b,w,v){void 0===v&&(v="#FF0000"),4===b.childrenCount&&(this._drawBranch(b.children.NW,w),this._drawBranch(b.children.NE,w),this._drawBranch(b.children.SE,w),this._drawBranch(b.children.SW,w)),w.strokeStyle=v,w.beginPath(),w.moveTo(b.range.minX,b.range.minY),w.lineTo(b.range.maxX,b.range.minY),w.stroke(),w.beginPath(),w.moveTo(b.range.maxX,b.range.minY),w.lineTo(b.range.maxX,b.range.maxY),w.stroke(),w.beginPath(),w.moveTo(b.range.maxX,b.range.maxY),w.lineTo(b.range.minX,b.range.maxY),w.stroke(),w.beginPath(),w.moveTo(b.range.minX,b.range.maxY),w.lineTo(b.range.minX,b.range.minY),w.stroke()}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(O,b,w){(0,y.default)(this,x),this.body=O,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b=void 0,w=void 0,v=void 0,m=void 0,c=this.body.nodes,T=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,p=0;p<T.length;p++)b=-(m=c[T[p]]).x,w=-m.y,v=Math.sqrt(b*b+w*w),this._calculateForces(v,b,w,a,m)}},{key:"_calculateForces",value:function(b,w,v,m,c){var T=0===b?0:this.options.centralGravity/b;m[c.id].x=w*T,m[c.id].y=v*T}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",D="array",k="object",O=["arrow","circle","bar"],b={configure:{enabled:{boolean:y},filter:{boolean:y,string:P,array:D,function:"function"},container:{dom:"dom"},showButton:{boolean:y},__type__:{object:k,boolean:y,string:P,array:D,function:"function"}},edges:{arrows:{to:{enabled:{boolean:y},scaleFactor:{number:S},type:{string:O},__type__:{object:k,boolean:y}},middle:{enabled:{boolean:y},scaleFactor:{number:S},type:{string:O},__type__:{object:k,boolean:y}},from:{enabled:{boolean:y},scaleFactor:{number:S},type:{string:O},__type__:{object:k,boolean:y}},__type__:{string:["from","to","middle"],object:k}},arrowStrikethrough:{boolean:y},chosen:{label:{boolean:y,function:"function"},edge:{boolean:y,function:"function"},__type__:{object:k,boolean:y}},color:{color:{string:P},highlight:{string:P},hover:{string:P},inherit:{string:["from","to","both"],boolean:y},opacity:{number:S},__type__:{object:k,string:P}},dashes:{boolean:y,array:D},font:{color:{string:P},size:{number:S},face:{string:P},background:{string:P},strokeWidth:{number:S},strokeColor:{string:P},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:S},multi:{boolean:y,string:P},bold:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},boldital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},ital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},mono:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},__type__:{object:k,string:P}},hidden:{boolean:y},hoverWidth:{function:"function",number:S},label:{string:P,undefined:"undefined"},labelHighlightBold:{boolean:y},length:{number:S,undefined:"undefined"},physics:{boolean:y},scaling:{min:{number:S},max:{number:S},label:{enabled:{boolean:y},min:{number:S},max:{number:S},maxVisible:{number:S},drawThreshold:{number:S},__type__:{object:k,boolean:y}},customScalingFunction:{function:"function"},__type__:{object:k}},selectionWidth:{function:"function",number:S},selfReferenceSize:{number:S},shadow:{enabled:{boolean:y},color:{string:P},size:{number:S},x:{number:S},y:{number:S},__type__:{object:k,boolean:y}},smooth:{enabled:{boolean:y},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:S},forceDirection:{string:["horizontal","vertical","none"],boolean:y},__type__:{object:k,boolean:y}},title:{string:P,undefined:"undefined"},width:{number:S},widthConstraint:{maximum:{number:S},__type__:{object:k,boolean:y,number:S}},value:{number:S,undefined:"undefined"},__type__:{object:k}},groups:{useDefaultGroups:{boolean:y},__any__:"get from nodes, will be overwritten below",__type__:{object:k}},interaction:{dragNodes:{boolean:y},dragView:{boolean:y},hideEdgesOnDrag:{boolean:y},hideNodesOnDrag:{boolean:y},hover:{boolean:y},keyboard:{enabled:{boolean:y},speed:{x:{number:S},y:{number:S},zoom:{number:S},__type__:{object:k}},bindToWindow:{boolean:y},__type__:{object:k,boolean:y}},multiselect:{boolean:y},navigationButtons:{boolean:y},selectable:{boolean:y},selectConnectedEdges:{boolean:y},hoverConnectedEdges:{boolean:y},tooltipDelay:{number:S},zoomView:{boolean:y},__type__:{object:k}},layout:{randomSeed:{undefined:"undefined",number:S},improvedLayout:{boolean:y},hierarchical:{enabled:{boolean:y},levelSeparation:{number:S},nodeSpacing:{number:S},treeSpacing:{number:S},blockShifting:{boolean:y},edgeMinimization:{boolean:y},parentCentralization:{boolean:y},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:k,boolean:y}},__type__:{object:k}},manipulation:{enabled:{boolean:y},initiallyActive:{boolean:y},addNode:{boolean:y,function:"function"},addEdge:{boolean:y,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:k,boolean:y,function:"function"}},deleteNode:{boolean:y,function:"function"},deleteEdge:{boolean:y,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:k,boolean:y}},nodes:{borderWidth:{number:S},borderWidthSelected:{number:S,undefined:"undefined"},brokenImage:{string:P,undefined:"undefined"},chosen:{label:{boolean:y,function:"function"},node:{boolean:y,function:"function"},__type__:{object:k,boolean:y}},color:{border:{string:P},background:{string:P},highlight:{border:{string:P},background:{string:P},__type__:{object:k,string:P}},hover:{border:{string:P},background:{string:P},__type__:{object:k,string:P}},__type__:{object:k,string:P}},fixed:{x:{boolean:y},y:{boolean:y},__type__:{object:k,boolean:y}},font:{align:{string:P},color:{string:P},size:{number:S},face:{string:P},background:{string:P},strokeWidth:{number:S},strokeColor:{string:P},vadjust:{number:S},multi:{boolean:y,string:P},bold:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},boldital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},ital:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},mono:{color:{string:P},size:{number:S},face:{string:P},mod:{string:P},vadjust:{number:S},__type__:{object:k,string:P}},__type__:{object:k,string:P}},group:{string:P,number:S,undefined:"undefined"},heightConstraint:{minimum:{number:S},valign:{string:P},__type__:{object:k,boolean:y,number:S}},hidden:{boolean:y},icon:{face:{string:P},code:{string:P},size:{number:S},color:{string:P},__type__:{object:k}},id:{string:P,number:S},image:{selected:{string:P,undefined:"undefined"},unselected:{string:P,undefined:"undefined"},__type__:{object:k,string:P}},label:{string:P,undefined:"undefined"},labelHighlightBold:{boolean:y},level:{number:S,undefined:"undefined"},margin:{top:{number:S},right:{number:S},bottom:{number:S},left:{number:S},__type__:{object:k,number:S}},mass:{number:S},physics:{boolean:y},scaling:{min:{number:S},max:{number:S},label:{enabled:{boolean:y},min:{number:S},max:{number:S},maxVisible:{number:S},drawThreshold:{number:S},__type__:{object:k,boolean:y}},customScalingFunction:{function:"function"},__type__:{object:k}},shadow:{enabled:{boolean:y},color:{string:P},size:{number:S},x:{number:S},y:{number:S},__type__:{object:k,boolean:y}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:y,array:D},borderRadius:{number:S},interpolation:{boolean:y},useImageSize:{boolean:y},useBorderWithImage:{boolean:y},__type__:{object:k}},size:{number:S},title:{string:P,dom:"dom",undefined:"undefined"},value:{number:S,undefined:"undefined"},widthConstraint:{minimum:{number:S},maximum:{number:S},__type__:{object:k,boolean:y,number:S}},x:{number:S},y:{number:S},__type__:{object:k}},physics:{enabled:{boolean:y},barnesHut:{gravitationalConstant:{number:S},centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},damping:{number:S},avoidOverlap:{number:S},__type__:{object:k}},forceAtlas2Based:{gravitationalConstant:{number:S},centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},damping:{number:S},avoidOverlap:{number:S},__type__:{object:k}},repulsion:{centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},nodeDistance:{number:S},damping:{number:S},__type__:{object:k}},hierarchicalRepulsion:{centralGravity:{number:S},springLength:{number:S},springConstant:{number:S},nodeDistance:{number:S},damping:{number:S},__type__:{object:k}},maxVelocity:{number:S},minVelocity:{number:S},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:y},iterations:{number:S},updateInterval:{number:S},onlyDynamicEdges:{boolean:y},fit:{boolean:y},__type__:{object:k,boolean:y}},timestep:{number:S},adaptiveTimestep:{boolean:y},__type__:{object:k,boolean:y}},autoResize:{boolean:y},clickToUse:{boolean:y},locale:{string:P},locales:{__any__:{any:"any"},__type__:{object:k}},height:{string:P},width:{string:P},__type__:{object:k}};b.groups.__any__=b.nodes,b.manipulation.controlNodeStyle=b.nodes;L.allOptions=b,L.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(J,L,E){var P=E(2);P.extend(L,E(159)),P.extend(L,E(177)),P.extend(L,E(181))},function(J,L,E){E(49),E(60),J.exports=E(136)},function(J,L,E){var P=E(126),y=E(127),S=E(31),D=E(25);J.exports=E(79)(Array,"Array",function(k,A){this._t=D(k),this._i=0,this._k=A},function(){var k=this._t,A=this._k,x=this._i++;return!k||x>=k.length?(this._t=void 0,y(1)):y(0,"keys"==A?x:"values"==A?k[x]:[x,k[x]])},"values"),S.Arguments=S.Array,P("keys"),P("values"),P("entries")},function(J,L){J.exports=function(){}},function(J,L){J.exports=function(E,P){return{value:P,done:!!E}}},function(J,L){J.exports=function(E){if("function"!=typeof E)throw TypeError(E+" is not a function!");return E}},function(J,L,E){var P=E(54),y=E(39),S=E(59),D={};E(26)(D,E(13)("iterator"),function(){return this}),J.exports=function(k,A,x){k.prototype=P(D,{next:y(1,x)}),S(k,A+" Iterator")}},function(J,L,E){var P=E(20),y=E(27),S=E(33);J.exports=E(21)?Object.defineProperties:function(k,A){y(k);for(var w,x=S(A),O=x.length,b=0;O>b;)P.f(k,w=x[b++],A[w]);return k}},function(J,L,E){var P=E(25),y=E(132),S=E(133);J.exports=function(D){return function(k,A,x){var v,O=P(k),b=y(O.length),w=S(x,b);if(D&&A!=A){for(;b>w;)if((v=O[w++])!=v)return!0}else for(;b>w;w++)if((D||w in O)&&O[w]===A)return D||w||0;return!D&&-1}}},function(J,L,E){var P=E(55),y=Math.min;J.exports=function(S){return S>0?y(P(S),9007199254740991):0}},function(J,L,E){var P=E(55),y=Math.max,S=Math.min;J.exports=function(D,k){return(D=P(D))<0?y(D+k,0):S(D,k)}},function(J,L,E){var P=E(18).document;J.exports=P&&P.documentElement},function(J,L,E){var P=E(55),y=E(51);J.exports=function(S){return function(D,k){var b,w,A=String(y(D)),x=P(k),O=A.length;return x<0||x>=O?S?"":void 0:(b=A.charCodeAt(x))<55296||b>56319||x+1===O||(w=A.charCodeAt(x+1))<56320||w>57343?S?A.charAt(x):b:S?A.slice(x,x+2):w-56320+(b-55296<<10)+65536}}},function(J,L,E){var P=E(27),y=E(137);J.exports=E(7).getIterator=function(S){var D=y(S);if("function"!=typeof D)throw TypeError(S+" is not iterable!");return P(D.call(S))}},function(J,L,E){var P=E(86),y=E(13)("iterator"),S=E(31);J.exports=E(7).getIteratorMethod=function(D){if(null!=D)return D[y]||D["@@iterator"]||S[P(D)]}},function(J,L,E){E(139);var P=E(7).Object;J.exports=function(S,D){return P.create(S,D)}},function(J,L,E){var P=E(17);P(P.S,"Object",{create:E(54)})},function(J,L,E){E(141),J.exports=E(7).Object.keys},function(J,L,E){var P=E(41),y=E(33);E(87)("keys",function(){return function(D){return y(P(D))}})},function(J,L,E){J.exports={default:E(143),__esModule:!0}},function(J,L,E){E(60),E(49),J.exports=E(61).f("iterator")},function(J,L,E){J.exports={default:E(145),__esModule:!0}},function(J,L,E){E(146),E(151),E(152),E(153),J.exports=E(7).Symbol},function(J,L,E){var P=E(18),y=E(22),S=E(21),D=E(17),k=E(83),A=E(147).KEY,x=E(28),O=E(57),b=E(59),w=E(40),v=E(13),m=E(61),c=E(62),T=E(148),a=E(149),p=E(27),d=E(25),u=E(53),g=E(39),M=E(54),h=E(150),f=E(89),_=E(20),I=E(33),F=f.f,V=_.f,j=h.f,$=P.Symbol,G=P.JSON,Z=G&&G.stringify,ne="prototype",oe=v("_hidden"),le=v("toPrimitive"),pe={}.propertyIsEnumerable,_e=O("symbol-registry"),we=O("symbols"),Ee=O("op-symbols"),ge=Object[ne],ue="function"==typeof $,ce=P.QObject,Ce=!ce||!ce[ne]||!ce[ne].findChild,ke=S&&x(function(){return 7!=M(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a})?function(Ye,Re,Ve){var nt=F(ge,Re);nt&&delete ge[Re],V(Ye,Re,Ve),nt&&Ye!==ge&&V(ge,Re,nt)}:V,Ie=function(Ye){var Re=we[Ye]=M($[ne]);return Re._k=Ye,Re},xe=ue&&"symbol"==typeof $.iterator?function(Ye){return"symbol"==typeof Ye}:function(Ye){return Ye instanceof $},Be=function(Re,Ve,nt){return Re===ge&&Be(Ee,Ve,nt),p(Re),Ve=u(Ve,!0),p(nt),y(we,Ve)?(nt.enumerable?(y(Re,oe)&&Re[oe][Ve]&&(Re[oe][Ve]=!1),nt=M(nt,{enumerable:g(0,!1)})):(y(Re,oe)||V(Re,oe,g(1,{})),Re[oe][Ve]=!0),ke(Re,Ve,nt)):V(Re,Ve,nt)},ze=function(Re,Ve){p(Re);for(var $e,nt=T(Ve=d(Ve)),St=0,$t=nt.length;$t>St;)Be(Re,$e=nt[St++],Ve[$e]);return Re},nn=function(Re){var Ve=pe.call(this,Re=u(Re,!0));return!(this===ge&&y(we,Re)&&!y(Ee,Re))&&(!(Ve||!y(this,Re)||!y(we,Re)||y(this,oe)&&this[oe][Re])||Ve)},cn=function(Re,Ve){if(Re=d(Re),Ve=u(Ve,!0),Re!==ge||!y(we,Ve)||y(Ee,Ve)){var nt=F(Re,Ve);return nt&&y(we,Ve)&&!(y(Re,oe)&&Re[oe][Ve])&&(nt.enumerable=!0),nt}},at=function(Re){for(var $t,Ve=j(d(Re)),nt=[],St=0;Ve.length>St;)!y(we,$t=Ve[St++])&&$t!=oe&&$t!=A&&nt.push($t);return nt},Dt=function(Re){for(var $e,Ve=Re===ge,nt=j(Ve?Ee:d(Re)),St=[],$t=0;nt.length>$t;)y(we,$e=nt[$t++])&&(!Ve||y(ge,$e))&&St.push(we[$e]);return St};ue||(k(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var Re=w(arguments.length>0?arguments[0]:void 0),Ve=function(nt){this===ge&&Ve.call(Ee,nt),y(this,oe)&&y(this[oe],Re)&&(this[oe][Re]=!1),ke(this,Re,g(1,nt))};return S&&Ce&&ke(ge,Re,{configurable:!0,set:Ve}),Ie(Re)})[ne],"toString",function(){return this._k}),f.f=cn,_.f=Be,E(88).f=h.f=at,E(42).f=nn,E(63).f=Dt,S&&!E(52)&&k(ge,"propertyIsEnumerable",nn,!0),m.f=function(Ye){return Ie(v(Ye))}),D(D.G+D.W+D.F*!ue,{Symbol:$});for(var Jt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),sn=0;Jt.length>sn;)v(Jt[sn++]);for(var mn=I(v.store),Zt=0;mn.length>Zt;)c(mn[Zt++]);D(D.S+D.F*!ue,"Symbol",{for:function(Ye){return y(_e,Ye+="")?_e[Ye]:_e[Ye]=$(Ye)},keyFor:function(Re){if(!xe(Re))throw TypeError(Re+" is not a symbol!");for(var Ve in _e)if(_e[Ve]===Re)return Ve},useSetter:function(){Ce=!0},useSimple:function(){Ce=!1}}),D(D.S+D.F*!ue,"Object",{create:function(Re,Ve){return void 0===Ve?M(Re):ze(M(Re),Ve)},defineProperty:Be,defineProperties:ze,getOwnPropertyDescriptor:cn,getOwnPropertyNames:at,getOwnPropertySymbols:Dt}),G&&D(D.S+D.F*(!ue||x(function(){var Ye=$();return"[null]"!=Z([Ye])||"{}"!=Z({a:Ye})||"{}"!=Z(Object(Ye))})),"JSON",{stringify:function(Re){if(void 0!==Re&&!xe(Re)){for(var St,$t,Ve=[Re],nt=1;arguments.length>nt;)Ve.push(arguments[nt++]);return"function"==typeof(St=Ve[1])&&($t=St),($t||!a(St))&&(St=function($e,wn){if($t&&(wn=$t.call(this,$e,wn)),!xe(wn))return wn}),Ve[1]=St,Z.apply(G,Ve)}}}),$[ne][le]||E(26)($[ne],le,$[ne].valueOf),b($,"Symbol"),b(Math,"Math",!0),b(P.JSON,"JSON",!0)},function(J,L,E){var P=E(40)("meta"),y=E(32),S=E(22),D=E(20).f,k=0,A=Object.isExtensible||function(){return!0},x=!E(28)(function(){return A(Object.preventExtensions({}))}),O=function(c){D(c,P,{value:{i:"O"+ ++k,w:{}}})},m=J.exports={KEY:P,NEED:!1,fastKey:function(c,T){if(!y(c))return"symbol"==typeof c?c:("string"==typeof c?"S":"P")+c;if(!S(c,P)){if(!A(c))return"F";if(!T)return"E";O(c)}return c[P].i},getWeak:function(c,T){if(!S(c,P)){if(!A(c))return!0;if(!T)return!1;O(c)}return c[P].w},onFreeze:function(c){return x&&m.NEED&&A(c)&&!S(c,P)&&O(c),c}}},function(J,L,E){var P=E(33),y=E(63),S=E(42);J.exports=function(D){var k=P(D),A=y.f;if(A)for(var w,x=A(D),O=S.f,b=0;x.length>b;)O.call(D,w=x[b++])&&k.push(w);return k}},function(J,L,E){var P=E(50);J.exports=Array.isArray||function(S){return"Array"==P(S)}},function(J,L,E){var P=E(25),y=E(88).f,S={}.toString,D="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];J.exports.f=function(x){return D&&"[object Window]"==S.call(x)?function(A){try{return y(A)}catch(x){return D.slice()}}(x):y(P(x))}},function(J,L){},function(J,L,E){E(62)("asyncIterator")},function(J,L,E){E(62)("observable")},function(J,L,E){(function(P){P.exports=function(){var S,u;function D(){return S.apply(null,arguments)}function A(R){return R instanceof Array||"[object Array]"===Object.prototype.toString.call(R)}function x(R){return null!=R&&"[object Object]"===Object.prototype.toString.call(R)}function b(R){return void 0===R}function w(R){return"number"==typeof R||"[object Number]"===Object.prototype.toString.call(R)}function v(R){return R instanceof Date||"[object Date]"===Object.prototype.toString.call(R)}function m(R,H){var ee,X=[];for(ee=0;ee<R.length;++ee)X.push(H(R[ee],ee));return X}function c(R,H){return Object.prototype.hasOwnProperty.call(R,H)}function T(R,H){for(var X in H)c(H,X)&&(R[X]=H[X]);return c(H,"toString")&&(R.toString=H.toString),c(H,"valueOf")&&(R.valueOf=H.valueOf),R}function a(R,H,X,ee){return bg(R,H,X,ee,!0).utc()}function d(R){return null==R._pf&&(R._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),R._pf}function g(R){if(null==R._isValid){var H=d(R),X=u.call(H.parsedDateParts,function(se){return null!=se}),ee=!isNaN(R._d.getTime())&&H.overflow<0&&!H.empty&&!H.invalidMonth&&!H.invalidWeekday&&!H.weekdayMismatch&&!H.nullInput&&!H.invalidFormat&&!H.userInvalidated&&(!H.meridiem||H.meridiem&&X);if(R._strict&&(ee=ee&&0===H.charsLeftOver&&0===H.unusedTokens.length&&void 0===H.bigHour),null!=Object.isFrozen&&Object.isFrozen(R))return ee;R._isValid=ee}return R._isValid}function M(R){var H=a(NaN);return null!=R?T(d(H),R):d(H).userInvalidated=!0,H}u=Array.prototype.some?Array.prototype.some:function(R){for(var H=Object(this),X=H.length>>>0,ee=0;ee<X;ee++)if(ee in H&&R.call(this,H[ee],ee,H))return!0;return!1};var h=D.momentProperties=[];function f(R,H){var X,ee,se;if(b(H._isAMomentObject)||(R._isAMomentObject=H._isAMomentObject),b(H._i)||(R._i=H._i),b(H._f)||(R._f=H._f),b(H._l)||(R._l=H._l),b(H._strict)||(R._strict=H._strict),b(H._tzm)||(R._tzm=H._tzm),b(H._isUTC)||(R._isUTC=H._isUTC),b(H._offset)||(R._offset=H._offset),b(H._pf)||(R._pf=d(H)),b(H._locale)||(R._locale=H._locale),h.length>0)for(X=0;X<h.length;X++)b(se=H[ee=h[X]])||(R[ee]=se);return R}var _=!1;function I(R){f(this,R),this._d=new Date(null!=R._d?R._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,D.updateOffset(this),_=!1)}function F(R){return R instanceof I||null!=R&&null!=R._isAMomentObject}function V(R){return R<0?Math.ceil(R)||0:Math.floor(R)}function j(R){var H=+R,X=0;return 0!==H&&isFinite(H)&&(X=V(H)),X}function $(R,H,X){var Se,ee=Math.min(R.length,H.length),se=Math.abs(R.length-H.length),me=0;for(Se=0;Se<ee;Se++)(X&&R[Se]!==H[Se]||!X&&j(R[Se])!==j(H[Se]))&&me++;return me+se}function G(R){!1===D.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+R)}function Z(R,H){var X=!0;return T(function(){if(null!=D.deprecationHandler&&D.deprecationHandler(null,R),X){for(var se,ee=[],me=0;me<arguments.length;me++){if(se="","object"==typeof arguments[me]){for(var Se in se+="\n["+me+"] ",arguments[0])se+=Se+": "+arguments[0][Se]+", ";se=se.slice(0,-2)}else se=arguments[me];ee.push(se)}G(R+"\nArguments: "+Array.prototype.slice.call(ee).join("")+"\n"+(new Error).stack),X=!1}return H.apply(this,arguments)},H)}var Ee,ne={};function oe(R,H){null!=D.deprecationHandler&&D.deprecationHandler(R,H),ne[R]||(G(H),ne[R]=!0)}function le(R){return R instanceof Function||"[object Function]"===Object.prototype.toString.call(R)}function _e(R,H){var ee,X=T({},R);for(ee in H)c(H,ee)&&(x(R[ee])&&x(H[ee])?(X[ee]={},T(X[ee],R[ee]),T(X[ee],H[ee])):null!=H[ee]?X[ee]=H[ee]:delete X[ee]);for(ee in R)c(R,ee)&&!c(H,ee)&&x(R[ee])&&(X[ee]=T({},X[ee]));return X}function we(R){null!=R&&this.set(R)}D.suppressDeprecationWarnings=!1,D.deprecationHandler=null,Ee=Object.keys?Object.keys:function(R){var H,X=[];for(H in R)c(R,H)&&X.push(H);return X};var at={};function Dt(R,H){var X=R.toLowerCase();at[X]=at[X+"s"]=at[H]=R}function Jt(R){return"string"==typeof R?at[R]||at[R.toLowerCase()]:void 0}function sn(R){var X,ee,H={};for(ee in R)c(R,ee)&&(X=Jt(ee))&&(H[X]=R[ee]);return H}var mn={};function Zt(R,H){mn[R]=H}function Re(R,H,X){var ee=""+Math.abs(R);return(R>=0?X?"+":"":"-")+Math.pow(10,Math.max(0,H-ee.length)).toString().substr(1)+ee}var Ve=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,St={},$t={};function $e(R,H,X,ee){var se=ee;"string"==typeof ee&&(se=function(){return this[ee]()}),R&&($t[R]=se),H&&($t[H[0]]=function(){return Re(se.apply(this,arguments),H[1],H[2])}),X&&($t[X]=function(){return this.localeData().ordinal(se.apply(this,arguments),R)})}function wn(R){return R.match(/\[[\s\S]/)?R.replace(/^\[|\]$/g,""):R.replace(/\\/g,"")}function Mo(R,H){return R.isValid()?(H=ko(H,R.localeData()),St[H]=St[H]||function(R){var X,ee,H=R.match(Ve);for(X=0,ee=H.length;X<ee;X++)H[X]=$t[H[X]]?$t[H[X]]:wn(H[X]);return function(se){var Se,me="";for(Se=0;Se<ee;Se++)me+=le(H[Se])?H[Se].call(se,R):H[Se];return me}}(H),St[H](R)):R.localeData().invalidDate()}function ko(R,H){var X=5;function ee(se){return H.longDateFormat(se)||se}for(nt.lastIndex=0;X>=0&&nt.test(R);)R=R.replace(nt,ee),nt.lastIndex=0,X-=1;return R}var ga=/\d/,ei=/\d\d/,ma=/\d{3}/,va=/\d{4}/,Oo=/[+-]?\d{6}/,rn=/\d\d?/,cl=/\d\d\d\d?/,fl=/\d\d\d\d\d\d?/,Mt=/\d{1,3}/,Js=/\d{1,4}/,ft=/[+-]?\d{1,6}/,Io=/\d+/,qs=/[+-]?\d+/,Yt=/Z|[+-]\d\d:?\d\d/gi,Qe=/Z|[+-]\d\d(?::?\d\d)?/gi,Ao=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Yi={};function Je(R,H,X){Yi[R]=le(H)?H:function(ee,se){return ee&&X?X:H}}function ya(R,H){return c(Yi,R)?Yi[R](H._strict,H._locale):new RegExp(function(R){return on(R.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(H,X,ee,se,me){return X||ee||se||me}))}(R))}function on(R){return R.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ba={};function an(R,H){var X,ee=H;for("string"==typeof R&&(R=[R]),w(H)&&(ee=function(se,me){me[H]=j(se)}),X=0;X<R.length;X++)ba[R[X]]=ee}function eo(R,H){an(R,function(X,ee,se,me){se._w=se._w||{},H(X,se._w,se,me)})}function ws(R,H,X){null!=H&&c(ba,R)&&ba[R](H,X._a,X,R)}function hr(R){return Qr(R)?366:365}function Qr(R){return R%4==0&&R%100!=0||R%400==0}$e("Y",0,0,function(){var R=this.year();return R<=9999?""+R:"+"+R}),$e(0,["YY",2],0,function(){return this.year()%100}),$e(0,["YYYY",4],0,"year"),$e(0,["YYYYY",5],0,"year"),$e(0,["YYYYYY",6,!0],0,"year"),Dt("year","y"),Zt("year",1),Je("Y",qs),Je("YY",rn,ei),Je("YYYY",Js,va),Je("YYYYY",ft,Oo),Je("YYYYYY",ft,Oo),an(["YYYYY","YYYYYY"],0),an("YYYY",function(R,H){H[0]=2===R.length?D.parseTwoDigitYear(R):j(R)}),an("YY",function(R,H){H[0]=D.parseTwoDigitYear(R)}),an("Y",function(R,H){H[0]=parseInt(R,10)}),D.parseTwoDigitYear=function(R){return j(R)+(j(R)>68?1900:2e3)};var Qt,to=Vn("FullYear",!0);function Vn(R,H){return function(X){return null!=X?(Po(this,R,X),D.updateOffset(this,H),this):Kt(this,R)}}function Kt(R,H){return R.isValid()?R._d["get"+(R._isUTC?"UTC":"")+H]():NaN}function Po(R,H,X){R.isValid()&&!isNaN(X)&&("FullYear"===H&&Qr(R.year())?R._d["set"+(R._isUTC?"UTC":"")+H](X,R.month(),pn(X,R.month())):R._d["set"+(R._isUTC?"UTC":"")+H](X))}function pn(R,H){if(isNaN(R)||isNaN(H))return NaN;var X=function(R,H){return(R%H+H)%H}(H,12);return R+=(H-X)/12,1===X?Qr(R)?29:28:31-X%7%2}Qt=Array.prototype.indexOf?Array.prototype.indexOf:function(R){var H;for(H=0;H<this.length;++H)if(this[H]===R)return H;return-1},$e("M",["MM",2],"Mo",function(){return this.month()+1}),$e("MMM",0,0,function(R){return this.localeData().monthsShort(this,R)}),$e("MMMM",0,0,function(R){return this.localeData().months(this,R)}),Dt("month","M"),Zt("month",8),Je("M",rn),Je("MM",rn,ei),Je("MMM",function(R,H){return H.monthsShortRegex(R)}),Je("MMMM",function(R,H){return H.monthsRegex(R)}),an(["M","MM"],function(R,H){H[1]=j(R)-1}),an(["MMM","MMMM"],function(R,H,X,ee){var se=X._locale.monthsParse(R,ee,X._strict);null!=se?H[1]=se:d(X).invalidMonth=R});var In=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qi="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ca="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function fi(R,H,X){var ee,se,me,Se=R.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ee=0;ee<12;++ee)me=a([2e3,ee]),this._shortMonthsParse[ee]=this.monthsShort(me,"").toLocaleLowerCase(),this._longMonthsParse[ee]=this.months(me,"").toLocaleLowerCase();return X?"MMM"===H?-1!==(se=Qt.call(this._shortMonthsParse,Se))?se:null:-1!==(se=Qt.call(this._longMonthsParse,Se))?se:null:"MMM"===H?-1!==(se=Qt.call(this._shortMonthsParse,Se))||-1!==(se=Qt.call(this._longMonthsParse,Se))?se:null:-1!==(se=Qt.call(this._longMonthsParse,Se))||-1!==(se=Qt.call(this._shortMonthsParse,Se))?se:null}function ro(R,H){var X;if(!R.isValid())return R;if("string"==typeof H)if(/^\d+$/.test(H))H=j(H);else if(!w(H=R.localeData().monthsParse(H)))return R;return X=Math.min(R.date(),pn(R.year(),H)),R._d["set"+(R._isUTC?"UTC":"")+"Month"](H,X),R}function Ro(R){return null!=R?(ro(this,R),D.updateOffset(this,!0),this):Kt(this,"Month")}var so=Ao;var pi=Ao;function bl(){function R(Se,Ct){return Ct.length-Se.length}var se,me,H=[],X=[],ee=[];for(se=0;se<12;se++)me=a([2e3,se]),H.push(this.monthsShort(me,"")),X.push(this.months(me,"")),ee.push(this.months(me,"")),ee.push(this.monthsShort(me,""));for(H.sort(R),X.sort(R),ee.sort(R),se=0;se<12;se++)H[se]=on(H[se]),X[se]=on(X[se]);for(se=0;se<24;se++)ee[se]=on(ee[se]);this._monthsRegex=new RegExp("^("+ee.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+H.join("|")+")","i")}function Xi(R,H,X,ee,se,me,Se){var Ct=new Date(R,H,X,ee,se,me,Se);return R<100&&R>=0&&isFinite(Ct.getFullYear())&&Ct.setFullYear(R),Ct}function Yn(R){var H=new Date(Date.UTC.apply(null,arguments));return R<100&&R>=0&&isFinite(H.getUTCFullYear())&&H.setUTCFullYear(R),H}function wa(R,H,X){var ee=7+H-X;return-(7+Yn(R,0,ee).getUTCDay()-H)%7+ee-1}function Xu(R,H,X,ee,se){var At,Gt,Ct=1+7*(H-1)+(7+X-ee)%7+wa(R,ee,se);return Ct<=0?Gt=hr(At=R-1)+Ct:Ct>hr(R)?(At=R+1,Gt=Ct-hr(R)):(At=R,Gt=Ct),{year:At,dayOfYear:Gt}}function te(R,H,X){var me,Se,ee=wa(R.year(),H,X),se=Math.floor((R.dayOfYear()-ee-1)/7)+1;return se<1?me=se+ie(Se=R.year()-1,H,X):se>ie(R.year(),H,X)?(me=se-ie(R.year(),H,X),Se=R.year()+1):(Se=R.year(),me=se),{week:me,year:Se}}function ie(R,H,X){var ee=wa(R,H,X),se=wa(R+1,H,X);return(hr(R)-ee+se)/7}$e("w",["ww",2],"wo","week"),$e("W",["WW",2],"Wo","isoWeek"),Dt("week","w"),Dt("isoWeek","W"),Zt("week",5),Zt("isoWeek",5),Je("w",rn),Je("ww",rn,ei),Je("W",rn),Je("WW",rn,ei),eo(["w","ww","W","WW"],function(R,H,X,ee){H[ee.substr(0,1)]=j(R)});$e("d",0,"do","day"),$e("dd",0,0,function(R){return this.localeData().weekdaysMin(this,R)}),$e("ddd",0,0,function(R){return this.localeData().weekdaysShort(this,R)}),$e("dddd",0,0,function(R){return this.localeData().weekdays(this,R)}),$e("e",0,0,"weekday"),$e("E",0,0,"isoWeekday"),Dt("day","d"),Dt("weekday","e"),Dt("isoWeekday","E"),Zt("day",11),Zt("weekday",11),Zt("isoWeekday",11),Je("d",rn),Je("e",rn),Je("E",rn),Je("dd",function(R,H){return H.weekdaysMinRegex(R)}),Je("ddd",function(R,H){return H.weekdaysShortRegex(R)}),Je("dddd",function(R,H){return H.weekdaysRegex(R)}),eo(["dd","ddd","dddd"],function(R,H,X,ee){var se=X._locale.weekdaysParse(R,ee,X._strict);null!=se?H.d=se:d(X).invalidWeekday=R}),eo(["d","e","E"],function(R,H,X,ee){H[ee]=j(R)});var Ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Cl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var lg="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function _a(R,H,X){var ee,se,me,Se=R.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ee=0;ee<7;++ee)me=a([2e3,1]).day(ee),this._minWeekdaysParse[ee]=this.weekdaysMin(me,"").toLocaleLowerCase(),this._shortWeekdaysParse[ee]=this.weekdaysShort(me,"").toLocaleLowerCase(),this._weekdaysParse[ee]=this.weekdays(me,"").toLocaleLowerCase();return X?"dddd"===H?-1!==(se=Qt.call(this._weekdaysParse,Se))?se:null:"ddd"===H?-1!==(se=Qt.call(this._shortWeekdaysParse,Se))?se:null:-1!==(se=Qt.call(this._minWeekdaysParse,Se))?se:null:"dddd"===H?-1!==(se=Qt.call(this._weekdaysParse,Se))||-1!==(se=Qt.call(this._shortWeekdaysParse,Se))||-1!==(se=Qt.call(this._minWeekdaysParse,Se))?se:null:"ddd"===H?-1!==(se=Qt.call(this._shortWeekdaysParse,Se))||-1!==(se=Qt.call(this._weekdaysParse,Se))||-1!==(se=Qt.call(this._minWeekdaysParse,Se))?se:null:-1!==(se=Qt.call(this._minWeekdaysParse,Se))||-1!==(se=Qt.call(this._weekdaysParse,Se))||-1!==(se=Qt.call(this._shortWeekdaysParse,Se))?se:null}var ec=Ao;var Si=Ao;var nc=Ao;function gi(){function R(Ti,ts){return ts.length-Ti.length}var me,Se,Ct,At,Gt,H=[],X=[],ee=[],se=[];for(me=0;me<7;me++)Se=a([2e3,1]).day(me),Ct=this.weekdaysMin(Se,""),At=this.weekdaysShort(Se,""),Gt=this.weekdays(Se,""),H.push(Ct),X.push(At),ee.push(Gt),se.push(Ct),se.push(At),se.push(Gt);for(H.sort(R),X.sort(R),ee.sort(R),se.sort(R),me=0;me<7;me++)X[me]=on(X[me]),ee[me]=on(ee[me]),se[me]=on(se[me]);this._weekdaysRegex=new RegExp("^("+se.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ee.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+X.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+H.join("|")+")","i")}function oi(){return this.hours()%12||12}function Ss(R,H){$e(R,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),H)})}function Ni(R,H){return H._meridiemParse}$e("H",["HH",2],0,"hour"),$e("h",["hh",2],0,oi),$e("k",["kk",2],0,function(){return this.hours()||24}),$e("hmm",0,0,function(){return""+oi.apply(this)+Re(this.minutes(),2)}),$e("hmmss",0,0,function(){return""+oi.apply(this)+Re(this.minutes(),2)+Re(this.seconds(),2)}),$e("Hmm",0,0,function(){return""+this.hours()+Re(this.minutes(),2)}),$e("Hmmss",0,0,function(){return""+this.hours()+Re(this.minutes(),2)+Re(this.seconds(),2)}),Ss("a",!0),Ss("A",!1),Dt("hour","h"),Zt("hour",13),Je("a",Ni),Je("A",Ni),Je("H",rn),Je("h",rn),Je("k",rn),Je("HH",rn,ei),Je("hh",rn,ei),Je("kk",rn,ei),Je("hmm",cl),Je("hmmss",fl),Je("Hmm",cl),Je("Hmmss",fl),an(["H","HH"],3),an(["k","kk"],function(R,H,X){var ee=j(R);H[3]=24===ee?0:ee}),an(["a","A"],function(R,H,X){X._isPm=X._locale.isPM(R),X._meridiem=R}),an(["h","hh"],function(R,H,X){H[3]=j(R),d(X).bigHour=!0}),an("hmm",function(R,H,X){var ee=R.length-2;H[3]=j(R.substr(0,ee)),H[4]=j(R.substr(ee)),d(X).bigHour=!0}),an("hmmss",function(R,H,X){var ee=R.length-4,se=R.length-2;H[3]=j(R.substr(0,ee)),H[4]=j(R.substr(ee,2)),H[5]=j(R.substr(se)),d(X).bigHour=!0}),an("Hmm",function(R,H,X){var ee=R.length-2;H[3]=j(R.substr(0,ee)),H[4]=j(R.substr(ee))}),an("Hmmss",function(R,H,X){var ee=R.length-4,se=R.length-2;H[3]=j(R.substr(0,ee)),H[4]=j(R.substr(ee,2)),H[5]=j(R.substr(se))});var An,It=Vn("Hours",!0),gn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Qi,monthsShort:Ca,week:{dow:0,doy:6},weekdays:Ci,weekdaysMin:lg,weekdaysShort:Cl,meridiemParse:/[ap]\.?m?\.?/i},jt={},cr={};function Ts(R){return R&&R.toLowerCase().replace("_","-")}function Fo(R){var H=null;if(!jt[R]&&void 0!==P&&P&&P.exports)try{H=An._abbr,function(){var se=new Error('Cannot find module "./locale"');throw se.code="MODULE_NOT_FOUND",se}(),fr(H)}catch(ee){}return jt[R]}function fr(R,H){var X;return R&&(X=b(H)?Fi(R):vt(R,H))&&(An=X),An._abbr}function vt(R,H){if(null!==H){var X=gn;if(H.abbr=R,null!=jt[R])oe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),X=jt[R]._config;else if(null!=H.parentLocale){if(null==jt[H.parentLocale])return cr[H.parentLocale]||(cr[H.parentLocale]=[]),cr[H.parentLocale].push({name:R,config:H}),null;X=jt[H.parentLocale]._config}return jt[R]=new we(_e(X,H)),cr[R]&&cr[R].forEach(function(ee){vt(ee.name,ee.config)}),fr(R),jt[R]}return delete jt[R],null}function Fi(R){var H;if(R&&R._locale&&R._locale._abbr&&(R=R._locale._abbr),!R)return An;if(!A(R)){if(H=Fo(R))return H;R=[R]}return function(R){for(var X,ee,se,me,H=0;H<R.length;){for(X=(me=Ts(R[H]).split("-")).length,ee=(ee=Ts(R[H+1]))?ee.split("-"):null;X>0;){if(se=Fo(me.slice(0,X).join("-")))return se;if(ee&&ee.length>=X&&$(me,ee,!0)>=X-1)break;X--}H++}return null}(R)}function xs(R){var H,X=R._a;return X&&-2===d(R).overflow&&(H=X[1]<0||X[1]>11?1:X[2]<1||X[2]>pn(X[0],X[1])?2:X[3]<0||X[3]>24||24===X[3]&&(0!==X[4]||0!==X[5]||0!==X[6])?3:X[4]<0||X[4]>59?4:X[5]<0||X[5]>59?5:X[6]<0||X[6]>999?6:-1,d(R)._overflowDayOfYear&&(H<0||H>2)&&(H=2),d(R)._overflowWeeks&&-1===H&&(H=7),d(R)._overflowWeekday&&-1===H&&(H=8),d(R).overflow=H),R}function Qn(R,H,X){return null!=R?R:null!=H?H:X}function Ms(R){var H,X,se,me,ee=[];if(!R._d){for(se=function(R){var H=new Date(D.now());return R._useUTC?[H.getUTCFullYear(),H.getUTCMonth(),H.getUTCDate()]:[H.getFullYear(),H.getMonth(),H.getDate()]}(R),R._w&&null==R._a[2]&&null==R._a[1]&&function(R){var H,X,ee,se,me,Se,Ct,At;if(null!=(H=R._w).GG||null!=H.W||null!=H.E)me=1,Se=4,X=Qn(H.GG,R._a[0],te(Sn(),1,4).year),ee=Qn(H.W,1),((se=Qn(H.E,1))<1||se>7)&&(At=!0);else{me=R._locale._week.dow,Se=R._locale._week.doy;var Gt=te(Sn(),me,Se);X=Qn(H.gg,R._a[0],Gt.year),ee=Qn(H.w,Gt.week),null!=H.d?((se=H.d)<0||se>6)&&(At=!0):null!=H.e?(se=H.e+me,(H.e<0||H.e>6)&&(At=!0)):se=me}ee<1||ee>ie(X,me,Se)?d(R)._overflowWeeks=!0:null!=At?d(R)._overflowWeekday=!0:(Ct=Xu(X,ee,se,me,Se),R._a[0]=Ct.year,R._dayOfYear=Ct.dayOfYear)}(R),null!=R._dayOfYear&&(me=Qn(R._a[0],se[0]),(R._dayOfYear>hr(me)||0===R._dayOfYear)&&(d(R)._overflowDayOfYear=!0),X=Yn(me,0,R._dayOfYear),R._a[1]=X.getUTCMonth(),R._a[2]=X.getUTCDate()),H=0;H<3&&null==R._a[H];++H)R._a[H]=ee[H]=se[H];for(;H<7;H++)R._a[H]=ee[H]=null==R._a[H]?2===H?1:0:R._a[H];24===R._a[3]&&0===R._a[4]&&0===R._a[5]&&0===R._a[6]&&(R._nextDay=!0,R._a[3]=0),R._d=(R._useUTC?Yn:Xi).apply(null,ee),null!=R._tzm&&R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm),R._nextDay&&(R._a[3]=24),R._w&&void 0!==R._w.d&&R._w.d!==R._d.getDay()&&(d(R).weekdayMismatch=!0)}}var ln=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pg=/Z|[+-]\d\d(?::?\d\d)?/,oo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Da=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sa=/^\/?Date\((\-?\d+)/i;function Ta(R){var H,X,me,Se,Ct,At,ee=R._i,se=ln.exec(ee)||fg.exec(ee);if(se){for(d(R).iso=!0,H=0,X=oo.length;H<X;H++)if(oo[H][1].exec(se[1])){Se=oo[H][0],me=!1!==oo[H][2];break}if(null==Se)return void(R._isValid=!1);if(se[3]){for(H=0,X=Da.length;H<X;H++)if(Da[H][1].exec(se[3])){Ct=(se[2]||" ")+Da[H][0];break}if(null==Ct)return void(R._isValid=!1)}if(!me&&null!=Ct)return void(R._isValid=!1);if(se[4]){if(!pg.exec(se[4]))return void(R._isValid=!1);At="Z"}R._f=Se+(Ct||"")+(At||""),ed(R)}else R._isValid=!1}var ao=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function gg(R){var H=parseInt(R,10);return H<=49?2e3+H:H<=999?1900+H:H}var qu={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xa(R){var H=ao.exec(function(R){return R.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(R._i));if(H){var X=function(R,H,X,ee,se,me){var Se=[gg(R),Ca.indexOf(H),parseInt(X,10),parseInt(ee,10),parseInt(se,10)];return me&&Se.push(parseInt(me,10)),Se}(H[4],H[3],H[2],H[5],H[6],H[7]);if(!function(R,H,X){return!R||Cl.indexOf(R)===new Date(H[0],H[1],H[2]).getDay()||(d(X).weekdayMismatch=!0,X._isValid=!1,!1)}(H[1],X,R))return;R._a=X,R._tzm=function(R,H,X){if(R)return qu[R];if(H)return 0;var ee=parseInt(X,10),se=ee%100;return(ee-se)/100*60+se}(H[8],H[9],H[10]),R._d=Yn.apply(null,R._a),R._d.setUTCMinutes(R._d.getUTCMinutes()-R._tzm),d(R).rfc2822=!0}else R._isValid=!1}function ed(R){if(R._f!==D.ISO_8601)if(R._f!==D.RFC_2822){R._a=[],d(R).empty=!0;var X,ee,se,me,Se,H=""+R._i,Ct=H.length,At=0;for(se=ko(R._f,R._locale).match(Ve)||[],X=0;X<se.length;X++)(ee=(H.match(ya(me=se[X],R))||[])[0])&&((Se=H.substr(0,H.indexOf(ee))).length>0&&d(R).unusedInput.push(Se),H=H.slice(H.indexOf(ee)+ee.length),At+=ee.length),$t[me]?(ee?d(R).empty=!1:d(R).unusedTokens.push(me),ws(me,ee,R)):R._strict&&!ee&&d(R).unusedTokens.push(me);d(R).charsLeftOver=Ct-At,H.length>0&&d(R).unusedInput.push(H),R._a[3]<=12&&!0===d(R).bigHour&&R._a[3]>0&&(d(R).bigHour=void 0),d(R).parsedDateParts=R._a.slice(0),d(R).meridiem=R._meridiem,R._a[3]=function(R,H,X){var ee;return null==X?H:null!=R.meridiemHour?R.meridiemHour(H,X):(null!=R.isPM&&((ee=R.isPM(X))&&H<12&&(H+=12),!ee&&12===H&&(H=0)),H)}(R._locale,R._a[3],R._meridiem),Ms(R),xs(R)}else xa(R);else Ta(R)}function yg(R){var H=R._i,X=R._f;return R._locale=R._locale||Fi(R._l),null===H||void 0===X&&""===H?M({nullInput:!0}):("string"==typeof H&&(R._i=H=R._locale.preparse(H)),F(H)?new I(xs(H)):(v(H)?R._d=H:A(X)?function(R){var H,X,ee,se,me;if(0===R._f.length)return d(R).invalidFormat=!0,void(R._d=new Date(NaN));for(se=0;se<R._f.length;se++)me=0,H=f({},R),null!=R._useUTC&&(H._useUTC=R._useUTC),H._f=R._f[se],ed(H),g(H)&&(me+=d(H).charsLeftOver,me+=10*d(H).unusedTokens.length,d(H).score=me,(null==ee||me<ee)&&(ee=me,X=H));T(R,X||H)}(R):X?ed(R):function(R){var H=R._i;b(H)?R._d=new Date(D.now()):v(H)?R._d=new Date(H.valueOf()):"string"==typeof H?function(R){var H=Sa.exec(R._i);null===H?(Ta(R),!1===R._isValid&&(delete R._isValid,xa(R),!1===R._isValid&&(delete R._isValid,D.createFromInputFallback(R)))):R._d=new Date(+H[1])}(R):A(H)?(R._a=m(H.slice(0),function(X){return parseInt(X,10)}),Ms(R)):x(H)?function(R){if(!R._d){var H=sn(R._i);R._a=m([H.year,H.month,H.day||H.date,H.hour,H.minute,H.second,H.millisecond],function(X){return X&&parseInt(X,10)}),Ms(R)}}(R):w(H)?R._d=new Date(H):D.createFromInputFallback(R)}(R),g(R)||(R._d=null),R))}function bg(R,H,X,ee,se){var me={};return(!0===X||!1===X)&&(ee=X,X=void 0),(x(R)&&function(R){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(R).length;var H;for(H in R)if(R.hasOwnProperty(H))return!1;return!0}(R)||A(R)&&0===R.length)&&(R=void 0),me._isAMomentObject=!0,me._useUTC=me._isUTC=se,me._l=X,me._i=R,me._f=H,me._strict=ee,function(R){var H=new I(xs(yg(R)));return H._nextDay&&(H.add(1,"d"),H._nextDay=void 0),H}(me)}function Sn(R,H,X,ee){return bg(R,H,X,ee,!1)}D.createFromInputFallback=Z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(R){R._d=new Date(R._i+(R._useUTC?" UTC":""))}),D.ISO_8601=function(){},D.RFC_2822=function(){};var N0=Z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=Sn.apply(null,arguments);return this.isValid()&&R.isValid()?R<this?this:R:M()}),F0=Z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var R=Sn.apply(null,arguments);return this.isValid()&&R.isValid()?R>this?this:R:M()});function Cg(R,H){var X,ee;if(1===H.length&&A(H[0])&&(H=H[0]),!H.length)return Sn();for(X=H[0],ee=1;ee<H.length;++ee)(!H[ee].isValid()||H[ee][R](X))&&(X=H[ee]);return X}var El=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Lo(R){var H=sn(R),X=H.year||0,ee=H.quarter||0,se=H.month||0,me=H.week||0,Se=H.day||0,Ct=H.hour||0,At=H.minute||0,Gt=H.second||0,Ti=H.millisecond||0;this._isValid=function(R){for(var H in R)if(-1===Qt.call(El,H)||null!=R[H]&&isNaN(R[H]))return!1;for(var X=!1,ee=0;ee<El.length;++ee)if(R[El[ee]]){if(X)return!1;parseFloat(R[El[ee]])!==j(R[El[ee]])&&(X=!0)}return!0}(H),this._milliseconds=+Ti+1e3*Gt+6e4*At+1e3*Ct*60*60,this._days=+Se+7*me,this._months=+se+3*ee+12*X,this._data={},this._locale=Fi(),this._bubble()}function rc(R){return R instanceof Lo}function sc(R){return R<0?-1*Math.round(-1*R):Math.round(R)}function wg(R,H){$e(R,0,0,function(){var X=this.utcOffset(),ee="+";return X<0&&(X=-X,ee="-"),ee+Re(~~(X/60),2)+H+Re(~~X%60,2)})}wg("Z",":"),wg("ZZ",""),Je("Z",Qe),Je("ZZ",Qe),an(["Z","ZZ"],function(R,H,X){X._useUTC=!0,X._tzm=Dl(Qe,R)});var lo=/([\+\-]|\d\d)/gi;function Dl(R,H){var X=(H||"").match(R);if(null===X)return null;var se=((X[X.length-1]||[])+"").match(lo)||["-",0,0],me=60*se[1]+j(se[2]);return 0===me?0:"+"===se[0]?me:-me}function Xn(R,H){var X,ee;return H._isUTC?(X=H.clone(),ee=(F(R)||v(R)?R.valueOf():Sn(R).valueOf())-X.valueOf(),X._d.setTime(X._d.valueOf()+ee),D.updateOffset(X,!1),X):Sn(R).local()}function Sl(R){return 15*-Math.round(R._d.getTimezoneOffset()/15)}function Tl(){return!!this.isValid()&&this._isUTC&&0===this._offset}D.updateOffset=function(){};var Tg=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,nd=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mr(R,H){var se,me,Se,X=R,ee=null;return rc(R)?X={ms:R._milliseconds,d:R._days,M:R._months}:w(R)?(X={},H?X[H]=R:X.milliseconds=R):(ee=Tg.exec(R))?(se="-"===ee[1]?-1:1,X={y:0,d:j(ee[2])*se,h:j(ee[3])*se,m:j(ee[4])*se,s:j(ee[5])*se,ms:j(sc(1e3*ee[6]))*se}):(ee=nd.exec(R))?X={y:qt(ee[2],se="-"===ee[1]?-1:1),M:qt(ee[3],se),w:qt(ee[4],se),d:qt(ee[5],se),h:qt(ee[6],se),m:qt(ee[7],se),s:qt(ee[8],se)}:null==X?X={}:"object"==typeof X&&("from"in X||"to"in X)&&(Se=function(R,H){var X;return R.isValid()&&H.isValid()?(H=Xn(H,R),R.isBefore(H)?X=xg(R,H):((X=xg(H,R)).milliseconds=-X.milliseconds,X.months=-X.months),X):{milliseconds:0,months:0}}(Sn(X.from),Sn(X.to)),(X={}).ms=Se.milliseconds,X.M=Se.months),me=new Lo(X),rc(R)&&c(R,"_locale")&&(me._locale=R._locale),me}function qt(R,H){var X=R&&parseFloat(R.replace(",","."));return(isNaN(X)?0:X)*H}function xg(R,H){var X={milliseconds:0,months:0};return X.months=H.month()-R.month()+12*(H.year()-R.year()),R.clone().add(X.months,"M").isAfter(H)&&--X.months,X.milliseconds=+H-+R.clone().add(X.months,"M"),X}function hc(R,H){return function(X,ee){var me;return null!==ee&&!isNaN(+ee)&&(oe(H,"moment()."+H+"(period, number) is deprecated. Please use moment()."+H+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),me=X,X=ee,ee=me),Rn(this,Mr(X="string"==typeof X?+X:X,ee),R),this}}function Rn(R,H,X,ee){var se=H._milliseconds,me=sc(H._days),Se=sc(H._months);!R.isValid()||(ee=null==ee||ee,Se&&ro(R,Kt(R,"Month")+Se*X),me&&Po(R,"Date",Kt(R,"Date")+me*X),se&&R._d.setTime(R._d.valueOf()+se*X),ee&&D.updateOffset(R,me||Se))}Mr.fn=Lo.prototype,Mr.invalid=function(){return Mr(NaN)};var Mg=hc(1,"add"),U0=hc(-1,"subtract");function Ml(R,H){var X=12*(H.year()-R.year())+(H.month()-R.month()),ee=R.clone().add(X,"months");return-(X+(H-ee<0?(H-ee)/(ee-R.clone().add(X-1,"months")):(H-ee)/(R.clone().add(X+1,"months")-ee)))||0}function pc(R){var H;return void 0===R?this._locale._abbr:(null!=(H=Fi(R))&&(this._locale=H),this)}D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",D.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Me=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(R){return void 0===R?this.localeData():this.locale(R)});function Lt(){return this._locale}function Bi(R,H){$e(0,[R,R.length],0,H)}function ld(R,H,X,ee,se){var me;return null==R?te(this,ee,se).year:(H>(me=ie(R,ee,se))&&(H=me),Lg.call(this,R,H,X,ee,se))}function Lg(R,H,X,ee,se){var me=Xu(R,H,X,ee,se),Se=Yn(me.year,0,me.dayOfYear);return this.year(Se.getUTCFullYear()),this.month(Se.getUTCMonth()),this.date(Se.getUTCDate()),this}$e(0,["gg",2],0,function(){return this.weekYear()%100}),$e(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),Dt("weekYear","gg"),Dt("isoWeekYear","GG"),Zt("weekYear",1),Zt("isoWeekYear",1),Je("G",qs),Je("g",qs),Je("GG",rn,ei),Je("gg",rn,ei),Je("GGGG",Js,va),Je("gggg",Js,va),Je("GGGGG",ft,Oo),Je("ggggg",ft,Oo),eo(["gggg","ggggg","GGGG","GGGGG"],function(R,H,X,ee){H[ee.substr(0,2)]=j(R)}),eo(["gg","GG"],function(R,H,X,ee){H[ee]=D.parseTwoDigitYear(R)}),$e("Q",0,"Qo","quarter"),Dt("quarter","Q"),Zt("quarter",7),Je("Q",ga),an("Q",function(R,H){H[1]=3*(j(R)-1)}),$e("D",["DD",2],"Do","date"),Dt("date","D"),Zt("date",9),Je("D",rn),Je("DD",rn,ei),Je("Do",function(R,H){return R?H._dayOfMonthOrdinalParse||H._ordinalParse:H._dayOfMonthOrdinalParseLenient}),an(["D","DD"],2),an("Do",function(R,H){H[2]=j(R.match(rn)[0])});var Il=Vn("Date",!0);$e("DDD",["DDDD",3],"DDDo","dayOfYear"),Dt("dayOfYear","DDD"),Zt("dayOfYear",4),Je("DDD",Mt),Je("DDDD",ma),an(["DDD","DDDD"],function(R,H,X){X._dayOfYear=j(R)}),$e("m",["mm",2],0,"minute"),Dt("minute","m"),Zt("minute",14),Je("m",rn),Je("mm",rn,ei),an(["m","mm"],4);var vc=Vn("Minutes",!1);$e("s",["ss",2],0,"second"),Dt("second","s"),Zt("second",15),Je("s",rn),Je("ss",rn,ei),an(["s","ss"],5);var Os,dd=Vn("Seconds",!1);for($e("S",0,0,function(){return~~(this.millisecond()/100)}),$e(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$e(0,["SSS",3],0,"millisecond"),$e(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$e(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$e(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$e(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$e(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$e(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Dt("millisecond","ms"),Zt("millisecond",16),Je("S",Mt,ga),Je("SS",Mt,ei),Je("SSS",Mt,ma),Os="SSSS";Os.length<=9;Os+="S")Je(Os,Io);function yc(R,H){H[6]=j(1e3*("0."+R))}for(Os="S";Os.length<=9;Os+="S")an(Os,yc);var Al=Vn("Milliseconds",!1);$e("z",0,0,"zoneAbbr"),$e("zz",0,0,"zoneName");var Fe=I.prototype;function _c(R){return R}Fe.add=Mg,Fe.calendar=function(R,H){var X=R||Sn(),ee=Xn(X,this).startOf("day"),se=D.calendarFormat(this,ee)||"sameElse",me=H&&(le(H[se])?H[se].call(this,X):H[se]);return this.format(me||this.localeData().calendar(se,this,Sn(X)))},Fe.clone=function(){return new I(this)},Fe.diff=function(R,H,X){var ee,se,Se;if(!this.isValid())return NaN;if(!(ee=Xn(R,this)).isValid())return NaN;switch(se=6e4*(ee.utcOffset()-this.utcOffset()),H=Jt(H)){case"year":Se=Ml(this,ee)/12;break;case"month":Se=Ml(this,ee);break;case"quarter":Se=Ml(this,ee)/3;break;case"second":Se=(this-ee)/1e3;break;case"minute":Se=(this-ee)/6e4;break;case"hour":Se=(this-ee)/36e5;break;case"day":Se=(this-ee-se)/864e5;break;case"week":Se=(this-ee-se)/6048e5;break;default:Se=this-ee}return X?Se:V(Se)},Fe.endOf=function(R){return void 0===(R=Jt(R))||"millisecond"===R?this:("date"===R&&(R="day"),this.startOf(R).add(1,"isoWeek"===R?"week":R).subtract(1,"ms"))},Fe.format=function(R){R||(R=this.isUtc()?D.defaultFormatUtc:D.defaultFormat);var H=Mo(this,R);return this.localeData().postformat(H)},Fe.from=function(R,H){return this.isValid()&&(F(R)&&R.isValid()||Sn(R).isValid())?Mr({to:this,from:R}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()},Fe.fromNow=function(R){return this.from(Sn(),R)},Fe.to=function(R,H){return this.isValid()&&(F(R)&&R.isValid()||Sn(R).isValid())?Mr({from:this,to:R}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()},Fe.toNow=function(R){return this.to(Sn(),R)},Fe.get=function(R){return le(this[R=Jt(R)])?this[R]():this},Fe.invalidAt=function(){return d(this).overflow},Fe.isAfter=function(R,H){var X=F(R)?R:Sn(R);return!(!this.isValid()||!X.isValid())&&("millisecond"===(H=Jt(b(H)?"millisecond":H))?this.valueOf()>X.valueOf():X.valueOf()<this.clone().startOf(H).valueOf())},Fe.isBefore=function(R,H){var X=F(R)?R:Sn(R);return!(!this.isValid()||!X.isValid())&&("millisecond"===(H=Jt(b(H)?"millisecond":H))?this.valueOf()<X.valueOf():this.clone().endOf(H).valueOf()<X.valueOf())},Fe.isBetween=function(R,H,X,ee){return("("===(ee=ee||"()")[0]?this.isAfter(R,X):!this.isBefore(R,X))&&(")"===ee[1]?this.isBefore(H,X):!this.isAfter(H,X))},Fe.isSame=function(R,H){var ee,X=F(R)?R:Sn(R);return!(!this.isValid()||!X.isValid())&&("millisecond"===(H=Jt(H||"millisecond"))?this.valueOf()===X.valueOf():(ee=X.valueOf(),this.clone().startOf(H).valueOf()<=ee&&ee<=this.clone().endOf(H).valueOf()))},Fe.isSameOrAfter=function(R,H){return this.isSame(R,H)||this.isAfter(R,H)},Fe.isSameOrBefore=function(R,H){return this.isSame(R,H)||this.isBefore(R,H)},Fe.isValid=function(){return g(this)},Fe.lang=Me,Fe.locale=pc,Fe.localeData=Lt,Fe.max=F0,Fe.min=N0,Fe.parsingFlags=function(){return T({},d(this))},Fe.set=function(R,H){if("object"==typeof R)for(var X=function(R){var H=[];for(var X in R)H.push({unit:X,priority:mn[X]});return H.sort(function(ee,se){return ee.priority-se.priority}),H}(R=sn(R)),ee=0;ee<X.length;ee++)this[X[ee].unit](R[X[ee].unit]);else if(le(this[R=Jt(R)]))return this[R](H);return this},Fe.startOf=function(R){switch(R=Jt(R)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===R&&this.weekday(0),"isoWeek"===R&&this.isoWeekday(1),"quarter"===R&&this.month(3*Math.floor(this.month()/3)),this},Fe.subtract=U0,Fe.toArray=function(){var R=this;return[R.year(),R.month(),R.date(),R.hour(),R.minute(),R.second(),R.millisecond()]},Fe.toObject=function(){var R=this;return{years:R.year(),months:R.month(),date:R.date(),hours:R.hours(),minutes:R.minutes(),seconds:R.seconds(),milliseconds:R.milliseconds()}},Fe.toDate=function(){return new Date(this.valueOf())},Fe.toISOString=function(){if(!this.isValid())return null;var R=this.clone().utc();return R.year()<0||R.year()>9999?Mo(R,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):le(Date.prototype.toISOString)?this.toDate().toISOString():Mo(R,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Fe.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var R="moment",H="";this.isLocal()||(R=0===this.utcOffset()?"moment.utc":"moment.parseZone",H="Z");var X="["+R+'("]',ee=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(X+ee+"-MM-DD[T]HH:mm:ss.SSS"+H+'[")]')},Fe.toJSON=function(){return this.isValid()?this.toISOString():null},Fe.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Fe.unix=function(){return Math.floor(this.valueOf()/1e3)},Fe.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Fe.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Fe.year=to,Fe.isLeapYear=function(){return Qr(this.year())},Fe.weekYear=function(R){return ld.call(this,R,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Fe.isoWeekYear=function(R){return ld.call(this,R,this.isoWeek(),this.isoWeekday(),1,4)},Fe.quarter=Fe.quarters=function(R){return null==R?Math.ceil((this.month()+1)/3):this.month(3*(R-1)+this.month()%3)},Fe.month=Ro,Fe.daysInMonth=function(){return pn(this.year(),this.month())},Fe.week=Fe.weeks=function(R){var H=this.localeData().week(this);return null==R?H:this.add(7*(R-H),"d")},Fe.isoWeek=Fe.isoWeeks=function(R){var H=te(this,1,4).week;return null==R?H:this.add(7*(R-H),"d")},Fe.weeksInYear=function(){var R=this.localeData()._week;return ie(this.year(),R.dow,R.doy)},Fe.isoWeeksInYear=function(){return ie(this.year(),1,4)},Fe.date=Il,Fe.day=Fe.days=function(R){if(!this.isValid())return null!=R?this:NaN;var H=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=R?(R=function(R,H){return"string"!=typeof R?R:isNaN(R)?"number"==typeof(R=H.weekdaysParse(R))?R:null:parseInt(R,10)}(R,this.localeData()),this.add(R-H,"d")):H},Fe.weekday=function(R){if(!this.isValid())return null!=R?this:NaN;var H=(this.day()+7-this.localeData()._week.dow)%7;return null==R?H:this.add(R-H,"d")},Fe.isoWeekday=function(R){if(!this.isValid())return null!=R?this:NaN;if(null!=R){var H=function(R,H){return"string"==typeof R?H.weekdaysParse(R)%7||7:isNaN(R)?null:R}(R,this.localeData());return this.day(this.day()%7?H:H-7)}return this.day()||7},Fe.dayOfYear=function(R){var H=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==R?H:this.add(R-H,"d")},Fe.hour=Fe.hours=It,Fe.minute=Fe.minutes=vc,Fe.second=Fe.seconds=dd,Fe.millisecond=Fe.milliseconds=Al,Fe.utcOffset=function(R,H,X){var se,ee=this._offset||0;if(!this.isValid())return null!=R?this:NaN;if(null!=R){if("string"==typeof R){if(null===(R=Dl(Qe,R)))return this}else Math.abs(R)<16&&!X&&(R*=60);return!this._isUTC&&H&&(se=Sl(this)),this._offset=R,this._isUTC=!0,null!=se&&this.add(se,"m"),ee!==R&&(!H||this._changeInProgress?Rn(this,Mr(R-ee,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,D.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?ee:Sl(this)},Fe.utc=function(R){return this.utcOffset(0,R)},Fe.local=function(R){return this._isUTC&&(this.utcOffset(0,R),this._isUTC=!1,R&&this.subtract(Sl(this),"m")),this},Fe.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var R=Dl(Yt,this._i);null!=R?this.utcOffset(R):this.utcOffset(0,!0)}return this},Fe.hasAlignedHourOffset=function(R){return!!this.isValid()&&(R=R?Sn(R).utcOffset():0,(this.utcOffset()-R)%60==0)},Fe.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Fe.isLocal=function(){return!!this.isValid()&&!this._isUTC},Fe.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Fe.isUtc=Tl,Fe.isUTC=Tl,Fe.zoneAbbr=function(){return this._isUTC?"UTC":""},Fe.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Fe.dates=Z("dates accessor is deprecated. Use date instead.",Il),Fe.months=Z("months accessor is deprecated. Use month instead",Ro),Fe.years=Z("years accessor is deprecated. Use year instead",to),Fe.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(R,H){return null!=R?("string"!=typeof R&&(R=-R),this.utcOffset(R,H),this):-this.utcOffset()}),Fe.isDSTShifted=Z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!b(this._isDSTShifted))return this._isDSTShifted;var R={};if(f(R,this),(R=yg(R))._a){var H=R._isUTC?a(R._a):Sn(R._a);this._isDSTShifted=this.isValid()&&$(R._a,H.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var un=we.prototype;function ti(R,H,X,ee){var se=Fi(),me=a().set(ee,H);return se[X](me,R)}function Jr(R,H,X){if(w(R)&&(H=R,R=void 0),R=R||"",null!=H)return ti(R,H,X,"month");var ee,se=[];for(ee=0;ee<12;ee++)se[ee]=ti(R,ee,X,"month");return se}function yn(R,H,X,ee){"boolean"==typeof R?(w(H)&&(X=H,H=void 0),H=H||""):(X=H=R,R=!1,w(H)&&(X=H,H=void 0),H=H||"");var se=Fi(),me=R?se._week.dow:0;if(null!=X)return ti(H,(X+me)%7,ee,"day");var Se,Ct=[];for(Se=0;Se<7;Se++)Ct[Se]=ti(H,(Se+me)%7,ee,"day");return Ct}un.calendar=function(R,H,X){var ee=this._calendar[R]||this._calendar.sameElse;return le(ee)?ee.call(H,X):ee},un.longDateFormat=function(R){var H=this._longDateFormat[R],X=this._longDateFormat[R.toUpperCase()];return H||!X?H:(this._longDateFormat[R]=X.replace(/MMMM|MM|DD|dddd/g,function(ee){return ee.slice(1)}),this._longDateFormat[R])},un.invalidDate=function(){return this._invalidDate},un.ordinal=function(R){return this._ordinal.replace("%d",R)},un.preparse=_c,un.postformat=_c,un.relativeTime=function(R,H,X,ee){var se=this._relativeTime[X];return le(se)?se(R,H,X,ee):se.replace(/%d/i,R)},un.pastFuture=function(R,H){var X=this._relativeTime[R>0?"future":"past"];return le(X)?X(H):X.replace(/%s/i,H)},un.set=function(R){var H,X;for(X in R)le(H=R[X])?this[X]=H:this["_"+X]=H;this._config=R,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},un.months=function(R,H){return R?A(this._months)?this._months[R.month()]:this._months[(this._months.isFormat||In).test(H)?"format":"standalone"][R.month()]:A(this._months)?this._months:this._months.standalone},un.monthsShort=function(R,H){return R?A(this._monthsShort)?this._monthsShort[R.month()]:this._monthsShort[In.test(H)?"format":"standalone"][R.month()]:A(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},un.monthsParse=function(R,H,X){var ee,se,me;if(this._monthsParseExact)return fi.call(this,R,H,X);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ee=0;ee<12;ee++){if(se=a([2e3,ee]),X&&!this._longMonthsParse[ee]&&(this._longMonthsParse[ee]=new RegExp("^"+this.months(se,"").replace(".","")+"$","i"),this._shortMonthsParse[ee]=new RegExp("^"+this.monthsShort(se,"").replace(".","")+"$","i")),!X&&!this._monthsParse[ee]&&(me="^"+this.months(se,"")+"|^"+this.monthsShort(se,""),this._monthsParse[ee]=new RegExp(me.replace(".",""),"i")),X&&"MMMM"===H&&this._longMonthsParse[ee].test(R))return ee;if(X&&"MMM"===H&&this._shortMonthsParse[ee].test(R))return ee;if(!X&&this._monthsParse[ee].test(R))return ee}},un.monthsRegex=function(R){return this._monthsParseExact?(c(this,"_monthsRegex")||bl.call(this),R?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=pi),this._monthsStrictRegex&&R?this._monthsStrictRegex:this._monthsRegex)},un.monthsShortRegex=function(R){return this._monthsParseExact?(c(this,"_monthsRegex")||bl.call(this),R?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=so),this._monthsShortStrictRegex&&R?this._monthsShortStrictRegex:this._monthsShortRegex)},un.week=function(R){return te(R,this._week.dow,this._week.doy).week},un.firstDayOfYear=function(){return this._week.doy},un.firstDayOfWeek=function(){return this._week.dow},un.weekdays=function(R,H){return R?A(this._weekdays)?this._weekdays[R.day()]:this._weekdays[this._weekdays.isFormat.test(H)?"format":"standalone"][R.day()]:A(this._weekdays)?this._weekdays:this._weekdays.standalone},un.weekdaysMin=function(R){return R?this._weekdaysMin[R.day()]:this._weekdaysMin},un.weekdaysShort=function(R){return R?this._weekdaysShort[R.day()]:this._weekdaysShort},un.weekdaysParse=function(R,H,X){var ee,se,me;if(this._weekdaysParseExact)return _a.call(this,R,H,X);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ee=0;ee<7;ee++){if(se=a([2e3,1]).day(ee),X&&!this._fullWeekdaysParse[ee]&&(this._fullWeekdaysParse[ee]=new RegExp("^"+this.weekdays(se,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[ee]=new RegExp("^"+this.weekdaysShort(se,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[ee]=new RegExp("^"+this.weekdaysMin(se,"").replace(".",".?")+"$","i")),this._weekdaysParse[ee]||(me="^"+this.weekdays(se,"")+"|^"+this.weekdaysShort(se,"")+"|^"+this.weekdaysMin(se,""),this._weekdaysParse[ee]=new RegExp(me.replace(".",""),"i")),X&&"dddd"===H&&this._fullWeekdaysParse[ee].test(R))return ee;if(X&&"ddd"===H&&this._shortWeekdaysParse[ee].test(R))return ee;if(X&&"dd"===H&&this._minWeekdaysParse[ee].test(R))return ee;if(!X&&this._weekdaysParse[ee].test(R))return ee}},un.weekdaysRegex=function(R){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||gi.call(this),R?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=ec),this._weekdaysStrictRegex&&R?this._weekdaysStrictRegex:this._weekdaysRegex)},un.weekdaysShortRegex=function(R){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||gi.call(this),R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Si),this._weekdaysShortStrictRegex&&R?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},un.weekdaysMinRegex=function(R){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||gi.call(this),R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nc),this._weekdaysMinStrictRegex&&R?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},un.isPM=function(R){return"p"===(R+"").toLowerCase().charAt(0)},un.meridiem=function(R,H,X){return R>11?X?"pm":"PM":X?"am":"AM"},fr("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(R){var H=R%10;return R+(1===j(R%100/10)?"th":1===H?"st":2===H?"nd":3===H?"rd":"th")}}),D.lang=Z("moment.lang is deprecated. Use moment.locale instead.",fr),D.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",Fi);var qr=Math.abs;function ka(R,H,X,ee){var se=Mr(H,X);return R._milliseconds+=ee*se._milliseconds,R._days+=ee*se._days,R._months+=ee*se._months,R._bubble()}function cd(R){return R<0?Math.floor(R):Math.ceil(R)}function es(R){return 4800*R/146097}function uo(R){return 146097*R/4800}function er(R){return function(){return this.as(R)}}var fd=er("ms"),Yg=er("s"),Kg=er("m"),$0=er("h"),G0=er("d"),Fl=er("w"),Ec=er("M"),pd=er("y");function Is(R){return function(){return this.isValid()?this._data[R]:NaN}}var Ho=Is("milliseconds"),Qg=Is("seconds"),zo=Is("minutes"),gd=Is("hours"),Bl=Is("days"),Y0=Is("months"),Sc=Is("years");var As=Math.round,Or={ss:44,s:45,m:45,h:22,d:26,M:11};function Oa(R,H,X,ee,se){return se.relativeTime(H||1,!!X,R,ee)}var yd=Math.abs;function ho(R){return(R>0)-(R<0)||+R}function Ia(){if(!this.isValid())return this.localeData().invalidDate();var ee,se,R=yd(this._milliseconds)/1e3,H=yd(this._days),X=yd(this._months);ee=V(R/60),se=V(ee/60),R%=60,ee%=60;var Se=V(X/12),Ct=X%=12,At=H,Gt=se,Ti=ee,ts=R?R.toFixed(3).replace(/\.?0+$/,""):"",Ir=this.asSeconds();if(!Ir)return"P0D";var Uo=Ir<0?"-":"",co=ho(this._months)!==ho(Ir)?"-":"",Aa=ho(this._days)!==ho(Ir)?"-":"",Pa=ho(this._milliseconds)!==ho(Ir)?"-":"";return Uo+"P"+(Se?co+Se+"Y":"")+(Ct?co+Ct+"M":"")+(At?Aa+At+"D":"")+(Gt||Ti||ts?"T":"")+(Gt?Pa+Gt+"H":"")+(Ti?Pa+Ti+"M":"")+(ts?Pa+ts+"S":"")}var Vt=Lo.prototype;return Vt.isValid=function(){return this._isValid},Vt.abs=function(){var R=this._data;return this._milliseconds=qr(this._milliseconds),this._days=qr(this._days),this._months=qr(this._months),R.milliseconds=qr(R.milliseconds),R.seconds=qr(R.seconds),R.minutes=qr(R.minutes),R.hours=qr(R.hours),R.months=qr(R.months),R.years=qr(R.years),this},Vt.add=function(R,H){return ka(this,R,H,1)},Vt.subtract=function(R,H){return ka(this,R,H,-1)},Vt.as=function(R){if(!this.isValid())return NaN;var H,X,ee=this._milliseconds;if("month"===(R=Jt(R))||"year"===R)return X=this._months+es(H=this._days+ee/864e5),"month"===R?X:X/12;switch(H=this._days+Math.round(uo(this._months)),R){case"week":return H/7+ee/6048e5;case"day":return H+ee/864e5;case"hour":return 24*H+ee/36e5;case"minute":return 1440*H+ee/6e4;case"second":return 86400*H+ee/1e3;case"millisecond":return Math.floor(864e5*H)+ee;default:throw new Error("Unknown unit "+R)}},Vt.asMilliseconds=fd,Vt.asSeconds=Yg,Vt.asMinutes=Kg,Vt.asHours=$0,Vt.asDays=G0,Vt.asWeeks=Fl,Vt.asMonths=Ec,Vt.asYears=pd,Vt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*j(this._months/12):NaN},Vt._bubble=function(){var se,me,Se,Ct,At,R=this._milliseconds,H=this._days,X=this._months,ee=this._data;return R>=0&&H>=0&&X>=0||R<=0&&H<=0&&X<=0||(R+=864e5*cd(uo(X)+H),H=0,X=0),ee.milliseconds=R%1e3,se=V(R/1e3),ee.seconds=se%60,me=V(se/60),ee.minutes=me%60,Se=V(me/60),ee.hours=Se%24,H+=V(Se/24),X+=At=V(es(H)),H-=cd(uo(At)),Ct=V(X/12),X%=12,ee.days=H,ee.months=X,ee.years=Ct,this},Vt.clone=function(){return Mr(this)},Vt.get=function(R){return R=Jt(R),this.isValid()?this[R+"s"]():NaN},Vt.milliseconds=Ho,Vt.seconds=Qg,Vt.minutes=zo,Vt.hours=gd,Vt.days=Bl,Vt.weeks=function(){return V(this.days()/7)},Vt.months=Y0,Vt.years=Sc,Vt.humanize=function(R){if(!this.isValid())return this.localeData().invalidDate();var H=this.localeData(),X=function(R,H,X){var ee=Mr(R).abs(),se=As(ee.as("s")),me=As(ee.as("m")),Se=As(ee.as("h")),Ct=As(ee.as("d")),At=As(ee.as("M")),Gt=As(ee.as("y")),Ti=se<=Or.ss&&["s",se]||se<Or.s&&["ss",se]||me<=1&&["m"]||me<Or.m&&["mm",me]||Se<=1&&["h"]||Se<Or.h&&["hh",Se]||Ct<=1&&["d"]||Ct<Or.d&&["dd",Ct]||At<=1&&["M"]||At<Or.M&&["MM",At]||Gt<=1&&["y"]||["yy",Gt];return Ti[2]=H,Ti[3]=+R>0,Ti[4]=X,Oa.apply(null,Ti)}(this,!R,H);return R&&(X=H.pastFuture(+this,X)),H.postformat(X)},Vt.toISOString=Ia,Vt.toString=Ia,Vt.toJSON=Ia,Vt.locale=pc,Vt.localeData=Lt,Vt.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ia),Vt.lang=Me,$e("X",0,0,"unix"),$e("x",0,0,"valueOf"),Je("x",qs),Je("X",/[+-]?\d+(\.\d{1,3})?/),an("X",function(R,H,X){X._d=new Date(1e3*parseFloat(R,10))}),an("x",function(R,H,X){X._d=new Date(j(R))}),D.version="2.19.1",S=Sn,D.fn=Fe,D.min=function(){return Cg("isBefore",[].slice.call(arguments,0))},D.max=function(){return Cg("isAfter",[].slice.call(arguments,0))},D.now=function(){return Date.now?Date.now():+new Date},D.utc=a,D.unix=function(R){return Sn(1e3*R)},D.months=function(R,H){return Jr(R,H,"months")},D.isDate=v,D.locale=fr,D.invalid=M,D.duration=Mr,D.isMoment=F,D.weekdays=function(R,H,X){return yn(R,H,X,"weekdays")},D.parseZone=function(){return Sn.apply(null,arguments).parseZone()},D.localeData=Fi,D.isDuration=rc,D.monthsShort=function(R,H){return Jr(R,H,"monthsShort")},D.weekdaysMin=function(R,H,X){return yn(R,H,X,"weekdaysMin")},D.defineLocale=vt,D.updateLocale=function(R,H){if(null!=H){var X,ee=gn;null!=jt[R]&&(ee=jt[R]._config),(X=new we(H=_e(ee,H))).parentLocale=jt[R],jt[R]=X,fr(R)}else null!=jt[R]&&(null!=jt[R].parentLocale?jt[R]=jt[R].parentLocale:null!=jt[R]&&delete jt[R]);return jt[R]},D.locales=function(){return Ee(jt)},D.weekdaysShort=function(R,H,X){return yn(R,H,X,"weekdaysShort")},D.normalizeUnits=Jt,D.relativeTimeRounding=function(R){return void 0===R?As:"function"==typeof R&&(As=R,!0)},D.relativeTimeThreshold=function(R,H){return void 0!==Or[R]&&(void 0===H?Or[R]:(Or[R]=H,"s"===R&&(Or.ss=H-1),!0))},D.calendarFormat=function(R,H){var X=R.diff(H,"days",!0);return X<-6?"sameElse":X<-1?"lastWeek":X<0?"lastDay":X<1?"sameDay":X<2?"nextDay":X<7?"nextWeek":"sameElse"},D.prototype=Fe,D}()}).call(L,E(155)(J))},function(J,L){J.exports=function(E){return E.webpackPolyfill||(E.deprecate=function(){},E.paths=[],E.children||(E.children=[]),Object.defineProperty(E,"loaded",{enumerable:!0,get:function(){return E.l}}),Object.defineProperty(E,"id",{enumerable:!0,get:function(){return E.i}}),E.webpackPolyfill=1),E}},function(J,L){function E(P){throw new Error("Cannot find module '"+P+"'.")}E.keys=function(){return[]},E.resolve=E,J.exports=E,E.id=156},function(J,L,E){(function(P){var y,S="undefined"!=typeof window?window:void 0!==P?P:null;if(S&&S.crypto&&crypto.getRandomValues){var D=new Uint8Array(16);y=function(){return crypto.getRandomValues(D),D}}if(!y){var k=new Array(16);y=function(){for(var h,M=0;M<16;M++)0==(3&M)&&(h=4294967296*Math.random()),k[M]=h>>>((3&M)<<3)&255;return k}}for(var A=[],x={},O=0;O<256;O++)A[O]=(O+256).toString(16).substr(1),x[A[O]]=O;function w(g,M){var h=M||0;return A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+"-"+A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]+A[g[h++]]}var v=y(),m=[1|v[0],v[1],v[2],v[3],v[4],v[5]],c=16383&(v[6]<<8|v[7]),T=0,a=0;function d(g,M,h){var f=M&&h||0;"string"==typeof g&&(M="binary"==g?new Array(16):null,g=null);var _=(g=g||{}).random||(g.rng||y)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,M)for(var I=0;I<16;I++)M[f+I]=_[I];return M||w(_)}var u=d;u.v1=function(g,M,h){var f=M&&h||0,_=M||[],I=void 0!==(g=g||{}).clockseq?g.clockseq:c,F=void 0!==g.msecs?g.msecs:(new Date).getTime(),V=void 0!==g.nsecs?g.nsecs:a+1,j=F-T+(V-a)/1e4;if(j<0&&void 0===g.clockseq&&(I=I+1&16383),(j<0||F>T)&&void 0===g.nsecs&&(V=0),V>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");T=F,a=V,c=I;var $=(1e4*(268435455&(F+=122192928e5))+V)%4294967296;_[f++]=$>>>24&255,_[f++]=$>>>16&255,_[f++]=$>>>8&255,_[f++]=255&$;var G=F/4294967296*1e4&268435455;_[f++]=G>>>8&255,_[f++]=255&G,_[f++]=G>>>24&15|16,_[f++]=G>>>16&255,_[f++]=I>>>8|128,_[f++]=255&I;for(var Z=g.node||m,ne=0;ne<6;ne++)_[f+ne]=Z[ne];return M||w(_)},u.v4=d,u.parse=function(g,M,h){var f=M&&h||0,_=0;for(M=M||[],g.toLowerCase().replace(/[0-9a-f]{2}/g,function(I){_<16&&(M[f+_++]=x[I])});_<16;)M[f+_++]=0;return M},u.unparse=w,J.exports=u}).call(L,E(158))},function(J,L){var E;E=function(){return this}();try{E=E||Function("return this")()||(0,eval)("this")}catch(P){"object"==typeof window&&(E=window)}J.exports=E},function(J,L,E){L.util=E(2),L.DOMutil=E(14),L.DataSet=E(11),L.DataView=E(12),L.Queue=E(43),L.Graph3d=E(161),L.graph3d={Camera:E(95),Filter:E(96),Point2d:E(91),Point3d:E(34),Slider:E(92),StepNumber:E(93)},L.moment=E(9),L.Hammer=E(10),L.keycharm=E(35)},function(J,L,E){var P=E(7),y=P.JSON||(P.JSON={stringify:JSON.stringify});J.exports=function(D){return y.stringify.apply(y,arguments)}},function(J,L,E){var h,y=(h=E(90))&&h.__esModule?h:{default:h};var D=E(44),k=E(2),A=E(34),x=E(91),O=E(92),b=E(93),w=E(94),v=E(15).default,c=E(15).printStyle,a=E(172).allOptions,p=E(173),d=void 0;function u(h,f,_){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=h,this.dataGroup=new p,this.dataPoints=null,this.create(),w.setDefaults(u.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(_),this.setData(f)}function g(h){return"clientX"in h?h.clientX:h.targetTouches[0]&&h.targetTouches[0].clientX||0}function M(h){return"clientY"in h?h.clientY:h.targetTouches[0]&&h.targetTouches[0].clientY||0}u.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(f){return f},yValueLabel:function(f){return f},zValueLabel:function(f){return f},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:d,animationInterval:1e3,animationPreload:!1,animationAutoStart:d,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(u.STYLE=w.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:d,backgroundColor:d,xBarWidth:d,yBarWidth:d,valueMin:d,valueMax:d,xMin:d,xMax:d,xStep:d,yMin:d,yMax:d,yStep:d,zMin:d,zMax:d,zStep:d},D(u.prototype),u.prototype._setScale=function(){this.scale=new A(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var h=this.xRange.center()*this.scale.x,f=this.yRange.center()*this.scale.y,_=this.zRange.center()*this.scale.z;this.camera.setArmLocation(h,f,_)},u.prototype._convert3Dto2D=function(h){var f=this._convertPointToTranslation(h);return this._convertTranslationToScreen(f)},u.prototype._convertPointToTranslation=function(h){var f=this.camera.getCameraLocation(),_=this.camera.getCameraRotation(),I=h.x*this.scale.x,F=h.y*this.scale.y,V=h.z*this.scale.z,j=f.x,$=f.y,G=f.z,Z=Math.sin(_.x),ne=Math.cos(_.x),oe=Math.sin(_.y),le=Math.cos(_.y),pe=Math.sin(_.z),_e=Math.cos(_.z);return new A(le*(pe*(F-$)+_e*(I-j))-oe*(V-G),Z*(le*(V-G)+oe*(pe*(F-$)+_e*(I-j)))+ne*(_e*(F-$)-pe*(I-j)),ne*(le*(V-G)+oe*(pe*(F-$)+_e*(I-j)))-Z*(_e*(F-$)-pe*(I-j)))},u.prototype._convertTranslationToScreen=function(h){var $,G,I=this.eye.z,F=h.x,V=h.y,j=h.z;return this.showPerspective?($=I/j*(F-this.eye.x),G=I/j*(V-this.eye.y)):($=F*(-I/this.camera.getArmLength()),G=V*(-I/this.camera.getArmLength())),new x(this.currentXCenter+$*this.frame.canvas.clientWidth,this.currentYCenter-G*this.frame.canvas.clientWidth)},u.prototype._calcTranslations=function(h){for(var f=0;f<h.length;f++){var _=h[f];_.trans=this._convertPointToTranslation(_.point),_.screen=this._convertTranslationToScreen(_.trans);var I=this._convertPointToTranslation(_.bottom);_.dist=this.showPerspective?I.length():-I.z}h.sort(function(j,$){return $.dist-j.dist})},u.prototype._initializeRanges=function(){var h=this.dataGroup;this.xRange=h.xRange,this.yRange=h.yRange,this.zRange=h.zRange,this.valueRange=h.valueRange,this.xStep=h.xStep,this.yStep=h.yStep,this.zStep=h.zStep,this.xBarWidth=h.xBarWidth,this.yBarWidth=h.yBarWidth,this.colX=h.colX,this.colY=h.colY,this.colZ=h.colZ,this.colValue=h.colValue,this._setScale()},u.prototype.getDataPoints=function(h){for(var f=[],_=0;_<h.length;_++){var I=new A;I.x=h[_][this.colX]||0,I.y=h[_][this.colY]||0,I.z=h[_][this.colZ]||0,I.data=h[_],void 0!==this.colValue&&(I.value=h[_][this.colValue]||0);var F={};F.point=I,F.bottom=new A(I.x,I.y,this.zRange.min),F.trans=void 0,F.screen=void 0,f.push(F)}return f},u.prototype._getDataPoints=function(h){var f,_,I,F,V=[];if(this.style===u.STYLE.GRID||this.style===u.STYLE.SURFACE){var j=this.dataGroup.getDistinctValues(this.colX,h),$=this.dataGroup.getDistinctValues(this.colY,h);V=this.getDataPoints(h);var G=[];for(I=0;I<V.length;I++){var Z=j.indexOf((F=V[I]).point.x),ne=$.indexOf(F.point.y);void 0===G[Z]&&(G[Z]=[]),G[Z][ne]=F}for(f=0;f<G.length;f++)for(_=0;_<G[f].length;_++)G[f][_]&&(G[f][_].pointRight=f<G.length-1?G[f+1][_]:void 0,G[f][_].pointTop=_<G[f].length-1?G[f][_+1]:void 0,G[f][_].pointCross=f<G.length-1&&_<G[f].length-1?G[f+1][_+1]:void 0)}else if(this._checkValueField(h),V=this.getDataPoints(h),this.style===u.STYLE.LINE)for(I=0;I<V.length;I++)I>0&&(V[I-1].pointNext=V[I]);return V},u.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var h=document.createElement("DIV");h.style.color="red",h.style.fontWeight="bold",h.style.padding="10px",h.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(h),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var f=this;k.addEventListener(this.frame.canvas,"mousedown",function(G){f._onMouseDown(G)}),k.addEventListener(this.frame.canvas,"touchstart",function(G){f._onTouchStart(G)}),k.addEventListener(this.frame.canvas,"mousewheel",function(G){f._onWheel(G)}),k.addEventListener(this.frame.canvas,"mousemove",function(G){f._onTooltip(G)}),k.addEventListener(this.frame.canvas,"click",function(G){f._onClick(G)}),this.containerElement.appendChild(this.frame)},u.prototype._setSize=function(h,f){this.frame.style.width=h,this.frame.style.height=f,this._resizeCanvas()},u.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},u.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},u.prototype.animationStop=function(){!this.frame.filter||!this.frame.filter.slider||this.frame.filter.slider.stop()},u.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},u.prototype.getCameraPosition=function(){var h=this.camera.getArmRotation();return h.distance=this.camera.getArmLength(),h},u.prototype._readData=function(h){this.dataPoints=this.dataGroup.initializeData(this,h,this.style),this._initializeRanges(),this._redrawFilter()},u.prototype.setData=function(h){null!=h&&(this._readData(h),this.redraw(),this.animationStart())},u.prototype.setOptions=function(h){void 0!==h&&(!0===v.validate(h,a)&&console.log("%cErrors have been found in the supplied options object.",c),this.animationStop(),w.setOptions(h,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},u.prototype.setPointDrawingMethod=function(){var h=void 0;switch(this.style){case u.STYLE.BAR:h=u.prototype._redrawBarGraphPoint;break;case u.STYLE.BARCOLOR:h=u.prototype._redrawBarColorGraphPoint;break;case u.STYLE.BARSIZE:h=u.prototype._redrawBarSizeGraphPoint;break;case u.STYLE.DOT:h=u.prototype._redrawDotGraphPoint;break;case u.STYLE.DOTLINE:h=u.prototype._redrawDotLineGraphPoint;break;case u.STYLE.DOTCOLOR:h=u.prototype._redrawDotColorGraphPoint;break;case u.STYLE.DOTSIZE:h=u.prototype._redrawDotSizeGraphPoint;break;case u.STYLE.SURFACE:h=u.prototype._redrawSurfaceGraphPoint;break;case u.STYLE.GRID:h=u.prototype._redrawGridGraphPoint;break;case u.STYLE.LINE:h=u.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=h},u.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},u.prototype._getContext=function(){var f=this.frame.canvas.getContext("2d");return f.lineJoin="round",f.lineCap="round",f},u.prototype._redrawClear=function(){var h=this.frame.canvas;h.getContext("2d").clearRect(0,0,h.width,h.height)},u.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},u.prototype._getLegendWidth=function(){return this.style===u.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===u.STYLE.BARSIZE?this.xBarWidth:20},u.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==u.STYLE.LINE&&this.style!==u.STYLE.BARSIZE){var h=this.style===u.STYLE.BARSIZE||this.style===u.STYLE.DOTSIZE,f=this.style===u.STYLE.DOTSIZE||this.style===u.STYLE.DOTCOLOR||this.style===u.STYLE.BARCOLOR,_=Math.max(.25*this.frame.clientHeight,100),I=this.margin,F=this._getLegendWidth(),V=this.frame.clientWidth-this.margin,j=V-F,$=I+_,G=this._getContext();if(G.lineWidth=1,G.font="14px arial",!1===h){var oe,ne=_;for(oe=0;oe<ne;oe++){var _e=this._hsv2rgb((oe-0)/(ne-0)*240,1,1);G.strokeStyle=_e,G.beginPath(),G.moveTo(j,I+oe),G.lineTo(V,I+oe),G.stroke()}G.strokeStyle=this.axisColor,G.strokeRect(j,I,F,_)}else{var we;this.style===u.STYLE.DOTSIZE&&(we=F*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),G.strokeStyle=this.axisColor,G.fillStyle=this.dataColor.fill,G.beginPath(),G.moveTo(j,I),G.lineTo(V,I),G.lineTo(j+we,$),G.lineTo(j,$),G.closePath(),G.fill(),G.stroke()}var Ce,ke,ge=f?this.valueRange.min:this.zRange.min,ue=f?this.valueRange.max:this.zRange.max,ce=new b(ge,ue,(ue-ge)/5,!0);for(ce.start(!0);!ce.end();)oe=$-(ce.getCurrent()-ge)/(ue-ge)*_,Ce=new x(j-5,oe),ke=new x(j,oe),this._line(G,Ce,ke),G.textAlign="right",G.textBaseline="middle",G.fillStyle=this.axisColor,G.fillText(ce.getCurrent(),j-10,oe),ce.next();G.textAlign="right",G.textBaseline="top",G.fillText(this.legendLabel,V,$+this.margin)}},u.prototype._redrawFilter=function(){var h=this.dataGroup.dataFilter,f=this.frame.filter;if(f.innerHTML="",h){var I=new O(f,{visible:this.showAnimationControls});f.slider=I,f.style.padding="10px",I.setValues(h.values),I.setPlayInterval(this.animationInterval);var F=this;I.setOnChangeCallback(function(){var $=F.dataGroup.dataFilter,G=I.getIndex();$.selectValue(G),F.dataPoints=$._getDataPoints(),F.redraw()})}else f.slider=void 0},u.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},u.prototype._redrawInfo=function(){var h=this.dataGroup.getInfo();if(void 0!==h){var f=this._getContext();f.font="14px arial",f.lineStyle="gray",f.fillStyle="gray",f.textAlign="left",f.textBaseline="top",f.fillText(h,this.margin,this.margin)}},u.prototype._line=function(h,f,_,I){void 0!==I&&(h.strokeStyle=I),h.beginPath(),h.moveTo(f.x,f.y),h.lineTo(_.x,_.y),h.stroke()},u.prototype.drawAxisLabelX=function(h,f,_,I,F){void 0===F&&(F=0);var V=this._convert3Dto2D(f);Math.cos(2*I)>0?(h.textAlign="center",h.textBaseline="top",V.y+=F):Math.sin(2*I)<0?(h.textAlign="right",h.textBaseline="middle"):(h.textAlign="left",h.textBaseline="middle"),h.fillStyle=this.axisColor,h.fillText(_,V.x,V.y)},u.prototype.drawAxisLabelY=function(h,f,_,I,F){void 0===F&&(F=0);var V=this._convert3Dto2D(f);Math.cos(2*I)<0?(h.textAlign="center",h.textBaseline="top",V.y+=F):Math.sin(2*I)>0?(h.textAlign="right",h.textBaseline="middle"):(h.textAlign="left",h.textBaseline="middle"),h.fillStyle=this.axisColor,h.fillText(_,V.x,V.y)},u.prototype.drawAxisLabelZ=function(h,f,_,I){void 0===I&&(I=0);var F=this._convert3Dto2D(f);h.textAlign="right",h.textBaseline="middle",h.fillStyle=this.axisColor,h.fillText(_,F.x-I,F.y)},u.prototype._line3d=function(h,f,_,I){var F=this._convert3Dto2D(f),V=this._convert3Dto2D(_);this._line(h,F,V,I)},u.prototype._redrawAxis=function(){var f,_,I,V,j,$,ne,oe,h=this._getContext();h.font=24/this.camera.getArmLength()+"px arial";var Ce,at,Dt,le=.025/this.scale.x,pe=.025/this.scale.y,_e=5/this.camera.getArmLength(),we=this.camera.getArmRotation().horizontal,Ee=new x(Math.cos(we),Math.sin(we)),ge=this.xRange,ue=this.yRange,ce=this.zRange;for(h.lineWidth=1,(I=new b(ge.min,ge.max,this.xStep,void 0===this.defaultXStep)).start(!0);!I.end();){var ke=I.getCurrent();if(this.showGrid?(f=new A(ke,ue.min,ce.min),_=new A(ke,ue.max,ce.min),this._line3d(h,f,_,this.gridColor)):this.showXAxis&&(f=new A(ke,ue.min,ce.min),_=new A(ke,ue.min+le,ce.min),this._line3d(h,f,_,this.axisColor),f=new A(ke,ue.max,ce.min),_=new A(ke,ue.max-le,ce.min),this._line3d(h,f,_,this.axisColor)),this.showXAxis){Ce=new A(ke,$=Ee.x>0?ue.min:ue.max,ce.min);var Ie="  "+this.xValueLabel(ke)+"  ";this.drawAxisLabelX(h,Ce,Ie,we,_e)}I.next()}for(h.lineWidth=1,(I=new b(ue.min,ue.max,this.yStep,void 0===this.defaultYStep)).start(!0);!I.end();){var xe=I.getCurrent();if(this.showGrid?(f=new A(ge.min,xe,ce.min),_=new A(ge.max,xe,ce.min),this._line3d(h,f,_,this.gridColor)):this.showYAxis&&(f=new A(ge.min,xe,ce.min),_=new A(ge.min+pe,xe,ce.min),this._line3d(h,f,_,this.axisColor),f=new A(ge.max,xe,ce.min),_=new A(ge.max-pe,xe,ce.min),this._line3d(h,f,_,this.axisColor)),this.showYAxis){Ce=new A(j=Ee.y>0?ge.min:ge.max,xe,ce.min);var Be="  "+this.yValueLabel(xe)+"  ";this.drawAxisLabelY(h,Ce,Be,we,_e)}I.next()}if(this.showZAxis){for(h.lineWidth=1,(I=new b(ce.min,ce.max,this.zStep,void 0===this.defaultZStep)).start(!0),j=Ee.x>0?ge.min:ge.max,$=Ee.y<0?ue.min:ue.max;!I.end();){var ze=I.getCurrent(),it=new A(j,$,ze),nn=this._convert3Dto2D(it);_=new x(nn.x-_e,nn.y),this._line(h,nn,_,this.axisColor);var cn=this.zValueLabel(ze)+" ";this.drawAxisLabelZ(h,it,cn,5),I.next()}h.lineWidth=1,f=new A(j,$,ce.min),_=new A(j,$,ce.max),this._line3d(h,f,_,this.axisColor)}this.showXAxis&&(h.lineWidth=1,at=new A(ge.min,ue.min,ce.min),Dt=new A(ge.max,ue.min,ce.min),this._line3d(h,at,Dt,this.axisColor),at=new A(ge.min,ue.max,ce.min),Dt=new A(ge.max,ue.max,ce.min),this._line3d(h,at,Dt,this.axisColor)),this.showYAxis&&(h.lineWidth=1,f=new A(ge.min,ue.min,ce.min),_=new A(ge.min,ue.max,ce.min),this._line3d(h,f,_,this.axisColor),f=new A(ge.max,ue.min,ce.min),_=new A(ge.max,ue.max,ce.min),this._line3d(h,f,_,this.axisColor));var Jt=this.xLabel;Jt.length>0&&this.showXAxis&&(oe=.1/this.scale.y,V=new A(j=(ge.max+3*ge.min)/4,$=Ee.x>0?ue.min-oe:ue.max+oe,ce.min),this.drawAxisLabelX(h,V,Jt,we));var sn=this.yLabel;sn.length>0&&this.showYAxis&&(ne=.1/this.scale.x,V=new A(j=Ee.y>0?ge.min-ne:ge.max+ne,$=(ue.max+3*ue.min)/4,ce.min),this.drawAxisLabelY(h,V,sn,we));var mn=this.zLabel;mn.length>0&&this.showZAxis&&(30,V=new A(j=Ee.x>0?ge.min:ge.max,$=Ee.y<0?ue.min:ue.max,(ce.max+3*ce.min)/4),this.drawAxisLabelZ(h,V,mn,30))},u.prototype._hsv2rgb=function(h,f,_){var I,F,V,j,$,G;switch(j=_*f,$=Math.floor(h/60),G=j*(1-Math.abs(h/60%2-1)),$){case 0:I=j,F=G,V=0;break;case 1:I=G,F=j,V=0;break;case 2:I=0,F=j,V=G;break;case 3:I=0,F=G,V=j;break;case 4:I=G,F=0,V=j;break;case 5:I=j,F=0,V=G;break;default:I=0,F=0,V=0}return"RGB("+parseInt(255*I)+","+parseInt(255*F)+","+parseInt(255*V)+")"},u.prototype._getStrokeWidth=function(h){return void 0!==h?this.showPerspective?1/-h.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},u.prototype._redrawBar=function(h,f,_,I,F,V){var j,$=this,G=f.point,Z=this.zRange.min,ne=[{point:new A(G.x-_,G.y-I,G.z)},{point:new A(G.x+_,G.y-I,G.z)},{point:new A(G.x+_,G.y+I,G.z)},{point:new A(G.x-_,G.y+I,G.z)}],oe=[{point:new A(G.x-_,G.y-I,Z)},{point:new A(G.x+_,G.y-I,Z)},{point:new A(G.x+_,G.y+I,Z)},{point:new A(G.x-_,G.y+I,Z)}];ne.forEach(function(Ee){Ee.screen=$._convert3Dto2D(Ee.point)}),oe.forEach(function(Ee){Ee.screen=$._convert3Dto2D(Ee.point)});var le=[{corners:ne,center:A.avg(oe[0].point,oe[2].point)},{corners:[ne[0],ne[1],oe[1],oe[0]],center:A.avg(oe[1].point,oe[0].point)},{corners:[ne[1],ne[2],oe[2],oe[1]],center:A.avg(oe[2].point,oe[1].point)},{corners:[ne[2],ne[3],oe[3],oe[2]],center:A.avg(oe[3].point,oe[2].point)},{corners:[ne[3],ne[0],oe[0],oe[3]],center:A.avg(oe[0].point,oe[3].point)}];f.surfaces=le;for(var pe=0;pe<le.length;pe++){var _e=this._convertPointToTranslation((j=le[pe]).center);j.dist=this.showPerspective?_e.length():-_e.z}le.sort(function(Ee,ge){return ge.dist-Ee.dist||(Ee.corners===ne?1:ge.corners===ne?-1:0)}),h.lineWidth=this._getStrokeWidth(f),h.strokeStyle=V,h.fillStyle=F;for(var we=2;we<le.length;we++)this._polygon(h,(j=le[we]).corners)},u.prototype._polygon=function(h,f,_,I){if(!(f.length<2)){void 0!==_&&(h.fillStyle=_),void 0!==I&&(h.strokeStyle=I),h.beginPath(),h.moveTo(f[0].screen.x,f[0].screen.y);for(var F=1;F<f.length;++F){var V=f[F];h.lineTo(V.screen.x,V.screen.y)}h.closePath(),h.fill(),h.stroke()}},u.prototype._drawCircle=function(h,f,_,I,F){var V=this._calcRadius(f,F);h.lineWidth=this._getStrokeWidth(f),h.strokeStyle=I,h.fillStyle=_,h.beginPath(),h.arc(f.screen.x,f.screen.y,V,0,2*Math.PI,!0),h.fill(),h.stroke()},u.prototype._getColorsRegular=function(h){var f=240*(1-(h.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(f,1,1),border:this._hsv2rgb(f,1,.8)}},u.prototype._getColorsColor=function(h){var f,_;if("string"==typeof h.point.value)f=h.point.value,_=h.point.value;else{var I=240*(1-(h.point.value-this.valueRange.min)*this.scale.value);f=this._hsv2rgb(I,1,1),_=this._hsv2rgb(I,1,.8)}return{fill:f,border:_}},u.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},u.prototype._calcRadius=function(h,f){var _;return void 0===f&&(f=this._dotSize()),(_=this.showPerspective?f/-h.trans.z:f*(-this.eye.z/this.camera.getArmLength()))<0&&(_=0),_},u.prototype._redrawBarGraphPoint=function(h,f){var _=this.xBarWidth/2,I=this.yBarWidth/2,F=this._getColorsRegular(f);this._redrawBar(h,f,_,I,F.fill,F.border)},u.prototype._redrawBarColorGraphPoint=function(h,f){var _=this.xBarWidth/2,I=this.yBarWidth/2,F=this._getColorsColor(f);this._redrawBar(h,f,_,I,F.fill,F.border)},u.prototype._redrawBarSizeGraphPoint=function(h,f){var _=(f.point.value-this.valueRange.min)/this.valueRange.range(),I=this.xBarWidth/2*(.8*_+.2),F=this.yBarWidth/2*(.8*_+.2),V=this._getColorsSize();this._redrawBar(h,f,I,F,V.fill,V.border)},u.prototype._redrawDotGraphPoint=function(h,f){var _=this._getColorsRegular(f);this._drawCircle(h,f,_.fill,_.border)},u.prototype._redrawDotLineGraphPoint=function(h,f){var _=this._convert3Dto2D(f.bottom);h.lineWidth=1,this._line(h,_,f.screen,this.gridColor),this._redrawDotGraphPoint(h,f)},u.prototype._redrawDotColorGraphPoint=function(h,f){var _=this._getColorsColor(f);this._drawCircle(h,f,_.fill,_.border)},u.prototype._redrawDotSizeGraphPoint=function(h,f){var _=this._dotSize(),I=(f.point.value-this.valueRange.min)/this.valueRange.range(),F=_*this.dotSizeMinFraction,j=F+(_*this.dotSizeMaxFraction-F)*I,$=this._getColorsSize();this._drawCircle(h,f,$.fill,$.border,j)},u.prototype._redrawSurfaceGraphPoint=function(h,f){var _=f.pointRight,I=f.pointTop,F=f.pointCross;if(void 0!==f&&void 0!==_&&void 0!==I&&void 0!==F){var j,$,V=!0;if(this.showGrayBottom||this.showShadow){var G=A.subtract(F.trans,f.trans),Z=A.subtract(I.trans,_.trans),ne=A.crossProduct(G,Z),oe=ne.length();V=ne.z>0}if(V){var we,pe=240*(1-((f.point.z+_.point.z+I.point.z+F.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(we=Math.min(1+ne.x/oe/2,1),$=j=this._hsv2rgb(pe,1,we)):(j=this._hsv2rgb(pe,1,we=1),$=this.axisColor)}else j="gray",$=this.axisColor;h.lineWidth=this._getStrokeWidth(f),this._polygon(h,[f,_,F,I],j,$)}},u.prototype._drawGridLine=function(h,f,_){if(void 0!==f&&void 0!==_){var F=240*(1-((f.point.z+_.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);h.lineWidth=2*this._getStrokeWidth(f),h.strokeStyle=this._hsv2rgb(F,1,1),this._line(h,f.screen,_.screen)}},u.prototype._redrawGridGraphPoint=function(h,f){this._drawGridLine(h,f,f.pointRight),this._drawGridLine(h,f,f.pointTop)},u.prototype._redrawLineGraphPoint=function(h,f){void 0!==f.pointNext&&(h.lineWidth=this._getStrokeWidth(f),h.strokeStyle=this.dataColor.stroke,this._line(h,f.screen,f.pointNext.screen))},u.prototype._redrawDataGraph=function(){var f,h=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),f=0;f<this.dataPoints.length;f++)this._pointDrawingMethod.call(this,h,this.dataPoints[f])},u.prototype._storeMousePosition=function(h){this.startMouseX=g(h),this.startMouseY=M(h),this._startCameraOffset=this.camera.getOffset()},u.prototype._onMouseDown=function(h){if(h=h||window.event,this.leftButtonDown&&this._onMouseUp(h),this.leftButtonDown=h.which?1===h.which:1===h.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(h),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var f=this;this.onmousemove=function(_){f._onMouseMove(_)},this.onmouseup=function(_){f._onMouseUp(_)},k.addEventListener(document,"mousemove",f.onmousemove),k.addEventListener(document,"mouseup",f.onmouseup),k.preventDefault(h)}},u.prototype._onMouseMove=function(h){this.moving=!0,h=h||window.event;var f=parseFloat(g(h))-this.startMouseX,_=parseFloat(M(h))-this.startMouseY;if(h&&!0===h.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-f/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+_/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(h);else{var $=this.startArmRotation.horizontal+f/200,G=this.startArmRotation.vertical+_/200,ne=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin($))<ne&&($=Math.round($/Math.PI)*Math.PI-.001),Math.abs(Math.cos($))<ne&&($=(Math.round($/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(G))<ne&&(G=Math.round(G/Math.PI)*Math.PI),Math.abs(Math.cos(G))<ne&&(G=(Math.round(G/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation($,G)}this.redraw();var oe=this.getCameraPosition();this.emit("cameraPositionChange",oe),k.preventDefault(h)},u.prototype._onMouseUp=function(h){this.frame.style.cursor="auto",this.leftButtonDown=!1,k.removeEventListener(document,"mousemove",this.onmousemove),k.removeEventListener(document,"mouseup",this.onmouseup),k.preventDefault(h)},u.prototype._onClick=function(h){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var f=this.frame.getBoundingClientRect(),_=g(h)-f.left,I=M(h)-f.top,F=this._dataPointFromXY(_,I);F&&this.onclick_callback(F.point.data)}k.preventDefault(h)}},u.prototype._onTooltip=function(h){var _=this.frame.getBoundingClientRect(),I=g(h)-_.left,F=M(h)-_.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var V=this._dataPointFromXY(I,F);V!==this.tooltip.dataPoint&&(V?this._showTooltip(V):this._hideTooltip())}else{var j=this;this.tooltipTimeout=setTimeout(function(){j.tooltipTimeout=null;var $=j._dataPointFromXY(I,F);$&&j._showTooltip($)},300)}}},u.prototype._onTouchStart=function(h){this.touchDown=!0;var f=this;this.ontouchmove=function(_){f._onTouchMove(_)},this.ontouchend=function(_){f._onTouchEnd(_)},k.addEventListener(document,"touchmove",f.ontouchmove),k.addEventListener(document,"touchend",f.ontouchend),this._onMouseDown(h)},u.prototype._onTouchMove=function(h){this._onMouseMove(h)},u.prototype._onTouchEnd=function(h){this.touchDown=!1,k.removeEventListener(document,"touchmove",this.ontouchmove),k.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(h)},u.prototype._onWheel=function(h){h||(h=window.event);var f=0;if(h.wheelDelta?f=h.wheelDelta/120:h.detail&&(f=-h.detail/3),f){var _=this.camera.getArmLength();this.camera.setArmLength(_*(1-f/10)),this.redraw(),this._hideTooltip()}var F=this.getCameraPosition();this.emit("cameraPositionChange",F),k.preventDefault(h)},u.prototype._insideTriangle=function(h,f){var _=f[0],I=f[1],F=f[2];function V(Z){return Z>0?1:Z<0?-1:0}var j=V((I.x-_.x)*(h.y-_.y)-(I.y-_.y)*(h.x-_.x)),$=V((F.x-I.x)*(h.y-I.y)-(F.y-I.y)*(h.x-I.x)),G=V((_.x-F.x)*(h.y-F.y)-(_.y-F.y)*(h.x-F.x));return!(0!=j&&0!=$&&j!=$||0!=$&&0!=G&&$!=G||0!=j&&0!=G&&j!=G)},u.prototype._dataPointFromXY=function(h,f){var _,F=null,V=null,j=null,$=new x(h,f);if(this.style===u.STYLE.BAR||this.style===u.STYLE.BARCOLOR||this.style===u.STYLE.BARSIZE)for(_=this.dataPoints.length-1;_>=0;_--){var G=(F=this.dataPoints[_]).surfaces;if(G)for(var Z=G.length-1;Z>=0;Z--){var oe=G[Z].corners,pe=[oe[2].screen,oe[3].screen,oe[0].screen];if(this._insideTriangle($,[oe[0].screen,oe[1].screen,oe[2].screen])||this._insideTriangle($,pe))return F}}else for(_=0;_<this.dataPoints.length;_++){var _e=(F=this.dataPoints[_]).screen;if(_e){var we=Math.abs(h-_e.x),Ee=Math.abs(f-_e.y),ge=Math.sqrt(we*we+Ee*Ee);(null===j||ge<j)&&ge<100&&(j=ge,V=F)}}return V},u.prototype.hasBars=function(h){return h==u.STYLE.BAR||h==u.STYLE.BARCOLOR||h==u.STYLE.BARSIZE},u.prototype._showTooltip=function(h){var f,_,I;this.tooltip?(f=this.tooltip.dom.content,_=this.tooltip.dom.line,I=this.tooltip.dom.dot):(f=document.createElement("div"),(0,y.default)(f.style,{},this.tooltipStyle.content),f.style.position="absolute",_=document.createElement("div"),(0,y.default)(_.style,{},this.tooltipStyle.line),_.style.position="absolute",I=document.createElement("div"),(0,y.default)(I.style,{},this.tooltipStyle.dot),I.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:f,line:_,dot:I}}),this._hideTooltip(),this.tooltip.dataPoint=h,f.innerHTML="function"==typeof this.showTooltip?this.showTooltip(h.point):"<table><tr><td>"+this.xLabel+":</td><td>"+h.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+h.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+h.point.z+"</td></tr></table>",f.style.left="0",f.style.top="0",this.frame.appendChild(f),this.frame.appendChild(_),this.frame.appendChild(I);var F=f.offsetWidth,V=f.offsetHeight,j=_.offsetHeight,$=I.offsetWidth,G=I.offsetHeight,Z=h.screen.x-F/2;Z=Math.min(Math.max(Z,10),this.frame.clientWidth-10-F),_.style.left=h.screen.x+"px",_.style.top=h.screen.y-j+"px",f.style.left=Z+"px",f.style.top=h.screen.y-j-V+"px",I.style.left=h.screen.x-$/2+"px",I.style.top=h.screen.y-G/2+"px"},u.prototype._hideTooltip=function(){if(this.tooltip)for(var h in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(h)){var f=this.tooltip.dom[h];f&&f.parentNode&&f.parentNode.removeChild(f)}},u.prototype.setCameraPosition=function(h){w.setCameraPosition(h,this),this.redraw()},u.prototype.setSize=function(h,f){this._setSize(h,f),this.redraw()},J.exports=u},function(J,L,E){E(163),J.exports=E(7).Object.assign},function(J,L,E){var P=E(17);P(P.S+P.F,"Object",{assign:E(164)})},function(J,L,E){var P=E(33),y=E(63),S=E(42),D=E(41),k=E(78),A=Object.assign;J.exports=!A||E(28)(function(){var x={},O={},b=Symbol(),w="abcdefghijklmnopqrst";return x[b]=7,w.split("").forEach(function(v){O[v]=v}),7!=A({},x)[b]||Object.keys(A({},O)).join("")!=w})?function(O,b){for(var w=D(O),v=arguments.length,m=1,c=y.f,T=S.f;v>m;)for(var g,a=k(arguments[m++]),p=c?P(a).concat(c(a)):P(a),d=p.length,u=0;d>u;)T.call(a,g=p[u++])&&(w[g]=a[g]);return w}:A},function(J,L,E){J.exports={default:E(166),__esModule:!0}},function(J,L,E){E(167),J.exports=E(7).Math.sign},function(J,L,E){var P=E(17);P(P.S,"Math",{sign:E(168)})},function(J,L){J.exports=Math.sign||function(P){return 0==(P=+P)||P!=P?P:P<0?-1:1}},function(J,L,E){J.exports={default:E(170),__esModule:!0}},function(J,L,E){E(171);var P=E(7).Object;J.exports=function(S,D,k){return P.defineProperty(S,D,k)}},function(J,L,E){var P=E(17);P(P.S+P.F*!E(21),"Object",{defineProperty:E(20).f})},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var P="string",y="boolean",S="number",D="object",k={fill:{string:P},stroke:{string:P},strokeWidth:{number:S},__type__:{string:P,object:D,undefined:"undefined"}};L.allOptions={animationAutoStart:{boolean:y,undefined:"undefined"},animationInterval:{number:S},animationPreload:{boolean:y},axisColor:{string:P},backgroundColor:k,xBarWidth:{number:S,undefined:"undefined"},yBarWidth:{number:S,undefined:"undefined"},cameraPosition:{distance:{number:S},horizontal:{number:S},vertical:{number:S},__type__:{object:D}},xCenter:{string:P},yCenter:{string:P},dataColor:k,dotSizeMinFraction:{number:S},dotSizeMaxFraction:{number:S},dotSizeRatio:{number:S},filterLabel:{string:P},gridColor:{string:P},onclick:{function:"function"},keepAspectRatio:{boolean:y},xLabel:{string:P},yLabel:{string:P},zLabel:{string:P},legendLabel:{string:P},xMin:{number:S,undefined:"undefined"},yMin:{number:S,undefined:"undefined"},zMin:{number:S,undefined:"undefined"},xMax:{number:S,undefined:"undefined"},yMax:{number:S,undefined:"undefined"},zMax:{number:S,undefined:"undefined"},showAnimationControls:{boolean:y,undefined:"undefined"},showGrid:{boolean:y},showLegend:{boolean:y,undefined:"undefined"},showPerspective:{boolean:y},showShadow:{boolean:y},showXAxis:{boolean:y},showYAxis:{boolean:y},showZAxis:{boolean:y},xStep:{number:S,undefined:"undefined"},yStep:{number:S,undefined:"undefined"},zStep:{number:S,undefined:"undefined"},style:{number:S,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:y,function:"function"},tooltipStyle:{content:{color:{string:P},background:{string:P},border:{string:P},borderRadius:{string:P},boxShadow:{string:P},padding:{string:P},__type__:{object:D}},line:{borderLeft:{string:P},height:{string:P},width:{string:P},__type__:{object:D}},dot:{border:{string:P},borderRadius:{string:P},height:{string:P},width:{string:P},__type__:{object:D}},__type__:{object:D}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:S,undefined:"undefined"},valueMin:{number:S,undefined:"undefined"},verticalRatio:{number:S},height:{string:P},width:{string:P},__type__:{object:D}}},function(J,L,E){var P=E(11),y=E(12),S=E(174),D=E(96),k=E(94),A=E(34);function x(){this.dataTable=null}x.prototype.initializeData=function(O,b,w){if(void 0!==b){var v;if(Array.isArray(b)&&(b=new P(b)),!(b instanceof P||b instanceof y))throw new Error("Array, DataSet, or DataView expected");if(0!=(v=b.get()).length){this.style=w,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=b,this.dataTable=v;var m=this;this._onChange=function(){O.setData(m.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var c=O.hasBars(w);if(c&&(this.xBarWidth=void 0!==O.defaultXBarWidth?O.defaultXBarWidth:this.getSmallestDifference(v,this.colX)||1,this.yBarWidth=void 0!==O.defaultYBarWidth?O.defaultYBarWidth:this.getSmallestDifference(v,this.colY)||1),this._initializeRange(v,this.colX,O,c),this._initializeRange(v,this.colY,O,c),this._initializeRange(v,this.colZ,O,!1),v[0].hasOwnProperty("style")){this.colValue="style";var T=this.getColumnRange(v,this.colValue);this._setRangeDefaults(T,O.defaultValueMin,O.defaultValueMax),this.valueRange=T}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new D(this,"filter",O),this.dataFilter.setOnLoadCallback(function(){O.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},x.prototype._collectRangeSettings=function(O,b){if(-1==["x","y","z"].indexOf(O))throw new Error("Column '"+O+"' invalid");var v=O.toUpperCase();return{barWidth:this[O+"BarWidth"],min:b["default"+v+"Min"],max:b["default"+v+"Max"],step:b["default"+v+"Step"],range_label:O+"Range",step_label:O+"Step"}},x.prototype._initializeRange=function(O,b,w,v){var c=this._collectRangeSettings(b,w),T=this.getColumnRange(O,b);v&&"z"!=b&&T.expand(c.barWidth/2),this._setRangeDefaults(T,c.min,c.max),this[c.range_label]=T,this[c.step_label]=void 0!==c.step?c.step:T.range()/5},x.prototype.getDistinctValues=function(O,b){void 0===b&&(b=this.dataTable);for(var w=[],v=0;v<b.length;v++){var m=b[v][O]||0;-1===w.indexOf(m)&&w.push(m)}return w.sort(function(c,T){return c-T})},x.prototype.getSmallestDifference=function(O,b){for(var w=this.getDistinctValues(O,b),v=null,m=1;m<w.length;m++){var c=w[m]-w[m-1];(null==v||v>c)&&(v=c)}return v},x.prototype.getColumnRange=function(O,b){for(var w=new S,v=0;v<O.length;v++)w.adjust(O[v][b]);return w},x.prototype.getNumberOfRows=function(){return this.dataTable.length},x.prototype._setRangeDefaults=function(O,b,w){void 0!==b&&(O.min=b),void 0!==w&&(O.max=w),O.max<=O.min&&(O.max=O.min+1)},x.prototype.getDataTable=function(){return this.dataTable},x.prototype.getDataSet=function(){return this.dataSet},x.prototype.getDataPoints=function(O){for(var b=[],w=0;w<O.length;w++){var v=new A;v.x=O[w][this.colX]||0,v.y=O[w][this.colY]||0,v.z=O[w][this.colZ]||0,v.data=O[w],void 0!==this.colValue&&(v.value=O[w][this.colValue]||0);var m={};m.point=v,m.bottom=new A(v.x,v.y,this.zRange.min),m.trans=void 0,m.screen=void 0,b.push(m)}return b},x.prototype.initDataAsMatrix=function(O){var b,w,v,m,c=this.getDistinctValues(this.colX,O),T=this.getDistinctValues(this.colY,O),a=this.getDataPoints(O),p=[];for(v=0;v<a.length;v++){var d=c.indexOf((m=a[v]).point.x),u=T.indexOf(m.point.y);void 0===p[d]&&(p[d]=[]),p[d][u]=m}for(b=0;b<p.length;b++)for(w=0;w<p[b].length;w++)p[b][w]&&(p[b][w].pointRight=b<p.length-1?p[b+1][w]:void 0,p[b][w].pointTop=w<p[b].length-1?p[b][w+1]:void 0,p[b][w].pointCross=b<p.length-1&&w<p[b].length-1?p[b+1][w+1]:void 0);return a},x.prototype.getInfo=function(){var O=this.dataFilter;if(O)return O.getLabel()+": "+O.getSelectedValue()},x.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},x.prototype._getDataPoints=function(O){var b=[];if(this.style===k.STYLE.GRID||this.style===k.STYLE.SURFACE)b=this.initDataAsMatrix(O);else if(this._checkValueField(O),b=this.getDataPoints(O),this.style===k.STYLE.LINE)for(var w=0;w<b.length;w++)w>0&&(b[w-1].pointNext=b[w]);return b},x.prototype._checkValueField=function(O){if(this.style===k.STYLE.BARCOLOR||this.style===k.STYLE.BARSIZE||this.style===k.STYLE.DOTCOLOR||this.style===k.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===O[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},J.exports=x},function(J,L,E){function P(){this.min=void 0,this.max=void 0}P.prototype.adjust=function(y){void 0!==y&&((void 0===this.min||this.min>y)&&(this.min=y),(void 0===this.max||this.max<y)&&(this.max=y))},P.prototype.combine=function(y){this.add(y.min),this.add(y.max)},P.prototype.expand=function(y){if(void 0!==y){var S=this.min-y,D=this.max+y;if(S>D)throw new Error("Passed expansion value makes range invalid");this.min=S,this.max=D}},P.prototype.range=function(){return this.max-this.min},P.prototype.center=function(){return(this.min+this.max)/2},J.exports=P},function(J,L,E){var P,S;void 0!==(S="function"==typeof(P=function(){var D=null;return function k(A,x){var O=x||{preventDefault:!1};if(A.Manager){var b=A,w=function(a,p){var d=Object.create(O);return p&&b.assign(d,p),k(new b(a,d),d)};return b.assign(w,b),w.Manager=function(a,p){var d=Object.create(O);return p&&b.assign(d,p),k(new b.Manager(a,d),d)},w}var v=Object.create(A),m=A.element;function c(a){return a.match(/[^ ]+/g)}function T(a){if("hammer.input"!==a.type){if(a.srcEvent._handled||(a.srcEvent._handled={}),a.srcEvent._handled[a.type])return;a.srcEvent._handled[a.type]=!0}var p=!1;a.stopPropagation=function(){p=!0};var d=a.srcEvent.stopPropagation.bind(a.srcEvent);"function"==typeof d&&(a.srcEvent.stopPropagation=function(){d(),a.stopPropagation()}),a.firstTarget=D;for(var u=D;u&&!p;){var g=u.hammer;if(g)for(var M,h=0;h<g.length;h++)if(M=g[h]._handlers[a.type])for(var f=0;f<M.length&&!p;f++)M[f](a);u=u.parentNode}}return m.hammer||(m.hammer=[]),m.hammer.push(v),A.on("hammer.input",function(a){(!0===O.preventDefault||O.preventDefault===a.pointerType)&&a.preventDefault(),a.isFirst&&(D=a.target)}),v._handlers={},v.on=function(a,p){return c(a).forEach(function(d){var u=v._handlers[d];u||(v._handlers[d]=u=[],A.on(d,T)),u.push(p)}),v},v.off=function(a,p){return c(a).forEach(function(d){var u=v._handlers[d];u&&((u=p?u.filter(function(g){return g!==p}):[]).length>0?v._handlers[d]=u:(A.off(d,T),delete v._handlers[d]))}),v},v.emit=function(a,p){D=p.target,A.emit(a,p)},v.destroy=function(){var a=A.element.hammer,p=a.indexOf(v);-1!==p&&a.splice(p,1),a.length||delete A.element.hammer,v._handlers={},A.destroy()},v}})?P.apply(L,[]):P)&&(J.exports=S)},function(J,L,E){var P;!function(y,S,D,k){var p,A=["","webkit","Moz","MS","ms","o"],x=S.createElement("div"),b=Math.round,w=Math.abs,v=Date.now;function m(te,ie,de){return setTimeout(M(te,de),ie)}function c(te,ie,de){return!!Array.isArray(te)&&(T(te,de[ie],de),!0)}function T(te,ie,de){var ye;if(te)if(te.forEach)te.forEach(ie,de);else if(te.length!==k)for(ye=0;ye<te.length;)ie.call(de,te[ye],ye,te),ye++;else for(ye in te)te.hasOwnProperty(ye)&&ie.call(de,te[ye],ye,te)}function a(te,ie,de){var ye="DEPRECATED METHOD: "+ie+"\n"+de+" AT \n";return function(){var Ae=new Error("get-stack-trace"),Pe=Ae&&Ae.stack?Ae.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ot=y.console&&(y.console.warn||y.console.log);return Ot&&Ot.call(y.console,ye,Pe),te.apply(this,arguments)}}p="function"!=typeof Object.assign?function(ie){if(ie===k||null===ie)throw new TypeError("Cannot convert undefined or null to object");for(var de=Object(ie),ye=1;ye<arguments.length;ye++){var Ae=arguments[ye];if(Ae!==k&&null!==Ae)for(var Pe in Ae)Ae.hasOwnProperty(Pe)&&(de[Pe]=Ae[Pe])}return de}:Object.assign;var d=a(function(ie,de,ye){for(var Ae=Object.keys(de),Pe=0;Pe<Ae.length;)(!ye||ye&&ie[Ae[Pe]]===k)&&(ie[Ae[Pe]]=de[Ae[Pe]]),Pe++;return ie},"extend","Use `assign`."),u=a(function(ie,de){return d(ie,de,!0)},"merge","Use `assign`.");function g(te,ie,de){var Ae,ye=ie.prototype;(Ae=te.prototype=Object.create(ye)).constructor=te,Ae._super=ye,de&&p(Ae,de)}function M(te,ie){return function(){return te.apply(ie,arguments)}}function h(te,ie){return"function"==typeof te?te.apply(ie&&ie[0]||k,ie):te}function f(te,ie){return te===k?ie:te}function _(te,ie,de){T(j(ie),function(ye){te.addEventListener(ye,de,!1)})}function I(te,ie,de){T(j(ie),function(ye){te.removeEventListener(ye,de,!1)})}function F(te,ie){for(;te;){if(te==ie)return!0;te=te.parentNode}return!1}function V(te,ie){return te.indexOf(ie)>-1}function j(te){return te.trim().split(/\s+/g)}function $(te,ie,de){if(te.indexOf&&!de)return te.indexOf(ie);for(var ye=0;ye<te.length;){if(de&&te[ye][de]==ie||!de&&te[ye]===ie)return ye;ye++}return-1}function G(te){return Array.prototype.slice.call(te,0)}function Z(te,ie,de){for(var ye=[],Ae=[],Pe=0;Pe<te.length;){var Ot=ie?te[Pe][ie]:te[Pe];$(Ae,Ot)<0&&ye.push(te[Pe]),Ae[Pe]=Ot,Pe++}return de&&(ye=ie?ye.sort(function(vn,pt){return vn[ie]>pt[ie]}):ye.sort()),ye}function ne(te,ie){for(var de,ye,Ae=ie[0].toUpperCase()+ie.slice(1),Pe=0;Pe<A.length;){if((ye=(de=A[Pe])?de+Ae:ie)in te)return ye;Pe++}return k}var oe=1;function pe(te){var ie=te.ownerDocument||te;return ie.defaultView||ie.parentWindow||y}var we="ontouchstart"in y,Ee=ne(y,"PointerEvent")!==k,ge=we&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ue="touch",Ce="mouse",Ye=["x","y"],Re=["clientX","clientY"];function Ve(te,ie){var de=this;this.manager=te,this.callback=ie,this.element=te.element,this.target=te.options.inputTarget,this.domHandler=function(ye){h(te.options.enable,[te])&&de.handler(ye)},this.init()}function St(te,ie,de){var ye=de.pointers.length,Ae=de.changedPointers.length,Pe=1&ie&&ye-Ae==0,Ot=12&ie&&ye-Ae==0;de.isFirst=!!Pe,de.isFinal=!!Ot,Pe&&(te.session={}),de.eventType=ie,function(te,ie){var de=te.session,ye=ie.pointers,Ae=ye.length;de.firstInput||(de.firstInput=xo(ie)),Ae>1&&!de.firstMultiple?de.firstMultiple=xo(ie):1===Ae&&(de.firstMultiple=!1);var Pe=de.firstInput,Ot=de.firstMultiple,Kn=Ot?Ot.center:Pe.center,vn=ie.center=Mo(ye);ie.timeStamp=v(),ie.deltaTime=ie.timeStamp-Pe.timeStamp,ie.angle=ma(Kn,vn),ie.distance=ei(Kn,vn),function(te,ie){var de=ie.center,ye=te.offsetDelta||{},Ae=te.prevDelta||{},Pe=te.prevInput||{};(1===ie.eventType||4===Pe.eventType)&&(Ae=te.prevDelta={x:Pe.deltaX||0,y:Pe.deltaY||0},ye=te.offsetDelta={x:de.x,y:de.y}),ie.deltaX=Ae.x+(de.x-ye.x),ie.deltaY=Ae.y+(de.y-ye.y)}(de,ie),ie.offsetDirection=ga(ie.deltaX,ie.deltaY);var pt=ko(ie.deltaTime,ie.deltaX,ie.deltaY);ie.overallVelocityX=pt.x,ie.overallVelocityY=pt.y,ie.overallVelocity=w(pt.x)>w(pt.y)?pt.x:pt.y,ie.scale=Ot?function(te,ie){return ei(ie[0],ie[1],Re)/ei(te[0],te[1],Re)}(Ot.pointers,ye):1,ie.rotation=Ot?function(te,ie){return ma(ie[1],ie[0],Re)+ma(te[1],te[0],Re)}(Ot.pointers,ye):0,ie.maxPointers=de.prevInput?ie.pointers.length>de.prevInput.maxPointers?ie.pointers.length:de.prevInput.maxPointers:ie.pointers.length,function(te,ie){var Ae,Pe,Ot,Kn,de=te.lastInterval||ie,ye=ie.timeStamp-de.timeStamp;if(8!=ie.eventType&&(ye>25||de.velocity===k)){var vn=ie.deltaX-de.deltaX,pt=ie.deltaY-de.deltaY,Ci=ko(ye,vn,pt);Pe=Ci.x,Ot=Ci.y,Ae=w(Ci.x)>w(Ci.y)?Ci.x:Ci.y,Kn=ga(vn,pt),te.lastInterval=ie}else Ae=de.velocity,Pe=de.velocityX,Ot=de.velocityY,Kn=de.direction;ie.velocity=Ae,ie.velocityX=Pe,ie.velocityY=Ot,ie.direction=Kn}(de,ie);var Ci=te.element;F(ie.srcEvent.target,Ci)&&(Ci=ie.srcEvent.target),ie.target=Ci}(te,de),te.emit("hammer.input",de),te.recognize(de),te.session.prevInput=de}function xo(te){for(var ie=[],de=0;de<te.pointers.length;)ie[de]={clientX:b(te.pointers[de].clientX),clientY:b(te.pointers[de].clientY)},de++;return{timeStamp:v(),pointers:ie,center:Mo(ie),deltaX:te.deltaX,deltaY:te.deltaY}}function Mo(te){var ie=te.length;if(1===ie)return{x:b(te[0].clientX),y:b(te[0].clientY)};for(var de=0,ye=0,Ae=0;Ae<ie;)de+=te[Ae].clientX,ye+=te[Ae].clientY,Ae++;return{x:b(de/ie),y:b(ye/ie)}}function ko(te,ie,de){return{x:ie/te||0,y:de/te||0}}function ga(te,ie){return te===ie?1:w(te)>=w(ie)?te<0?2:4:ie<0?8:16}function ei(te,ie,de){de||(de=Ye);var ye=ie[de[0]]-te[de[0]],Ae=ie[de[1]]-te[de[1]];return Math.sqrt(ye*ye+Ae*Ae)}function ma(te,ie,de){return de||(de=Ye),180*Math.atan2(ie[de[1]]-te[de[1]],ie[de[0]]-te[de[0]])/Math.PI}Ve.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(pe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(pe(this.element),this.evWin,this.domHandler)}};var rn={mousedown:1,mousemove:2,mouseup:4},cl="mousedown",fl="mousemove mouseup";function Mt(){this.evEl=cl,this.evWin=fl,this.pressed=!1,Ve.apply(this,arguments)}g(Mt,Ve,{handler:function(ie){var de=rn[ie.type];1&de&&0===ie.button&&(this.pressed=!0),2&de&&1!==ie.which&&(de=4),this.pressed&&(4&de&&(this.pressed=!1),this.callback(this.manager,de,{pointers:[ie],changedPointers:[ie],pointerType:Ce,srcEvent:ie}))}});var Js={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ft={2:ue,3:"pen",4:Ce,5:"kinect"},Io="pointerdown",qs="pointermove pointerup pointercancel";function Yt(){this.evEl=Io,this.evWin=qs,Ve.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y.MSPointerEvent&&!y.PointerEvent&&(Io="MSPointerDown",qs="MSPointerMove MSPointerUp MSPointerCancel"),g(Yt,Ve,{handler:function(ie){var de=this.store,ye=!1,Ae=ie.type.toLowerCase().replace("ms",""),Pe=Js[Ae],Ot=ft[ie.pointerType]||ie.pointerType,Kn=Ot==ue,vn=$(de,ie.pointerId,"pointerId");1&Pe&&(0===ie.button||Kn)?vn<0&&(de.push(ie),vn=de.length-1):12&Pe&&(ye=!0),!(vn<0)&&(de[vn]=ie,this.callback(this.manager,Pe,{pointers:de,changedPointers:[ie],pointerType:Ot,srcEvent:ie}),ye&&de.splice(vn,1))}});var Qe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pl="touchstart",Ao="touchstart touchmove touchend touchcancel";function Yi(){this.evTarget=pl,this.evWin=Ao,this.started=!1,Ve.apply(this,arguments)}function Je(te,ie){var de=G(te.touches),ye=G(te.changedTouches);return 12&ie&&(de=Z(de.concat(ye),"identifier",!0)),[de,ye]}g(Yi,Ve,{handler:function(ie){var de=Qe[ie.type];if(1===de&&(this.started=!0),this.started){var ye=Je.call(this,ie,de);12&de&&ye[0].length-ye[1].length==0&&(this.started=!1),this.callback(this.manager,de,{pointers:ye[0],changedPointers:ye[1],pointerType:ue,srcEvent:ie})}}});var ya={touchstart:1,touchmove:2,touchend:4,touchcancel:8},dt="touchstart touchmove touchend touchcancel";function on(){this.evTarget=dt,this.targetIds={},Ve.apply(this,arguments)}function ba(te,ie){var de=G(te.touches),ye=this.targetIds;if(3&ie&&1===de.length)return ye[de[0].identifier]=!0,[de,de];var Ae,Pe,Ot=G(te.changedTouches),Kn=[],vn=this.target;if(Pe=de.filter(function(pt){return F(pt.target,vn)}),1===ie)for(Ae=0;Ae<Pe.length;)ye[Pe[Ae].identifier]=!0,Ae++;for(Ae=0;Ae<Ot.length;)ye[Ot[Ae].identifier]&&Kn.push(Ot[Ae]),12&ie&&delete ye[Ot[Ae].identifier],Ae++;return Kn.length?[Z(Pe.concat(Kn),"identifier",!0),Kn]:void 0}g(on,Ve,{handler:function(ie){var de=ya[ie.type],ye=ba.call(this,ie,de);!ye||this.callback(this.manager,de,{pointers:ye[0],changedPointers:ye[1],pointerType:ue,srcEvent:ie})}});function ws(){Ve.apply(this,arguments);var te=M(this.handler,this);this.touch=new on(this.manager,te),this.mouse=new Mt(this.manager,te),this.primaryTouch=null,this.lastTouches=[]}function fn(te,ie){1&te?(this.primaryTouch=ie.changedPointers[0].identifier,ur.call(this,ie)):12&te&&ur.call(this,ie)}function ur(te){var ie=te.changedPointers[0];if(ie.identifier===this.primaryTouch){var de={x:ie.clientX,y:ie.clientY};this.lastTouches.push(de);var ye=this.lastTouches;setTimeout(function(){var Pe=ye.indexOf(de);Pe>-1&&ye.splice(Pe,1)},2500)}}function Ki(te){for(var ie=te.srcEvent.clientX,de=te.srcEvent.clientY,ye=0;ye<this.lastTouches.length;ye++){var Ae=this.lastTouches[ye],Pe=Math.abs(ie-Ae.x),Ot=Math.abs(de-Ae.y);if(Pe<=25&&Ot<=25)return!0}return!1}g(ws,Ve,{handler:function(ie,de,ye){var Pe=ye.pointerType==Ce;if(!(Pe&&ye.sourceCapabilities&&ye.sourceCapabilities.firesTouchEvents)){if(ye.pointerType==ue)fn.call(this,de,ye);else if(Pe&&Ki.call(this,ye))return;this.callback(ie,de,ye)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var On=ne(x.style,"touchAction"),Dn=On!==k,dr="compute",gl="manipulation",_s="none",hr="pan-x",Qr="pan-y",to=function(){if(!Dn)return!1;var te={},ie=y.CSS&&y.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(de){te[de]=!ie||y.CSS.supports("touch-action",de)}),te}();function ml(te,ie){this.manager=te,this.set(ie)}ml.prototype={set:function(te){te==dr&&(te=this.compute()),Dn&&this.manager.element.style&&to[te]&&(this.manager.element.style[On]=te),this.actions=te.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var te=[];return T(this.manager.recognizers,function(ie){h(ie.options.enable,[ie])&&(te=te.concat(ie.getTouchAction()))}),function(te){if(V(te,_s))return _s;var ie=V(te,hr),de=V(te,Qr);return ie&&de?_s:ie||de?ie?hr:Qr:V(te,gl)?gl:"auto"}(te.join(" "))},preventDefaults:function(te){var ie=te.srcEvent,de=te.offsetDirection;if(!this.manager.session.prevented){var ye=this.actions,Ae=V(ye,_s)&&!to[_s],Pe=V(ye,Qr)&&!to[Qr],Ot=V(ye,hr)&&!to[hr];if(Ae&&1===te.pointers.length&&te.distance<2&&te.deltaTime<250)return;return Ot&&Pe||!(Ae||Pe&&6&de||Ot&&24&de)?void 0:this.preventSrc(ie)}ie.preventDefault()},preventSrc:function(te){this.manager.session.prevented=!0,te.preventDefault()}};function Qi(te){this.options=p({},this.defaults,te||{}),this.id=oe++,this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function vl(te){return 16&te?"cancel":8&te?"end":4&te?"move":2&te?"start":""}function Ca(te){return 16==te?"down":8==te?"up":2==te?"left":4==te?"right":""}function io(te,ie){var de=ie.manager;return de?de.get(te):te}function fi(){Qi.apply(this,arguments)}function Es(){fi.apply(this,arguments),this.pX=null,this.pY=null}function ro(){fi.apply(this,arguments)}function Ro(){Qi.apply(this,arguments),this._timer=null,this._input=null}function et(){fi.apply(this,arguments)}function so(){fi.apply(this,arguments)}function No(){Qi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function pi(te,ie){return(ie=ie||{}).recognizers=f(ie.recognizers,pi.defaults.preset),new Xi(te,ie)}Qi.prototype={defaults:{},set:function(te){return p(this.options,te),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(te){if(c(te,"recognizeWith",this))return this;var ie=this.simultaneous;return ie[(te=io(te,this)).id]||(ie[te.id]=te,te.recognizeWith(this)),this},dropRecognizeWith:function(te){return c(te,"dropRecognizeWith",this)||(te=io(te,this),delete this.simultaneous[te.id]),this},requireFailure:function(te){if(c(te,"requireFailure",this))return this;var ie=this.requireFail;return-1===$(ie,te=io(te,this))&&(ie.push(te),te.requireFailure(this)),this},dropRequireFailure:function(te){if(c(te,"dropRequireFailure",this))return this;te=io(te,this);var ie=$(this.requireFail,te);return ie>-1&&this.requireFail.splice(ie,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(te){return!!this.simultaneous[te.id]},emit:function(te){var ie=this,de=this.state;function ye(Ae){ie.manager.emit(Ae,te)}de<8&&ye(ie.options.event+vl(de)),ye(ie.options.event),te.additionalEvent&&ye(te.additionalEvent),de>=8&&ye(ie.options.event+vl(de))},tryEmit:function(te){if(this.canEmit())return this.emit(te);this.state=32},canEmit:function(){for(var te=0;te<this.requireFail.length;){if(!(33&this.requireFail[te].state))return!1;te++}return!0},recognize:function(te){var ie=p({},te);if(!h(this.options.enable,[this,ie]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(ie),30&this.state&&this.tryEmit(ie)},process:function(te){},getTouchAction:function(){},reset:function(){}},g(fi,Qi,{defaults:{pointers:1},attrTest:function(te){var ie=this.options.pointers;return 0===ie||te.pointers.length===ie},process:function(te){var ie=this.state,de=te.eventType,ye=6&ie,Ae=this.attrTest(te);return ye&&(8&de||!Ae)?16|ie:ye||Ae?4&de?8|ie:2&ie?4|ie:2:32}}),g(Es,fi,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var te=this.options.direction,ie=[];return 6&te&&ie.push(Qr),24&te&&ie.push(hr),ie},directionTest:function(te){var ie=this.options,de=!0,ye=te.distance,Ae=te.direction,Pe=te.deltaX,Ot=te.deltaY;return Ae&ie.direction||(6&ie.direction?(Ae=0===Pe?1:Pe<0?2:4,de=Pe!=this.pX,ye=Math.abs(te.deltaX)):(Ae=0===Ot?1:Ot<0?8:16,de=Ot!=this.pY,ye=Math.abs(te.deltaY))),te.direction=Ae,de&&ye>ie.threshold&&Ae&ie.direction},attrTest:function(te){return fi.prototype.attrTest.call(this,te)&&(2&this.state||!(2&this.state)&&this.directionTest(te))},emit:function(te){this.pX=te.deltaX,this.pY=te.deltaY;var ie=Ca(te.direction);ie&&(te.additionalEvent=this.options.event+ie),this._super.emit.call(this,te)}}),g(ro,fi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_s]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.scale-1)>this.options.threshold||2&this.state)},emit:function(te){1!==te.scale&&(te.additionalEvent=this.options.event+(te.scale<1?"in":"out")),this._super.emit.call(this,te)}}),g(Ro,Qi,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(te){var ie=this.options,de=te.pointers.length===ie.pointers,ye=te.distance<ie.threshold,Ae=te.deltaTime>ie.time;if(this._input=te,!ye||!de||12&te.eventType&&!Ae)this.reset();else if(1&te.eventType)this.reset(),this._timer=m(function(){this.state=8,this.tryEmit()},ie.time,this);else if(4&te.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(te){8===this.state&&(te&&4&te.eventType?this.manager.emit(this.options.event+"up",te):(this._input.timeStamp=v(),this.manager.emit(this.options.event,this._input)))}}),g(et,fi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_s]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.rotation)>this.options.threshold||2&this.state)}}),g(so,fi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Es.prototype.getTouchAction.call(this)},attrTest:function(te){var de,ie=this.options.direction;return 30&ie?de=te.overallVelocity:6&ie?de=te.overallVelocityX:24&ie&&(de=te.overallVelocityY),this._super.attrTest.call(this,te)&&ie&te.offsetDirection&&te.distance>this.options.threshold&&te.maxPointers==this.options.pointers&&w(de)>this.options.velocity&&4&te.eventType},emit:function(te){var ie=Ca(te.offsetDirection);ie&&this.manager.emit(this.options.event+ie,te),this.manager.emit(this.options.event,te)}}),g(No,Qi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[gl]},process:function(te){var ie=this.options,de=te.pointers.length===ie.pointers,ye=te.distance<ie.threshold,Ae=te.deltaTime<ie.time;if(this.reset(),1&te.eventType&&0===this.count)return this.failTimeout();if(ye&&Ae&&de){if(4!=te.eventType)return this.failTimeout();var Pe=!this.pTime||te.timeStamp-this.pTime<ie.interval,Ot=!this.pCenter||ei(this.pCenter,te.center)<ie.posThreshold;if(this.pTime=te.timeStamp,this.pCenter=te.center,Ot&&Pe?this.count+=1:this.count=1,this._input=te,0==this.count%ie.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=8,this.tryEmit()},ie.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),pi.VERSION="2.0.7",pi.defaults={domEvents:!1,touchAction:dr,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[ro,{enable:!1},["rotate"]],[so,{direction:6}],[Es,{direction:6},["swipe"]],[No],[No,{event:"doubletap",taps:2},["tap"]],[Ro]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Xi(te,ie){this.options=p({},pi.defaults,ie||{}),this.options.inputTarget=this.options.inputTarget||te,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=te,this.input=function(te){return new(te.options.inputClass||(Ee?Yt:ge?on:we?ws:Mt))(te,St)}(this),this.touchAction=new ml(this,this.options.touchAction),Yn(this,!0),T(this.options.recognizers,function(de){var ye=this.add(new de[0](de[1]));de[2]&&ye.recognizeWith(de[2]),de[3]&&ye.requireFailure(de[3])},this)}function Yn(te,ie){var ye,de=te.element;de.style&&(T(te.options.cssProps,function(Ae,Pe){ye=ne(de.style,Pe),ie?(te.oldCssProps[ye]=de.style[ye],de.style[ye]=Ae):de.style[ye]=te.oldCssProps[ye]||""}),ie||(te.oldCssProps={}))}Xi.prototype={set:function(te){return p(this.options,te),te.touchAction&&this.touchAction.update(),te.inputTarget&&(this.input.destroy(),this.input.target=te.inputTarget,this.input.init()),this},stop:function(te){this.session.stopped=te?2:1},recognize:function(te){var ie=this.session;if(!ie.stopped){this.touchAction.preventDefaults(te);var de,ye=this.recognizers,Ae=ie.curRecognizer;(!Ae||Ae&&8&Ae.state)&&(Ae=ie.curRecognizer=null);for(var Pe=0;Pe<ye.length;)de=ye[Pe],2===ie.stopped||Ae&&de!=Ae&&!de.canRecognizeWith(Ae)?de.reset():de.recognize(te),!Ae&&14&de.state&&(Ae=ie.curRecognizer=de),Pe++}},get:function(te){if(te instanceof Qi)return te;for(var ie=this.recognizers,de=0;de<ie.length;de++)if(ie[de].options.event==te)return ie[de];return null},add:function(te){if(c(te,"add",this))return this;var ie=this.get(te.options.event);return ie&&this.remove(ie),this.recognizers.push(te),te.manager=this,this.touchAction.update(),te},remove:function(te){if(c(te,"remove",this))return this;if(te=this.get(te)){var ie=this.recognizers,de=$(ie,te);-1!==de&&(ie.splice(de,1),this.touchAction.update())}return this},on:function(te,ie){if(te!==k&&ie!==k){var de=this.handlers;return T(j(te),function(ye){de[ye]=de[ye]||[],de[ye].push(ie)}),this}},off:function(te,ie){if(te!==k){var de=this.handlers;return T(j(te),function(ye){ie?de[ye]&&de[ye].splice($(de[ye],ie),1):delete de[ye]}),this}},emit:function(te,ie){this.options.domEvents&&function(te,ie){var de=S.createEvent("Event");de.initEvent(te,!0,!0),de.gesture=ie,ie.target.dispatchEvent(de)}(te,ie);var de=this.handlers[te]&&this.handlers[te].slice();if(de&&de.length){ie.type=te,ie.preventDefault=function(){ie.srcEvent.preventDefault()};for(var ye=0;ye<de.length;)de[ye](ie),ye++}},destroy:function(){this.element&&Yn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(pi,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Xi,Input:Ve,TouchAction:ml,TouchInput:on,MouseInput:Mt,PointerEventInput:Yt,TouchMouseInput:ws,SingleTouchInput:Yi,Recognizer:Qi,AttrRecognizer:fi,Tap:No,Pan:Es,Swipe:so,Pinch:ro,Rotate:et,Press:Ro,on:_,off:I,each:T,merge:u,extend:d,assign:p,inherit:g,bindFn:M,prefixed:ne}),(void 0!==y?y:"undefined"!=typeof self?self:{}).Hammer=pi,(P=function(){return pi}.call(L,E,L,J))!==k&&(J.exports=P)}(window,document)},function(J,L,E){L.util=E(2),L.DOMutil=E(14),L.DataSet=E(11),L.DataView=E(12),L.Queue=E(43),L.Timeline=E(178),L.Graph2d=E(180),L.timeline={Core:E(65),DateUtil:E(36),Range:E(64),stack:E(100),TimeStep:E(66),components:{items:{Item:E(38),BackgroundItem:E(103),BoxItem:E(101),PointItem:E(102),RangeItem:E(70)},BackgroundGroup:E(69),Component:E(16),CurrentTime:E(67),CustomTime:E(46),DataAxis:E(107),DataScale:E(108),GraphGroup:E(109),Group:E(68),ItemSet:E(99),Legend:E(112),LineGraph:E(106),TimeAxis:E(45)}},L.moment=E(9),L.Hammer=E(10),L.keycharm=E(35)},function(J,L,E){var P=E(9),y=E(2),S=E(11),D=E(12),k=E(64),A=E(65),x=E(45),O=E(67),b=E(46),w=E(99),v=E(15).printStyle,m=E(105).allOptions,c=E(105).configureOptions,T=E(71).default,a=E(15).default;function p(M,h,f,_){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(f)||f instanceof S||f instanceof D)&&f instanceof Object){var I=_;_=f,f=I}_&&_.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var F=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:P,width:null,height:null,maxHeight:null,minHeight:null},this.options=y.deepExtend({},this.defaultOptions),this._create(M),!_||_&&void 0===_.rtl){this.dom.root.style.visibility="hidden";for(var V,j=this.dom.root;!V&&j;)V=window.getComputedStyle(j,null).direction,j=j.parentElement;this.options.rtl=V&&"rtl"==V.toLowerCase()}else this.options.rtl=_.rtl;this.options.rollingMode=_&&_.rollingMode,this.options.onInitialDrawComplete=_&&_.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return F.timeAxis.step.scale},getStep:function(){return F.timeAxis.step.step},toScreen:F._toScreen.bind(F),toGlobalScreen:F._toGlobalScreen.bind(F),toTime:F._toTime.bind(F),toGlobalTime:F._toGlobalTime.bind(F)}},this.range=new k(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new x(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new O(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new w(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function($){F.emit("click",F.getEventProperties($))},this.dom.root.ondblclick=function($){F.emit("doubleClick",F.getEventProperties($))},this.dom.root.oncontextmenu=function($){F.emit("contextmenu",F.getEventProperties($))},this.dom.root.onmouseover=function($){F.emit("mouseOver",F.getEventProperties($))},window.PointerEvent?(this.dom.root.onpointerdown=function($){F.emit("mouseDown",F.getEventProperties($))},this.dom.root.onpointermove=function($){F.emit("mouseMove",F.getEventProperties($))},this.dom.root.onpointerup=function($){F.emit("mouseUp",F.getEventProperties($))}):(this.dom.root.onmousemove=function($){F.emit("mouseMove",F.getEventProperties($))},this.dom.root.onmousedown=function($){F.emit("mouseDown",F.getEventProperties($))},this.dom.root.onmouseup=function($){F.emit("mouseUp",F.getEventProperties($))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!F.initialFitDone)if(F.initialFitDone=!0,null!=F.options.start||null!=F.options.end){if(null==F.options.start||null==F.options.end)var $=F.getItemRange();F.setWindow(null!=F.options.start?F.options.start:$.min,null!=F.options.end?F.options.end:$.max,{animation:!1})}else F.fit({animation:!1});!F.initialDrawDone&&F.initialRangeChangeDone&&(F.initialDrawDone=!0,F.dom.root.style.visibility="visible",F.options.onInitialDrawComplete&&setTimeout(function(){return F.options.onInitialDrawComplete()},0))}}),_&&this.setOptions(_),f&&this.setGroups(f),h&&this.setItems(h),this._redraw()}function d(M){return y.convert(M.data.start,"Date").valueOf()}function u(M){return y.convert(null!=M.data.end?M.data.end:M.data.start,"Date").valueOf()}function g(M,h){var f=M.props.leftContainer.height,_=M.props.left.height,I=h.parent,F=I.top,V=!0,j=M.timeAxis.options.orientation.axis,$=function(){return"bottom"==j?I.height-h.top-h.height:h.top},G=-1*M._getScrollTop(),Z=F+$(),ne=h.height;return Z<G?F+f<=F+$()+ne&&(F+=$()-M.itemSet.options.margin.item.vertical):Z+ne>G+f?F+=$()+ne-f+M.itemSet.options.margin.item.vertical:V=!1,{shouldScroll:V,scrollOffset:F=Math.min(F,_-f),itemTop:Z}}(p.prototype=new A)._createConfigurator=function(){return new T(this,this.dom.container,c)},p.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},p.prototype.setOptions=function(M){if(!0===a.validate(M,m)&&console.log("%cErrors have been found in the supplied options object.",v),A.prototype.setOptions.call(this,M),"type"in M&&M.type!==this.options.type){this.options.type=M.type;var f=this.itemsData;if(f){var _=this.getSelection();this.setItems(null),this.setItems(f),this.setSelection(_)}}},p.prototype.setItems=function(M){var h;h=M?M instanceof S||M instanceof D?M:new S(M,{type:{start:"Date",end:"Date"}}):null,this.itemsData=h,this.itemSet&&this.itemSet.setItems(h)},p.prototype.setGroups=function(M){var h;if(M){var f=function(I){return!1!==I.visible};h=M instanceof S||M instanceof D?new D(M,{filter:f}):new S(M.filter(f))}else h=null;this.groupsData=h,this.itemSet.setGroups(h)},p.prototype.setData=function(M){M&&M.groups&&this.setGroups(M.groups),M&&M.items&&this.setItems(M.items)},p.prototype.setSelection=function(M,h){this.itemSet&&this.itemSet.setSelection(M),h&&h.focus&&this.focus(M,h)},p.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},p.prototype.focus=function(M,h){if(this.itemsData&&null!=M){var f=Array.isArray(M)?M:[M],_=this.itemsData.getDataSet().get(f,{type:{start:"Date",end:"Date"}}),I=null,F=null;if(_.forEach(function(we){var Ee=we.start.valueOf(),ge="end"in we?we.end.valueOf():we.start.valueOf();(null===I||Ee<I)&&(I=Ee),(null===F||ge>F)&&(F=ge)}),null!==I&&null!==F){var V=this,j=this.itemSet.items[f[0]],$=-1*this._getScrollTop(),G=null,ne=function(){var Ee=g(V,j);Ee.shouldScroll&&Ee.itemTop!=G.itemTop&&(V._setScrollTop(-Ee.scrollOffset),V._redraw())},le=(I+F)/2,pe=Math.max(this.range.end-this.range.start,1.1*(F-I)),_e=!h||void 0===h.animation||h.animation;_e||(G={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(le-pe/2,le+pe/2,{animation:_e},function(){ne(),setTimeout(ne,100)},function(Ee,ge,ue){var ce=g(V,j);if(G||(G=ce),G.itemTop!=ce.itemTop||G.shouldScroll){G.itemTop!=ce.itemTop&&ce.shouldScroll&&(G=ce,$=-1*V._getScrollTop());var ke=G.scrollOffset;V._setScrollTop(-(ue?ke:$+(ke-$)*Ee)),ge||V._redraw()}})}}},p.prototype.fit=function(M,h){var _,f=!M||void 0===M.animation||M.animation,I=this.itemsData&&this.itemsData.getDataSet();1===I.length&&void 0===I.get()[0].end?(_=this.getDataRange(),this.moveTo(_.min.valueOf(),{animation:f},h)):(_=this.getItemRange(),this.range.setRange(_.min,_.max,{animation:f},h))},p.prototype.getItemRange=function(){var M=this.getDataRange(),h=null!==M.min?M.min.valueOf():null,f=null!==M.max?M.max.valueOf():null,_=null,I=null;if(null!=h&&null!=f){var F=f-h;F<=0&&(F=10);var V=F/this.props.center.width,j={},$=0;if(y.forEach(this.itemSet.items,function(pe,_e){pe.groupShowing&&(j[_e]=pe.redraw(!0),$=j[_e].length)}),$>0)for(var Z=0;Z<$;Z++)y.forEach(j,function(pe){pe[Z]()});if(y.forEach(this.itemSet.items,function(pe){var Ee,ge,_e=d(pe),we=u(pe);this.options.rtl?(Ee=_e-(pe.getWidthRight()+10)*V,ge=we+(pe.getWidthLeft()+10)*V):(Ee=_e-(pe.getWidthLeft()+10)*V,ge=we+(pe.getWidthRight()+10)*V),Ee<h&&(h=Ee,_=pe),ge>f&&(f=ge,I=pe)}.bind(this)),_&&I){var ne=_.getWidthLeft()+10,oe=I.getWidthRight()+10,le=this.props.center.width-ne-oe;le>0&&(this.options.rtl?(h=d(_)-oe*F/le,f=u(I)+ne*F/le):(h=d(_)-ne*F/le,f=u(I)+oe*F/le))}}return{min:null!=h?new Date(h):null,max:null!=f?new Date(f):null}},p.prototype.getDataRange=function(){var M=null,h=null,f=this.itemsData&&this.itemsData.getDataSet();return f&&f.forEach(function(_){var I=y.convert(_.start,"Date").valueOf(),F=y.convert(null!=_.end?_.end:_.start,"Date").valueOf();(null===M||I<M)&&(M=I),(null===h||F>h)&&(h=F)}),{min:null!=M?new Date(M):null,max:null!=h?new Date(h):null}},p.prototype.getEventProperties=function(M){var _,h=M.center?M.center.x:M.clientX,f=M.center?M.center.y:M.clientY;_=this.options.rtl?y.getAbsoluteRight(this.dom.centerContainer)-h:h-y.getAbsoluteLeft(this.dom.centerContainer);var I=f-y.getAbsoluteTop(this.dom.centerContainer),F=this.itemSet.itemFromTarget(M),V=this.itemSet.groupFromTarget(M),j=b.customTimeFromTarget(M),$=this.itemSet.options.snap||null,G=this.body.util.getScale(),Z=this.body.util.getStep(),ne=this._toTime(_),oe=$?$(ne,G,Z):ne,le=y.getTarget(M),pe=null;return null!=F?pe="item":null!=j?pe="custom-time":y.hasParent(le,this.timeAxis.dom.foreground)||this.timeAxis2&&y.hasParent(le,this.timeAxis2.dom.foreground)?pe="axis":y.hasParent(le,this.itemSet.dom.labelSet)?pe="group-label":y.hasParent(le,this.currentTime.bar)?pe="current-time":y.hasParent(le,this.dom.center)&&(pe="background"),{event:M,item:F?F.id:null,group:V?V.groupId:null,what:pe,pageX:M.srcEvent?M.srcEvent.pageX:M.pageX,pageY:M.srcEvent?M.srcEvent.pageY:M.pageY,x:_,y:I,time:ne,snappedTime:oe}},p.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},J.exports=p},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=x(E(19)),D=x(E(0)),A=x(E(1));function x(m){return m&&m.__esModule?m:{default:m}}var O=E(10),b=E(37),w=E(2),v=function(){function m(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,D.default)(this,m),this.pixelRatio=c,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,A.default)(m,[{key:"insertTo",value:function(T){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=T,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(T){if("function"!=typeof T)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=T}},{key:"setCloseCallback",value:function(T){if("function"!=typeof T)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=T}},{key:"_isColorString",value:function(T){if("string"==typeof T)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[T]}},{key:"setColor",value:function(T){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==T){var p=void 0,d=this._isColorString(T);if(void 0!==d&&(T=d),!0===w.isString(T)){if(!0===w.isValidRGB(T)){var u=T.substr(4).substr(0,T.length-5).split(",");p={r:u[0],g:u[1],b:u[2],a:1}}else if(!0===w.isValidRGBA(T)){var g=T.substr(5).substr(0,T.length-6).split(",");p={r:g[0],g:g[1],b:g[2],a:g[3]}}else if(!0===w.isValidHex(T)){var M=w.hexToRGB(T);p={r:M.r,g:M.g,b:M.b,a:1}}}else T instanceof Object&&void 0!==T.r&&void 0!==T.g&&void 0!==T.b&&(p={r:T.r,g:T.g,b:T.b,a:void 0!==T.a?T.a:"1.0"});if(void 0===p)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,y.default)(T));this._setColor(p,a)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var T=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=w.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==T.closeCallback&&(T.closeCallback(),T.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(T){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=w.extend({},T)),this.color=T;var p=w.RGBToHSV(T.r,T.g,T.b),d=2*Math.PI,u=this.r*p.s,g=this.centerCoordinates.x+u*Math.sin(d*p.h),M=this.centerCoordinates.y+u*Math.cos(d*p.h);this.colorPickerSelector.style.left=g-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=M-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(T)}},{key:"_setOpacity",value:function(T){this.color.a=T/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(T){var a=w.RGBToHSV(this.color.r,this.color.g,this.color.b);a.v=T/100;var p=w.HSVToRGB(a.h,a.s,a.v);p.a=this.color.a,this.color=p,this._updatePicker()}},{key:"_updatePicker",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,a=w.RGBToHSV(T.r,T.g,T.b),p=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1)),p.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),p.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),p.putImageData(this.hueCircle,0,0),p.fillStyle="rgba(0,0,0,"+(1-a.v)+")",p.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),p.fill(),this.brightnessRange.value=100*a.v,this.opacityRange.value=100*T.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var T=document.createElement("DIV");T.style.color="red",T.style.fontWeight="bold",T.style.padding="10px",T.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(T)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(d){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(d){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var p=this;this.opacityRange.onchange=function(){p._setOpacity(this.value)},this.opacityRange.oninput=function(){p._setOpacity(this.value)},this.brightnessRange.onchange=function(){p._setBrightness(this.value)},this.brightnessRange.oninput=function(){p._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var T=this;this.drag={},this.pinch={},this.hammer=new O(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),b.onTouch(this.hammer,function(a){T._moveSelector(a)}),this.hammer.on("tap",function(a){T._moveSelector(a)}),this.hammer.on("panstart",function(a){T._moveSelector(a)}),this.hammer.on("panmove",function(a){T._moveSelector(a)}),this.hammer.on("panend",function(a){T._moveSelector(a)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var T=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(T.webkitBackingStorePixelRatio||T.mozBackingStorePixelRatio||T.msBackingStorePixelRatio||T.oBackingStorePixelRatio||T.backingStorePixelRatio||1)),T.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,p=this.colorPickerCanvas.clientHeight;T.clearRect(0,0,a,p);var d=void 0,u=void 0,g=void 0,M=void 0;this.centerCoordinates={x:.5*a,y:.5*p},this.r=.49*a;var h=2*Math.PI/360,_=1/this.r,I=void 0;for(g=0;g<360;g++)for(M=0;M<this.r;M++)d=this.centerCoordinates.x+M*Math.sin(h*g),u=this.centerCoordinates.y+M*Math.cos(h*g),I=w.HSVToRGB(.002777777777777778*g,M*_,1),T.fillStyle="rgb("+I.r+","+I.g+","+I.b+")",T.fillRect(d-.5,u-.5,2,2);T.strokeStyle="rgba(0,0,0,1)",T.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),T.stroke(),this.hueCircle=T.getImageData(0,0,a,p)}this.generated=!0}},{key:"_moveSelector",value:function(T){var a=this.colorPickerDiv.getBoundingClientRect(),u=.5*this.colorPickerDiv.clientHeight,g=.5*this.colorPickerDiv.clientWidth,M=T.center.x-a.left-g,h=T.center.y-a.top-u,f=Math.atan2(M,h),_=.98*Math.min(Math.sqrt(M*M+h*h),g),I=Math.cos(f)*_+u,F=Math.sin(f)*_+g;this.colorPickerSelector.style.top=I-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=F-.5*this.colorPickerSelector.clientWidth+"px";var V=f/(2*Math.PI);V=V<0?V+1:V;var j=_/this.r,$=w.RGBToHSV(this.color.r,this.color.g,this.color.b);$.h=V,$.s=j;var G=w.HSVToRGB($.h,$.s,$.v);G.a=this.color.a,this.color=G,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),m}();L.default=v},function(J,L,E){var P=E(9),y=E(2),S=E(11),D=E(12),k=E(64),A=E(65),x=E(45),O=E(67),b=E(46),w=E(106),v=E(15).printStyle,m=E(113).allOptions,c=E(113).configureOptions,T=E(71).default,a=E(15).default;function p(d,u,g,M){if(!(Array.isArray(g)||g instanceof S||g instanceof D)&&g instanceof Object){var h=M;M=g,g=h}M&&M.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:P,width:null,height:null,maxHeight:null,minHeight:null},this.options=y.deepExtend({},this.defaultOptions),this._create(d),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}},this.range=new k(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new x(this.body),this.components.push(this.timeAxis),this.currentTime=new O(this.body),this.components.push(this.currentTime),this.linegraph=new w(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(_){f.emit("click",f.getEventProperties(_))}),this.on("doubletap",function(_){f.emit("doubleClick",f.getEventProperties(_))}),this.dom.root.oncontextmenu=function(_){f.emit("contextmenu",f.getEventProperties(_))},M&&this.setOptions(M),g&&this.setGroups(g),u&&this.setItems(u),this._redraw()}(p.prototype=new A).setOptions=function(d){!0===a.validate(d,m)&&console.log("%cErrors have been found in the supplied options object.",v),A.prototype.setOptions.call(this,d)},p.prototype.setItems=function(d){var g,u=null==this.itemsData;g=d?d instanceof S||d instanceof D?d:new S(d,{type:{start:"Date",end:"Date"}}):null,this.itemsData=g,this.linegraph&&this.linegraph.setItems(g),u&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},p.prototype.setGroups=function(d){var u;u=d?d instanceof S||d instanceof D?d:new S(d):null,this.groupsData=u,this.linegraph.setGroups(u)},p.prototype.getLegend=function(d,u,g){return void 0===u&&(u=15),void 0===g&&(g=15),void 0!==this.linegraph.groups[d]?this.linegraph.groups[d].getLegend(u,g):"cannot find group:'"+d+"'"},p.prototype.isGroupVisible=function(d){return void 0!==this.linegraph.groups[d]&&this.linegraph.groups[d].visible&&(void 0===this.linegraph.options.groups.visibility[d]||1==this.linegraph.options.groups.visibility[d])},p.prototype.getDataRange=function(){var d=null,u=null;for(var g in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(g)&&1==this.linegraph.groups[g].visible)for(var M=0;M<this.linegraph.groups[g].itemsData.length;M++){var f=y.convert(this.linegraph.groups[g].itemsData[M].x,"Date").valueOf();d=null==d||d>f?f:d,u=null==u||u<f?f:u}return{min:null!=d?new Date(d):null,max:null!=u?new Date(u):null}},p.prototype.getEventProperties=function(d){var g=d.center?d.center.y:d.clientY,M=(d.center?d.center.x:d.clientX)-y.getAbsoluteLeft(this.dom.centerContainer),h=g-y.getAbsoluteTop(this.dom.centerContainer),f=this._toTime(M),_=b.customTimeFromTarget(d),I=y.getTarget(d),F=null;y.hasParent(I,this.timeAxis.dom.foreground)||this.timeAxis2&&y.hasParent(I,this.timeAxis2.dom.foreground)?F="axis":y.hasParent(I,this.linegraph.yAxisLeft.dom.frame)||y.hasParent(I,this.linegraph.yAxisRight.dom.frame)?F="data-axis":y.hasParent(I,this.linegraph.legendLeft.dom.frame)||y.hasParent(I,this.linegraph.legendRight.dom.frame)?F="legend":null!=_?F="custom-time":y.hasParent(I,this.currentTime.bar)?F="current-time":y.hasParent(I,this.dom.center)&&(F="background");var V=[],j=this.linegraph.yAxisLeft,$=this.linegraph.yAxisRight;return!j.hidden&&this.itemsData.length>0&&V.push(j.screenToValue(h)),!$.hidden&&this.itemsData.length>0&&V.push($.screenToValue(h)),{event:d,what:F,pageX:d.srcEvent?d.srcEvent.pageX:d.pageX,pageY:d.srcEvent?d.srcEvent.pageY:d.pageY,x:M,y:h,time:f,value:V}},p.prototype._createConfigurator=function(){return new T(this,this.dom.container,c)},J.exports=p},function(J,L,E){L.util=E(2),L.DOMutil=E(14),L.DataSet=E(11),L.DataView=E(12),L.Queue=E(43),L.Network=E(182),L.network={Images:E(116),dotparser:E(114),gephiParser:E(115),allOptions:E(122)},L.network.convertDot=function(P){return L.network.dotparser.DOTToGraph(P)},L.network.convertGephi=function(P,y){return L.network.gephiParser.parseGephi(P,y)},L.moment=E(9),L.Hammer=E(10),L.keycharm=E(35)},function(J,L,E){E(183);var P=E(44),y=E(2),S=E(114),D=E(115),k=E(97),A=E(184),x=E(116).default,O=E(186).default,b=E(187).default,w=E(214).default,v=E(220).default,m=E(227).default,c=E(229).default,T=E(230).default,a=E(231).default,p=E(232).default,d=E(234).default,u=E(235).default,g=E(237).default,M=E(71).default,h=E(15).default,_=E(15).printStyle,I=E(122),F=I.allOptions,V=I.configureOptions,j=E(238).default;function $(G,Z,ne){var oe=this;if(!(this instanceof $))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:A,clickToUse:!1},y.extend(this.options,this.defaultOptions),this.body={container:G,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new x(function(){return oe.body.emitter.emit("_requestRedraw")}),this.groups=new O,this.canvas=new T(this.body),this.selectionHandler=new d(this.body,this.canvas),this.interactionHandler=new p(this.body,this.canvas,this.selectionHandler),this.view=new a(this.body,this.canvas),this.renderer=new c(this.body,this.canvas),this.physics=new v(this.body),this.layoutEngine=new u(this.body),this.clustering=new m(this.body),this.manipulation=new g(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new b(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new w(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new j(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(ne),this.setData(Z)}P($.prototype),$.prototype.setOptions=function(G){var Z=this;if(void 0!==G){if(!0===h.validate(G,F)&&console.log("%cErrors have been found in the supplied options object.",_),y.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,G),G=this.layoutEngine.setOptions(G.layout,G),this.canvas.setOptions(G),this.groups.setOptions(G.groups),this.nodesHandler.setOptions(G.nodes),this.edgesHandler.setOptions(G.edges),this.physics.setOptions(G.physics),this.manipulation.setOptions(G.manipulation,G,this.options),this.interactionHandler.setOptions(G.interaction),this.renderer.setOptions(G.interaction),this.selectionHandler.setOptions(G.interaction),void 0!==G.groups&&this.body.emitter.emit("refreshNodes"),"configure"in G&&(this.configurator||(this.configurator=new M(this,this.body.container,V,this.canvas.pixelRatio)),this.configurator.setOptions(G.configure)),this.configurator&&!0===this.configurator.options.enabled){var le={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};y.deepExtend(le.nodes,this.nodesHandler.options),y.deepExtend(le.edges,this.edgesHandler.options),y.deepExtend(le.layout,this.layoutEngine.options),y.deepExtend(le.interaction,this.selectionHandler.options),y.deepExtend(le.interaction,this.renderer.options),y.deepExtend(le.interaction,this.interactionHandler.options),y.deepExtend(le.manipulation,this.manipulation.options),y.deepExtend(le.physics,this.physics.options),y.deepExtend(le.global,this.canvas.options),y.deepExtend(le.global,this.options),this.configurator.setModuleOptions(le)}void 0!==G.clickToUse?!0===G.clickToUse?void 0===this.activator&&(this.activator=new k(this.canvas.frame),this.activator.on("change",function(){Z.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},$.prototype._updateVisibleIndices=function(){var G=this.body.nodes,Z=this.body.edges;for(var ne in this.body.nodeIndices=[],this.body.edgeIndices=[],G)G.hasOwnProperty(ne)&&!this.clustering._isClusteredNode(ne)&&!1===G[ne].options.hidden&&this.body.nodeIndices.push(G[ne].id);for(var oe in Z)if(Z.hasOwnProperty(oe)){var le=Z[oe],pe=G[le.fromId],_e=G[le.toId],we=void 0!==pe&&void 0!==_e;!this.clustering._isClusteredEdge(oe)&&!1===le.options.hidden&&we&&!1===pe.options.hidden&&!1===_e.options.hidden&&this.body.edgeIndices.push(le.id)}},$.prototype.bindEventListeners=function(){var G=this;this.body.emitter.on("_dataChanged",function(){G.edgesHandler._updateState(),G.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){G.clustering._updateState(),G._updateVisibleIndices(),G._updateValueRange(G.body.nodes),G._updateValueRange(G.body.edges),G.body.emitter.emit("startSimulation"),G.body.emitter.emit("_requestRedraw")})},$.prototype.setData=function(G){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),G&&G.dot&&(G.nodes||G.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(G&&G.options),G&&G.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var Z=S.DOTToGraph(G.dot);this.setData(Z)}else if(G&&G.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var ne=D.parseGephi(G.gephi);this.setData(ne)}else this.nodesHandler.setData(G&&G.nodes,!0),this.edgesHandler.setData(G&&G.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},$.prototype.destroy=function(){for(var G in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)!this.body.nodes.hasOwnProperty(G)||delete this.body.nodes[G];for(var Z in this.body.edges)!this.body.edges.hasOwnProperty(Z)||delete this.body.edges[Z];y.recursiveDOMDelete(this.body.container)},$.prototype._updateValueRange=function(G){var Z,ne=void 0,oe=void 0,le=0;for(Z in G)if(G.hasOwnProperty(Z)){var pe=G[Z].getValue();void 0!==pe&&(ne=void 0===ne?pe:Math.min(pe,ne),oe=void 0===oe?pe:Math.max(pe,oe),le+=pe)}if(void 0!==ne&&void 0!==oe)for(Z in G)G.hasOwnProperty(Z)&&G[Z].setValueRange(ne,oe,le)},$.prototype.isActive=function(){return!this.activator||this.activator.active},$.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},$.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},$.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},$.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},$.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},$.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},$.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},$.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},$.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},$.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},$.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},$.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},$.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},$.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},$.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},$.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},$.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},$.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},$.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},$.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},$.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},$.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},$.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},$.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},$.prototype.getConnectedNodes=function(G){return void 0!==this.body.nodes[G]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},$.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},$.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},$.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},$.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},$.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},$.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},$.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},$.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},$.prototype.getNodeAt=function(){var G=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==G&&void 0!==G.id?G.id:G},$.prototype.getEdgeAt=function(){var G=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==G&&void 0!==G.id?G.id:G},$.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},$.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},$.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},$.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},$.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},$.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},$.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},$.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},$.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},$.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},$.prototype.getOptionsFromConfigurator=function(){var G={};return this.configurator&&(G=this.configurator.getOptions.apply(this.configurator)),G},J.exports=$},function(J,L,E){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(P,y,S){this.beginPath(),this.arc(P,y,S,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(P,y,S){this.beginPath(),this.rect(P-S,y-S,2*S,2*S),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(P,y,S){this.beginPath(),y+=.275*(S*=1.15);var D=2*S,k=D/2,A=Math.sqrt(3)/6*D,x=Math.sqrt(D*D-k*k);this.moveTo(P,y-(x-A)),this.lineTo(P+k,y+A),this.lineTo(P-k,y+A),this.lineTo(P,y-(x-A)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(P,y,S){this.beginPath(),y-=.275*(S*=1.15);var D=2*S,k=D/2,A=Math.sqrt(3)/6*D,x=Math.sqrt(D*D-k*k);this.moveTo(P,y+(x-A)),this.lineTo(P+k,y-A),this.lineTo(P-k,y-A),this.lineTo(P,y+(x-A)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(P,y,S){this.beginPath(),y+=.1*(S*=.82);for(var D=0;D<10;D++){var k=D%2==0?1.3*S:.5*S;this.lineTo(P+k*Math.sin(2*D*Math.PI/10),y-k*Math.cos(2*D*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(P,y,S){this.beginPath(),this.lineTo(P,y+S),this.lineTo(P+S,y),this.lineTo(P,y-S),this.lineTo(P-S,y),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(P,y,S,D,k){var A=Math.PI/180;S-2*k<0&&(k=S/2),D-2*k<0&&(k=D/2),this.beginPath(),this.moveTo(P+k,y),this.lineTo(P+S-k,y),this.arc(P+S-k,y+k,k,270*A,360*A,!1),this.lineTo(P+S,y+D-k),this.arc(P+S-k,y+D-k,k,0,90*A,!1),this.lineTo(P+k,y+D),this.arc(P+k,y+D-k,k,90*A,180*A,!1),this.lineTo(P,y+k),this.arc(P+k,y+k,k,180*A,270*A,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(P,y,S,D){var k=.5522848,A=S/2*k,x=D/2*k,O=P+S,b=y+D,w=P+S/2,v=y+D/2;this.beginPath(),this.moveTo(P,v),this.bezierCurveTo(P,v-x,w-A,y,w,y),this.bezierCurveTo(w+A,y,O,v-x,O,v),this.bezierCurveTo(O,v+x,w+A,b,w,b),this.bezierCurveTo(w-A,b,P,v+x,P,v),this.closePath()},CanvasRenderingContext2D.prototype.database=function(P,y,S,D){var x=D*(1/3),O=.5522848,b=S/2*O,w=x/2*O,v=P+S,m=y+x,c=P+S/2,T=y+x/2,a=y+(D-x/2),p=y+D;this.beginPath(),this.moveTo(v,T),this.bezierCurveTo(v,T+w,c+b,m,c,m),this.bezierCurveTo(c-b,m,P,T+w,P,T),this.bezierCurveTo(P,T-w,c-b,y,c,y),this.bezierCurveTo(c+b,y,v,T-w,v,T),this.lineTo(v,a),this.bezierCurveTo(v,a+w,c+b,p,c,p),this.bezierCurveTo(c-b,p,P,a+w,P,a),this.lineTo(P,T)},CanvasRenderingContext2D.prototype.dashedLine=function(P,y,S,D,k){this.beginPath(),this.moveTo(P,y);for(var A=k.length,x=S-P,O=D-y,b=O/x,w=Math.sqrt(x*x+O*O),v=0,m=!0,c=0,T=k[0];w>=.1;)(T=k[v++%A])>w&&(T=w),c=Math.sqrt(T*T/(1+b*b)),P+=c=x<0?-c:c,y+=b*c,!0===m?this.lineTo(P,y):this.moveTo(P,y),w-=T,m=!m},CanvasRenderingContext2D.prototype.hexagon=function(P,y,S){this.beginPath();var k=2*Math.PI/6;this.moveTo(P+S,y);for(var A=1;A<6;A++)this.lineTo(P+S*Math.cos(k*A),y+S*Math.sin(k*A));this.closePath()})},function(J,L,E){L.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},L.en_EN=L.en,L.en_US=L.en,L.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},L.de_DE=L.de,L.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},L.es_ES=L.es,L.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},L.it_IT=L.it,L.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},L.nl_NL=L.nl,L.nl_BE=L.nl,L["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},L["pt-BR"]=L["pt-br"],L.pt_BR=L["pt-br"],L.pt_br=L["pt-br"],L.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},L.ru_RU=L.ru,L.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},L.zh_CN=L.cn},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(){(0,y.default)(this,x),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,D.default)(x,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var b=this.image.width,w=this.image.height;this.width=b,this.height=w;var v=Math.floor(w/2),m=Math.floor(w/4),c=Math.floor(w/8),T=Math.floor(w/16),a=Math.floor(b/2),p=Math.floor(b/4),d=Math.floor(b/8),u=Math.floor(b/16);this.canvas.width=3*p,this.canvas.height=v,this.coordinates=[[0,0,a,v],[a,0,p,m],[a,m,d,c],[5*d,m,u,T]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var b=this.canvas.getContext("2d"),w=this.coordinates[0];b.drawImage(this.image,w[0],w[1],w[2],w[3]);for(var v=1;v<this.NUM_ITERATIONS;v++){var m=this.coordinates[v-1],c=this.coordinates[v];b.drawImage(this.canvas,m[0],m[1],m[2],m[3],c[0],c[1],c[2],c[3])}}},{key:"drawImageAtPosition",value:function(b,w,v,m,c,T){if(this.initialized())if(w>2){w*=.5;for(var a=0;w>2&&a<this.NUM_ITERATIONS;)w*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var p=this.coordinates[a];b.drawImage(this.canvas,p[0],p[1],p[2],p[3],v,m,c,T)}else b.drawImage(this.image,v,m,c,T)}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(O){return O&&O.__esModule?O:{default:O}}var A=E(2),x=function(){function O(){(0,y.default)(this,O),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},A.extend(this.options,this.defaultOptions)}return(0,D.default)(O,[{key:"setOptions",value:function(w){var v=["useDefaultGroups"];if(void 0!==w)for(var m in w)w.hasOwnProperty(m)&&-1===v.indexOf(m)&&this.add(m,w[m])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(w){var m=this.groups[w];if(void 0===m&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var c=this.groupIndex%this.groupsArray.length;this.groupIndex++,(m={}).color=this.groups[this.groupsArray[c]],this.groups[w]=m}else{var T=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(m={}).color=this.defaultGroups[T],this.groups[w]=m}return m}},{key:"add",value:function(w,v){return this.groups[w]=v,this.groupsArray.push(w),v}}]),O}();L.default=x},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(v){return v&&v.__esModule?v:{default:v}}var A=E(2),x=E(11),O=E(12),b=E(47).default,w=function(){function v(m,c,T,a){var p=this;if((0,y.default)(this,v),this.body=m,this.images=c,this.groups=T,this.layoutEngine=a,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(u,g){p.add(g.items)},update:function(u,g){p.update(g.items,g.data,g.oldData)},remove:function(u,g){p.remove(g.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(u,g,M,h){return g===u?.5:Math.max(0,1/(g-u)*(h-u))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=A.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,D.default)(v,[{key:"bindEventListeners",value:function(){var c=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){A.forEach(c.nodesListeners,function(T,a){c.body.data.nodes&&c.body.data.nodes.off(a,T)}),delete c.body.functions.createNode,delete c.nodesListeners.add,delete c.nodesListeners.update,delete c.nodesListeners.remove,delete c.nodesListeners})}},{key:"setOptions",value:function(c){if(void 0!==c){if(b.parseOptions(this.options,c),void 0!==c.shape)for(var T in this.body.nodes)this.body.nodes.hasOwnProperty(T)&&this.body.nodes[T].updateShape();if(void 0!==c.font)for(var a in this.body.nodes)this.body.nodes.hasOwnProperty(a)&&(this.body.nodes[a].updateLabelModule(),this.body.nodes[a].needsRefresh());if(void 0!==c.size)for(var p in this.body.nodes)this.body.nodes.hasOwnProperty(p)&&this.body.nodes[p].needsRefresh();(void 0!==c.hidden||void 0!==c.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(c){var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.body.data.nodes;if(c instanceof x||c instanceof O)this.body.data.nodes=c;else if(Array.isArray(c))this.body.data.nodes=new x,this.body.data.nodes.add(c);else{if(c)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new x}if(a&&A.forEach(this.nodesListeners,function(u,g){a.off(g,u)}),this.body.nodes={},this.body.data.nodes){var p=this;A.forEach(this.nodesListeners,function(u,g){p.body.data.nodes.on(g,u)});var d=this.body.data.nodes.getIds();this.add(d,!0)}!1===T&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(c){for(var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=void 0,p=[],d=0;d<c.length;d++){var u=this.body.data.nodes.get(a=c[d]),g=this.create(u);p.push(g),this.body.nodes[a]=g}this.layoutEngine.positionInitially(p),!1===T&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(c,T,a){for(var p=this.body.nodes,d=!1,u=0;u<c.length;u++){var g=c[u],M=p[g],h=T[u];void 0!==M?M.setOptions(h)&&(d=!0):(d=!0,M=this.create(h),p[g]=M)}!d&&void 0!==a&&(d=T.some(function(f,_){var I=a[_];return I&&I.level!==f.level})),this.body.emitter.emit(!0===d?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(c){for(var T=this.body.nodes,a=0;a<c.length;a++)delete T[c[a]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(c){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b)(c,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var c=this,T=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A.forEach(this.body.nodes,function(a,p){var d=c.body.data.nodes.get(p);void 0!==d&&(!0===T&&a.setOptions({x:null,y:null}),a.setOptions({fixed:!1}),a.setOptions(d))})}},{key:"getPositions",value:function(c){var T={};if(void 0!==c){if(!0===Array.isArray(c)){for(var a=0;a<c.length;a++)if(void 0!==this.body.nodes[c[a]]){var p=this.body.nodes[c[a]];T[c[a]]={x:Math.round(p.x),y:Math.round(p.y)}}}else if(void 0!==this.body.nodes[c]){var d=this.body.nodes[c];T[c]={x:Math.round(d.x),y:Math.round(d.y)}}}else for(var u=0;u<this.body.nodeIndices.length;u++){var g=this.body.nodes[this.body.nodeIndices[u]];T[this.body.nodeIndices[u]]={x:Math.round(g.x),y:Math.round(g.y)}}return T}},{key:"storePositions",value:function(){var c=[],T=this.body.data.nodes.getDataSet();for(var a in T._data)if(T._data.hasOwnProperty(a)){var p=this.body.nodes[a];(T._data[a].x!=Math.round(p.x)||T._data[a].y!=Math.round(p.y))&&c.push({id:p.id,x:Math.round(p.x),y:Math.round(p.y)})}T.update(c)}},{key:"getBoundingBox",value:function(c){if(void 0!==this.body.nodes[c])return this.body.nodes[c].shape.boundingBox}},{key:"getConnectedNodes",value:function(c,T){var a=[];if(void 0!==this.body.nodes[c])for(var p=this.body.nodes[c],d={},u=0;u<p.edges.length;u++){var g=p.edges[u];"to"!==T&&g.toId==p.id?void 0===d[g.fromId]&&(a.push(g.fromId),d[g.fromId]=!0):"from"!==T&&g.fromId==p.id&&void 0===d[g.toId]&&(a.push(g.toId),d[g.toId]=!0)}return a}},{key:"getConnectedEdges",value:function(c){var T=[];if(void 0!==this.body.nodes[c])for(var a=this.body.nodes[c],p=0;p<a.edges.length;p++)T.push(a.edges[p].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",c);return T}},{key:"moveNode",value:function(c,T,a){var p=this;void 0!==this.body.nodes[c]?(this.body.nodes[c].x=Number(T),this.body.nodes[c].y=Number(a),setTimeout(function(){p.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",c)}}]),v}();L.default=w},function(J,L,E){J.exports={default:E(189),__esModule:!0}},function(J,L,E){E(49),E(60),J.exports=E(190)},function(J,L,E){var P=E(86),y=E(13)("iterator"),S=E(31);J.exports=E(7).isIterable=function(D){var k=Object(D);return void 0!==k[y]||"@@iterator"in k||S.hasOwnProperty(P(k))}},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(b){return b&&b.__esModule?b:{default:b}}var A=E(192).default,x=E(48).default,O=function(){function b(w,v,m,c){var T=this;(0,y.default)(this,b),this.ctx=w,this.parent=v,this.lines=new A(function(d,u){if(void 0===d)return 0;var g=T.parent.getFormattingValues(w,m,c,u),M=0;return""!==d&&(M=T.ctx.measureText(d).width),{width:M,values:g}})}return(0,D.default)(b,[{key:"process",value:function(v){if(!x.isValidLabel(v))return this.lines.finalize();var m=this.parent.fontOptions;v=(v=v.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var c=String(v).split("\n"),T=c.length;if(m.multi)for(var a=0;a<T;a++){var p=this.splitBlocks(c[a],m.multi);if(void 0!==p){if(0===p.length){this.lines.newLine("");continue}if(m.maxWdt>0)for(var d=0;d<p.length;d++)this.splitStringIntoLines(p[d].text,p[d].mod,!0);else for(var M=0;M<p.length;M++)this.lines.append(p[M].text,p[M].mod);this.lines.newLine()}}else if(m.maxWdt>0)for(var _=0;_<T;_++)this.splitStringIntoLines(c[_]);else for(var I=0;I<T;I++)this.lines.newLine(c[I]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(v){var m="none";return"markdown"===v||"md"===v?m="markdown":(!0===v||"html"===v)&&(m="html"),m}},{key:"splitHtmlBlocks",value:function(v){for(var m=[],c={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":c.bold&&c.ital?"boldital":c.bold?"bold":c.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(m.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(c.spacing=!0),c.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=a&&(this.buffer+=a)}};c.position<v.length;){var T=v.charAt(c.position);/[ \t]/.test(T)?c.mono?c.add(T):c.spacing=!0:/</.test(T)?c.mono||c.bold||!/<b>/.test(v.substr(c.position,3))?c.mono||c.ital||!/<i>/.test(v.substr(c.position,3))?!c.mono&&/<code>/.test(v.substr(c.position,6))?(c.emitBlock(),c.mono=!0,c.modStack.unshift("mono"),c.position+=5):!c.mono&&"bold"===c.mod()&&/<\/b>/.test(v.substr(c.position,4))?(c.emitBlock(),c.bold=!1,c.modStack.shift(),c.position+=3):!c.mono&&"ital"===c.mod()&&/<\/i>/.test(v.substr(c.position,4))?(c.emitBlock(),c.ital=!1,c.modStack.shift(),c.position+=3):"mono"===c.mod()&&/<\/code>/.test(v.substr(c.position,7))?(c.emitBlock(),c.mono=!1,c.modStack.shift(),c.position+=6):c.add(T):(c.emitBlock(),c.ital=!0,c.modStack.unshift("ital"),c.position+=2):(c.emitBlock(),c.bold=!0,c.modStack.unshift("bold"),c.position+=2):/&/.test(T)?/&lt;/.test(v.substr(c.position,4))?(c.add("<"),c.position+=3):/&amp;/.test(v.substr(c.position,5))?(c.add("&"),c.position+=4):c.add("&"):c.add(T),c.position++}return c.emitBlock(),m}},{key:"splitMarkdownBlocks",value:function(v){for(var m=[],c={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":c.bold&&c.ital?"boldital":c.bold?"bold":c.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(m.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(a){" "===a&&(c.spacing=!0),c.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=a&&(this.buffer+=a)}};c.position<v.length;){var T=v.charAt(c.position);/[ \t]/.test(T)?(c.mono?c.add(T):c.spacing=!0,c.beginable=!0):/\\/.test(T)?c.position<v.length+1&&(c.position++,T=v.charAt(c.position),/ \t/.test(T)?c.spacing=!0:(c.add(T),c.beginable=!1)):c.mono||c.bold||!c.beginable&&!c.spacing||!/\*/.test(T)?c.mono||c.ital||!c.beginable&&!c.spacing||!/\_/.test(T)?!c.mono&&(c.beginable||c.spacing)&&/`/.test(T)?(c.emitBlock(),c.mono=!0,c.modStack.unshift("mono")):!c.mono&&"bold"===c.mod()&&/\*/.test(T)?c.position===v.length-1||/[.,_` \t\n]/.test(v.charAt(c.position+1))?(c.emitBlock(),c.bold=!1,c.modStack.shift()):c.add(T):!c.mono&&"ital"===c.mod()&&/\_/.test(T)?c.position===v.length-1||/[.,*` \t\n]/.test(v.charAt(c.position+1))?(c.emitBlock(),c.ital=!1,c.modStack.shift()):c.add(T):c.mono&&"mono"===c.mod()&&/`/.test(T)?c.position===v.length-1||/[.,*_ \t\n]/.test(v.charAt(c.position+1))?(c.emitBlock(),c.mono=!1,c.modStack.shift()):c.add(T):(c.add(T),c.beginable=!1):(c.emitBlock(),c.ital=!0,c.modStack.unshift("ital")):(c.emitBlock(),c.bold=!0,c.modStack.unshift("bold")),c.position++}return c.emitBlock(),m}},{key:"splitBlocks",value:function(v,m){var c=this.decodeMarkupSystem(m);return"none"===c?[{text:v,mod:"normal"}]:"markdown"===c?this.splitMarkdownBlocks(v):"html"===c?this.splitHtmlBlocks(v):void 0}},{key:"overMaxWidth",value:function(v){var m=this.ctx.measureText(v).width;return this.lines.curWidth()+m>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(v){for(var m="",c=0;c<v.length;){var a=m+(""===m?"":" ")+v[c];if(this.overMaxWidth(a))break;m=a,c++}return c}},{key:"getLongestFitWord",value:function(v){for(var m=0;m<v.length&&!this.overMaxWidth(v.slice(0,m));)m++;return m}},{key:"splitStringIntoLines",value:function(v){for(var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],T=(v=(v=v.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");T.length>0;){var a=this.getLongestFit(T);if(0===a){var p=T[0],d=this.getLongestFitWord(p);this.lines.newLine(p.slice(0,d),m),T[0]=p.slice(d)}else{var u=a;" "===T[a-1]?a--:" "===T[u]&&u++;var g=T.slice(0,a).join("");a==T.length&&c?this.lines.append(g,m):this.lines.newLine(g,m),T=T.slice(u)}}}}]),b}();L.default=O},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=x(E(90)),D=x(E(0)),A=x(E(1));function x(b){return b&&b.__esModule?b:{default:b}}var O=function(){function b(w){(0,D.default)(this,b),this.measureText=w,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,A.default)(b,[{key:"_add",value:function(v,m){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[v]&&(this.lines[v]={width:0,height:0,blocks:[]});var T=m;(void 0===m||""===m)&&(T=" ");var a=this.measureText(T,c),p=(0,y.default)({},a.values);p.text=m,p.width=a.width,p.mod=c,(void 0===m||""===m)&&(p.width=0),this.lines[v].blocks.push(p),this.lines[v].width+=p.width}},{key:"curWidth",value:function(){var v=this.lines[this.current];return void 0===v?0:v.width}},{key:"append",value:function(v){this._add(this.current,v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(v){this._add(this.current,v,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var v=0;v<this.lines.length;v++){var m=this.lines[v],c=0;if(void 0!==m.blocks)for(var T=0;T<m.blocks.length;T++){var a=m.blocks[T];c<a.height&&(c=a.height)}m.height=c}}},{key:"determineLabelSize",value:function(){for(var v=0,m=0,c=0;c<this.lines.length;c++){var T=this.lines[c];T.width>v&&(v=T.width),m+=T.height}this.width=v,this.height=m}},{key:"removeEmptyBlocks",value:function(){for(var v=[],m=0;m<this.lines.length;m++){var c=this.lines[m];if(0!==c.blocks.length&&(m!==this.lines.length-1||0!==c.width)){var T={};(0,y.default)(T,c),T.blocks=[];for(var a=void 0,p=[],d=0;d<c.blocks.length;d++){var u=c.blocks[d];0!==u.width?p.push(u):void 0===a&&(a=u)}0===p.length&&void 0!==a&&p.push(a),T.blocks=p,v.push(T)}}return v}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var v=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:v}}}]),b}();L.default=O},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(g,M)){var h=this.getDimensionsFromLabel(u,g,M);this.width=h.width+this.margin.right+this.margin.left,this.height=h.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(u,g,M,h,f,_){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this.initContextForDraw(u,_),u.roundRect(this.left,this.top,this.width,this.height,_.borderRadius),this.performFill(u,_),this.updateBoundingBox(g,M,u,h,f),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,h,f)}},{key:"updateBoundingBox",value:function(u,g,M,h,f){this._updateBoundingBox(u,g,M,h,f),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(u,g){this.resize(u);var M=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(g)),Math.abs(this.height/2/Math.sin(g)))+M}}]),p}(c(E(23)).default);L.default=T},function(J,L,E){E(195),J.exports=E(7).Object.getPrototypeOf},function(J,L,E){var P=E(41),y=E(85);E(87)("getPrototypeOf",function(){return function(D){return y(P(D))}})},function(J,L,E){J.exports={default:E(197),__esModule:!0}},function(J,L,E){E(198),J.exports=E(7).Object.setPrototypeOf},function(J,L,E){var P=E(17);P(P.S,"Object",{setPrototypeOf:E(199).set})},function(J,L,E){var P=E(32),y=E(27),S=function(D,k){if(y(D),!P(k)&&null!==k)throw TypeError(k+": can't set as prototype!")};J.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(D,k,A){try{(A=E(80)(Function.call,E(89).f(Object.prototype,"__proto__").set,2))(D,[]),k=!(D instanceof Array)}catch(x){k=!0}return function(O,b){return S(O,b),k?O.__proto__=b:A(O,b),O}}({},!1):void 0),check:S}},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(g,M)){var h=this.getDimensionsFromLabel(u,g,M),f=Math.max(h.width+this.margin.right+this.margin.left,h.height+this.margin.top+this.margin.bottom);this.options.size=f/2,this.width=f,this.height=f,this.radius=this.width/2}}},{key:"draw",value:function(u,g,M,h,f,_){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this._drawRawCircle(u,g,M,_),this.updateBoundingBox(g,M),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,M,h,f)}},{key:"updateBoundingBox",value:function(u,g){this.boundingBox.top=g-this.options.size,this.boundingBox.left=u-this.options.size,this.boundingBox.right=u+this.options.size,this.boundingBox.bottom=g+this.options.size}},{key:"distanceToBorder",value:function(u,g){return this.resize(u),.5*this.width}}]),p}(c(E(73)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g,M,h){(0,D.default)(this,p);var f=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return f.setImages(M,h),f}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var f=2*this.options.size;return this.width=f,this.height=f,void(this.radius=.5*this.width)}this.needsRefresh(g,M)&&this._resizeImage()}},{key:"draw",value:function(u,g,M,h,f,_){this.switchImages(h),this.resize(),this.left=g-this.width/2,this.top=M-this.height/2,this._drawRawCircle(u,g,M,_),u.save(),u.clip(),this._drawImageAtPosition(u,_),u.restore(),this._drawImageLabel(u,g,M,h,f),this.updateBoundingBox(g,M)}},{key:"updateBoundingBox",value:function(u,g){this.boundingBox.top=g-this.options.size,this.boundingBox.left=u-this.options.size,this.boundingBox.right=u+this.options.size,this.boundingBox.bottom=g+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(u,g){return this.resize(u),.5*this.width}}]),p}(c(E(73)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u,g,M){if(this.needsRefresh(g,M)){var f=this.getDimensionsFromLabel(u,g,M).width+this.margin.right+this.margin.left;this.width=f,this.height=f,this.radius=this.width/2}}},{key:"draw",value:function(u,g,M,h,f,_){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this.initContextForDraw(u,_),u.database(g-this.width/2,M-this.height/2,this.width,this.height),this.performFill(u,_),this.updateBoundingBox(g,M,u,h,f),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,h,f)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(23)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,_){this._drawShape(u,"diamond",4,g,M,h,f,_)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(24)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,_){this._drawShape(u,"circle",2,g,M,h,f,_)}},{key:"distanceToBorder",value:function(u,g){return this.resize(u),this.options.size}}]),p}(c(E(24)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(g,M)){var h=this.getDimensionsFromLabel(u,g,M);this.height=2*h.height,this.width=h.width+h.height,this.radius=.5*this.width}}},{key:"draw",value:function(u,g,M,h,f,_){this.resize(u,h,f),this.left=g-.5*this.width,this.top=M-.5*this.height,this.initContextForDraw(u,_),u.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(u,_),this.updateBoundingBox(g,M,u,h,f),this.labelModule.draw(u,g,M,h,f)}},{key:"distanceToBorder",value:function(u,g){this.resize(u);var M=.5*this.width,h=.5*this.height,f=Math.sin(g)*M,_=Math.cos(g)*h;return M*h/Math.sqrt(f*f+_*_)}}]),p}(c(E(23)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u,g,M){this.needsRefresh(g,M)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(u,g,M,h,f,_){this.resize(u,h,f),this.options.icon.size=this.options.icon.size||50,this.left=g-this.width/2,this.top=M-this.height/2,this._icon(u,g,M,h,f,_),void 0!==this.options.label&&this.labelModule.draw(u,this.left+this.iconSize.width/2+this.margin.left,M+this.height/2+5,h),this.updateBoundingBox(g,M)}},{key:"updateBoundingBox",value:function(u,g){if(this.boundingBox.top=g-.5*this.options.icon.size,this.boundingBox.left=u-.5*this.options.icon.size,this.boundingBox.right=u+.5*this.options.icon.size,this.boundingBox.bottom=g+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(u,g,M,h,f,_){var I=Number(this.options.icon.size);void 0!==this.options.icon.code?(u.font=(h?"bold ":"")+I+"px "+this.options.icon.face,u.fillStyle=this.options.icon.color||"black",u.textAlign="center",u.textBaseline="middle",this.enableShadow(u,_),u.fillText(this.options.icon.code,g,M),this.disableShadow(u,_)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(23)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g,M,h){(0,D.default)(this,p);var f=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return f.setImages(M,h),f}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var f=2*this.options.size;return this.width=f,void(this.height=f)}this.needsRefresh(g,M)&&this._resizeImage()}},{key:"draw",value:function(u,g,M,h,f,_){this.switchImages(h),this.resize(),this.left=g-this.width/2,this.top=M-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(u.lineWidth=Math.min(this.width,(h?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),u.beginPath(),u.strokeStyle=h?this.options.color.highlight.border:f?this.options.color.hover.border:this.options.color.border,u.fillStyle=h?this.options.color.highlight.background:f?this.options.color.hover.background:this.options.color.background,u.rect(this.left-.5*u.lineWidth,this.top-.5*u.lineWidth,this.width+u.lineWidth,this.height+u.lineWidth),u.fill(),this.performStroke(u,_),u.closePath()),this._drawImageAtPosition(u,_),this._drawImageLabel(u,g,M,h,f),this.updateBoundingBox(g,M)}},{key:"updateBoundingBox",value:function(u,g){this.resize(),this._updateBoundingBox(u,g),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(73)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,_){this._drawShape(u,"square",2,g,M,h,f,_)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(24)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,_){this._drawShape(u,"hexagon",4,g,M,h,f,_)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(24)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,_){this._drawShape(u,"star",4,g,M,h,f,_)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(24)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){(0,D.default)(this,p);var M=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g));return M._setMargins(g),M}return(0,w.default)(p,a),(0,A.default)(p,[{key:"resize",value:function(u,g,M){this.needsRefresh(g,M)&&(this.textSize=this.labelModule.getTextSize(u,g,M),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(u,g,M,h,f,_){this.resize(u,h,f),this.left=g-this.width/2,this.top=M-this.height/2,this.enableShadow(u,_),this.labelModule.draw(u,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,h,f),this.disableShadow(u,_),this.updateBoundingBox(g,M,u,h,f)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(23)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,_){this._drawShape(u,"triangle",3,g,M,h,f,_)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(24)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"draw",value:function(u,g,M,h,f,_){this._drawShape(u,"triangleDown",3,g,M,h,f,_)}},{key:"distanceToBorder",value:function(u,g){return this._distanceToBorder(u,g)}}]),p}(c(E(24)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(v){return v&&v.__esModule?v:{default:v}}var A=E(2),x=E(11),O=E(12),b=E(74).default,w=function(){function v(m,c,T){var a=this;(0,y.default)(this,v),this.body=m,this.images=c,this.groups=T,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(d,u){a.add(u.items)},update:function(d,u){a.update(u.items)},remove:function(d,u){a.remove(u.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(d,u,g,M){return u===d?.5:Math.max(0,1/(u-d)*(M-d))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},A.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,D.default)(v,[{key:"bindEventListeners",value:function(){var c=this;this.body.emitter.on("_forceDisableDynamicCurves",function(T){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===T&&(T="continuous");var p=!1;for(var d in c.body.edges)if(c.body.edges.hasOwnProperty(d)){var u=c.body.edges[d],g=c.body.data.edges._data[d];if(void 0!==g){var M=g.smooth;void 0!==M&&!0===M.enabled&&"dynamic"===M.type&&(u.setOptions(void 0===T?{smooth:!1}:{smooth:{type:T}}),p=!0)}}!0===a&&!0===p&&c.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){c.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){A.forEach(c.edgesListeners,function(T,a){c.body.data.edges&&c.body.data.edges.off(a,T)}),delete c.body.functions.createEdge,delete c.edgesListeners.add,delete c.edgesListeners.update,delete c.edgesListeners.remove,delete c.edgesListeners})}},{key:"setOptions",value:function(c){if(void 0!==c){b.parseOptions(this.options,c,!0,this.defaultOptions,!0);var T=!1;if(void 0!==c.smooth)for(var a in this.body.edges)this.body.edges.hasOwnProperty(a)&&(T=this.body.edges[a].updateEdgeType()||T);if(void 0!==c.font)for(var p in this.body.edges)this.body.edges.hasOwnProperty(p)&&this.body.edges[p].updateLabelModule();(void 0!==c.hidden||void 0!==c.physics||!0===T)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(c){var T=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=this.body.data.edges;if(c instanceof x||c instanceof O)this.body.data.edges=c;else if(Array.isArray(c))this.body.data.edges=new x,this.body.data.edges.add(c);else{if(c)throw new TypeError("Array or DataSet expected");this.body.data.edges=new x}if(p&&A.forEach(this.edgesListeners,function(u,g){p.off(g,u)}),this.body.edges={},this.body.data.edges){A.forEach(this.edgesListeners,function(u,g){T.body.data.edges.on(g,u)});var d=this.body.data.edges.getIds();this.add(d,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===a&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(c){for(var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.body.edges,p=this.body.data.edges,d=0;d<c.length;d++){var u=c[d],g=a[u];g&&g.disconnect();var M=p.get(u,{showInternalIds:!0});a[u]=this.create(M)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===T&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(c){for(var T=this.body.edges,a=this.body.data.edges,p=!1,d=0;d<c.length;d++){var u=c[d],g=a.get(u),M=T[u];void 0!==M?(M.disconnect(),p=M.setOptions(g)||p,M.connect()):(this.body.edges[u]=this.create(g),p=!0)}!0===p?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(c){var T=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==c.length){var a=this.body.edges;A.forEach(c,function(p){var d=a[p];void 0!==d&&d.remove()}),T&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var c=this;A.forEach(this.body.edges,function(T,a){var p=c.body.data.edges._data[a];void 0!==p&&T.setOptions(p)})}},{key:"create",value:function(c){return new b(c,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var c,T=this.body.nodes,a=this.body.edges;for(c in T)T.hasOwnProperty(c)&&(T[c].edges=[]);for(c in a)if(a.hasOwnProperty(c)){var p=a[c];p.from=null,p.to=null,p.connect()}}},{key:"getConnectedNodes",value:function(c){var T=[];if(void 0!==this.body.edges[c]){var a=this.body.edges[c];void 0!==a.fromId&&T.push(a.fromId),void 0!==a.toId&&T.push(a.toId)}return T}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var c=this,T=[];A.forEach(this.body.edges,function(a,p){var d=c.body.nodes[a.toId],u=c.body.nodes[a.fromId];void 0!==d&&!0===d.isCluster||void 0!==u&&!0===u.isCluster||(void 0===d||void 0===u)&&T.push(p)}),this.remove(T,!1)}},{key:"_addMissingEdges",value:function(){var c=this.body.edges,a=[];this.body.data.edges.forEach(function(p,d){void 0===c[d]&&a.push(d)}),this.add(a,!0)}}]),v}();L.default=w},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=a(E(30)),D=a(E(3)),A=a(E(0)),O=a(E(1)),w=a(E(4)),m=a(E(5));function a(d){return d&&d.__esModule?d:{default:d}}var p=function(d){function u(g,M,h){return(0,A.default)(this,u),(0,w.default)(this,(u.__proto__||(0,D.default)(u)).call(this,g,M,h))}return(0,m.default)(u,d),(0,O.default)(u,[{key:"_line",value:function(M,h,f){this._bezierCurve(M,h,f[0],f[1])}},{key:"_getViaCoordinates",value:function(){var M=this.from.x-this.to.x,h=this.from.y-this.to.y,f=void 0,_=void 0,I=void 0,F=void 0,V=this.options.smooth.roundness;return(Math.abs(M)>Math.abs(h)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(_=this.from.y,F=this.to.y,f=this.from.x-V*M,I=this.to.x+V*M):(_=this.from.y-V*h,F=this.to.y+V*h,f=this.from.x,I=this.to.x),[{x:f,y:_},{x:I,y:F}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(M,h){return this._findBorderPositionBezier(M,h)}},{key:"_getDistanceToEdge",value:function(M,h,f,_,I,F){var V=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),j=(0,y.default)(V,2);return this._getDistanceToBezierEdge(M,h,f,_,I,F,j[0],j[1])}},{key:"getPoint",value:function(M){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),f=(0,y.default)(h,2),_=f[0],I=f[1],F=M,V=[];return V[0]=Math.pow(1-F,3),V[1]=3*F*Math.pow(1-F,2),V[2]=3*Math.pow(F,2)*(1-F),V[3]=Math.pow(F,3),{x:V[0]*this.fromPoint.x+V[1]*_.x+V[2]*I.x+V[3]*this.toPoint.x,y:V[0]*this.fromPoint.y+V[1]*_.y+V[2]*I.y+V[3]*this.toPoint.y}}}]),u}(a(E(216)).default);L.default=p},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_getDistanceToBezierEdge",value:function(u,g,M,h,f,_,I,F){var V=1e9,j=void 0,$=void 0,G=void 0,Z=void 0,ne=void 0,oe=u,le=g,pe=[0,0,0,0];for($=1;$<10;$++)G=.1*$,pe[0]=Math.pow(1-G,3),pe[1]=3*G*Math.pow(1-G,2),pe[2]=3*Math.pow(G,2)*(1-G),pe[3]=Math.pow(G,3),Z=pe[0]*u+pe[1]*I.x+pe[2]*F.x+pe[3]*M,ne=pe[0]*g+pe[1]*I.y+pe[2]*F.y+pe[3]*h,$>0&&(V=(j=this._getDistanceToLine(oe,le,Z,ne,f,_))<V?j:V),oe=Z,le=ne;return V}}]),p}(c(E(75)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=a(E(30)),D=a(E(3)),A=a(E(0)),O=a(E(1)),w=a(E(4)),m=a(E(5));function a(d){return d&&d.__esModule?d:{default:d}}var p=function(d){function u(g,M,h){(0,A.default)(this,u);var f=(0,w.default)(this,(u.__proto__||(0,D.default)(u)).call(this,g,M,h));return f._boundFunction=function(){f.positionBezierNode()},f.body.emitter.on("_repositionBezierNodes",f._boundFunction),f}return(0,m.default)(u,d),(0,O.default)(u,[{key:"setOptions",value:function(M){var h=!1;this.options.physics!==M.physics&&(h=!0),this.options=M,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===h&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var M="edgeId:"+this.id,h=this.body.functions.createNode({id:M,shape:"circle",physics:!0,hidden:!0});this.body.nodes[M]=h,this.via=h,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(M,h,f){this._bezierCurve(M,h,f)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(M){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,f=M,_=void 0,I=void 0;if(this.from===this.to){var F=this._getCircleData(this.from),V=(0,y.default)(F,3),$=V[1],G=V[2],Z=2*Math.PI*(1-f);_=V[0]+G*Math.sin(Z),I=$+G-G*(1-Math.cos(Z))}else _=Math.pow(1-f,2)*this.fromPoint.x+2*f*(1-f)*h.x+Math.pow(f,2)*this.toPoint.x,I=Math.pow(1-f,2)*this.fromPoint.y+2*f*(1-f)*h.y+Math.pow(f,2)*this.toPoint.y;return{x:_,y:I}}},{key:"_findBorderPosition",value:function(M,h){return this._findBorderPositionBezier(M,h,this.via)}},{key:"_getDistanceToEdge",value:function(M,h,f,_,I,F){return this._getDistanceToBezierEdge(M,h,f,_,I,F,this.via)}}]),u}(a(E(75)).default);L.default=p},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_line",value:function(u,g,M){this._bezierCurve(u,g,M)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var u=void 0,g=void 0,M=this.options.smooth.roundness,h=this.options.smooth.type,f=Math.abs(this.from.x-this.to.x),_=Math.abs(this.from.y-this.to.y);if("discrete"===h||"diagonalCross"===h){var I=void 0,F=void 0;I=F=f<=_?M*_:M*f,this.from.x>this.to.x&&(I=-I),this.from.y>=this.to.y&&(F=-F),u=this.from.x+I,g=this.from.y+F,"discrete"===h&&(f<=_?u=f<M*_?this.from.x:u:g=_<M*f?this.from.y:g)}else if("straightCross"===h){var V=(1-M)*f,j=(1-M)*_;f<=_?(V=0,this.from.y<this.to.y&&(j=-j)):(this.from.x<this.to.x&&(V=-V),j=0),u=this.to.x+V,g=this.to.y+j}else if("horizontal"===h){var $=(1-M)*f;this.from.x<this.to.x&&($=-$),u=this.to.x+$,g=this.from.y}else if("vertical"===h){var G=(1-M)*_;this.from.y<this.to.y&&(G=-G),u=this.from.x,g=this.to.y+G}else if("curvedCW"===h){f=this.to.x-this.from.x,_=this.from.y-this.to.y;var Z=Math.sqrt(f*f+_*_),ne=Math.PI,le=(Math.atan2(_,f)+(.5*M+.5)*ne)%(2*ne);u=this.from.x+(.5*M+.5)*Z*Math.sin(le),g=this.from.y+(.5*M+.5)*Z*Math.cos(le)}else if("curvedCCW"===h){f=this.to.x-this.from.x,_=this.from.y-this.to.y;var pe=Math.sqrt(f*f+_*_),_e=Math.PI,Ee=(Math.atan2(_,f)+(.5*-M+.5)*_e)%(2*_e);u=this.from.x+(.5*M+.5)*pe*Math.sin(Ee),g=this.from.y+(.5*M+.5)*pe*Math.cos(Ee)}else{var ge=void 0,ue=void 0;ge=ue=f<=_?M*_:M*f,this.from.x>this.to.x&&(ge=-ge),this.from.y>=this.to.y&&(ue=-ue),u=this.from.x+ge,g=this.from.y+ue,f<=_?u=this.from.x<=this.to.x?this.to.x<u?this.to.x:u:this.to.x>u?this.to.x:u:g=this.from.y>=this.to.y?this.to.y>g?this.to.y:g:this.to.y<g?this.to.y:g}return{x:u,y:g}}},{key:"_findBorderPosition",value:function(u,g){return this._findBorderPositionBezier(u,g,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(u,g,M,h,f,_){var I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(u,g,M,h,f,_,I)}},{key:"getPoint",value:function(u){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),M=u;return{x:Math.pow(1-M,2)*this.fromPoint.x+2*M*(1-M)*g.x+Math.pow(M,2)*this.toPoint.x,y:Math.pow(1-M,2)*this.fromPoint.y+2*M*(1-M)*g.y+Math.pow(M,2)*this.toPoint.y}}}]),p}(c(E(75)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_line",value:function(u,g){u.beginPath(),u.moveTo(this.fromPoint.x,this.fromPoint.y),u.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(u,g),u.stroke(),this.disableShadow(u,g)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(u){return{x:(1-u)*this.fromPoint.x+u*this.toPoint.x,y:(1-u)*this.fromPoint.y+u*this.toPoint.y}}},{key:"_findBorderPosition",value:function(u,g){var M=this.to,h=this.from;u.id===this.from.id&&(M=this.from,h=this.to);var f=Math.atan2(M.y-h.y,M.x-h.x),_=M.x-h.x,I=M.y-h.y,F=Math.sqrt(_*_+I*I),j=(F-u.distanceToBorder(g,f))/F,$={};return $.x=(1-j)*h.x+j*M.x,$.y=(1-j)*h.y+j*M.y,$}},{key:"_getDistanceToEdge",value:function(u,g,M,h,f,_){return this._getDistanceToLine(u,g,M,h,f,_)}}]),p}(c(E(118)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=x(E(8)),D=x(E(0)),A=x(E(1));function x(g){return g&&g.__esModule?g:{default:g}}var O=E(120).default,b=E(221).default,w=E(222).default,v=E(223).default,m=E(224).default,c=E(121).default,T=E(225).default,a=E(226).default,p=E(2),d=E(119).default,u=function(){function g(M){(0,D.default)(this,g),this.body=M,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},p.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,A.default)(g,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.on("initPhysics",function(){h.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){h.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){h.stopSimulation(),h.ready=!1}),this.body.emitter.on("disablePhysics",function(){h.physicsEnabled=!1,h.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){h.setOptions(h.options),!0===h.ready&&h.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===h.ready&&h.startSimulation()}),this.body.emitter.on("stopSimulation",function(){h.stopSimulation()}),this.body.emitter.on("destroy",function(){h.stopSimulation(!1),h.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){h.updatePhysicsData()})}},{key:"setOptions",value:function(h){void 0!==h&&(!1===h?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===h?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,p.selectiveNotDeepExtend(["stabilization"],this.options,h),p.mergeOptions(this.options,h,"stabilization"),void 0===h.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var h;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new T(this.body,this.physicsBody,h=this.options.forceAtlas2Based),this.edgesSolver=new v(this.body,this.physicsBody,h),this.gravitySolver=new a(this.body,this.physicsBody,h)):"repulsion"===this.options.solver?(this.nodesSolver=new b(this.body,this.physicsBody,h=this.options.repulsion),this.edgesSolver=new v(this.body,this.physicsBody,h),this.gravitySolver=new c(this.body,this.physicsBody,h)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new w(this.body,this.physicsBody,h=this.options.hierarchicalRepulsion),this.edgesSolver=new m(this.body,this.physicsBody,h),this.gravitySolver=new c(this.body,this.physicsBody,h)):(this.nodesSolver=new O(this.body,this.physicsBody,h=this.options.barnesHut),this.edgesSolver=new v(this.body,this.physicsBody,h),this.gravitySolver=new c(this.body,this.physicsBody,h)),this.modelOptions=h}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===h&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===h&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var h=Date.now();this.physicsTick(),(Date.now()-h<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var h=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){h.body.emitter.emit("stabilized",{iterations:f}),h.startedStabilization=!1,h.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var h=this.body.nodes,f=this.body.edges;for(var _ in h)h.hasOwnProperty(_)&&!0===h[_].options.physics&&this.physicsBody.physicsNodeIndices.push(h[_].id);for(var I in f)f.hasOwnProperty(I)&&!0===f[I].options.physics&&this.physicsBody.physicsEdgeIndices.push(f[I].id);for(var F=0;F<this.physicsBody.physicsNodeIndices.length;F++){var V=this.physicsBody.physicsNodeIndices[F];this.physicsBody.forces[V]={x:0,y:0},void 0===this.physicsBody.velocities[V]&&(this.physicsBody.velocities[V]={x:0,y:0})}for(var j in this.physicsBody.velocities)void 0===h[j]&&delete this.physicsBody.velocities[j]}},{key:"revert",value:function(){var h=(0,y.default)(this.previousStates),f=this.body.nodes,_=this.physicsBody.velocities;this.referenceState={};for(var I=0;I<h.length;I++){var F=h[I];void 0!==f[F]?!0===f[F].options.physics&&(this.referenceState[F]={positions:{x:f[F].x,y:f[F].y}},_[F].x=this.previousStates[F].vx,_[F].y=this.previousStates[F].vy,f[F].x=this.previousStates[F].x,f[F].y=this.previousStates[F].y):delete this.previousStates[F]}}},{key:"_evaluateStepQuality",value:function(){var f=void 0,I=this.body.nodes,F=this.referenceState;for(var j in this.referenceState)if(this.referenceState.hasOwnProperty(j)&&void 0!==I[j]&&(f=I[j].y-F[j].positions.y,Math.sqrt(Math.pow(I[j].x-F[j].positions.x,2)+Math.pow(f,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var h=this.physicsBody.physicsNodeIndices,f=0,_=0,F=0;F<h.length;F++){var j=this._performStep(h[F]);f=Math.max(f,j),_+=j}this.adaptiveTimestepEnabled=_/h.length<5,this.stabilized=f<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(h,f,_){h+=(f-this.modelOptions.damping*h)/_*this.timestep;var V=this.options.maxVelocity||1e9;return Math.abs(h)>V&&(h=h>0?V:-V),h}},{key:"_performStep",value:function(h){var f=this.body.nodes[h],_=this.physicsBody.forces[h],I=this.physicsBody.velocities[h];return this.previousStates[h]={x:f.x,y:f.y,vx:I.x,vy:I.y},!1===f.options.fixed.x?(I.x=this.calculateComponentVelocity(I.x,_.x,f.options.mass),f.x+=I.x*this.timestep):(_.x=0,I.x=0),!1===f.options.fixed.y?(I.y=this.calculateComponentVelocity(I.y,_.y,f.options.mass),f.y+=I.y*this.timestep):(_.y=0,I.y=0),Math.sqrt(Math.pow(I.x,2)+Math.pow(I.y,2))}},{key:"_freezeNodes",value:function(){var h=this.body.nodes;for(var f in h)if(h.hasOwnProperty(f)&&h[f].x&&h[f].y){var _=h[f].options.fixed;this.freezeCache[f]={x:_.x,y:_.y},_.x=!0,_.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var h=this.body.nodes;for(var f in h)h.hasOwnProperty(f)&&void 0!==this.freezeCache[f]&&(h[f].options.fixed.x=this.freezeCache[f].x,h[f].options.fixed.y=this.freezeCache[f].y);this.freezeCache={}}},{key:"stabilize",value:function(){var h=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof f&&(f=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",f)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=f,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return h._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var h=this,f=function(){return!1===h.stabilized&&h.stabilizationIterations<h.targetIterations},_=function(){h.body.emitter.emit("stabilizationProgress",{iterations:h.stabilizationIterations,total:h.targetIterations})};this._startStabilizing()&&_();for(var I=0;f()&&I<this.options.stabilization.updateInterval;)this.physicsTick(),I++;_(),f()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(h){for(var f=0;f<this.physicsBody.physicsNodeIndices.length;f++){var _=this.physicsBody.physicsNodeIndices[f],I=this.body.nodes[_],F=this.physicsBody.forces[_],$=Math.sqrt(Math.pow(F.x,2)+Math.pow(F.x,2)),G=Math.min(Math.max(5,$),15),Z=3*G,ne=p.HSVToHex((180-180*Math.min(1,Math.max(0,.03*$)))/360,1,1),oe={x:I.x+20*F.x,y:I.y+20*F.y};h.lineWidth=G,h.strokeStyle=ne,h.beginPath(),h.moveTo(I.x,I.y),h.lineTo(oe.x,oe.y),h.stroke();var le=Math.atan2(F.y,F.x);h.fillStyle=ne,d.draw(h,{type:"arrow",point:oe,angle:le,length:Z}),h.fill()}}}]),g}();L.default=u},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(O,b,w){(0,y.default)(this,x),this.body=O,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b,w,v,m,c,T,a,p,d=this.body.nodes,u=this.physicsBody.physicsNodeIndices,g=this.physicsBody.forces,M=this.options.nodeDistance,h=-2/3/M,_=0;_<u.length-1;_++){a=d[u[_]];for(var I=_+1;I<u.length;I++)b=(p=d[u[I]]).x-a.x,w=p.y-a.y,0===(v=Math.sqrt(b*b+w*w))&&(b=v=.1*Math.random()),v<2*M&&(T=v<.5*M?1:h*v+1.3333333333333333,c=w*(T/=v),g[a.id].x-=m=b*T,g[a.id].y-=c,g[p.id].x+=m,g[p.id].y+=c)}}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(O,b,w){(0,y.default)(this,x),this.body=O,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){var b,w,v,m,c,T,a,p,d,u,g=this.body.nodes,M=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance;for(d=0;d<M.length-1;d++)for(a=g[M[d]],u=d+1;u<M.length;u++)if(a.level===(p=g[M[u]]).level){b=p.x-a.x,w=p.y-a.y;T=(v=Math.sqrt(b*b+w*w))<f?-Math.pow(.05*v,2)+Math.pow(.05*f,2):0,0===v?v=.01:T/=v,c=w*T,h[a.id].x-=m=b*T,h[a.id].y-=c,h[p.id].x+=m,h[p.id].y+=c}}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(O,b,w){(0,y.default)(this,x),this.body=O,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b=void 0,w=void 0,v=this.physicsBody.physicsEdgeIndices,m=this.body.edges,T=void 0,a=void 0,p=0;p<v.length;p++)!0===(w=m[v[p]]).connected&&w.toId!==w.fromId&&void 0!==this.body.nodes[w.toId]&&void 0!==this.body.nodes[w.fromId]&&(void 0!==w.edgeType.via?(a=w.from,this._calculateSpringForce(w.to,T=w.edgeType.via,.5*(b=void 0===w.options.length?this.options.springLength:w.options.length)),this._calculateSpringForce(T,a,.5*b)):this._calculateSpringForce(w.from,w.to,b=void 0===w.options.length?1.5*this.options.springLength:w.options.length))}},{key:"_calculateSpringForce",value:function(b,w,v){var m=b.x-w.x,c=b.y-w.y,T=Math.max(Math.sqrt(m*m+c*c),.01),a=this.options.springConstant*(v-T)/T,p=m*a,d=c*a;void 0!==this.physicsBody.forces[b.id]&&(this.physicsBody.forces[b.id].x+=p,this.physicsBody.forces[b.id].y+=d),void 0!==this.physicsBody.forces[w.id]&&(this.physicsBody.forces[w.id].x-=p,this.physicsBody.forces[w.id].y-=d)}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(O,b,w){(0,y.default)(this,x),this.body=O,this.physicsBody=b,this.setOptions(w)}return(0,D.default)(x,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var b,w,v,m,c,T,a,p,d=this.body.edges,u=.5,g=this.physicsBody.physicsEdgeIndices,M=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=0;f<M.length;f++){var _=M[f];h[_].springFx=0,h[_].springFy=0}for(var I=0;I<g.length;I++)!0===(w=d[g[I]]).connected&&(b=void 0===w.options.length?this.options.springLength:w.options.length,v=w.from.x-w.to.x,m=w.from.y-w.to.y,p=Math.sqrt(v*v+m*m),c=v*(a=this.options.springConstant*(b-(p=0===p?.01:p))/p),T=m*a,w.to.level!=w.from.level?(void 0!==h[w.toId]&&(h[w.toId].springFx-=c,h[w.toId].springFy-=T),void 0!==h[w.fromId]&&(h[w.fromId].springFx+=c,h[w.fromId].springFy+=T)):(void 0!==h[w.toId]&&(h[w.toId].x-=u*c,h[w.toId].y-=u*T),void 0!==h[w.fromId]&&(h[w.fromId].x+=u*c,h[w.fromId].y+=u*T)));a=1;for(var F,V,j=0;j<M.length;j++){var $=M[j];F=Math.min(a,Math.max(-a,h[$].springFx)),V=Math.min(a,Math.max(-a,h[$].springFy)),h[$].x+=F,h[$].y+=V}for(var G=0,Z=0,ne=0;ne<M.length;ne++){var oe=M[ne];G+=h[oe].x,Z+=h[oe].y}for(var le=G/M.length,pe=Z/M.length,_e=0;_e<M.length;_e++){var we=M[_e];h[we].x-=le,h[we].y-=pe}}}]),x}();L.default=A},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_calculateForces",value:function(u,g,M,h,f){0===u&&(g=u=.1*Math.random()),this.overlapAvoidanceFactor<1&&h.shape.radius&&(u=Math.max(.1+this.overlapAvoidanceFactor*h.shape.radius,u-h.shape.radius));var I=this.options.gravitationalConstant*f.mass*h.options.mass*(h.edges.length+1)/Math.pow(u,2),V=M*I;this.physicsBody.forces[h.id].x+=g*I,this.physicsBody.forces[h.id].y+=V}}]),p}(c(E(120)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=c(E(3)),D=c(E(0)),A=c(E(1)),O=c(E(4)),w=c(E(5));function c(a){return a&&a.__esModule?a:{default:a}}var T=function(a){function p(d,u,g){return(0,D.default)(this,p),(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g))}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_calculateForces",value:function(u,g,M,h,f){if(u>0){var I=this.options.centralGravity*(f.edges.length+1)*f.options.mass;h[f.id].x=g*I,h[f.id].y=M*I}}}]),p}(c(E(121)).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=b(E(8)),D=b(E(6)),A=b(E(0)),O=b(E(1));function b(p){return p&&p.__esModule?p:{default:p}}var w=E(2),v=E(76).default,m=E(228).default,c=E(74).default,T=E(47).default,a=function(){function p(d){var u=this;(0,A.default)(this,p),this.body=d,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},w.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){u.clusteredNodes={},u.clusteredEdges={}})}return(0,O.default)(p,[{key:"clusterByHubsize",value:function(u,g){void 0===u?u=this._getHubSize():"object"===(void 0===u?"undefined":(0,D.default)(u))&&(g=this._checkOptions(u),u=this._getHubSize());for(var M=[],h=0;h<this.body.nodeIndices.length;h++){var f=this.body.nodes[this.body.nodeIndices[h]];f.edges.length>=u&&M.push(f.id)}for(var _=0;_<M.length;_++)this.clusterByConnection(M[_],g,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var u=this,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===g.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");g=this._checkOptions(g);var h={},f={};w.forEach(this.body.nodes,function(_,I){var F=v.cloneOptions(_);!0===g.joinCondition(F)&&(h[I]=_,w.forEach(_.edges,function(V){void 0===u.clusteredEdges[V.id]&&(f[V.id]=V)}))}),this._cluster(h,f,g,M)}},{key:"clusterByEdgeCount",value:function(u,g){var M=this,h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g=this._checkOptions(g);for(var f=[],_={},I=void 0,F=void 0,V=void 0,j=function(le){var pe={},_e={},we=M.body.nodeIndices[le],Ee=M.body.nodes[we];if(void 0===_[we]){V=0,F=[];for(var ge=0;ge<Ee.edges.length;ge++)void 0===M.clusteredEdges[(I=Ee.edges[ge]).id]&&(I.toId!==I.fromId&&V++,F.push(I));if(V===u){G=function(Be){if(null==g.joinCondition)return!0;var ze=v.cloneOptions(Be);return g.joinCondition(ze)};for(var ue=!0,ce=0;ce<F.length;ce++){var Ce=M._getConnectedId(I=F[ce],we);if(!G(Ee)){ue=!1;break}_e[I.id]=I,pe[we]=Ee,pe[Ce]=M.body.nodes[Ce],_[we]=!0}if((0,y.default)(pe).length>0&&(0,y.default)(_e).length>0&&!0===ue)if(void 0!==(ne=function(){for(var Be=0;Be<f.length;++Be)for(var ze in pe)if(void 0!==f[Be].nodes[ze])return f[Be]}())){for(var ke in pe)void 0===ne.nodes[ke]&&(ne.nodes[ke]=pe[ke]);for(var Ie in _e)void 0===ne.edges[Ie]&&(ne.edges[Ie]=_e[Ie])}else f.push({nodes:pe,edges:_e})}}},$=0;$<this.body.nodeIndices.length;$++){var G,ne;j($)}for($=0;$<f.length;$++)this._cluster(f[$].nodes,f[$].edges,g,!1);!0===h&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(u){this.clusterByEdgeCount(1,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(u){this.clusterByEdgeCount(2,u,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(u,g){var M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===u)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[u])throw new Error("The nodeId given to clusterByConnection does not exist!");var h=this.body.nodes[u];void 0===(g=this._checkOptions(g,h)).clusterNodeProperties.x&&(g.clusterNodeProperties.x=h.x),void 0===g.clusterNodeProperties.y&&(g.clusterNodeProperties.y=h.y),void 0===g.clusterNodeProperties.fixed&&(g.clusterNodeProperties.fixed={},g.clusterNodeProperties.fixed.x=h.options.fixed.x,g.clusterNodeProperties.fixed.y=h.options.fixed.y);var f={},_={},I=h.id,F=v.cloneOptions(h);f[I]=h;for(var V=0;V<h.edges.length;V++){var j=h.edges[V];if(void 0===this.clusteredEdges[j.id]){var $=this._getConnectedId(j,I);if(void 0===this.clusteredNodes[$])if($!==I)if(void 0===g.joinCondition)_[j.id]=j,f[$]=this.body.nodes[$];else{var G=v.cloneOptions(this.body.nodes[$]);!0===g.joinCondition(F,G)&&(_[j.id]=j,f[$]=this.body.nodes[$])}else _[j.id]=j}}var Z=(0,y.default)(f).map(function(pe){return f[pe].id});for(ne in f)if(f.hasOwnProperty(ne))for(var ne=f[ne],oe=0;oe<ne.edges.length;oe++){var le=ne.edges[oe];Z.indexOf(this._getConnectedId(le,ne.id))>-1&&(_[le.id]=le)}this._cluster(f,_,g,M)}},{key:"_createClusterEdges",value:function(u,g,M,h){for(var f=void 0,_=void 0,I=void 0,F=void 0,V=void 0,j=void 0,$=(0,y.default)(u),G=[],Z=0;Z<$.length;Z++){I=u[_=$[Z]];for(var ne=0;ne<I.edges.length;ne++)void 0===this.clusteredEdges[(f=I.edges[ne]).id]&&(f.toId==f.fromId?g[f.id]=f:f.toId==_?(F=M.id,j=V=f.fromId):(V=M.id,j=F=f.toId),void 0===u[j]&&G.push({edge:f,fromId:V,toId:F}))}for(var oe=[],le=function(ue){for(var ce=0;ce<oe.length;ce++){var Ce=oe[ce];if(ue.fromId===Ce.fromId&&ue.toId===Ce.toId||ue.fromId===Ce.toId&&ue.toId===Ce.fromId)return Ce}return null},pe=0;pe<G.length;pe++){var _e=G[pe],we=_e.edge,Ee=le(_e);null===Ee?(Ee=this._createClusteredEdge(_e.fromId,_e.toId,we,h),oe.push(Ee)):Ee.clusteringEdgeReplacingIds.push(we.id),this.body.edges[we.id].edgeReplacedById=Ee.id,this._backupEdgeOptions(we),we.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===u.clusterEdgeProperties&&(u.clusterEdgeProperties={}),void 0===u.clusterNodeProperties&&(u.clusterNodeProperties={}),u}},{key:"_cluster",value:function(u,g,M){var h=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=[];for(var _ in u)u.hasOwnProperty(_)&&void 0!==this.clusteredNodes[_]&&f.push(_);for(var I=0;I<f.length;++I)delete u[f[I]];if(0!=(0,y.default)(u).length&&(1!=(0,y.default)(u).length||1==M.clusterNodeProperties.allowSingleNodeCluster)){var F=w.deepExtend({},M.clusterNodeProperties);if(void 0!==M.processProperties){var V=[];for(var j in u)if(u.hasOwnProperty(j)){var $=v.cloneOptions(u[j]);V.push($)}var G=[];for(var Z in g)if(g.hasOwnProperty(Z)&&"clusterEdge:"!==Z.substr(0,12)){var ne=v.cloneOptions(g[Z],"edge");G.push(ne)}if(!(F=M.processProperties(F,V,G)))throw new Error("The processProperties function does not return properties!")}void 0===F.id&&(F.id="cluster:"+w.randomUUID());var oe=F.id;void 0===F.label&&(F.label="cluster");var le=void 0;void 0===F.x&&(le=this._getClusterPosition(u),F.x=le.x),void 0===F.y&&(void 0===le&&(le=this._getClusterPosition(u)),F.y=le.y),F.id=oe;var pe=this.body.functions.createNode(F,m);pe.containedNodes=u,pe.containedEdges=g,pe.clusterEdgeProperties=M.clusterEdgeProperties,this.body.nodes[F.id]=pe,this._clusterEdges(u,g,F,M.clusterEdgeProperties),F.id=void 0,!0===h&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(u){void 0===this.clusteredEdges[u.id]&&(this.clusteredEdges[u.id]={physics:u.options.physics})}},{key:"_restoreEdge",value:function(u){var g=this.clusteredEdges[u.id];void 0!==g&&(u.setOptions({physics:g.physics}),delete this.clusteredEdges[u.id])}},{key:"isCluster",value:function(u){return void 0!==this.body.nodes[u]?!0===this.body.nodes[u].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(u){for(var g=(0,y.default)(u),M=u[g[0]].x,h=u[g[0]].x,f=u[g[0]].y,_=u[g[0]].y,I=void 0,F=1;F<g.length;F++)M=(I=u[g[F]]).x<M?I.x:M,h=I.x>h?I.x:h,f=I.y<f?I.y:f,_=I.y>_?I.y:_;return{x:.5*(M+h),y:.5*(f+_)}}},{key:"openCluster",value:function(u,g){var M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===u)throw new Error("No clusterNodeId supplied to openCluster.");var h=this.body.nodes[u];if(void 0===h)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==h.isCluster||void 0===h.containedNodes||void 0===h.containedEdges)throw new Error("The node:"+u+" is not a valid cluster.");var f=this.findNode(u),_=f.indexOf(u)-1;if(_>=0)return this.body.nodes[f[_]]._openChildCluster(u),delete this.body.nodes[u],void(!0===M&&this.body.emitter.emit("_dataChanged"));var V=h.containedNodes,j=h.containedEdges;if(void 0!==g&&void 0!==g.releaseFunction&&"function"==typeof g.releaseFunction){var $={},G={x:h.x,y:h.y};for(var Z in V)if(V.hasOwnProperty(Z)){var ne=this.body.nodes[Z];$[Z]={x:ne.x,y:ne.y}}var oe=g.releaseFunction(G,$);for(var le in V)if(V.hasOwnProperty(le)){var pe=this.body.nodes[le];void 0!==oe[le]&&(pe.x=void 0===oe[le].x?h.x:oe[le].x,pe.y=void 0===oe[le].y?h.y:oe[le].y)}}else w.forEach(V,function(at){!1===at.options.fixed.x&&(at.x=h.x),!1===at.options.fixed.y&&(at.y=h.y)});for(var _e in V)if(V.hasOwnProperty(_e)){var we=this.body.nodes[_e];we.vx=h.vx,we.vy=h.vy,we.setOptions({physics:!0}),delete this.clusteredNodes[_e]}for(var Ee=[],ge=0;ge<h.edges.length;ge++)Ee.push(h.edges[ge]);for(var ue=0;ue<Ee.length;ue++){for(var ce=Ee[ue],Ce=this._getConnectedId(ce,u),ke=this.clusteredNodes[Ce],Ie=0;Ie<ce.clusteringEdgeReplacingIds.length;Ie++){var Be=this.body.edges[ce.clusteringEdgeReplacingIds[Ie]];if(void 0!==Be)if(void 0!==ke){var ze=this.body.nodes[ke.clusterId];ze.containedEdges[Be.id]=Be,delete j[Be.id];var it=Be.fromId,nn=Be.toId;Be.toId==Ce?nn=ke.clusterId:it=ke.clusterId,this._createClusteredEdge(it,nn,Be,ze.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Be)}ce.remove()}for(var cn in j)j.hasOwnProperty(cn)&&this._restoreEdge(j[cn]);delete this.body.nodes[u],!0===M&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(u){var g=[];if(!0===this.isCluster(u)){var M=this.body.nodes[u].containedNodes;for(var h in M)M.hasOwnProperty(h)&&g.push(this.body.nodes[h].id)}return g}},{key:"findNode",value:function(u){for(var g=[],h=0,f=void 0;void 0!==this.clusteredNodes[u]&&h<100;){if(void 0===(f=this.body.nodes[u]))return[];g.push(f.id),u=this.clusteredNodes[u].clusterId,h++}return void 0===(f=this.body.nodes[u])?[]:(g.push(f.id),g.reverse(),g)}},{key:"updateClusteredNode",value:function(u,g){if(void 0===u)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===g)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[u])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[u].setOptions(g),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(u,g){if(void 0===u)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===g)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[u])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var M=this.getClusteredEdges(u),h=0;h<M.length;h++)this.body.edges[M[h]].setOptions(g);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(u){for(var g=[],h=0;void 0!==u&&void 0!==this.body.edges[u]&&h<100;)g.push(this.body.edges[u].id),u=this.body.edges[u].edgeReplacedById,h++;return g.reverse(),g}},{key:"getBaseEdge",value:function(u){return this.getBaseEdges(u)[0]}},{key:"getBaseEdges",value:function(u){for(var g=[u],M=[],h=[],_=0;g.length>0&&_<100;){var I=g.pop();if(void 0!==I){var F=this.body.edges[I];if(void 0!==F){_++;var V=F.clusteringEdgeReplacingIds;if(void 0===V)h.push(I);else for(var j=0;j<V.length;++j){var $=V[j];-1!==g.indexOf(V)||-1!==M.indexOf(V)||g.push($)}M.push(I)}}}return h}},{key:"_getConnectedId",value:function(u,g){return u.toId!=g?u.toId:u.fromId}},{key:"_getHubSize",value:function(){for(var u=0,g=0,M=0,h=0,f=0;f<this.body.nodeIndices.length;f++){var _=this.body.nodes[this.body.nodeIndices[f]];_.edges.length>h&&(h=_.edges.length),u+=_.edges.length,g+=Math.pow(_.edges.length,2),M+=1}u/=M;var I=(g/=M)-Math.pow(u,2),F=Math.sqrt(I),V=Math.floor(u+2*F);return V>h&&(V=h),V}},{key:"_createClusteredEdge",value:function(u,g,M,h,f){var _=v.cloneOptions(M,"edge");w.deepExtend(_,h),_.from=u,_.to=g,_.id="clusterEdge:"+w.randomUUID(),void 0!==f&&w.deepExtend(_,f);var I=this.body.functions.createEdge(_);return I.clusteringEdgeReplacingIds=[M.id],I.connect(),this.body.edges[I.id]=I,I}},{key:"_clusterEdges",value:function(u,g,M,h){if(g instanceof c){var _={};_[g.id]=g,g=_}if(u instanceof T){var F={};F[u.id]=u,u=F}if(null==M)throw new Error("_clusterEdges: parameter clusterNode required");for(var V in void 0===h&&(h=M.clusterEdgeProperties),this._createClusterEdges(u,g,M,h),g)if(g.hasOwnProperty(V)&&void 0!==this.body.edges[V]){var j=this.body.edges[V];this._backupEdgeOptions(j),j.setOptions({physics:!1})}for(var $ in u)u.hasOwnProperty($)&&(this.clusteredNodes[$]={clusterId:M.id,node:this.body.nodes[$]},this.body.nodes[$].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(u){if(void 0!==u){var g=this.clusteredNodes[u];if(void 0!==g){var M=g.clusterId;if(void 0!==M)return this.body.nodes[M]}}}},{key:"_filter",value:function(u,g){var M=[];return w.forEach(u,function(h){g(h)&&M.push(h)}),M}},{key:"_updateState",value:function(){var u=this,g=void 0,M=[],h=[],f=function(Z){w.forEach(u.body.nodes,function(ne){!0===ne.isCluster&&Z(ne)})};for(g in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(g)&&void 0===this.body.nodes[g]&&M.push(g);f(function(G){for(var Z=0;Z<M.length;Z++)delete G.containedNodes[M[Z]]});for(var I=0;I<M.length;I++)delete this.clusteredNodes[M[I]];w.forEach(this.clusteredEdges,function(G){var Z=u.body.edges[G];(void 0===Z||!Z.endPointsValid())&&h.push(G)}),f(function(G){w.forEach(G.containedEdges,function(Z,ne){!Z.endPointsValid()&&-1===h.indexOf(ne)&&h.push(ne)})}),w.forEach(this.body.edges,function(G,Z){var ne=!0,oe=G.clusteringEdgeReplacingIds;if(void 0!==oe){var le=0;w.forEach(oe,function(pe){var _e=u.body.edges[pe];void 0!==_e&&_e.endPointsValid()&&(le+=1)}),ne=le>0}(!G.endPointsValid()||!ne)&&h.push(Z)}),f(function(G){w.forEach(h,function(Z){delete G.containedEdges[Z],w.forEach(G.edges,function(ne,oe){ne.id!==Z?ne.clusteringEdgeReplacingIds=u._filter(ne.clusteringEdgeReplacingIds,function(le){return-1===h.indexOf(le)}):G.edges[oe]=null}),G.edges=u._filter(G.edges,function(ne){return null!==ne})})}),w.forEach(h,function(G){delete u.clusteredEdges[G]}),w.forEach(h,function(G){delete u.body.edges[G]});var F=(0,y.default)(this.body.edges);w.forEach(F,function(G){var Z=u.body.edges[G],ne=u._isClusteredNode(Z.fromId)||u._isClusteredNode(Z.toId);if(ne!==u._isClusteredEdge(Z.id)){if(!ne)throw new Error("remove edge from clustering not implemented!");var oe=u._getClusterNodeForNode(Z.fromId);void 0!==oe&&u._clusterEdges(u.body.nodes[Z.fromId],Z,oe);var le=u._getClusterNodeForNode(Z.toId);void 0!==le&&u._clusterEdges(u.body.nodes[Z.toId],Z,le)}});for(var V=!1,j=!0,$=function(){var Z=[];f(function(oe){var le=(0,y.default)(oe.containedNodes).length,pe=!0===oe.options.allowSingleNodeCluster;(pe&&le<1||!pe&&le<2)&&Z.push(oe.id)});for(var ne=0;ne<Z.length;++ne)u.openCluster(Z[ne],{},!1);j=Z.length>0,V=V||j};j;)$();V&&this._updateState()}},{key:"_isClusteredNode",value:function(u){return void 0!==this.clusteredNodes[u]}},{key:"_isClusteredEdge",value:function(u){return void 0!==this.clusteredEdges[u]}}]),p}();L.default=a},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=v(E(3)),D=v(E(0)),A=v(E(1)),O=v(E(4)),w=v(E(5));function v(a){return a&&a.__esModule?a:{default:a}}var m=E(2),T=function(a){function p(d,u,g,M,h,f){(0,D.default)(this,p);var _=(0,O.default)(this,(p.__proto__||(0,y.default)(p)).call(this,d,u,g,M,h,f));return _.isCluster=!0,_.containedNodes={},_.containedEdges={},_}return(0,w.default)(p,a),(0,A.default)(p,[{key:"_openChildCluster",value:function(u){var g=this,M=this.body.nodes[u];if(void 0===this.containedNodes[u])throw new Error("node with id: "+u+" not in current cluster");if(!M.isCluster)throw new Error("node with id: "+u+" is not a cluster");delete this.containedNodes[u],m.forEach(M.edges,function(h){delete g.containedEdges[h.id]}),m.forEach(M.containedNodes,function(h,f){g.containedNodes[f]=h}),M.containedNodes={},m.forEach(M.containedEdges,function(h,f){g.containedEdges[f]=h}),M.containedEdges={},m.forEach(M.edges,function(h){m.forEach(g.edges,function(f){var _=f.clusteringEdgeReplacingIds.indexOf(h.id);-1!==_&&(m.forEach(h.clusteringEdgeReplacingIds,function(I){f.clusteringEdgeReplacingIds.push(I),g.body.edges[I].edgeReplacedById=f.id}),f.clusteringEdgeReplacingIds.splice(_,1))})}),M.edges=[]}}]),p}(E(47).default);L.default=T},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(b){return b&&b.__esModule?b:{default:b}}var x=E(2),O=function(){function b(w,v){(0,y.default)(this,b),function(){var b;void 0!==window&&(b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===b?function(w){w()}:b}(),this.body=w,this.canvas=v,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},x.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,D.default)(b,[{key:"bindEventListeners",value:function(){var v=this;this.body.emitter.on("dragStart",function(){v.dragging=!0}),this.body.emitter.on("dragEnd",function(){v.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){v._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===v.renderingActive&&v._redraw()}),this.body.emitter.on("_blockRedraw",function(){v.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){v.allowRedraw=!0,v.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){v.renderRequests+=1,v.renderingActive=!0,v._startRendering()}),this.body.emitter.on("_stopRendering",function(){v.renderRequests-=1,v.renderingActive=v.renderRequests>0,v.renderTimer=void 0}),this.body.emitter.on("destroy",function(){v.renderRequests=0,v.allowRedraw=!1,v.renderingActive=!1,!0===v.requiresTimeout?clearTimeout(v.renderTimer):window.cancelAnimationFrame(v.renderTimer),v.body.emitter.off()})}},{key:"setOptions",value:function(v){void 0!==v&&x.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,v)}},{key:"_requestNextFrame",value:function(v,m){if("undefined"!=typeof window){var c=void 0,T=window;return!0===this.requiresTimeout?c=T.setTimeout(v,m):T.requestAnimationFrame&&(c=T.requestAnimationFrame(v)),c}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var v=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){v._redraw(!1)},0))}},{key:"_redraw",value:function(){var v=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var m=this.canvas.getContext(),c=this.canvas.frame.canvas.clientWidth,T=this.canvas.frame.canvas.clientHeight;if(m.clearRect(0,0,c,T),0===this.canvas.frame.clientWidth)return;m.save(),m.translate(this.body.view.translation.x,this.body.view.translation.y),m.scale(this.body.view.scale,this.body.view.scale),m.beginPath(),this.body.emitter.emit("beforeDrawing",m),m.closePath(),!1===v&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(m),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(m,v),m.beginPath(),this.body.emitter.emit("afterDrawing",m),m.closePath(),m.restore(),!0===v&&m.clearRect(0,0,c,T)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var v=this.canvas.getContext();v.save(),v.translate(this.body.view.translation.x,this.body.view.translation.y),v.scale(this.body.view.scale,this.body.view.scale);var m=this.body.nodes,c=void 0;for(var T in m)m.hasOwnProperty(T)&&((c=m[T]).resize(v),c.updateBoundingBox(v,c.selected));v.restore()}},{key:"_drawNodes",value:function(v){for(var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.body.nodes,T=this.body.nodeIndices,a=void 0,p=[],d=20,u=this.canvas.DOMtoCanvas({x:-d,y:-d}),g=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+d,y:this.canvas.frame.canvas.clientHeight+d}),M={top:u.y,left:u.x,bottom:g.y,right:g.x},h=0;h<T.length;h++)(a=c[T[h]]).isSelected()?p.push(T[h]):!0===m||!0===a.isBoundingBoxOverlappingWith(M)?a.draw(v):a.updateBoundingBox(v,a.selected);for(var f=0;f<p.length;f++)(a=c[p[f]]).draw(v)}},{key:"_drawEdges",value:function(v){for(var m=this.body.edges,c=this.body.edgeIndices,T=void 0,a=0;a<c.length;a++)!0===(T=m[c[a]]).connected&&T.draw(v)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var v=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=v.indexOf("msie 9.0")||-1!=v.indexOf("safari")&&v.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),b}();L.default=O},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(w){return w&&w.__esModule?w:{default:w}}var A=E(10),x=E(37),O=E(2),b=function(){function w(v){(0,y.default)(this,w),this.body=v,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},O.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,D.default)(w,[{key:"bindEventListeners",value:function(){var m=this;this.body.emitter.once("resize",function(c){0!==c.width&&(m.body.view.translation.x=.5*c.width),0!==c.height&&(m.body.view.translation.y=.5*c.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){m.hammerFrame.destroy(),m.hammer.destroy(),m._cleanUp()})}},{key:"setOptions",value:function(m){var c=this;void 0!==m&&O.selectiveDeepExtend(["width","height","autoResize"],this.options,m),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===c.setSize()&&c.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),O.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),O.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/m,this.cameraState.previousHeight=this.frame.canvas.height/m,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/m,y:.5*this.frame.canvas.height/m}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var m=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,c=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,T=this.cameraState.scale;1!=m&&1!=c?T=.5*this.cameraState.scale*(m+c):1!=m?T=this.cameraState.scale*m:1!=c&&(T=this.cameraState.scale*c),this.body.view.scale=T;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),p={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=p.x*this.body.view.scale,this.body.view.translation.y+=p.y*this.body.view.scale}}},{key:"_prepareValue",value:function(m){if("number"==typeof m)return m+"px";if("string"==typeof m){if(-1!==m.indexOf("%")||-1!==m.indexOf("px"))return m;if(-1===m.indexOf("%"))return m+"px"}throw new Error("Could not use the value supplied for width or height:"+m)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var m=document.createElement("DIV");m.style.color="red",m.style.fontWeight="bold",m.style.padding="10px",m.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(m)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var m=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new A(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:A.DIRECTION_ALL}),x.onTouch(this.hammer,function(c){m.body.eventListeners.onTouch(c)}),this.hammer.on("tap",function(c){m.body.eventListeners.onTap(c)}),this.hammer.on("doubletap",function(c){m.body.eventListeners.onDoubleTap(c)}),this.hammer.on("press",function(c){m.body.eventListeners.onHold(c)}),this.hammer.on("panstart",function(c){m.body.eventListeners.onDragStart(c)}),this.hammer.on("panmove",function(c){m.body.eventListeners.onDrag(c)}),this.hammer.on("panend",function(c){m.body.eventListeners.onDragEnd(c)}),this.hammer.on("pinch",function(c){m.body.eventListeners.onPinch(c)}),this.frame.canvas.addEventListener("mousewheel",function(c){m.body.eventListeners.onMouseWheel(c)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(c){m.body.eventListeners.onMouseWheel(c)}),this.frame.canvas.addEventListener("mousemove",function(c){m.body.eventListeners.onMouseMove(c)}),this.frame.canvas.addEventListener("contextmenu",function(c){m.body.eventListeners.onContext(c)}),this.hammerFrame=new A(this.frame),x.onRelease(this.hammerFrame,function(c){m.body.eventListeners.onRelease(c)})}},{key:"setSize",value:function(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;m=this._prepareValue(m),c=this._prepareValue(c);var T=!1,a=this.frame.canvas.width,p=this.frame.canvas.height,d=this.pixelRatio;if(this._setPixelRatio(),m!=this.options.width||c!=this.options.height||this.frame.style.width!=m||this.frame.style.height!=c)this._getCameraState(d),this.frame.style.width=m,this.frame.style.height=c,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=m,this.options.height=c,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},T=!0;else{var u=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),g=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==u||this.frame.canvas.height!==g)&&this._getCameraState(d),this.frame.canvas.width!==u&&(this.frame.canvas.width=u,T=!0),this.frame.canvas.height!==g&&(this.frame.canvas.height=g,T=!0)}return!0===T&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(p/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,T}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var m=this.getContext();if(void 0===m)throw new Error("Could not get canvax context");var c=1;return"undefined"!=typeof window&&(c=window.devicePixelRatio||1),c/(m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var m=this.getContext();if(void 0===m)throw new Error("Could not get canvax context");m.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(m){return(m-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(m){return m*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(m){return(m-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(m){return m*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(m){return{x:this._XconvertCanvasToDOM(m.x),y:this._YconvertCanvasToDOM(m.y)}}},{key:"DOMtoCanvas",value:function(m){return{x:this._XconvertDOMtoCanvas(m.x),y:this._YconvertDOMtoCanvas(m.y)}}}]),w}();L.default=b},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(b){return b&&b.__esModule?b:{default:b}}var A=E(2),x=E(76).default,O=function(){function b(w,v){var m=this;(0,y.default)(this,b),this.body=w,this.canvas=v,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){m.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,D.default)(b,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},m=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=void 0,T=void 0;if((void 0===v.nodes||0===v.nodes.length)&&(v.nodes=this.body.nodeIndices),!0===m){var a=0;for(var p in this.body.nodes)this.body.nodes.hasOwnProperty(p)&&!0===this.body.nodes[p].predefinedPosition&&(a+=1);if(a>.5*this.body.nodeIndices.length)return void this.fit(v,!1);c=x.getRange(this.body.nodes,v.nodes),T=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,T*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),c=x.getRange(this.body.nodes,v.nodes);var M=1.1*Math.abs(c.maxX-c.minX),h=1.1*Math.abs(c.maxY-c.minY),f=this.canvas.frame.canvas.clientWidth/M,_=this.canvas.frame.canvas.clientHeight/h;T=f<=_?f:_}(T>1||0===T)&&(T=1);var I=x.findCenter(c);this.moveTo({position:I,scale:T,animation:v.animation})}},{key:"focus",value:function(v){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[v]?(m.position={x:this.body.nodes[v].x,y:this.body.nodes[v].y},m.lockedOnNode=v,this.moveTo(m)):console.log("Node: "+v+" cannot be found.")}},{key:"moveTo",value:function(v){void 0!==v?(void 0===v.offset&&(v.offset={x:0,y:0}),void 0===v.offset.x&&(v.offset.x=0),void 0===v.offset.y&&(v.offset.y=0),void 0===v.scale&&(v.scale=this.body.view.scale),void 0===v.position&&(v.position=this.getViewPosition()),void 0===v.animation&&(v.animation={duration:0}),!1===v.animation&&(v.animation={duration:0}),!0===v.animation&&(v.animation={}),void 0===v.animation.duration&&(v.animation.duration=1e3),void 0===v.animation.easingFunction&&(v.animation.easingFunction="easeInOutQuad"),this.animateView(v)):v={}}},{key:"animateView",value:function(v){if(void 0!==v){this.animationEasingFunction=v.animation.easingFunction,this.releaseNode(),!0===v.locked&&(this.lockedOnNodeId=v.lockedOnNode,this.lockedOnNodeOffset=v.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=v.scale,this.body.view.scale=this.targetScale;var m=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),c={x:m.x-v.position.x,y:m.y-v.position.y};this.targetTranslation={x:this.sourceTranslation.x+c.x*this.targetScale+v.offset.x,y:this.sourceTranslation.y+c.y*this.targetScale+v.offset.y},0===v.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*v.animation.duration*.001)||1/60,this.animationEasingFunction=v.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var v_x=this.body.nodes[this.lockedOnNodeId].x,v_y=this.body.nodes[this.lockedOnNodeId].y,m=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),T=this.body.view.translation;this.body.view.translation={x:T.x+(m.x-v_x)*this.body.view.scale+this.lockedOnNodeOffset.x,y:T.y+(m.y-v_y)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var v=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===v?1:this.easingTime;var m=A.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*m,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*m,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*m},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),b}();L.default=O},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(w){return w&&w.__esModule?w:{default:w}}var A=E(2),x=E(233).default,O=E(104).default,b=function(){function w(v,m,c){(0,y.default)(this,w),this.body=v,this.canvas=m,this.selectionHandler=c,this.navigationHandler=new x(v,m),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},A.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,D.default)(w,[{key:"bindEventListeners",value:function(){var m=this;this.body.emitter.on("destroy",function(){clearTimeout(m.popupTimer),delete m.body.functions.getPointer})}},{key:"setOptions",value:function(m){void 0!==m&&(A.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,m),A.mergeOptions(this.options,m,"keyboard"),m.tooltip&&(A.extend(this.options.tooltip,m.tooltip),m.tooltip.color&&(this.options.tooltip.color=A.parseColor(m.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(m){return{x:m.x-A.getAbsoluteLeft(this.canvas.frame.canvas),y:m.y-A.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(m){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(m.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(m){var c=this.getPointer(m.center);this.checkSelectionChanges(c,m,this.selectionHandler.options.multiselect&&(m.changedPointers[0].ctrlKey||m.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",m,c)}},{key:"onDoubleTap",value:function(m){var c=this.getPointer(m.center);this.selectionHandler._generateClickEvent("doubleClick",m,c)}},{key:"onHold",value:function(m){var c=this.getPointer(m.center);this.checkSelectionChanges(c,m,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",m,c),this.selectionHandler._generateClickEvent("hold",m,c)}},{key:"onRelease",value:function(m){if((new Date).valueOf()-this.touchTime>10){var c=this.getPointer(m.center);this.selectionHandler._generateClickEvent("release",m,c),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(m){var c=this.getPointer({x:m.clientX,y:m.clientY});this.selectionHandler._generateClickEvent("oncontext",m,c)}},{key:"checkSelectionChanges",value:function(m,c){var T=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.selectionHandler.getSelection(),p=!1;p=!0===T?this.selectionHandler.selectAdditionalOnPoint(m):this.selectionHandler.selectOnPoint(m);var d=this.selectionHandler.getSelection(),u=this._determineDifference(a,d),g=this._determineDifference(d,a);u.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",c,m,a),p=!0),u.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",c,m,a),p=!0),g.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",c,m),p=!0),g.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",c,m),p=!0),!0===p&&this.selectionHandler._generateClickEvent("select",c,m)}},{key:"_determineDifference",value:function(m,c){var T=function(p,d){for(var u=[],g=0;g<p.length;g++){var M=p[g];-1===d.indexOf(M)&&u.push(M)}return u};return{nodes:T(m.nodes,c.nodes),edges:T(m.edges,c.edges)}}},{key:"onDragStart",value:function(m){void 0===this.drag.pointer&&this.onTouch(m);var c=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=A.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==c&&!0===this.options.dragNodes){this.drag.nodeId=c.id,!1===c.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(c)),this.selectionHandler._generateClickEvent("dragStart",m,this.drag.pointer);var T=this.selectionHandler.selectionObj.nodes;for(var a in T)if(T.hasOwnProperty(a)){var p=T[a],d={id:p.id,node:p,x:p.x,y:p.y,xFixed:p.options.fixed.x,yFixed:p.options.fixed.y};p.options.fixed.x=!0,p.options.fixed.y=!0,this.drag.selection.push(d)}}else this.selectionHandler._generateClickEvent("dragStart",m,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(m){var c=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var T=this.getPointer(m.center),a=this.drag.selection;if(a&&a.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",m,T);var p=T.x-this.drag.pointer.x,d=T.y-this.drag.pointer.y;a.forEach(function(M){var h=M.node;!1===M.xFixed&&(h.x=c.canvas._XconvertDOMtoCanvas(c.canvas._XconvertCanvasToDOM(M.x)+p)),!1===M.yFixed&&(h.y=c.canvas._YconvertDOMtoCanvas(c.canvas._YconvertCanvasToDOM(M.y)+d))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",m,T,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(m);this.body.view.translation={x:this.drag.translation.x+(T.x-this.drag.pointer.x),y:this.drag.translation.y+(T.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(m){this.drag.dragging=!1;var c=this.drag.selection;c&&c.length?(c.forEach(function(T){T.node.options.fixed.x=T.xFixed,T.node.options.fixed.y=T.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",m,this.getPointer(m.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",m,this.getPointer(m.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(m){var c=this.getPointer(m.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*m.scale,c)}},{key:"zoom",value:function(m,c){if(!0===this.options.zoomView){var T=this.body.view.scale;m<1e-5&&(m=1e-5),m>10&&(m=10);var a=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var p=this.body.view.translation,d=m/T,u=(1-d)*c.x+p.x*d,g=(1-d)*c.y+p.y*d;if(this.body.view.scale=m,this.body.view.translation={x:u,y:g},null!=a){var M=this.canvas.canvasToDOM(a);this.drag.pointer.x=M.x,this.drag.pointer.y=M.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",T<m?{direction:"+",scale:this.body.view.scale,pointer:c}:{direction:"-",scale:this.body.view.scale,pointer:c})}}},{key:"onMouseWheel",value:function(m){if(!0===this.options.zoomView){var c=0;if(m.wheelDelta?c=m.wheelDelta/120:m.detail&&(c=-m.detail/3),0!==c){var T=this.body.view.scale,a=c/10;c<0&&(a/=1-a),T*=1+a;var p=this.getPointer({x:m.clientX,y:m.clientY});this.zoom(T,p)}m.preventDefault()}}},{key:"onMouseMove",value:function(m){var c=this,T=this.getPointer({x:m.clientX,y:m.clientY}),a=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(T),!1===this.popup.hidden&&(a=!0,this.popup.setPosition(T.x+3,T.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===a&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return c._checkShowPopup(T)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(m,T)}},{key:"_checkShowPopup",value:function(m){var c=this.canvas._XconvertDOMtoCanvas(m.x),T=this.canvas._YconvertDOMtoCanvas(m.y),a={left:c,top:T,right:c,bottom:T},p=void 0===this.popupObj?void 0:this.popupObj.id,d=!1,u="node";if(void 0===this.popupObj){for(var g=this.body.nodeIndices,M=this.body.nodes,h=void 0,f=[],_=0;_<g.length;_++)!0===(h=M[g[_]]).isOverlappingWith(a)&&void 0!==h.getTitle()&&f.push(g[_]);f.length>0&&(this.popupObj=M[f[f.length-1]],d=!0)}if(void 0===this.popupObj&&!1===d){for(var I=this.body.edgeIndices,F=this.body.edges,V=void 0,j=[],$=0;$<I.length;$++)!0===(V=F[I[$]]).isOverlappingWith(a)&&!0===V.connected&&void 0!==V.getTitle()&&j.push(I[$]);j.length>0&&(this.popupObj=F[j[j.length-1]],u="edge")}void 0!==this.popupObj?this.popupObj.id!==p&&(void 0===this.popup&&(this.popup=new O(this.canvas.frame)),this.popup.popupTargetType=u,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(m.x+3,m.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(m){var c=this.selectionHandler._pointerToPositionObject(m),T=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(T=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(c))){var a=this.selectionHandler.getNodeAt(m);T=void 0!==a&&a.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(m)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(T=this.body.edges[this.popup.popupTargetId].isOverlappingWith(c));!1===T&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),w}();L.default=b},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(w){return w&&w.__esModule?w:{default:w}}var A=E(10),x=E(37),O=E(35),b=function(){function w(v,m){var c=this;(0,y.default)(this,w),this.body=v,this.canvas=m,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){c.activated=!0,c.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){c.activated=!1,c.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==c.keycharm&&c.keycharm.destroy()}),this.options={}}return(0,D.default)(w,[{key:"setOptions",value:function(m){void 0!==m&&(this.options=m,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var m=0;m<this.navigationHammers.length;m++)this.navigationHammers[m].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var m=this;this.cleanNavigation(),this.navigationDOM={};var c=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],T=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<c.length;a++){this.navigationDOM[c[a]]=document.createElement("div"),this.navigationDOM[c[a]].className="vis-button vis-"+c[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[c[a]]);var p=new A(this.navigationDOM[c[a]]);x.onTouch(p,"_fit"===T[a]?this._fit.bind(this):this.bindToRedraw.bind(this,T[a])),this.navigationHammers.push(p)}var d=new A(this.canvas.frame);x.onRelease(d,function(){m._stopMovement()}),this.navigationHammers.push(d),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(m){void 0===this.boundFunctions[m]&&(this.boundFunctions[m]=this[m].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(m){void 0!==this.boundFunctions[m]&&(this.body.emitter.off("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[m])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var m in this.boundFunctions)this.boundFunctions.hasOwnProperty(m)&&(this.body.emitter.off("initRedraw",this.boundFunctions[m]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var c=this.body.view.scale*(1+this.options.keyboard.speed.zoom),T=this.body.view.translation,a=c/this.body.view.scale,p=(1-a)*this.canvas.canvasViewCenter.x+T.x*a,d=(1-a)*this.canvas.canvasViewCenter.y+T.y*a;this.body.view.scale=c,this.body.view.translation={x:p,y:d},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var c=this.body.view.scale/(1+this.options.keyboard.speed.zoom),T=this.body.view.translation,a=c/this.body.view.scale,p=(1-a)*this.canvas.canvasViewCenter.x+T.x*a,d=(1-a)*this.canvas.canvasViewCenter.y+T.y*a;this.body.view.scale=c,this.body.view.translation={x:p,y:d},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var m=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=O(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){m.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){m.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){m.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){m.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){m.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){m.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){m.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){m.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){m.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){m.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){m.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){m.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){m.unbindFromRedraw("_zoomOut")},"keyup")))}}]),w}();L.default=b},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(w){return w&&w.__esModule?w:{default:w}}var A=E(47).default,x=E(74).default,O=E(2),b=function(){function w(v,m){var c=this;(0,y.default)(this,w),this.body=v,this.canvas=m,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},O.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){c.updateSelection()})}return(0,D.default)(w,[{key:"setOptions",value:function(m){void 0!==m&&O.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,m)}},{key:"selectOnPoint",value:function(m){var c=!1;if(!0===this.options.selectable){var T=this.getNodeAt(m)||this.getEdgeAt(m);this.unselectAll(),void 0!==T&&(c=this.selectObject(T)),this.body.emitter.emit("_requestRedraw")}return c}},{key:"selectAdditionalOnPoint",value:function(m){var c=!1;if(!0===this.options.selectable){var T=this.getNodeAt(m)||this.getEdgeAt(m);void 0!==T&&(c=!0,!0===T.isSelected()?this.deselectObject(T):this.selectObject(T),this.body.emitter.emit("_requestRedraw"))}return c}},{key:"_initBaseEvent",value:function(m,c){var T={};return T.pointer={DOM:{x:c.x,y:c.y},canvas:this.canvas.DOMtoCanvas(c)},T.event=m,T}},{key:"_generateClickEvent",value:function(m,c,T,a){var p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=this._initBaseEvent(c,T);if(!0===p)d.nodes=[],d.edges=[];else{var u=this.getSelection();d.nodes=u.nodes,d.edges=u.edges}void 0!==a&&(d.previousSelection=a),"click"==m&&(d.items=this.getClickedItems(T)),this.body.emitter.emit(m,d)}},{key:"selectObject",value:function(m){return void 0!==m&&(m instanceof A&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&this._selectConnectedEdges(m),m.select(),this._addToSelection(m),!0)}},{key:"deselectObject",value:function(m){!0===m.isSelected()&&(m.selected=!1,this._removeFromSelection(m))}},{key:"_getAllNodesOverlappingWith",value:function(m){for(var c=[],T=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var p=this.body.nodeIndices[a];T[p].isOverlappingWith(m)&&c.push(p)}return c}},{key:"_pointerToPositionObject",value:function(m){var c=this.canvas.DOMtoCanvas(m);return{left:c.x-1,top:c.y+1,right:c.x+1,bottom:c.y-1}}},{key:"getNodeAt",value:function(m){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],T=this._pointerToPositionObject(m),a=this._getAllNodesOverlappingWith(T);if(a.length>0)return!0===c?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(m,c){for(var T=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var p=this.body.edgeIndices[a];T[p].isOverlappingWith(m)&&c.push(p)}}},{key:"_getAllEdgesOverlappingWith",value:function(m){var c=[];return this._getEdgesOverlappingWith(m,c),c}},{key:"getEdgeAt",value:function(m){for(var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],T=this.canvas.DOMtoCanvas(m),a=10,p=null,d=this.body.edges,u=0;u<this.body.edgeIndices.length;u++){var g=this.body.edgeIndices[u],M=d[g];if(M.connected){var F=M.edgeType.getDistanceToEdge(M.from.x,M.from.y,M.to.x,M.to.y,T.x,T.y);F<a&&(p=g,a=F)}}if(null!==p)return!0===c?this.body.edges[p]:p}},{key:"_addToSelection",value:function(m){m instanceof A?this.selectionObj.nodes[m.id]=m:this.selectionObj.edges[m.id]=m}},{key:"_addToHover",value:function(m){m instanceof A?this.hoverObj.nodes[m.id]=m:this.hoverObj.edges[m.id]=m}},{key:"_removeFromSelection",value:function(m){m instanceof A?(delete this.selectionObj.nodes[m.id],this._unselectConnectedEdges(m)):delete this.selectionObj.edges[m.id]}},{key:"unselectAll",value:function(){for(var m in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(m)&&this.selectionObj.nodes[m].unselect();for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&this.selectionObj.edges[c].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var m=0;for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&(m+=1);return m}},{key:"_getSelectedNode",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m))return this.selectionObj.nodes[m]}},{key:"_getSelectedEdge",value:function(){for(var m in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(m))return this.selectionObj.edges[m]}},{key:"_getSelectedEdgeCount",value:function(){var m=0;for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(m+=1);return m}},{key:"_getSelectedObjectCount",value:function(){var m=0;for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&(m+=1);for(var T in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(T)&&(m+=1);return m}},{key:"_selectionIsEmpty",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m))return!1;for(var c in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(c))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var m in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(m)&&this.selectionObj.nodes[m].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(m){for(var c=0;c<m.edges.length;c++){var T=m.edges[c];T.select(),this._addToSelection(T)}}},{key:"_hoverConnectedEdges",value:function(m){for(var c=0;c<m.edges.length;c++){var T=m.edges[c];T.hover=!0,this._addToHover(T)}}},{key:"_unselectConnectedEdges",value:function(m){for(var c=0;c<m.edges.length;c++){var T=m.edges[c];T.unselect(),this._removeFromSelection(T)}}},{key:"emitBlurEvent",value:function(m,c,T){var a=this._initBaseEvent(m,c);!0===T.hover&&(T.hover=!1,T instanceof A?(a.node=T.id,this.body.emitter.emit("blurNode",a)):(a.edge=T.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(m,c,T){var a=this._initBaseEvent(m,c),p=!1;return!1===T.hover&&(T.hover=!0,this._addToHover(T),p=!0,T instanceof A?(a.node=T.id,this.body.emitter.emit("hoverNode",a)):(a.edge=T.id,this.body.emitter.emit("hoverEdge",a))),p}},{key:"hoverObject",value:function(m,c){var T=this.getNodeAt(c);void 0===T&&(T=this.getEdgeAt(c));var a=!1;for(var p in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(p)&&(void 0===T||T instanceof A&&T.id!=p||T instanceof x)&&(this.emitBlurEvent(m,c,this.hoverObj.nodes[p]),delete this.hoverObj.nodes[p],a=!0);for(var d in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(d)&&(!0===a?(this.hoverObj.edges[d].hover=!1,delete this.hoverObj.edges[d]):(void 0===T||T instanceof x&&T.id!=d||T instanceof A&&!T.hover)&&(this.emitBlurEvent(m,c,this.hoverObj.edges[d]),delete this.hoverObj.edges[d],a=!0));void 0!==T&&(a=a||this.emitHoverEvent(m,c,T),T instanceof A&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(T)),!0===a&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var m=[];if(!0===this.options.selectable)for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&m.push(this.selectionObj.nodes[c].id);return m}},{key:"getSelectedEdges",value:function(){var m=[];if(!0===this.options.selectable)for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&m.push(this.selectionObj.edges[c].id);return m}},{key:"setSelection",value:function(m){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=void 0,a=void 0;if(!m||!m.nodes&&!m.edges)throw"Selection must be an object with nodes and/or edges properties";if((c.unselectAll||void 0===c.unselectAll)&&this.unselectAll(),m.nodes)for(T=0;T<m.nodes.length;T++){var p=this.body.nodes[a=m.nodes[T]];if(!p)throw new RangeError('Node with id "'+a+'" not found');this.selectObject(p,c.highlightEdges)}if(m.edges)for(T=0;T<m.edges.length;T++){var d=this.body.edges[a=m.edges[T]];if(!d)throw new RangeError('Edge with id "'+a+'" not found');this.selectObject(d)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(m){if(!m||void 0===m.length)throw"Selection must be an array with ids";this.setSelection({nodes:m},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(m){if(!m||void 0===m.length)throw"Selection must be an array with ids";this.setSelection({edges:m})}},{key:"updateSelection",value:function(){for(var m in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(m)&&(this.body.nodes.hasOwnProperty(m)||delete this.selectionObj.nodes[m]);for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(this.body.edges.hasOwnProperty(c)||delete this.selectionObj.edges[c])}},{key:"getClickedItems",value:function(m){for(var c=this.canvas.DOMtoCanvas(m),T=[],a=this.body.nodeIndices,p=this.body.nodes,d=a.length-1;d>=0;d--){var g=p[a[d]].getItemsOnPoint(c);T.push.apply(T,g)}for(var M=this.body.edgeIndices,h=this.body.edges,f=M.length-1;f>=0;f--){var I=h[M[f]].getItemsOnPoint(c);T.push.apply(T,I)}return T}}]),w}();L.default=b},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=v(E(30)),D=v(E(6)),A=v(E(8)),O=v(E(0)),w=v(E(1));function v(g){return g&&g.__esModule?g:{default:g}}var m=E(2),c=E(76).default,T=E(236),a=T.HorizontalStrategy,p=T.VerticalStrategy,d=function(){function g(){(0,O.default)(this,g),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,w.default)(g,[{key:"addRelation",value:function(h,f){void 0===this.childrenReference[h]&&(this.childrenReference[h]=[]),this.childrenReference[h].push(f),void 0===this.parentReference[f]&&(this.parentReference[f]=[]),this.parentReference[f].push(h)}},{key:"checkIfTree",value:function(){for(var h in this.parentReference)if(this.parentReference[h].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(h,f){void 0!==f&&void 0===this.trees[h.id]&&(this.trees[h.id]=f,this.treeIndex=Math.max(f,this.treeIndex))}},{key:"ensureLevel",value:function(h){void 0===this.levels[h]&&(this.levels[h]=0)}},{key:"getMaxLevel",value:function(h){var f=this,_={};return function F(V){if(void 0!==_[V])return _[V];var j=f.levels[V];if(f.childrenReference[V]){var $=f.childrenReference[V];if($.length>0)for(var G=0;G<$.length;G++)j=Math.max(j,F($[G]))}return _[V]=j,j}(h)}},{key:"levelDownstream",value:function(h,f){void 0===this.levels[f.id]&&(void 0===this.levels[h.id]&&(this.levels[h.id]=0),this.levels[f.id]=this.levels[h.id]+1)}},{key:"setMinLevelToZero",value:function(h){var f=1e9;for(var _ in h)h.hasOwnProperty(_)&&void 0!==this.levels[_]&&(f=Math.min(this.levels[_],f));for(var I in h)h.hasOwnProperty(I)&&void 0!==this.levels[I]&&(this.levels[I]-=f)}},{key:"getTreeSize",value:function(h,f){var _=1e9,I=-1e9,F=1e9,V=-1e9;for(var j in this.trees)if(this.trees.hasOwnProperty(j)&&this.trees[j]===f){var $=h[j];_=Math.min($.x,_),I=Math.max($.x,I),F=Math.min($.y,F),V=Math.max($.y,V)}return{min_x:_,max_x:I,min_y:F,max_y:V}}},{key:"hasSameParent",value:function(h,f){var _=this.parentReference[h.id],I=this.parentReference[f.id];if(void 0===_||void 0===I)return!1;for(var F=0;F<_.length;F++)for(var V=0;V<I.length;V++)if(_[F]==I[V])return!0;return!1}},{key:"inSameSubNetwork",value:function(h,f){return this.trees[h.id]===this.trees[f.id]}},{key:"getLevels",value:function(){return(0,A.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(h,f){void 0===this.distributionOrdering[f]&&(this.distributionOrdering[f]=[]);var _=!1,I=this.distributionOrdering[f];for(var F in I)if(I[F]===h){_=!0;break}_||(this.distributionOrdering[f].push(h),this.distributionIndex[h.id]=this.distributionOrdering[f].length-1)}}]),g}(),u=function(){function g(M){(0,O.default)(this,g),this.body=M,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},m.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,w.default)(g,[{key:"bindEventListeners",value:function(){var h=this;this.body.emitter.on("_dataChanged",function(){h.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){h.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){h.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===h.options.hierarchical.enabled){var f=h.direction.curveType();h.body.emitter.emit("_forceDisableDynamicCurves",f,!1)}})}},{key:"setOptions",value:function(h,f){if(void 0!==h){var _=this.options.hierarchical,I=_.enabled;if(m.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,h),m.mergeOptions(this.options,h,"hierarchical"),void 0!==h.randomSeed&&(this.initialRandomSeed=h.randomSeed),!0===_.enabled)return!0===I&&this.body.emitter.emit("refresh",!0),"RL"===_.direction||"DU"===_.direction?_.levelSeparation>0&&(_.levelSeparation*=-1):_.levelSeparation<0&&(_.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(f);if(!0===I)return this.body.emitter.emit("refresh"),m.deepExtend(f,this.optionsBackup)}return f}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(h){if(!0===this.options.hierarchical.enabled){var f=this.optionsBackup.physics;void 0===h.physics||!0===h.physics?(h.physics={enabled:void 0===f.enabled||f.enabled,solver:"hierarchicalRepulsion"},f.enabled=void 0===f.enabled||f.enabled,f.solver=f.solver||"barnesHut"):"object"===(0,D.default)(h.physics)?(f.enabled=void 0===h.physics.enabled||h.physics.enabled,f.solver=h.physics.solver||"barnesHut",h.physics.solver="hierarchicalRepulsion"):!1!==h.physics&&(f.solver="barnesHut",h.physics={solver:"hierarchicalRepulsion"});var _=this.direction.curveType();if(void 0===h.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},h.edges={smooth:!1};else if(void 0===h.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},h.edges.smooth=!1;else if("boolean"==typeof h.edges.smooth)this.optionsBackup.edges={smooth:h.edges.smooth},h.edges.smooth={enabled:h.edges.smooth,type:_};else{var I=h.edges.smooth;void 0!==I.type&&"dynamic"!==I.type&&(_=I.type),this.optionsBackup.edges={smooth:void 0===I.enabled||I.enabled,type:void 0===I.type?"dynamic":I.type,roundness:void 0===I.roundness?.5:I.roundness,forceDirection:void 0!==I.forceDirection&&I.forceDirection},h.edges.smooth={enabled:void 0===I.enabled||I.enabled,type:_,roundness:void 0===I.roundness?.5:I.roundness,forceDirection:void 0!==I.forceDirection&&I.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",_)}return h}},{key:"seededRandom",value:function(){var h=1e4*Math.sin(this.randomSeed++);return h-Math.floor(h)}},{key:"positionInitially",value:function(h){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var f=h.length+50,_=0;_<h.length;_++){var I=h[_],F=2*Math.PI*this.seededRandom();void 0===I.x&&(I.x=f*Math.cos(F)),void 0===I.y&&(I.y=f*Math.sin(F))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var h=this.body.nodeIndices,f=0,_=0;_<h.length;_++)!0===this.body.nodes[h[_]].predefinedPosition&&(f+=1);if(f<.5*h.length){var V=0,$={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(h.length>150){for(var G=h.length;h.length>150&&V<=10;){var Z=h.length;if((V+=1)%3==0?this.body.modules.clustering.clusterBridges($):this.body.modules.clustering.clusterOutliers($),Z==h.length&&V%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*G)})}V>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(h,this.body.edgeIndices,!0),this._shiftToCenter();for(var le=0;le<h.length;le++){var pe=this.body.nodes[h[le]];!1===pe.predefinedPosition&&(pe.x+=70*(.5-this.seededRandom()),pe.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var h=c.getRangeCore(this.body.nodes,this.body.nodeIndices),f=c.findCenter(h),_=0;_<this.body.nodeIndices.length;_++){var I=this.body.nodes[this.body.nodeIndices[_]];I.x-=f.x,I.y-=f.y}}},{key:"_declusterAll",value:function(){for(var h=!0;!0===h;){h=!1;for(var f=0;f<this.body.nodeIndices.length;f++)!0===this.body.nodes[this.body.nodeIndices[f]].isCluster&&(h=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[f],{},!1));!0===h&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var h=void 0,f=void 0,_=!1,I=!1;for(f in this.lastNodeOnLevel={},this.hierarchical=new d,this.body.nodes)this.body.nodes.hasOwnProperty(f)&&(void 0!==(h=this.body.nodes[f]).options.level?(_=!0,this.hierarchical.levels[f]=h.options.level):I=!0);if(!0===I&&!0===_)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===I){var F=this.options.hierarchical.sortMethod;"hubsize"===F?this._determineLevelsByHubsize():"directed"===F?this._determineLevelsDirected():"custom"===F&&this._determineLevelsCustomCallback()}for(var V in this.body.nodes)this.body.nodes.hasOwnProperty(V)&&this.hierarchical.ensureLevel(V);var j=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(j),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var h=this,f=!1,_={},F=function(ge,ue){var ce=h.hierarchical.trees;for(var Ce in ce)ce.hasOwnProperty(Ce)&&ce[Ce]===ge&&h.direction.shift(Ce,ue)},V=function(){for(var ge=[],ue=0;ue<h.hierarchical.numTrees();ue++)ge.push(h.direction.getTreeSize(ue));return ge},j=function Ee(ge,ue){if(!ue[ge.id]&&(ue[ge.id]=!0,h.hierarchical.childrenReference[ge.id])){var ce=h.hierarchical.childrenReference[ge.id];if(ce.length>0)for(var Ce=0;Ce<ce.length;Ce++)Ee(h.body.nodes[ce[Ce]],ue)}},$=function(ge){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,ce=1e9,Ce=1e9,ke=1e9,Ie=-1e9;for(var xe in ge)if(ge.hasOwnProperty(xe)){var Be=h.body.nodes[xe],ze=h.hierarchical.levels[Be.id],it=h.direction.getPosition(Be),nn=h._getSpaceAroundNode(Be,ge),cn=(0,y.default)(nn,2),Dt=cn[1];ce=Math.min(cn[0],ce),Ce=Math.min(Dt,Ce),ze<=ue&&(ke=Math.min(it,ke),Ie=Math.max(it,Ie))}return[ke,Ie,ce,Ce]},G=function(ge,ue){var ce=h.hierarchical.getMaxLevel(ge.id),Ce=h.hierarchical.getMaxLevel(ue.id);return Math.min(ce,Ce)},Z=function(ge,ue,ce){for(var Ce=h.hierarchical,ke=0;ke<ue.length;ke++){var xe=Ce.distributionOrdering[ue[ke]];if(xe.length>1)for(var Be=0;Be<xe.length-1;Be++){var ze=xe[Be],it=xe[Be+1];Ce.hasSameParent(ze,it)&&Ce.inSameSubNetwork(ze,it)&&ge(ze,it,ce)}}},ne=function(ge,ue){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ce=h.direction.getPosition(ge),ke=h.direction.getPosition(ue),Ie=Math.abs(ke-Ce),xe=h.options.hierarchical.nodeSpacing;if(Ie>xe){var Be={},ze={};j(ge,Be),j(ue,ze);var it=G(ge,ue),nn=$(Be,it),cn=$(ze,it),at=nn[1],Dt=cn[0],Jt=cn[2];if(Math.abs(at-Dt)>xe){var mn=at-Dt+xe;mn<-Jt+xe&&(mn=-Jt+xe),mn<0&&(h._shiftBlock(ue.id,mn),f=!0,!0===ce&&h._centerParent(ue))}}},oe=function(ge,ue){for(var ce=ue.id,Ce=ue.edges,ke=h.hierarchical.levels[ue.id],Ie=h.options.hierarchical.levelSeparation*h.options.hierarchical.levelSeparation,xe={},Be=[],ze=0;ze<Ce.length;ze++){var it=Ce[ze];if(it.toId!=it.fromId){var nn=it.toId==ce?it.from:it.to;xe[Ce[ze].id]=nn,h.hierarchical.levels[nn.id]<ke&&Be.push(it)}}var Ye,Re,Ve,nt,St,$e,wn,cn=function(Ye,Re){for(var Ve=0,nt=0;nt<Re.length;nt++)if(void 0!==xe[Re[nt].id]){var St=h.direction.getPosition(xe[Re[nt].id])-Ye;Ve+=St/Math.sqrt(St*St+Ie)}return Ve},at=function(Ye,Re){for(var Ve=0,nt=0;nt<Re.length;nt++)if(void 0!==xe[Re[nt].id]){var St=h.direction.getPosition(xe[Re[nt].id])-Ye;Ve-=Ie*Math.pow(St*St+Ie,-1.5)}return Ve},Dt=function(Ye,Re){for(var Ve=h.direction.getPosition(ue),nt={},St=0;St<Ye;St++){var $t=cn(Ve,Re),$e=at(Ve,Re);if(void 0!==nt[Ve-=Math.max(-40,Math.min(40,Math.round($t/$e)))])break;nt[Ve]=St}return Ve},mn=Dt(ge,Be);(function(Ye){var Re=h.direction.getPosition(ue);if(void 0===_[ue.id]){var Ve={};j(ue,Ve),_[ue.id]=Ve}var nt=$(_[ue.id]),St=nt[2],$e=Ye-Re,wn=0;$e>0?wn=Math.min($e,nt[3]-h.options.hierarchical.nodeSpacing):$e<0&&(wn=-Math.min(-$e,St-h.options.hierarchical.nodeSpacing)),0!=wn&&(h._shiftBlock(ue.id,wn),f=!0)})(mn),Ye=mn=Dt(ge,Ce),Re=h.direction.getPosition(ue),Ve=h._getSpaceAroundNode(ue),nt=(0,y.default)(Ve,2),St=nt[0],wn=Re,($e=Ye-Re)>0?wn=Math.min(Re+(nt[1]-h.options.hierarchical.nodeSpacing),Ye):$e<0&&(wn=Math.max(Re-(St-h.options.hierarchical.nodeSpacing),Ye)),wn!==Re&&(h.direction.setPosition(ue,wn),f=!0)};!0===this.options.hierarchical.blockShifting&&(function(ge){var ue=h.hierarchical.getLevels();ue=ue.reverse();for(var ce=0;ce<5&&(f=!1,Z(ne,ue,!0),!0===f);ce++);}(),function(){for(var ge in h.body.nodes)h.body.nodes.hasOwnProperty(ge)&&h._centerParent(h.body.nodes[ge])}()),!0===this.options.hierarchical.edgeMinimization&&function(ge){var ue=h.hierarchical.getLevels();ue=ue.reverse();for(var ce=0;ce<ge;ce++){f=!1;for(var Ce=0;Ce<ue.length;Ce++)for(var Ie=h.hierarchical.distributionOrdering[ue[Ce]],xe=0;xe<Ie.length;xe++)oe(1e3,Ie[xe]);if(!0!==f)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var ge=h.hierarchical.getLevels();ge=ge.reverse();for(var ue=0;ue<ge.length;ue++)for(var Ce=h.hierarchical.distributionOrdering[ge[ue]],ke=0;ke<Ce.length;ke++)h._centerParent(Ce[ke])}(),function(){for(var ge=V(),ue=0,ce=0;ce<ge.length-1;ce++)F(ce+1,ue+=ge[ce].max-ge[ce+1].min+h.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(h,f){var _=!0;void 0===f&&(_=!1);var I=this.hierarchical.levels[h.id];if(void 0!==I){var F=this.hierarchical.distributionIndex[h.id],V=this.direction.getPosition(h),j=this.hierarchical.distributionOrdering[I],$=1e9,G=1e9;if(0!==F){var Z=j[F-1];(!0===_&&void 0===f[Z.id]||!1===_)&&($=V-this.direction.getPosition(Z))}if(F!=j.length-1){var oe=j[F+1];if(!0===_&&void 0===f[oe.id]||!1===_){var le=this.direction.getPosition(oe);G=Math.min(G,le-V)}}return[$,G]}return[0,0]}},{key:"_centerParent",value:function(h){if(this.hierarchical.parentReference[h.id])for(var f=this.hierarchical.parentReference[h.id],_=0;_<f.length;_++){var I=f[_],F=this.body.nodes[I],V=this.hierarchical.childrenReference[I];if(void 0!==V){var j=this._getCenterPosition(V),$=this.direction.getPosition(F),G=this._getSpaceAroundNode(F),Z=(0,y.default)(G,2),ne=Z[0],oe=Z[1],le=$-j;(le<0&&Math.abs(le)<oe-this.options.hierarchical.nodeSpacing||le>0&&Math.abs(le)<ne-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(F,j)}}}},{key:"_placeNodesByHierarchy",value:function(h){for(var f in this.positionedNodes={},h)if(h.hasOwnProperty(f)){var _=(0,A.default)(h[f]);_=this._indexArrayToNodes(_),this.direction.sort(_);for(var I=0,F=0;F<_.length;F++){var V=_[F];if(void 0===this.positionedNodes[V.id]){var j=this.options.hierarchical.nodeSpacing,$=j*I;I>0&&($=this.direction.getPosition(_[F-1])+j),this.direction.setPosition(V,$,f),this._validatePositionAndContinue(V,f,$),I++}}}}},{key:"_placeBranchNodes",value:function(h,f){var _=this.hierarchical.childrenReference[h];if(void 0!==_){for(var I=[],F=0;F<_.length;F++)I.push(this.body.nodes[_[F]]);this.direction.sort(I);for(var V=0;V<I.length;V++){var j=I[V],$=this.hierarchical.levels[j.id];if(!($>f&&void 0===this.positionedNodes[j.id]))return;var Z,G=this.options.hierarchical.nodeSpacing;Z=0===V?this.direction.getPosition(this.body.nodes[h]):this.direction.getPosition(I[V-1])+G,this.direction.setPosition(j,Z,$),this._validatePositionAndContinue(j,$,Z)}var ne=this._getCenterPosition(I);this.direction.setPosition(this.body.nodes[h],ne,f)}}},{key:"_validatePositionAndContinue",value:function(h,f,_){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[f]){var I=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[f]]);if(_-I<this.options.hierarchical.nodeSpacing){var F=I+this.options.hierarchical.nodeSpacing-_,V=this._findCommonParent(this.lastNodeOnLevel[f],h.id);this._shiftBlock(V.withChild,F)}}this.lastNodeOnLevel[f]=h.id,this.positionedNodes[h.id]=!0,this._placeBranchNodes(h.id,f)}}},{key:"_indexArrayToNodes",value:function(h){for(var f=[],_=0;_<h.length;_++)f.push(this.body.nodes[h[_]]);return f}},{key:"_getDistribution",value:function(){var h={},f=void 0,_=void 0;for(f in this.body.nodes)if(this.body.nodes.hasOwnProperty(f)){var I=void 0===this.hierarchical.levels[f]?0:this.hierarchical.levels[f];this.direction.fix(_=this.body.nodes[f],I),void 0===h[I]&&(h[I]={}),h[I][f]=_}return h}},{key:"_getActiveEdges",value:function(h){var f=this,_=[];return m.forEach(h.edges,function(I){-1!==f.body.edgeIndices.indexOf(I.id)&&_.push(I)}),_}},{key:"_getHubSizes",value:function(){var h=this,f={};m.forEach(this.body.nodeIndices,function(F){var j=h._getActiveEdges(h.body.nodes[F]).length;f[j]=!0});var I=[];return m.forEach(f,function(F){I.push(Number(F))}),I.sort(function(F,V){return V-F}),I}},{key:"_determineLevelsByHubsize",value:function(){for(var h=this,f=function($,G){h.hierarchical.levelDownstream($,G)},_=this._getHubSizes(),I=function($){var G=_[$];if(0===G)return"break";m.forEach(h.body.nodeIndices,function(Z){G===h._getActiveEdges(h.body.nodes[Z]).length&&h._crawlNetwork(f,Z)})},F=0;F<_.length&&"break"!==I(F);++F);}},{key:"_determineLevelsCustomCallback",value:function(){var h=this;this._crawlNetwork(function(V,j,$){var G=h.hierarchical.levels[V.id];void 0===G&&(G=h.hierarchical.levels[V.id]=1e5);var Z=(c.cloneOptions(V,"node"),c.cloneOptions(j,"node"),void c.cloneOptions($,"edge"));h.hierarchical.levels[j.id]=G+Z}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var h=this;this._crawlNetwork(function(V,j,$){var G=h.hierarchical.levels[V.id],Z=h.hierarchical.levels[j.id];(function(V){return m.forEach(h.body.edges,function(j){if(j.toId===V.fromId&&j.fromId===V.toId)return!0}),!1})($)&&void 0!==G&&void 0!==Z||(void 0===G&&(G=h.hierarchical.levels[V.id]=1e4),h.hierarchical.levels[j.id]=$.toId==j.id?G+1:G-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var h=this;this._crawlNetwork(function(I,F){h.hierarchical.levels[F.id]>h.hierarchical.levels[I.id]&&h.hierarchical.addRelation(I.id,F.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var h=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},_=arguments[1],I={},F=function ne(oe,le){if(void 0===I[oe.id]){h.hierarchical.setTreeIndex(oe,le),I[oe.id]=!0;for(var pe=void 0,_e=h._getActiveEdges(oe),we=0;we<_e.length;we++){var Ee=_e[we];!0===Ee.connected&&oe.id!=(pe=Ee.toId==oe.id?Ee.from:Ee.to).id&&(f(oe,pe,Ee),ne(pe,le))}}};if(void 0===_)for(var V=0,j=0;j<this.body.nodeIndices.length;j++){var $=this.body.nodeIndices[j];void 0===I[$]&&(F(this.body.nodes[$],V),V+=1)}else{var Z=this.body.nodes[_];if(void 0===Z)return void console.error("Node not found:",_);F(Z)}}},{key:"_shiftBlock",value:function(h,f){var _=this,I={};!function V(j){if(!I[j]){I[j]=!0,_.direction.shift(j,f);var $=_.hierarchical.childrenReference[j];if(void 0!==$)for(var G=0;G<$.length;G++)V($[G])}}(h)}},{key:"_findCommonParent",value:function(h,f){var _=this,I={};return function j($,G){var Z=_.hierarchical.parentReference[G];if(void 0!==Z)for(var ne=0;ne<Z.length;ne++){var oe=Z[ne];$[oe]=!0,j($,oe)}}(I,h),function j($,G){var Z=_.hierarchical.parentReference[G];if(void 0!==Z)for(var ne=0;ne<Z.length;ne++){var oe=Z[ne];if(void 0!==$[oe])return{foundParent:oe,withChild:G};var le=j($,oe);if(null!==le.foundParent)return le}return{foundParent:null,withChild:G}}(I,f)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new p(this):new a(this)}},{key:"_getCenterPosition",value:function(h){for(var f=1e9,_=-1e9,I=0;I<h.length;I++){var j=this.direction.getPosition(void 0!==h[I].id?h[I]:this.body.nodes[h[I]]);f=Math.min(f,j),_=Math.max(_,j)}return.5*(f+_)}}]),g}();L.default=u},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0}),L.VerticalStrategy=L.HorizontalStrategy=void 0;var y=v(E(3)),D=v(E(4)),A=v(E(5)),O=v(E(0)),w=v(E(1));function v(a){return a&&a.__esModule?a:{default:a}}var m=function(){function a(){(0,O.default)(this,a)}return(0,w.default)(a,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(d){return this.fake_use(d),this.abstract()}},{key:"setPosition",value:function(d,u){this.fake_use(d,u,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(d){return this.fake_use(d),this.abstract()}},{key:"sort",value:function(d){this.fake_use(d),this.abstract()}},{key:"fix",value:function(d,u){this.fake_use(d,u),this.abstract()}},{key:"shift",value:function(d,u){this.fake_use(d,u),this.abstract()}}]),a}(),c=function(a){function p(d){(0,O.default)(this,p);var u=(0,D.default)(this,(p.__proto__||(0,y.default)(p)).call(this));return u.layout=d,u}return(0,A.default)(p,a),(0,w.default)(p,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(u){return u.x}},{key:"setPosition",value:function(u,g){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==M&&this.layout.hierarchical.addToOrdering(u,M),u.x=g}},{key:"getTreeSize",value:function(u){var g=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,u);return{min:g.min_x,max:g.max_x}}},{key:"sort",value:function(u){u.sort(function(g,M){return void 0===g.x||void 0===M.x?0:g.x-M.x})}},{key:"fix",value:function(u,g){u.y=this.layout.options.hierarchical.levelSeparation*g,u.options.fixed.y=!0}},{key:"shift",value:function(u,g){this.layout.body.nodes[u].x+=g}}]),p}(m),T=function(a){function p(d){(0,O.default)(this,p);var u=(0,D.default)(this,(p.__proto__||(0,y.default)(p)).call(this));return u.layout=d,u}return(0,A.default)(p,a),(0,w.default)(p,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(u){return u.y}},{key:"setPosition",value:function(u,g){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==M&&this.layout.hierarchical.addToOrdering(u,M),u.y=g}},{key:"getTreeSize",value:function(u){var g=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,u);return{min:g.min_y,max:g.max_y}}},{key:"sort",value:function(u){u.sort(function(g,M){return void 0===g.y||void 0===M.y?0:g.y-M.y})}},{key:"fix",value:function(u,g){u.x=this.layout.options.hierarchical.levelSeparation*g,u.options.fixed.x=!0}},{key:"shift",value:function(u,g){this.layout.body.nodes[u].y+=g}}]),p}(m);L.HorizontalStrategy=T,L.VerticalStrategy=c},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=v(E(8)),D=v(E(19)),A=v(E(6)),O=v(E(0)),w=v(E(1));function v(p){return p&&p.__esModule?p:{default:p}}var m=E(2),c=E(10),T=E(37),a=function(){function p(d,u,g){var M=this;(0,O.default)(this,p),this.body=d,this.canvas=u,this.selectionHandler=g,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},m.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){M._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,w.default)(p,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(u,g,M){void 0!==g&&(this.options.locale=void 0!==g.locale?g.locale:M.locale,this.options.locales=void 0!==g.locales?g.locales:M.locales),void 0!==u&&("boolean"==typeof u?this.options.enabled=u:(this.options.enabled=!0,m.deepExtend(this.options,u)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var u=this.selectionHandler._getSelectedNodeCount(),g=this.selectionHandler._getSelectedEdgeCount(),M=u+g,h=this.options.locales[this.options.locale],f=!1;!1!==this.options.addNode&&(this._createAddNodeButton(h),f=!0),!1!==this.options.addEdge&&(!0===f?this._createSeperator(1):f=!0,this._createAddEdgeButton(h)),1===u&&"function"==typeof this.options.editNode?(!0===f?this._createSeperator(2):f=!0,this._createEditNodeButton(h)):1===g&&0===u&&!1!==this.options.editEdge&&(!0===f?this._createSeperator(3):f=!0,this._createEditEdgeButton(h)),0!==M&&(u>0&&!1!==this.options.deleteNode||0===u&&!1!==this.options.deleteEdge)&&(!0===f&&this._createSeperator(4),this._createDeleteButton(h)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var u=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(u),this._createSeperator(),this._createDescription(u.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var u=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var g=this.selectionHandler._getSelectedNode();if(void 0!==g){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==g.isCluster){var M=m.deepExtend({},g.options,!1);if(M.x=g.x,M.y=g.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(M,function(h){null!=h&&"editNode"===u.inMode&&u.body.data.nodes.getDataSet().update(h),u.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var u=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(u),this._createSeperator(),this._createDescription(u.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,A.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var g=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(g),this._createSeperator(),this._createDescription(g.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var M=this.body.edges[this.edgeBeingEditedId],h=this._getNewTargetNode(M.from.x,M.from.y),f=this._getNewTargetNode(M.to.x,M.to.y);this.temporaryIds.nodes.push(h.id),this.temporaryIds.nodes.push(f.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(_){var I=M.edgeType.findBorderPositions(_);!1===h.selected&&(h.x=I.from.x,h.y=I.from.y),!1===f.selected&&(f.x=I.to.x,f.y=I.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var u=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(u.from,u.to)}}},{key:"deleteSelected",value:function(){var u=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var g=this.selectionHandler.getSelectedNodes(),M=this.selectionHandler.getSelectedEdges(),h=void 0;if(g.length>0){for(var f=0;f<g.length;f++)if(!0===this.body.nodes[g[f]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(h=this.options.deleteNode)}else M.length>0&&"function"==typeof this.options.deleteEdge&&(h=this.options.deleteEdge);if("function"==typeof h){var _={nodes:g,edges:M};if(2!==h.length)throw new Error("The function for delete does not support two arguments (data, callback)");h(_,function(I){null!=I&&"delete"===u.inMode?(u.body.data.edges.getDataSet().remove(I.edges),u.body.data.nodes.getDataSet().remove(I.nodes),u.body.emitter.emit("startSimulation"),u.showManipulatorToolbar()):(u.body.emitter.emit("startSimulation"),u.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(M),this.body.data.nodes.getDataSet().remove(g),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(u,g){var M=m.deepExtend({},this.options.controlNodeStyle);M.id="targetNode"+m.randomUUID(),M.hidden=!1,M.physics=!1,M.x=u,M.y=g;var h=this.body.functions.createNode(M);return h.shape.boundingBox={left:u,right:u,top:g,bottom:g},h}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},m.recursiveDOMDelete(this.editModeDiv);var g=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(g),this._bindHammerToDiv(g,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(m.recursiveDOMDelete(this.editModeDiv),m.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var u=0;u<this.manipulationHammers.length;u++)this.manipulationHammers[u].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),m.recursiveDOMDelete(this.manipulationDiv),m.recursiveDOMDelete(this.editModeDiv),m.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+u]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+u].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+u])}},{key:"_createAddNodeButton",value:function(u){var g=this._createButton("addNode","vis-button vis-add",u.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(u){var g=this._createButton("addEdge","vis-button vis-connect",u.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(u){var g=this._createButton("editNode","vis-button vis-edit",u.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(u){var g=this._createButton("editEdge","vis-button vis-edit",u.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(u){var M=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",u.del||this.options.locales.en.del);this.manipulationDiv.appendChild(M),this._bindHammerToDiv(M,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(u){var g=this._createButton("back","vis-button vis-back",u.back||this.options.locales.en.back);this.manipulationDiv.appendChild(g),this._bindHammerToDiv(g,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(u,g,M){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[u+"Div"]=document.createElement("div"),this.manipulationDOM[u+"Div"].className=g,this.manipulationDOM[u+"Label"]=document.createElement("div"),this.manipulationDOM[u+"Label"].className=h,this.manipulationDOM[u+"Label"].innerHTML=M,this.manipulationDOM[u+"Div"].appendChild(this.manipulationDOM[u+"Label"]),this.manipulationDOM[u+"Div"]}},{key:"_createDescription",value:function(u){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",u))}},{key:"_temporaryBindEvent",value:function(u,g){this.temporaryEventFunctions.push({event:u,boundFunction:g}),this.body.emitter.on(u,g)}},{key:"_temporaryBindUI",value:function(u,g){if(void 0===this.body.eventListeners[u])throw new Error("This UI function does not exist. Typo? You tried: "+u+" possible are: "+(0,D.default)((0,y.default)(this.body.eventListeners)));this.temporaryUIFunctions[u]=this.body.eventListeners[u],this.body.eventListeners[u]=g}},{key:"_unbindTemporaryUIs",value:function(){for(var u in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(u)&&(this.body.eventListeners[u]=this.temporaryUIFunctions[u],delete this.temporaryUIFunctions[u]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var u=0;u<this.temporaryEventFunctions.length;u++)this.body.emitter.off(this.temporaryEventFunctions[u].event,this.temporaryEventFunctions[u].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(u,g){var M=new c(u,{});T.onTouch(M,g),this.manipulationHammers.push(M)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var u=0;u<this.temporaryIds.edges.length;u++){this.body.edges[this.temporaryIds.edges[u]].disconnect(),delete this.body.edges[this.temporaryIds.edges[u]];var g=this.body.edgeIndices.indexOf(this.temporaryIds.edges[u]);-1!==g&&this.body.edgeIndices.splice(g,1)}for(var M=0;M<this.temporaryIds.nodes.length;M++){delete this.body.nodes[this.temporaryIds.nodes[M]];var h=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[M]);-1!==h&&this.body.nodeIndices.splice(h,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(u){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(u.center),this.lastTouch.translation=m.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(u){var M=this.selectionHandler._pointerToPositionObject(this.lastTouch),h=this.body.nodes[this.temporaryIds.nodes[0]],f=this.body.nodes[this.temporaryIds.nodes[1]],_=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var I=h.isOverlappingWith(M),F=f.isOverlappingWith(M);!0===I?(this.selectedControlNode=h,_.edgeType.from=h):!0===F&&(this.selectedControlNode=f,_.edgeType.to=f),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(u){this.body.emitter.emit("disablePhysics");var g=this.body.functions.getPointer(u.center),M=this.canvas.DOMtoCanvas(g);void 0!==this.selectedControlNode?(this.selectedControlNode.x=M.x,this.selectedControlNode.y=M.y):this.body.view.translation={x:this.lastTouch.translation.x+(g.x-this.lastTouch.x),y:this.lastTouch.translation.y+(g.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(u){var g=this.body.functions.getPointer(u.center),M=this.selectionHandler._pointerToPositionObject(g),h=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var f=this.selectionHandler._getAllNodesOverlappingWith(M),_=void 0,I=f.length-1;I>=0;I--)if(f[I]!==this.selectedControlNode.id){_=this.body.nodes[f[I]];break}void 0!==_&&void 0!==this.selectedControlNode?!0===_.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(_.id,h.to.id):this._performEditEdge(h.from.id,_.id):(h.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(u){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(u.center),this.lastTouch.translation=m.extend({},this.body.view.translation);var M=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==M)if(!0===M.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this._getNewTargetNode(M.x,M.y);this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id);var f=this.body.functions.createEdge({id:"connectionEdge"+m.randomUUID(),from:M.id,to:h.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[f.id]=f,this.body.edgeIndices.push(f.id),this.temporaryIds.nodes.push(h.id),this.temporaryIds.edges.push(f.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(u){var g=this.body.functions.getPointer(u.center);if(void 0!==this.temporaryIds.nodes[0]){var M=this.body.nodes[this.temporaryIds.nodes[0]];M.x=this.canvas._XconvertDOMtoCanvas(g.x),M.y=this.canvas._YconvertDOMtoCanvas(g.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(g.x-this.lastTouch.x),y:this.lastTouch.translation.y+(g.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(u){var g=this.body.functions.getPointer(u.center),M=this.selectionHandler._pointerToPositionObject(g),h=void 0;void 0!==this.temporaryIds.edges[0]&&(h=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var f=this.selectionHandler._getAllNodesOverlappingWith(M),_=void 0,I=f.length-1;I>=0;I--)if(-1===this.temporaryIds.nodes.indexOf(f[I])){_=this.body.nodes[f[I]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==_&&(!0===_.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[h]&&void 0!==this.body.nodes[_.id]&&this._performAddEdge(h,_.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(u){this.selectionHandler._generateClickEvent("dragStart",u,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(u){var g=this,M={id:m.randomUUID(),x:u.pointer.canvas.x,y:u.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(M,function(h){null!=h&&"addNode"===g.inMode&&(g.body.data.nodes.getDataSet().add(h),g.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(M),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(u,g){var M=this,h={from:u,to:g};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(h,function(f){null!=f&&"addEdge"===M.inMode&&(M.body.data.edges.getDataSet().add(f),M.selectionHandler.unselectAll(),M.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(u,g){var M=this,h={id:this.edgeBeingEditedId,from:u,to:g,label:this.body.data.edges._data[this.edgeBeingEditedId].label},f=this.options.editEdge;if("object"===(void 0===f?"undefined":(0,A.default)(f))&&(f=f.editWithoutDrag),"function"==typeof f){if(2!==f.length)throw new Error("The function for edit does not support two arguments (data, callback)");f(h,function(_){null==_||"editEdge"!==M.inMode?(M.body.edges[h.id].updateEdgeType(),M.body.emitter.emit("_redraw"),M.showManipulatorToolbar()):(M.body.data.edges.getDataSet().update(_),M.selectionHandler.unselectAll(),M.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),p}();L.default=a},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=b(E(30)),D=b(E(0)),A=b(E(1)),O=b(E(239));function b(v){return v&&v.__esModule?v:{default:v}}var w=function(){function v(m,c,T){(0,D.default)(this,v),this.body=m,this.springLength=c,this.springConstant=T,this.distanceSolver=new O.default}return(0,A.default)(v,[{key:"setOptions",value:function(c){c&&(c.springLength&&(this.springLength=c.springLength),c.springConstant&&(this.springConstant=c.springConstant))}},{key:"solve",value:function(c,T){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=this.distanceSolver.getDistances(this.body,c,T);this._createL_matrix(p),this._createK_matrix(p),this._createE_matrix();for(var d=.01,u=1,g=0,M=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5,f=1e9,_=0,I=0,F=0,V=0,j=0;f>d&&g<M;){g+=1;var $=this._getHighestEnergyNode(a),G=(0,y.default)($,4);for(_=G[0],I=G[2],F=G[3],V=f=G[1],j=0;V>u&&j<h;){j+=1,this._moveNode(_,I,F);var Z=this._getEnergy(_),ne=(0,y.default)(Z,3);V=ne[0],I=ne[1],F=ne[2]}}}},{key:"_getHighestEnergyNode",value:function(c){for(var T=this.body.nodeIndices,a=this.body.nodes,p=0,d=T[0],u=0,g=0,M=0;M<T.length;M++){var h=T[M];if(!1===a[h].predefinedPosition||!0===a[h].isCluster&&!0===c||!0===a[h].options.fixed.x||!0===a[h].options.fixed.y){var f=this._getEnergy(h),_=(0,y.default)(f,3),I=_[0];p<I&&(p=I,d=h,u=_[1],g=_[2])}}return[d,p,u,g]}},{key:"_getEnergy",value:function(c){var T=(0,y.default)(this.E_sums[c],2),a=T[0],p=T[1];return[Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),a,p]}},{key:"_moveNode",value:function(c,T,a){for(var p=this.body.nodeIndices,d=this.body.nodes,u=0,g=0,M=0,h=d[c].x,f=d[c].y,_=this.K_matrix[c],I=this.L_matrix[c],F=0;F<p.length;F++){var V=p[F];if(V!==c){var j=d[V].x,$=d[V].y,G=_[V],Z=I[V],ne=1/Math.pow(Math.pow(h-j,2)+Math.pow(f-$,2),1.5);u+=G*(1-Z*Math.pow(f-$,2)*ne),g+=G*(Z*(h-j)*(f-$)*ne),M+=G*(1-Z*Math.pow(h-j,2)*ne)}}var Ee=(T/u+a/g)/(g/u-M/g);d[c].x+=-(g*Ee+T)/u,d[c].y+=Ee,this._updateE_matrix(c)}},{key:"_createL_matrix",value:function(c){var T=this.body.nodeIndices,a=this.springLength;this.L_matrix=[];for(var p=0;p<T.length;p++){this.L_matrix[T[p]]={};for(var d=0;d<T.length;d++)this.L_matrix[T[p]][T[d]]=a*c[T[p]][T[d]]}}},{key:"_createK_matrix",value:function(c){var T=this.body.nodeIndices,a=this.springConstant;this.K_matrix=[];for(var p=0;p<T.length;p++){this.K_matrix[T[p]]={};for(var d=0;d<T.length;d++)this.K_matrix[T[p]][T[d]]=a*Math.pow(c[T[p]][T[d]],-2)}}},{key:"_createE_matrix",value:function(){var c=this.body.nodeIndices,T=this.body.nodes;this.E_matrix={},this.E_sums={};for(var a=0;a<c.length;a++)this.E_matrix[c[a]]=[];for(var p=0;p<c.length;p++){for(var d=c[p],u=T[d].x,g=T[d].y,M=0,h=0,f=p;f<c.length;f++){var _=c[f];if(_!==d){var I=T[_].x,F=T[_].y,V=1/Math.sqrt(Math.pow(u-I,2)+Math.pow(g-F,2));this.E_matrix[d][f]=[this.K_matrix[d][_]*(u-I-this.L_matrix[d][_]*(u-I)*V),this.K_matrix[d][_]*(g-F-this.L_matrix[d][_]*(g-F)*V)],this.E_matrix[_][p]=this.E_matrix[d][f],M+=this.E_matrix[d][f][0],h+=this.E_matrix[d][f][1]}}this.E_sums[d]=[M,h]}}},{key:"_updateE_matrix",value:function(c){for(var T=this.body.nodeIndices,a=this.body.nodes,p=this.E_matrix[c],d=this.K_matrix[c],u=this.L_matrix[c],g=a[c].x,M=a[c].y,h=0,f=0,_=0;_<T.length;_++){var I=T[_];if(I!==c){var F=p[_],V=F[0],j=F[1],$=a[I].x,G=a[I].y,Z=1/Math.sqrt(Math.pow(g-$,2)+Math.pow(M-G,2)),ne=d[I]*(g-$-u[I]*(g-$)*Z),oe=d[I]*(M-G-u[I]*(M-G)*Z);p[_]=[ne,oe],h+=ne,f+=oe;var le=this.E_sums[I];le[0]+=ne-V,le[1]+=oe-j}}this.E_sums[c]=[h,f]}}]),v}();L.default=w},function(J,L,E){Object.defineProperty(L,"__esModule",{value:!0});var y=k(E(0)),D=k(E(1));function k(x){return x&&x.__esModule?x:{default:x}}var A=function(){function x(){(0,y.default)(this,x)}return(0,D.default)(x,[{key:"getDistances",value:function(b,w,v){for(var m={},c=b.edges,T=0;T<w.length;T++){var p={};m[w[T]]=p;for(var d=0;d<w.length;d++)p[w[d]]=T==d?0:1e9}for(var u=0;u<v.length;u++){var g=c[v[u]];!0===g.connected&&void 0!==m[g.fromId]&&void 0!==m[g.toId]&&(m[g.fromId][g.toId]=1,m[g.toId][g.fromId]=1)}for(var M=w.length,h=0;h<M;h++)for(var f=w[h],_=m[f],I=0;I<M-1;I++)for(var F=w[I],V=m[F],j=I+1;j<M;j++){var $=w[j],G=m[$],Z=Math.min(V[$],V[f]+_[$]);V[$]=Z,G[F]=Z}return m}}]),x}();L.default=A}])},714:(ut,J,L)=>{"use strict";function E(n){return"function"==typeof n}let P=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else P&&console.log("RxJS: Back to a better error behavior. Thank you. <3");P=n},get useDeprecatedSynchronousErrorHandling(){return P}};function S(n){setTimeout(()=>{throw n},0)}const D={closed:!0,next(n){},error(n){if(y.useDeprecatedSynchronousErrorHandling)throw n;S(n)},complete(){}},k=Array.isArray||(n=>n&&"number"==typeof n.length);function A(n){return null!==n&&"object"==typeof n}const O=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class b{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof b)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(E(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof O?w(o.errors):[o]}}if(k(s)){let o=-1,l=s.length;for(;++o<l;){const C=s[o];if(A(C))try{C.unsubscribe()}catch(N){e=e||[],N instanceof O?e=e.concat(w(N.errors)):e.push(N)}}}if(e)throw new O(e)}add(e){let t=e;if(!e)return b.EMPTY;switch(typeof e){case"function":t=new b(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof b)){const s=t;t=new b,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof b){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function w(n){return n.reduce((e,t)=>e.concat(t instanceof O?t.errors:t),[])}b.EMPTY=((n=new b).closed=!0,n);const v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class c extends b{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=D;break;case 1:if(!e){this.destination=D;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new T(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new T(this,e,t,i)}}[v](){return this}static create(e,t,i){const r=new c(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class T extends c{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,o=this;E(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==D&&(o=Object.create(t),E(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;y.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=y;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):S(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;S(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);y.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),y.useDeprecatedSynchronousErrorHandling)throw i;S(i)}}__tryOrSetError(e,t,i){if(!y.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return y.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(S(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const d="function"==typeof Symbol&&Symbol.observable||"@@observable";function u(n){return n}let h=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof c)return n;if(n[v])return n[v]()}return n||e||t?new c(n,e,t):new c(D)}(t,i,r);if(o.add(s?s.call(o,this.source):this.source||y.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),y.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){y.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof c?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=f(i))((r,s)=>{let o;o=this.subscribe(l=>{try{t(l)}catch(C){s(C),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[d](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?u:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=f(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function f(n){if(n||(n=y.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const I=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class F extends b{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class V extends c{constructor(e){super(e),this.destination=e}}let j=(()=>{class n extends h{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[v](){return new V(this)}lift(t){const i=new $(this,this);return i.operator=t,i}next(t){if(this.closed)throw new I;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new I;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new I;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),b.EMPTY):this.isStopped?(t.complete(),b.EMPTY):(this.observers.push(t),new F(this,t))}asObservable(){const t=new h;return t.source=this,t}}return n.create=(e,t)=>new $(e,t),n})();class $ extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):b.EMPTY}}function G(n){return n&&"function"==typeof n.schedule}function Z(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new ne(n,e))}}class ne{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new oe(e,this.project,this.thisArg))}}class oe extends c{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const le=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},we="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ce=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ce(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const ke=n=>{if(n&&"function"==typeof n[d])return(n=>e=>{const t=n[d]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(ce(n))return le(n);if(Ce(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,S),e))(n);if(n&&"function"==typeof n[we])return(n=>e=>{const t=n[we]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${A(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Be(n,e){return new h(t=>{const i=new b;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function at(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[d]}(n))return function(n,e){return new h(t=>{const i=new b;return i.add(e.schedule(()=>{const r=n[d]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>t.next(s)))},error(s){i.add(e.schedule(()=>t.error(s)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(Ce(n))return function(n,e){return new h(t=>{const i=new b;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(ce(n))return Be(n,e);if(function(n){return n&&"function"==typeof n[we]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new h(t=>{const i=new b;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[we](),i.add(e.schedule(function(){if(t.closed)return;let s,o;try{const l=r.next();s=l.value,o=l.done}catch(l){return void t.error(l)}o?t.complete():(t.next(s),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof h?n:new h(ke(n))}class Dt extends c{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class sn extends c{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Zt(n,e){if(e.closed)return;if(n instanceof h)return n.subscribe(e);let t;try{t=ke(n)(e)}catch(i){e.error(i)}return t}function Ye(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Ye((r,s)=>at(n(r,s)).pipe(Z((o,l)=>e(r,o,s,l))),t)):("number"==typeof e&&(t=e),i=>i.lift(new Re(n,t)))}class Re{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Ve(e,this.project,this.concurrent))}}class Ve extends sn{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Dt(this),i=this.destination;i.add(t);const r=Zt(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function St(n=Number.POSITIVE_INFINITY){return Ye(u,n)}function $t(n,e){return e?Be(n,e):new h(le(n))}function wn(){return function(e){return e.lift(new xo(e))}}class xo{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new Mo(e,i),s=t.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class Mo extends c{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class ko extends h{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new b,e.add(this.source.subscribe(new ei(this.getSubject(),this))),e.closed&&(this._connection=null,e=b.EMPTY)),e}refCount(){return wn()(this)}}const ga=(()=>{const n=ko.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class ei extends V{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function cl(){return new j}function Mt(n){for(let e in n)if(n[e]===Mt)return e;throw Error("Could not find renamed property on target object.")}function Js(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ft(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ft).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Io(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const qs=Mt({__forward_ref__:Mt});function Yt(n){return n.__forward_ref__=Yt,n.toString=function(){return ft(this())},n}function Qe(n){return pl(n)?n():n}function pl(n){return"function"==typeof n&&n.hasOwnProperty(qs)&&n.__forward_ref__===Yt}class Yi extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function dt(n){return"string"==typeof n?n:null==n?"":String(n)}function on(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():dt(n)}function ws(n,e){const t=e?` in ${e}`:"";throw new Yi("201",`No provider for ${on(n)} found${t}`)}function Vn(n,e){null==n&&function(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function qe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pn(n){return{providers:n.providers||[],imports:n.imports||[]}}function In(n){return Qi(n,fi)||Qi(n,ro)}function Qi(n,e){return n.hasOwnProperty(e)?n[e]:null}function io(n){return n&&(n.hasOwnProperty(Es)||n.hasOwnProperty(Ro))?n[Es]:null}const fi=Mt({\u0275prov:Mt}),Es=Mt({\u0275inj:Mt}),ro=Mt({ngInjectableDef:Mt}),Ro=Mt({ngInjectorDef:Mt});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let so;function pi(n){const e=so;return so=n,e}function yl(n,e,t){const i=In(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&et.Optional?null:void 0!==e?e:void ws(ft(n),"Injector")}function Xi(n){return{toString:n}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),te=(()=>((te=te||{})[te.Emulated=0]="Emulated",te[te.None=2]="None",te[te.ShadowDom=3]="ShadowDom",te))();const ie="undefined"!=typeof globalThis&&globalThis,de="undefined"!=typeof window&&window,ye="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pe=ie||"undefined"!=typeof global&&global||de||ye,vn={},pt=[],Ci=Mt({\u0275cmp:Mt}),Zu=Mt({\u0275dir:Mt}),Cl=Mt({\u0275pipe:Mt}),Jh=Mt({\u0275mod:Mt}),lg=Mt({\u0275loc:Mt}),Xr=Mt({\u0275fac:Mt}),_a=Mt({__NG_ELEMENT_ID__:Mt});let ug=0;function Xt(n){return Xi(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||pt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||te.Emulated,id:"c",styles:n.styles||pt,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=ug++,i.inputs=nc(n.inputs,t),i.outputs=nc(n.outputs),s&&s.forEach(l=>l(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(qh):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(ec):null,i})}function qh(n){return oi(n)||function(n){return n[Zu]||null}(n)}function ec(n){return function(n){return n[Cl]||null}(n)}const tc={};function Si(n){return Xi(()=>{const e={type:n.type,bootstrap:n.bootstrap||pt,declarations:n.declarations||pt,imports:n.imports||pt,exports:n.exports||pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(tc[n.id]=n.type),e})}function nc(n,e){if(null==n)return vn;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const rt=Xt;function oi(n){return n[Ci]||null}function Ni(n,e){const t=n[Jh]||null;if(!t&&!0===e)throw new Error(`Type ${ft(n)} does not have '\u0275mod' property.`);return t}function xr(n){return Array.isArray(n)&&"object"==typeof n[1]}function gr(n){return Array.isArray(n)&&!0===n[1]}function qu(n){return 0!=(8&n.flags)}function _l(n){return 2==(2&n.flags)}function xa(n){return 1==(1&n.flags)}function mr(n){return null!==n.template}function ed(n){return 0!=(512&n[2])}function lo(n,e){return n.hasOwnProperty(Xr)?n[Xr]:null}class Dl{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Xn(){return Sl}function Sl(n){return n.type.prototype.ngOnChanges&&(n.setInput=Eg),_g}function _g(){const n=ac(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===vn)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Eg(n,e,t,i){const r=ac(n)||function(n,e){return n[oc]=e}(n,{previous:vn,current:null}),s=r.current||(r.current={}),o=r.previous,l=this.declaredInputs[t],C=o[l];s[l]=new Dl(C&&C.currentValue,e,o===vn),n[i]=e}Xn.ngInherit=!0;const oc="__ngSimpleChanges__";function ac(n){return n[oc]||null}let Tl;function nd(){return void 0!==Tl?Tl:"undefined"!=typeof document?document:void 0}function qt(n){return!!n.listen}const dc={createRenderer:(n,e)=>nd()};function Rn(n){for(;Array.isArray(n);)n=n[0];return n}function xl(n,e){return Rn(e[n])}function qi(n,e){return Rn(e[n.index])}function id(n,e){return n.data[e]}function Li(n,e){const t=e[n];return xr(t)?t:t[0]}function cc(n){return 4==(4&n[2])}function rd(n){return 128==(128&n[2])}function ks(n,e){return null==e?null:n[e]}function Ml(n){n[18]=0}function sd(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ht={lFrame:Cc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function fc(){return ht.bindingsEnabled}function Me(){return ht.lFrame.lView}function Lt(){return ht.lFrame.tView}function wi(n){return ht.lFrame.contextLView=n,n[8]}function Zn(){let n=gc();for(;null!==n&&64===n.type;)n=n.parent;return n}function gc(){return ht.lFrame.currentTNode}function kr(n,e){const t=ht.lFrame;t.currentTNode=n,t.isParent=e}function od(){return ht.lFrame.isParent}function ad(){ht.lFrame.isParent=!1}function kl(){return ht.isInCheckNoChangesMode}function Ol(n){ht.isInCheckNoChangesMode=n}function _i(){const n=ht.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Bi(){return ht.lFrame.bindingIndex}function Vo(){return ht.lFrame.bindingIndex++}function Zr(n){const e=ht.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Lg(n,e){const t=ht.lFrame;t.bindingIndex=t.bindingRootIndex=n,Il(e)}function Il(n){ht.lFrame.currentDirectiveIndex=n}function ud(n){const e=ht.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function vc(){return ht.lFrame.currentQueryIndex}function dd(n){ht.lFrame.currentQueryIndex=n}function Os(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function yc(n,e,t){if(t&et.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&et.Host||(r=Os(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=ht.lFrame=bc();return i.currentTNode=e,i.lView=n,!0}function Al(n){const e=bc(),t=n[1];ht.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bc(){const n=ht.lFrame,e=null===n?null:n.child;return null===e?Cc(n):e}function Cc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Fe(){const n=ht.lFrame;return ht.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wc=Fe;function Pl(){const n=Fe();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ti(){return ht.lFrame.selectedIndex}function Jr(n){ht.lFrame.selectedIndex=n}function yn(){const n=ht.lFrame;return id(n.tView,n.selectedIndex)}function Rl(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:C,ngAfterViewChecked:N,ngOnDestroy:B}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),l&&((n.contentHooks||(n.contentHooks=[])).push(t,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,l)),C&&(n.viewHooks||(n.viewHooks=[])).push(-t,C),N&&((n.viewHooks||(n.viewHooks=[])).push(t,N),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,N)),null!=B&&(n.destroyHooks||(n.destroyHooks=[])).push(t,B)}}function ka(n,e,t){cd(n,e,3,t)}function Nl(n,e,t,i){(3&n[2])===t&&cd(n,e,t,i)}function hd(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function cd(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let l=0;for(let C=void 0!==i?65535&n[18]:0;C<o;C++)if("number"==typeof e[C+1]){if(l=e[C],null!=i&&l>=i)break}else e[C]<0&&(n[18]+=65536),(l<s||-1==s)&&(Wg(n,t,e,C),n[18]=(4294901760&n[18])+C+2),C++}function Wg(n,e,t,i){const r=t[i]<0,s=t[i+1],l=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class uo{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Fl(n,e,t){const i=qt(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],l=t[r++],C=t[r++];i?n.setAttribute(e,l,C,o):e.setAttributeNS(o,l,C)}else{const o=s,l=t[++r];pd(o)?i&&n.setProperty(e,o,l):i?n.setAttribute(e,o,l):e.setAttribute(o,l),r++}}return r}function Ec(n){return 3===n||4===n||6===n}function pd(n){return 64===n.charCodeAt(0)}function Ll(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Dc(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Dc(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===e){o=-1;break}if(l>e){o=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Is(n){return-1!==n}function Ho(n){return 32767&n}function zo(n,e){let t=function(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let gd=!0;function Bl(n){const e=gd;return gd=n,e}let As=0;function Oa(n,e){const t=vd(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,md(i.data,n),md(e,null),md(i.blueprint,null));const r=Vl(n,e),s=n.injectorIndex;if(Is(r)){const o=Ho(r),l=zo(r,e),C=l[1].data;for(let N=0;N<8;N++)e[s+N]=l[o+N]|C[o+N]}return e[s+8]=r,s}function md(n,e){n.push(0,0,0,0,0,0,0,0,e)}function vd(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Vl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Hl(n,e,t){!function(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(_a)&&(i=t[_a]),null==i&&(i=t[_a]=As++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function ho(n,e,t){if(t&et.Optional)return n;ws(e,"NodeInjector")}function Ia(n,e,t,i){if(t&et.Optional&&void 0===i&&(i=null),0==(t&(et.Self|et.Host))){const r=n[9],s=pi(void 0);try{return r?r.get(e,i,t&et.Optional):yl(e,i,t&et.Optional)}finally{pi(s)}}return ho(i,e,t)}function Vt(n,e,t,i=et.Default,r){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(_a)?n[_a]:void 0;return"number"==typeof e?e>=0?255&e:H:e}(t);if("function"==typeof s){if(!yc(e,n,i))return i&et.Host?ho(r,t,i):Ia(e,t,i,r);try{const o=s(i);if(null!=o||i&et.Optional)return o;ws(t)}finally{wc()}}else if("number"==typeof s){let o=null,l=vd(n,e),C=-1,N=i&et.Host?e[16][6]:null;for((-1===l||i&et.SkipSelf)&&(C=-1===l?Vl(n,e):e[l+8],-1!==C&&Ct(i,!1)?(o=e[1],l=Ho(C),e=zo(C,e)):l=-1);-1!==l;){const B=e[1];if(Se(s,l,B.data)){const Y=X(l,e,t,o,i,N);if(Y!==R)return Y}C=e[l+8],-1!==C&&Ct(i,e[1].data[l+8]===N)&&Se(s,l,e)?(o=B,l=Ho(C),e=zo(C,e)):l=-1}}}return Ia(e,t,i,r)}const R={};function H(){return new At(Zn(),Me())}function X(n,e,t,i,r,s){const o=e[1],l=o.data[n+8],B=ee(l,o,t,null==i?_l(l)&&gd:i!=o&&0!=(3&l.type),r&et.Host&&s===l);return null!==B?se(e,o,B,l):R}function ee(n,e,t,i,r){const s=n.providerIndexes,o=e.data,l=1048575&s,C=n.directiveStart,B=s>>20,Q=r?l+B:n.directiveEnd;for(let K=i?l:l+B;K<Q;K++){const q=o[K];if(K<C&&t===q||K>=C&&q.type===t)return K}if(r){const K=o[C];if(K&&mr(K)&&K.type===t)return C}return null}function se(n,e,t,i){let r=n[t];const s=e.data;if(function(n){return n instanceof uo}(r)){const o=r;o.resolving&&function(n,e){throw new Yi("200",`Circular dependency in DI detected for ${n}`)}(on(s[t]));const l=Bl(o.canSeeViewProviders);o.resolving=!0;const C=o.injectImpl?pi(o.injectImpl):null;yc(n,i,et.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=Sl(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==C&&pi(C),Bl(l),o.resolving=!1,wc()}}return r}function Se(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Ct(n,e){return!(n&et.Self||n&et.Host&&e)}class At{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Vt(this._tNode,this._lView,e,void 0,t)}}function Gt(n){return Xi(()=>{const e=n.prototype.constructor,t=e[Xr]||Ti(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Xr]||Ti(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ti(n){return pl(n)?()=>{const e=Ti(Qe(n));return e&&e()}:lo(n)}function ts(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(Ec(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Zn(),n)}const Uo="__parameters__";function Ra(n,e,t){return Xi(()=>{const i=function(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(C,N,B){const Y=C.hasOwnProperty(Uo)?C[Uo]:Object.defineProperty(C,Uo,{value:[]})[Uo];for(;Y.length<=B;)Y.push(null);return(Y[B]=Y[B]||[]).push(o),C}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Pt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=qe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qM=new Pt("AnalyzeForEntryComponents"),xc=Function;function Ar(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Ar(i,e)):e!==n&&e.push(i)}return e}function Ps(n,e){n.forEach(t=>Array.isArray(t)?Ps(t,e):e(t))}function kc(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Na(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jo(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function vr(n,e,t){let i=zl(n,e);return i>=0?n[1|i]=t:(i=~i,function(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Xg(n,e){const t=zl(n,e);if(t>=0)return n[1|t]}function zl(n,e){return function(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const wd={},Jg="__NG_DI_FLAG__",Ul="ngTempTokenPath",uk=/\n/gm,qg="__source",em=Mt({provide:String,useValue:Mt});let _d;function jl(n){const e=_d;return _d=n,e}function hk(n,e=et.Default){if(void 0===_d)throw new Error("inject() must be called from an injection context");return null===_d?yl(n,void 0,e):_d.get(n,e&et.Optional?null:void 0,e)}function Le(n,e=et.Default){return(so||hk)(Qe(n),e)}function Fa(n){const e=[];for(let t=0;t<n.length;t++){const i=Qe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=et.Default;for(let o=0;o<i.length;o++){const l=i[o],C=ck(l);"number"==typeof C?-1===C?r=l.token:s|=C:r=l}e.push(Le(r,s))}else e.push(Le(i))}return e}function Ed(n,e){return n[Jg]=e,n.prototype[Jg]=e,n}function ck(n){return n[Jg]}function q0(n,e,t,i){const r=n[Ul];throw e[qg]&&r.unshift(e[qg]),n.message=function(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=ft(e);if(Array.isArray(e))r=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let l=e[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):ft(l)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(uk,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Ul]=null,n}const Wl=Ed(Ra("Inject",n=>({token:n})),-1),tr=Ed(Ra("Optional"),8),Wo=Ed(Ra("SkipSelf"),4);let Pc,Rc;function Gl(n){var e;return(null===(e=function(){if(void 0===Pc&&(Pc=null,Pe.trustedTypes))try{Pc=Pe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Pc}())||void 0===e?void 0:e.createHTML(n))||n}function rC(n){var e;return(null===(e=function(){if(void 0===Rc&&(Rc=null,Pe.trustedTypes))try{Rc=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Rc}())||void 0===e?void 0:e.createHTML(n))||n}class La{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ek extends La{getTypeName(){return"HTML"}}class Dk extends La{getTypeName(){return"Style"}}class Sk extends La{getTypeName(){return"Script"}}class Tk extends La{getTypeName(){return"URL"}}class xk extends La{getTypeName(){return"ResourceURL"}}function yr(n){return n instanceof La?n.changingThisBreaksApplicationSecurity:n}function Rs(n,e){const t=aC(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function aC(n){return n instanceof La&&n.getTypeName()||null}class Pk{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Gl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Rk{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Gl(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=Gl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Fk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sd(n){return(n=String(n)).match(Fk)||n.match(Lk)?n:"unsafe:"+n}function uC(n){return(n=String(n)).split(",").map(e=>Sd(e.trim())).join(", ")}function Ns(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Td(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const dC=Ns("area,br,col,hr,img,wbr"),hC=Ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cC=Ns("rp,rt"),rm=Td(dC,Td(hC,Ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Td(cC,Ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Td(cC,hC)),sm=Ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),om=Ns("srcset"),fC=Td(sm,om,Ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bk=Ns("script,style,template");class Vk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!rm.hasOwnProperty(t))return this.sanitizedSomething=!0,!Bk.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,l=o.toLowerCase();if(!fC.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let C=s.value;sm[l]&&(C=Sd(C)),om[l]&&(C=uC(C)),this.buf.push(" ",o,'="',pC(C),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();rm.hasOwnProperty(t)&&!dC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(pC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Hk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zk=/([^\#-~ |!])/g;function pC(n){return n.replace(/&/g,"&amp;").replace(Hk,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(zk,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nc;function gC(n,e){let t=null;try{Nc=Nc||function(n){const e=new Rk(n);return function(){try{return!!(new window.DOMParser).parseFromString(Gl(""),"text/html")}catch(n){return!1}}()?new Pk(e):e}(n);let i=e?String(e):"";t=Nc.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Nc.getInertBodyElement(i)}while(i!==s);return Gl((new Vk).sanitizeChildren(am(t)||t))}finally{if(t){const i=am(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function am(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var dn=(()=>((dn=dn||{})[dn.NONE=0]="NONE",dn[dn.HTML=1]="HTML",dn[dn.STYLE=2]="STYLE",dn[dn.SCRIPT=3]="SCRIPT",dn[dn.URL=4]="URL",dn[dn.RESOURCE_URL=5]="RESOURCE_URL",dn))();function lm(n){const e=xd();return e?rC(e.sanitize(dn.HTML,n)||""):Rs(n,"HTML")?rC(yr(n)):gC(nd(),dt(n))}function Fc(n){const e=xd();return e?e.sanitize(dn.URL,n)||"":Rs(n,"URL")?yr(n):Sd(dt(n))}function xd(){const n=Me();return n&&n[12]}const yC="__ngContext__";function xi(n,e){n[yC]=e}function dm(n){const e=function(n){return n[yC]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Lc(n){return n.ngOriginalError}function rO(n,...e){n.error(...e)}class Ba{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),r=function(n){return n&&n.ngErrorLogger||rO}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(Lc(e)):null}_findOriginalError(e){let t=e&&Lc(e);for(;t&&Lc(t);)t=Lc(t);return t||null}}const xC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pe))();function Fs(n){return n instanceof Function?n():n}var br=(()=>((br=br||{})[br.Important=1]="Important",br[br.DashCase=2]="DashCase",br))();function fm(n,e){return undefined(n,e)}function kd(n){const e=n[3];return gr(e)?e[3]:e}function pm(n){return AC(n[13])}function gm(n){return AC(n[4])}function AC(n){for(;null!==n&&!gr(n);)n=n[4];return n}function Kl(n,e,t,i,r){if(null!=i){let s,o=!1;gr(i)?s=i:xr(i)&&(o=!0,i=i[0]);const l=Rn(i);0===n&&null!==t?null==r?BC(e,t,l):Va(e,t,l,r||null,!0):1===n&&null!==t?Va(e,t,l,r||null,!0):2===n?function(n,e,t){const i=Vc(n,e);i&&function(n,e,t,i){qt(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,l,o):3===n&&e.destroyNode(l),null!=s&&function(n,e,t,i,r){const s=t[7];s!==Rn(t)&&Kl(e,n,i,s,r);for(let l=10;l<t.length;l++){const C=t[l];Od(C[1],C,n,e,i,s)}}(e,n,s,t,r)}}function vm(n,e,t){return qt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function RC(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,sd(r,-1)),t.splice(i,1)}function ym(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&RC(r,i),e>0&&(n[t-1][4]=i[4]);const s=Na(n,10+e);!function(n,e){Od(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function NC(n,e){if(!(256&e[2])){const t=e[11];qt(t)&&t.destroyNode&&Od(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return bm(n[1],n);for(;e;){let t=null;if(xr(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)xr(e)&&bm(e[1],e),e=e[3];null===e&&(e=n),xr(e)&&bm(e[1],e),t=e&&e[4]}e=t}}(e)}}function bm(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof uo)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],C=s[o+1];try{C.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],l="function"==typeof o?o(e):Rn(e[o]),C=i[r=t[s+2]],N=t[s+3];"boolean"==typeof N?l.removeEventListener(t[s],C,N):N>=0?i[r=N]():i[r=-N].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&qt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&gr(e[3])){t!==e[3]&&RC(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function FC(n,e,t){return function(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===te.None||r===te.Emulated)return null}return qi(i,t)}(n,e.parent,t)}function Va(n,e,t,i,r){qt(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function BC(n,e,t){qt(n)?n.appendChild(e,t):e.appendChild(t)}function VC(n,e,t,i,r){null!==i?Va(n,e,t,i,r):BC(n,e,t)}function Vc(n,e){return qt(n)?n.parentNode(e):e.parentNode}function HC(n,e,t){return UC(n,e,t)}let UC=function(n,e,t){return 40&n.type?qi(n,t):null};function Hc(n,e,t,i){const r=FC(n,i,e),s=e[11],l=HC(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let C=0;C<t.length;C++)VC(s,r,t[C],l,!1);else VC(s,r,t,l,!1)}function zc(n,e){if(null!==e){const t=e.type;if(3&t)return qi(e,n);if(4&t)return wm(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return zc(n,i);{const r=n[e.index];return gr(r)?wm(-1,r):Rn(r)}}if(32&t)return fm(e,n)()||Rn(n[e.index]);{const i=WC(n,e);return null!==i?Array.isArray(i)?i[0]:zc(kd(n[16]),i):zc(n,e.next)}}return null}function WC(n,e){return null!==e?n[16][6].projection[e.projection]:null}function wm(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return zc(i,r)}return e[7]}function _m(n,e,t,i,r,s,o){for(;null!=t;){const l=i[t.index],C=t.type;if(o&&0===e&&(l&&xi(Rn(l),i),t.flags|=4),64!=(64&t.flags))if(8&C)_m(n,e,t.child,i,r,s,!1),Kl(e,n,r,l,s);else if(32&C){const N=fm(t,i);let B;for(;B=N();)Kl(e,n,r,B,s);Kl(e,n,r,l,s)}else 16&C?GC(n,e,i,t,r,s):Kl(e,n,r,l,s);t=o?t.projectionNext:t.next}}function Od(n,e,t,i,r,s){_m(t,i,n.firstChild,e,r,s,!1)}function GC(n,e,t,i,r,s){const o=t[16],C=o[6].projection[i.projection];if(Array.isArray(C))for(let N=0;N<C.length;N++)Kl(e,n,r,C[N],s);else _m(n,e,C,o[3],r,s,!0)}function YC(n,e,t){qt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Em(n,e,t){qt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function KC(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const QC="ng-template";function OO(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==KC(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function XC(n){return 4===n.type&&n.value!==QC}function IO(n,e,t){return e===(4!==n.type||t?n.value:QC)}function AO(n,e,t){let i=4;const r=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(Ec(n[e]))return e;return n.length}(r);let o=!1;for(let l=0;l<e.length;l++){const C=e[l];if("number"!=typeof C){if(!o)if(4&i){if(i=2|1&i,""!==C&&!IO(n,C,t)||""===C&&1===e.length){if(ns(i))return!1;o=!0}}else{const N=8&i?C:e[++l];if(8&i&&null!==n.attrs){if(!OO(n.attrs,N,t)){if(ns(i))return!1;o=!0}continue}const Y=PO(8&i?"class":C,r,XC(n),t);if(-1===Y){if(ns(i))return!1;o=!0;continue}if(""!==N){let Q;Q=Y>s?"":r[Y+1].toLowerCase();const K=8&i?Q:null;if(K&&-1!==KC(K,N,0)||2&i&&N!==Q){if(ns(i))return!1;o=!0}}}}else{if(!o&&!ns(i)&&!ns(C))return!1;if(o&&ns(C))continue;o=!1,i=C|1&i}}return ns(i)||o}function ns(n){return 0==(1&n)}function PO(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=e[++r];for(;"string"==typeof l;)l=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function ZC(n,e,t=!1){for(let i=0;i<e.length;i++)if(AO(n,e[i],t))return!0;return!1}function LO(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function JC(n,e){return n?":not("+e.trim()+")":e}function BO(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const l=n[++t];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!ns(o)&&(e+=JC(s,r),r=""),i=o,s=s||!ns(i);t++}return""!==r&&(e+=JC(s,r)),e}const yt={};function be(n){qC(Lt(),Me(),ti()+n,kl())}function qC(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&ka(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Nl(e,s,0,t)}Jr(t)}function Uc(n,e){return n<<17|e<<2}function is(n){return n>>17&32767}function Dm(n){return 2|n}function fo(n){return(131068&n)>>2}function Sm(n,e){return-131069&n|e<<2}function Tm(n){return 1|n}function uw(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];dd(r),o.contentQueries(2,e[s],s)}}}function Id(n,e,t,i,r,s,o,l,C,N){const B=e.blueprint.slice();return B[0]=r,B[2]=140|i,Ml(B),B[3]=B[15]=n,B[8]=t,B[10]=o||n&&n[10],B[11]=l||n&&n[11],B[12]=C||n&&n[12]||null,B[9]=N||n&&n[9]||null,B[6]=s,B[16]=2==e.type?n[16]:B,B}function Ql(n,e,t,i,r){let s=n.data[e];if(null===s)s=function(n,e,t,i,r){const s=gc(),o=od(),C=n.data[e]=function(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=C),null!==s&&(o?null==s.child&&null!==C.parent&&(s.child=C):null===s.next&&(s.next=C)),C}(n,e,t,i,r),ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function(){const n=ht.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return kr(s,!0),s}function Xl(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ad(n,e,t){Al(e);try{const i=n.viewQuery;null!==i&&Um(1,i,t);const r=n.template;null!==r&&dw(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uw(n,e),n.staticViewQueries&&Um(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)vI(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Pl()}}function Zl(n,e,t,i){const r=e[2];if(256==(256&r))return;Al(e);const s=kl();try{Ml(e),function(n){ht.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&dw(n,e,t,2,i);const o=3==(3&r);if(!s)if(o){const N=n.preOrderCheckHooks;null!==N&&ka(e,N,null)}else{const N=n.preOrderHooks;null!==N&&Nl(e,N,0,null),hd(e,0)}if(function(n){for(let e=pm(n);null!==e;e=gm(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&sd(s,1),r[2]|=1024}}}(e),function(n){for(let e=pm(n);null!==e;e=gm(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];rd(i)&&Zl(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&uw(n,e),!s)if(o){const N=n.contentCheckHooks;null!==N&&ka(e,N)}else{const N=n.contentHooks;null!==N&&Nl(e,N,1),hd(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Jr(~r);else{const s=r,o=t[++i],l=t[++i];Lg(o,s),l(2,e[s])}}}finally{Jr(-1)}}(n,e);const l=n.components;null!==l&&function(n,e){for(let t=0;t<e.length;t++)mI(n,e[t])}(e,l);const C=n.viewQuery;if(null!==C&&Um(2,C,i),!s)if(o){const N=n.viewCheckHooks;null!==N&&ka(e,N)}else{const N=n.viewHooks;null!==N&&Nl(e,N,2),hd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,sd(e[3],-1))}finally{Pl()}}function ZO(n,e,t,i){const r=e[10],s=!kl(),o=cc(e);try{s&&!o&&r.begin&&r.begin(),o&&Ad(n,e,i),Zl(n,e,t,i)}finally{s&&!o&&r.end&&r.end()}}function dw(n,e,t,i,r){const s=ti(),o=2&i;try{Jr(-1),o&&e.length>20&&qC(n,e,20,kl()),t(i,r)}finally{Jr(s)}}function hw(n,e,t){if(qu(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Rm(n,e,t){!fc()||(function(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Oa(t,e),xi(i,e);const o=t.initialInputs;for(let l=r;l<s;l++){const C=n.data[l],N=mr(C);N&&hI(e,t,C);const B=se(e,n,l,t);xi(B,e),null!==o&&cI(0,l-r,B,C,0,o),N&&(Li(t.index,e)[8]=B)}}(n,e,t,qi(t,e)),128==(128&t.flags)&&function(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,l=ht.lFrame.currentDirectiveIndex;try{Jr(o);for(let C=i;C<r;C++){const N=n.data[C],B=e[C];Il(C),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&bw(N,B)}}finally{Jr(-1),Il(l)}}(n,e,t))}function Nm(n,e,t=qi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],l=-1===o?t(e,n):n[o];n[r++]=l}}}function cw(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=$c(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function $c(n,e,t,i,r,s,o,l,C,N){const B=20+i,Y=B+r,Q=function(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:yt);return t}(B,Y),K="function"==typeof N?N():N;return Q[1]={type:n,blueprint:Q,template:t,queries:null,viewQuery:l,declTNode:e,data:Q.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:C,consts:K,incompleteFirstPass:!1}}function gw(n,e,t,i){const r=Sw(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&Tw(n).push(i,r.length-1))}function mw(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function Cr(n,e,t,i,r,s,o,l){const C=qi(e,t);let B,N=e.inputs;!l&&null!=N&&(B=N[i])?(kw(n,t,B,i,r),_l(e)&&function(n,e){const t=Li(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,qt(s)?s.setProperty(C,i,r):pd(i)||(C.setProperty?C.setProperty(i,r):C[i]=r))}function Fm(n,e,t,i){let r=!1;if(fc()){const s=function(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];ZC(t,o.selectors,!1)&&(r||(r=[]),Hl(Oa(t,e),n,o.type),mr(o)?(Cw(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,ww(t,n.data.length,s.length);for(let B=0;B<s.length;B++){const Y=s[B];Y.providersResolver&&Y.providersResolver(Y)}let l=!1,C=!1,N=Xl(n,e,s.length,null);for(let B=0;B<s.length;B++){const Y=s[B];t.mergedAttrs=Ll(t.mergedAttrs,Y.hostAttrs),_w(n,t,e,N,Y),dI(N,Y,o),null!==Y.contentQueries&&(t.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(t.flags|=128);const Q=Y.type.prototype;!l&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),l=!0),!C&&(Q.ngOnChanges||Q.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),C=!0),N++}!function(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let l=null,C=null;for(let N=e.directiveStart;N<i;N++){const B=r[N],Y=B.inputs,Q=null===s||XC(e)?null:fI(Y,s);o.push(Q),l=mw(Y,N,l),C=mw(B.outputs,N,C)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=l,e.outputs=C}(n,t)}o&&function(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Yi("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=Ll(t.mergedAttrs,t.attrs),r}function yw(n,e,t,i,r,s){const o=s.hostBindings;if(o){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const C=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(l)!=C&&l.push(C),l.push(i,r,o)}}function bw(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Cw(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function dI(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;mr(e)&&(t[""]=n)}}function ww(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _w(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=lo(r.type)),o=new uo(s,mr(r),null);n.blueprint[i]=o,t[i]=o,yw(n,e,0,i,Xl(n,t,r.hostVars,yt),r)}function hI(n,e,t){const i=qi(e,n),r=cw(t),s=n[10],o=Gc(n,Id(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function Ls(n,e,t,i,r,s){const o=qi(n,e);!function(n,e,t,i,r,s,o){if(null==s)qt(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const l=null==o?dt(s):o(s,i||"",r);qt(n)?n.setAttribute(e,r,l,t):t?e.setAttributeNS(t,r,l):e.setAttribute(r,l)}}(e[11],o,s,n.value,t,i,r)}function cI(n,e,t,i,r,s){const o=s[e];if(null!==o){const l=i.setInput;for(let C=0;C<o.length;){const N=o[C++],B=o[C++],Y=o[C++];null!==l?i.setInput(t,Y,N,B):t[B]=Y}}}function fI(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function Ew(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function mI(n,e){const t=Li(e,n);if(rd(t)){const i=t[1];80&t[2]?Zl(i,t,i.template,t[8]):t[5]>0&&Bm(t)}}function Bm(n){for(let i=pm(n);null!==i;i=gm(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Zl(o,s,o.template,s[8])}else s[5]>0&&Bm(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Li(t[i],n);rd(r)&&r[5]>0&&Bm(r)}}function vI(n,e){const t=Li(e,n),i=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Ad(i,t,t[8])}function Gc(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Vm(n){for(;n;){n[2]|=64;const e=kd(n);if(ed(n)&&!e)return n;n=e}return null}function zm(n,e,t){const i=e[10];i.begin&&i.begin();try{Zl(n,e,n.template,t)}catch(r){throw Mw(e,r),r}finally{i.end&&i.end()}}function Dw(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=dm(t),r=i[1];ZO(r,i,r.template,t)}}(n[8])}function Um(n,e,t){dd(0),e(n,t)}const _I=(()=>Promise.resolve(null))();function Sw(n){return n[7]||(n[7]=[])}function Tw(n){return n.cleanup||(n.cleanup=[])}function Mw(n,e){const t=n[9],i=t?t.get(Ba,null):null;i&&i.handleError(e)}function kw(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],C=e[o],N=n.data[o];null!==N.setInput?N.setInput(C,r,i,l):C[l]=r}}function go(n,e,t){const i=xl(e,n);!function(n,e,t){qt(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function Yc(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?s=l:1==s?r=Io(r,l):2==s&&(i=Io(i,l+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const Jl=new Pt("INJECTOR",-1);class Ow{get(e,t=wd){if(t===wd){const i=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw i.name="NullInjectorError",i}return t}}const Pd=new Pt("Set Injector scope."),Rd={},SI={};let jm;function Iw(){return void 0===jm&&(jm=new Ow),jm}function Aw(n,e=null,t=null,i){return new xI(n,t,e||Iw(),i)}class xI{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ps(t,l=>this.processProvider(l,e,t)),Ps([e],l=>this.processInjectorType(l,[],s)),this.records.set(Jl,ql(void 0,this));const o=this.records.get(Pd);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:ft(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=wd,i=et.Default){this.assertNotDestroyed();const r=jl(this),s=pi(void 0);try{if(!(i&et.SkipSelf)){let l=this.records.get(e);if(void 0===l){const C=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Pt}(e)&&In(e);l=C&&this.injectableDefInScope(C)?ql(Wm(e),Rd):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&et.Self?Iw():this.parent).get(e,t=i&et.Optional&&t===wd?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ul]=o[Ul]||[]).unshift(ft(e)),r)throw o;return q0(o,e,"R3InjectorError",this.source)}throw o}finally{pi(s),jl(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(ft(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=Qe(e)))return!1;let r=io(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,l=-1!==i.indexOf(o);if(void 0!==s&&(r=io(s)),null==r)return!1;if(null!=r.imports&&!l){let B;i.push(o);try{Ps(r.imports,Y=>{this.processInjectorType(Y,t,i)&&(void 0===B&&(B=[]),B.push(Y))})}finally{}if(void 0!==B)for(let Y=0;Y<B.length;Y++){const{ngModule:Q,providers:K}=B[Y];Ps(K,q=>this.processProvider(q,Q,K||pt))}}this.injectorDefTypes.add(o);const C=lo(o)||(()=>new o);this.records.set(o,ql(C,Rd));const N=r.providers;if(null!=N&&!l){const B=e;Ps(N,Y=>this.processProvider(Y,B,N))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=eu(e=Qe(e))?e:Qe(e&&e.provide);const s=function(n,e,t){return Rw(n)?ql(void 0,n.useValue):ql(Pw(n),Rd)}(e);if(eu(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=ql(void 0,Rd,!0),o.factory=()=>Fa(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===Rd&&(t.value=SI,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Qe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Wm(n){const e=In(n),t=null!==e?e.factory:lo(n);if(null!==t)return t;if(n instanceof Pt)throw new Error(`Token ${ft(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const i=jo(e,"?");throw new Error(`Can't resolve all parameters for ${ft(n)}: (${i.join(", ")}).`)}const t=function(n){const e=n&&(n[fi]||n[ro]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Pw(n,e,t){let i;if(eu(n)){const r=Qe(n);return lo(r)||Wm(r)}if(Rw(n))i=()=>Qe(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Fa(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>Le(Qe(n.useExisting));else{const r=Qe(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return lo(r)||Wm(r);i=()=>new r(...Fa(n.deps))}return i}function ql(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Rw(n){return null!==n&&"object"==typeof n&&em in n}function eu(n){return"function"==typeof n}const Nw=function(n,e,t){return function(n,e=null,t=null,i){const r=Aw(n,e,t,i);return r._resolveInjectorDefTypes(),r}({name:t},e,n,t)};let en=(()=>{class n{static create(t,i){return Array.isArray(t)?Nw(t,i,""):Nw(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=wd,n.NULL=new Ow,n.\u0275prov=qe({token:n,providedIn:"any",factory:()=>Le(Jl)}),n.__NG_ELEMENT_ID__=-1,n})();function KI(n,e){Rl(dm(n)[1],Zn())}function _n(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(mr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=Xm(n.inputs),o.declaredInputs=Xm(n.declaredInputs),o.outputs=Xm(n.outputs);const l=r.hostBindings;l&&JI(n,l);const C=r.viewQuery,N=r.contentQueries;if(C&&XI(n,C),N&&ZI(n,N),Js(n.inputs,r.inputs),Js(n.declaredInputs,r.declaredInputs),Js(n.outputs,r.outputs),mr(r)&&r.data.animation){const B=n.data;B.animation=(B.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(n),l===_n&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ll(r.hostAttrs,t=Ll(t,r.hostAttrs))}}(i)}function Xm(n){return n===vn?{}:n===pt?[]:n}function XI(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function ZI(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function JI(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Kc=null;function tu(){if(!Kc){const n=Pe.Symbol;if(n&&n.iterator)Kc=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Kc=i)}}}return Kc}function Fd(n){return!!Zm(n)&&(Array.isArray(n)||!(n instanceof Map)&&tu()in n)}function Zm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Bs(n,e,t){return n[e]=t}function Ld(n,e){return n[e]}function Mi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ha(n,e,t,i){const r=Mi(n,e,t);return Mi(n,e+1,i)||r}function Qc(n,e,t,i,r){const s=Ha(n,e,t,i);return Mi(n,e+2,r)||s}function nr(n,e,t,i){const r=Me();return Mi(r,Vo(),e)&&(Lt(),Ls(yn(),r,n,e,t,i)),nr}function iu(n,e,t,i){return Mi(n,Vo(),t)?e+dt(t)+i:yt}function Ge(n,e,t,i,r,s,o,l){const C=Me(),N=Lt(),B=n+20,Y=N.firstCreatePass?function(n,e,t,i,r,s,o,l,C){const N=e.consts,B=Ql(e,n,4,o||null,ks(N,l));Fm(e,t,B,ks(N,C)),Rl(e,B);const Y=B.tViews=$c(2,B,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,N);return null!==e.queries&&(e.queries.template(e,B),Y.queries=e.queries.embeddedTView(B)),B}(B,N,C,e,t,i,r,s,o):N.data[B];kr(Y,!1);const Q=C[11].createComment("");Hc(N,C,Q,Y),xi(Q,C),Gc(C,C[B]=Ew(Q,C,Q,Y)),xa(Y)&&Rm(N,C,Y),null!=o&&Nm(C,Y,l)}function Yo(n){return function(n,e){return n[e]}(ht.lFrame.contextLView,20+n)}function De(n,e=et.Default){const t=Me();return null===t?Le(n,e):Vt(Zn(),t,Qe(n),e)}function Ne(n,e,t){const i=Me();return Mi(i,Vo(),e)&&Cr(Lt(),yn(),i,n,e,i[11],t,!1),Ne}function nv(n,e,t,i,r){const o=r?"class":"style";kw(n,t,e.inputs[o],o,i)}function z(n,e,t,i){const r=Me(),s=Lt(),o=20+n,l=r[11],C=r[o]=vm(l,e,ht.lFrame.currentNamespace),N=s.firstCreatePass?function(n,e,t,i,r,s,o){const l=e.consts,N=Ql(e,n,2,r,ks(l,s));return Fm(e,t,N,ks(l,o)),null!==N.attrs&&Yc(N,N.attrs,!1),null!==N.mergedAttrs&&Yc(N,N.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,N),N}(o,s,r,0,e,t,i):s.data[o];kr(N,!0);const B=N.mergedAttrs;null!==B&&Fl(l,C,B);const Y=N.classes;null!==Y&&Em(l,C,Y);const Q=N.styles;null!==Q&&YC(l,C,Q),64!=(64&N.flags)&&Hc(s,r,C,N),0===ht.lFrame.elementDepthCount&&xi(C,r),ht.lFrame.elementDepthCount++,xa(N)&&(Rm(s,r,N),hw(s,N,r)),null!==i&&Nm(r,N)}function U(){let n=Zn();od()?ad():(n=n.parent,kr(n,!1));const e=n;ht.lFrame.elementDepthCount--;const t=Lt();t.firstCreatePass&&(Rl(t,n),qu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&nv(t,e,Me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&nv(t,e,Me(),e.stylesWithoutHost,!1)}function he(n,e,t,i){z(n,e,t,i),U()}function za(n,e,t){const i=Me(),r=Lt(),s=n+20,o=r.firstCreatePass?function(n,e,t,i,r){const s=e.consts,o=ks(s,i),l=Ql(e,n,8,"ng-container",o);return null!==o&&Yc(l,o,!0),Fm(e,t,l,ks(s,r)),null!==e.queries&&e.queries.elementStart(e,l),l}(s,r,i,e,t):r.data[s];kr(o,!0);const l=i[s]=i[11].createComment("");Hc(r,i,l,o),xi(l,i),xa(o)&&(Rm(r,i,o),hw(r,o,i)),null!=t&&Nm(i,o)}function Ua(){let n=Zn();const e=Lt();od()?ad():(n=n.parent,kr(n,!1)),e.firstCreatePass&&(Rl(e,n),qu(n)&&e.queries.elementEnd(n))}function os(){return Me()}function Bd(n){return!!n&&"function"==typeof n.then}const Zc=function(n){return!!n&&"function"==typeof n.subscribe};function gt(n,e,t,i){const r=Me(),s=Lt(),o=Zn();return function(n,e,t,i,r,s,o,l){const C=xa(i),B=n.firstCreatePass&&Tw(n),Y=e[8],Q=Sw(e);let K=!0;if(3&i.type||l){const ae=qi(i,e),ve=l?l(ae):ae,fe=Q.length,Oe=l?Te=>l(Rn(Te[i.index])):i.index;if(qt(t)){let Te=null;if(!l&&C&&(Te=function(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const l=e[7],C=r[s+2];return l.length>C?l[C]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=s,Te.__ngLastListenerFn__=s,K=!1;else{s=iv(i,e,Y,s,!1);const Ze=t.listen(ve,r,s);Q.push(s,Ze),B&&B.push(r,Oe,fe,fe+1)}}else s=iv(i,e,Y,s,!0),ve.addEventListener(r,s,o),Q.push(s),B&&B.push(r,Oe,fe,o)}else s=iv(i,e,Y,s,!1);const q=i.outputs;let re;if(K&&null!==q&&(re=q[r])){const ae=re.length;if(ae)for(let ve=0;ve<ae;ve+=2){const Et=e[re[ve]][re[ve+1]].subscribe(s),Ft=Q.length;Q.push(s,Et),B&&B.push(r,i.index,Ft,-(Ft+1))}}}(s,r,r[11],o,n,e,!!t,i),gt}function __(n,e,t,i){try{return!1!==t(i)}catch(r){return Mw(n,r),!1}}function iv(n,e,t,i,r){return function s(o){if(o===Function)return i;const l=2&n.flags?Li(n.index,e):e;0==(32&e[2])&&Vm(l);let C=__(e,0,i,o),N=s.__ngNextListenerFn__;for(;N;)C=__(e,0,N,o)&&C,N=N.__ngNextListenerFn__;return r&&!1===C&&(o.preventDefault(),o.returnValue=!1),C}}function Ke(n=1){return function(n){return(ht.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,ht.lFrame.contextLView))[8]}(n)}function PA(n,e){let t=null;const i=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?ZC(n,s,!0):LO(i,s))return r}else t=r}return t}function Vd(n){const e=Me()[16][6];if(!e.projection){const i=e.projection=jo(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?PA(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Hd(n,e=0,t){const i=Me(),r=Lt(),s=Ql(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),ad(),64!=(64&s.flags)&&function(n,e,t){GC(e[11],0,e,t,FC(n,t,e),HC(t.parent||e[6],t,e))}(r,i,s)}function cu(n,e,t,i,r){const s=Me(),o=iu(s,e,t,i);return o!==yt&&Cr(Lt(),yn(),s,n,o,s[11],r,!1),cu}function A_(n,e,t,i,r){const s=n[t+1],o=null===e;let l=i?is(s):fo(s),C=!1;for(;0!==l&&(!1===C||o);){const B=n[l+1];FA(n[l],e)&&(C=!0,n[l+1]=i?Tm(B):Dm(B)),l=i?is(B):fo(B)}C&&(n[t+1]=i?Dm(s):Tm(s))}function FA(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&zl(n,e)>=0}const li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P_(n){return n.substring(li.key,li.keyEnd)}function R_(n,e){const t=li.textEnd;return t===e?-1:(e=li.keyEnd=function(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,li.key=e,t),fu(n,e,t))}function fu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function pu(n,e,t){return as(n,e,t,!1),pu}function Jc(n,e){return as(n,e,null,!0),Jc}function vo(n){!function(n,e,t,i){const r=Lt(),s=Zr(2);r.firstUpdatePass&&H_(r,null,s,i);const o=Me();if(t!==yt&&Mi(o,s,t)){const l=r.data[ti()];if(W_(l,i)&&!V_(r,s)){let C=i?l.classesWithoutHost:l.stylesWithoutHost;null!==C&&(t=Io(C,t||"")),nv(r,l,o,t,i)}else!function(n,e,t,i,r,s,o,l){r===yt&&(r=pt);let C=0,N=0,B=0<r.length?r[0]:null,Y=0<s.length?s[0]:null;for(;null!==B||null!==Y;){const Q=C<r.length?r[C+1]:void 0,K=N<s.length?s[N+1]:void 0;let re,q=null;B===Y?(C+=2,N+=2,Q!==K&&(q=Y,re=K)):null===Y||null!==B&&B<Y?(C+=2,q=B):(N+=2,q=Y,re=K),null!==q&&U_(n,e,t,i,q,re,o,l),B=C<r.length?r[C]:null,Y=N<s.length?s[N]:null}}(r,l,o,o[11],o[s+1],o[s+1]=function(n,e,t){if(null==t||""===t)return pt;const i=[],r=yr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(vr,Hs,n,!0)}function Hs(n,e){for(let t=function(n){return function(n){li.key=0,li.keyEnd=0,li.value=0,li.valueEnd=0,li.textEnd=n.length}(n),R_(n,fu(n,0,li.textEnd))}(e);t>=0;t=R_(e,t))vr(n,P_(e),!0)}function as(n,e,t,i){const r=Me(),s=Lt(),o=Zr(2);s.firstUpdatePass&&H_(s,n,o,i),e!==yt&&Mi(r,o,e)&&U_(s,s.data[ti()],r,r[11],n,r[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ft(yr(n)))),n}(e,t),i,o)}function V_(n,e){return e>=n.expandoStartIndex}function H_(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[ti()],o=V_(n,t);W_(s,i)&&null===e&&!o&&(e=!1),e=function(n,e,t,i){const r=ud(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=zd(t=rv(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=rv(r,n,e,t,i),null===s){let C=function(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==fo(i))return n[is(i)]}(n,e,i);void 0!==C&&Array.isArray(C)&&(C=rv(null,n,e,C[1],i),C=zd(C,e.attrs,i),function(n,e,t,i){n[is(t?e.classBindings:e.styleBindings)]=i}(n,e,i,C))}else s=function(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=zd(i,n[s].hostAttrs,t);return zd(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,l=is(o),C=fo(o);n[i]=t;let B,N=!1;if(Array.isArray(t)){const Y=t;B=Y[1],(null===B||zl(Y,B)>0)&&(N=!0)}else B=t;if(r)if(0!==C){const Q=is(n[l+1]);n[i+1]=Uc(Q,l),0!==Q&&(n[Q+1]=Sm(n[Q+1],i)),n[l+1]=function(n,e){return 131071&n|e<<17}(n[l+1],i)}else n[i+1]=Uc(l,0),0!==l&&(n[l+1]=Sm(n[l+1],i)),l=i;else n[i+1]=Uc(C,0),0===l?l=i:n[C+1]=Sm(n[C+1],i),C=i;N&&(n[i+1]=Dm(n[i+1])),A_(n,B,i,!0),A_(n,B,i,!1),function(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&zl(s,e)>=0&&(t[i+1]=Tm(t[i+1]))}(e,B,n,i,s),o=Uc(l,C),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function rv(n,e,t,i,r){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=e[l],i=zd(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(t.directiveStylingLast=l),i}function zd(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vr(n,o,!!t||e[++s]))}return void 0===n?null:n}function U_(n,e,t,i,r,s,o,l){if(!(3&e.type))return;const C=n.data,N=C[l+1];qc(function(n){return 1==(1&n)}(N)?j_(C,e,t,r,fo(N),o):void 0)||(qc(s)||function(n){return 2==(2&n)}(N)&&(s=j_(C,null,t,r,l,o)),function(n,e,t,i,r){const s=qt(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:br.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const l="string"==typeof r&&r.endsWith("!important");l&&(r=r.slice(0,-10),o|=br.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,l?"important":"")}}}(i,o,xl(ti(),t),r,s))}function j_(n,e,t,i,r,s){const o=null===e;let l;for(;r>0;){const C=n[r],N=Array.isArray(C),B=N?C[1]:C,Y=null===B;let Q=t[r+1];Q===yt&&(Q=Y?pt:void 0);let K=Y?Xg(Q,i):B===i?Q:void 0;if(N&&!qc(K)&&(K=Xg(C,i)),qc(K)&&(l=K,o))return l;const q=n[r+1];r=o?is(q):fo(q)}if(null!==e){let C=s?e.residualClasses:e.residualStyles;null!=C&&(l=Xg(C,i))}return l}function qc(n){return void 0!==n}function W_(n,e){return 0!=(n.flags&(e?16:32))}function W(n,e=""){const t=Me(),i=Lt(),r=n+20,s=i.firstCreatePass?Ql(i,r,1,e,null):i.data[r],o=t[r]=function(n,e){return qt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Hc(i,t,o,s),kr(s,!1)}function wt(n){return Hn("",n,""),wt}function Hn(n,e,t){const i=Me(),r=iu(i,n,e,t);return r!==yt&&go(i,ti(),r),Hn}function gu(n,e,t,i,r){const s=Me(),o=function(n,e,t,i,r,s){const l=Ha(n,Bi(),t,r);return Zr(2),l?e+dt(t)+i+dt(r)+s:yt}(s,n,e,t,i,r);return o!==yt&&go(s,ti(),o),gu}function sv(n,e,t,i,r,s,o){const l=Me(),C=function(n,e,t,i,r,s,o,l){const N=Qc(n,Bi(),t,r,o);return Zr(3),N?e+dt(t)+i+dt(r)+s+dt(o)+l:yt}(l,n,e,t,i,r,s,o);return C!==yt&&go(l,ti(),C),sv}function ov(n,e,t){const i=Me();return Mi(i,Vo(),e)&&Cr(Lt(),yn(),i,n,e,i[11],t,!0),ov}function av(n,e,t){const i=Me();if(Mi(i,Vo(),e)){const s=Lt(),o=yn();Cr(s,o,i,n,e,function(n,e,t){return(null===n||mr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(ud(s.data),o,i),t,!0)}return av}const ja=void 0;var mP=["en",[["a","p"],["AM","PM"],ja],[["AM","PM"],ja,ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ja,"{1} 'at' {0}",ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let mu={};function aE(n){return n in mu||(mu[n]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[n]),mu[n]}var We=(()=>((We=We||{})[We.LocaleId=0]="LocaleId",We[We.DayPeriodsFormat=1]="DayPeriodsFormat",We[We.DayPeriodsStandalone=2]="DayPeriodsStandalone",We[We.DaysFormat=3]="DaysFormat",We[We.DaysStandalone=4]="DaysStandalone",We[We.MonthsFormat=5]="MonthsFormat",We[We.MonthsStandalone=6]="MonthsStandalone",We[We.Eras=7]="Eras",We[We.FirstDayOfWeek=8]="FirstDayOfWeek",We[We.WeekendRange=9]="WeekendRange",We[We.DateFormat=10]="DateFormat",We[We.TimeFormat=11]="TimeFormat",We[We.DateTimeFormat=12]="DateTimeFormat",We[We.NumberSymbols=13]="NumberSymbols",We[We.NumberFormats=14]="NumberFormats",We[We.CurrencyCode=15]="CurrencyCode",We[We.CurrencySymbol=16]="CurrencySymbol",We[We.CurrencyName=17]="CurrencyName",We[We.Currencies=18]="Currencies",We[We.Directionality=19]="Directionality",We[We.PluralCase=20]="PluralCase",We[We.ExtraData=21]="ExtraData",We))();const ef="en-US";let lE=ef;function lv(n){Vn(n,"Expected localeId to be defined"),"string"==typeof n&&(lE=n.toLowerCase().replace(/_/g,"-"))}function hv(n,e,t,i,r){if(n=Qe(n),Array.isArray(n))for(let s=0;s<n.length;s++)hv(n[s],e,t,i,r);else{const s=Lt(),o=Me();let l=eu(n)?n:Qe(n.provide),C=Pw(n);const N=Zn(),B=1048575&N.providerIndexes,Y=N.directiveStart,Q=N.providerIndexes>>20;if(eu(n)||!n.multi){const K=new uo(C,r,De),q=fv(l,e,r?B:B+Q,Y);-1===q?(Hl(Oa(N,o),s,l),cv(s,n,e.length),e.push(l),N.directiveStart++,N.directiveEnd++,r&&(N.providerIndexes+=1048576),t.push(K),o.push(K)):(t[q]=K,o[q]=K)}else{const K=fv(l,e,B+Q,Y),q=fv(l,e,B,B+Q),re=K>=0&&t[K],ae=q>=0&&t[q];if(r&&!ae||!r&&!re){Hl(Oa(N,o),s,l);const ve=function(n,e,t,i,r){const s=new uo(n,t,De);return s.multi=[],s.index=e,s.componentProviders=0,AE(s,r,i&&!t),s}(r?fR:cR,t.length,r,i,C);!r&&ae&&(t[q].providerFactory=ve),cv(s,n,e.length,0),e.push(l),N.directiveStart++,N.directiveEnd++,r&&(N.providerIndexes+=1048576),t.push(ve),o.push(ve)}else cv(s,n,K>-1?K:q,AE(t[r?q:K],C,!r&&i));!r&&i&&ae&&t[q].componentProviders++}}}function cv(n,e,t,i){const r=eu(e);if(r||function(n){return!!n.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const C=l.indexOf(t);-1===C?l.push(t,[i,o]):l[C+1].push(i,o)}else l.push(t,o)}}}function AE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fv(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function cR(n,e,t,i){return pv(this.multi,[])}function fR(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=se(t,t[1],this.providerFactory.index,i);s=l.slice(0,o),pv(r,s);for(let C=o;C<l.length;C++)s.push(l[C])}else s=[],pv(r,s);return s}function pv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Tn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function(n,e,t){const i=Lt();if(i.firstCreatePass){const r=mr(n);hv(t,i.data,i.blueprint,r,!0),hv(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class PE{}const NE="ngComponent";class mR{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${ft(n)}. Did you add it to @NgModule.entryComponents?`);return e[NE]=n,e}(e)}}let Ko=(()=>{class n{}return n.NULL=new mR,n})();function of(...n){}function yu(n,e){return new ui(qi(n,e))}const bR=function(){return yu(Zn(),Me())};let ui=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=bR,n})();function FE(n){return n instanceof ui?n.nativeElement:n}class Wa{}let zs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>wR(),n})();const wR=function(){const n=Me(),t=Li(Zn().index,n);return function(n){return n[11]}(xr(t)?t:n)};let mv=(()=>{class n{}return n.\u0275prov=qe({token:n,providedIn:"root",factory:()=>null}),n})();class Gd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const LE=new Gd("12.2.9");class BE{constructor(){}supports(e){return Fd(e)}create(e){return new SR(e)}}const DR=(n,e)=>e;class SR{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||DR}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<HE(i,r,s)?t:i,l=HE(o,r,s),C=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const N=l-r,B=C-r;if(N!=B){for(let Q=0;Q<N;Q++){const K=Q<s.length?s[Q]:s[Q]=0,q=K+Q;B<=q&&q<N&&(s[Q]=K+1)}s[o.previousIndex]=B-N}}l!==C&&e(o,l,C)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Fd(e))throw new Error(`Error trying to diff '${ft(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)s=e[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),i=!0),t=t._next}else r=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[tu()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,l=>{o=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,l,o,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new TR(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new VE),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class TR{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xR{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class VE{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new xR,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HE(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class zE{constructor(){}supports(e){return e instanceof Map||Zm(e)}create(){return new MR}}class MR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Zm(e)))throw new Error(`Error trying to diff '${ft(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new kR(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class kR{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UE(){return new Yd([new BE])}let Yd=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||UE()),deps:[[n,new Wo,new tr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=qe({token:n,providedIn:"root",factory:UE}),n})();function jE(){return new bu([new zE])}let bu=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||jE()),deps:[[n,new Wo,new tr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=qe({token:n,providedIn:"root",factory:jE}),n})();function af(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Rn(s)),gr(s))for(let l=10;l<s.length;l++){const C=s[l],N=C[1].firstChild;null!==N&&af(C[1],C,N,i)}const o=t.type;if(8&o)af(n,e,t.child,i);else if(32&o){const l=fm(t,e);let C;for(;C=l();)i.push(C)}else if(16&o){const l=WC(e,t);if(Array.isArray(l))i.push(...l);else{const C=kd(e[16]);af(C[1],C,l,i,!0)}}t=r?t.projectionNext:t.next}return i}class Kd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return af(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(ym(e,i),Na(t,i))}this._attachedToViewContainer=!1}NC(this._lView[1],this._lView)}onDestroy(e){gw(this._lView[1],this._lView,null,e)}markForCheck(){Vm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Ol(!0);try{zm(n,e,t)}finally{Ol(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){Od(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class IR extends Kd{constructor(e){super(e),this._view=e}detectChanges(){Dw(this._view)}checkNoChanges(){!function(n){Ol(!0);try{Dw(n)}finally{Ol(!1)}}(this._view)}get context(){return null}}const PR=function(n){return function(n,e,t){if(_l(n)&&!t){const i=Li(n.index,e);return new Kd(i,i)}return 47&n.type?new Kd(e[16],e):null}(Zn(),Me(),16==(16&n))};let vv=(()=>{class n{}return n.__NG_ELEMENT_ID__=PR,n})();const FR=[new zE],BR=new Yd([new BE]),VR=new bu(FR),zR=function(){return lf(Zn(),Me())};let yo=(()=>{class n{}return n.__NG_ELEMENT_ID__=zR,n})();const UR=yo,jR=class extends UR{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Id(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),Ad(t,i,e),new Kd(i)}};function lf(n,e){return 4&n.type?new jR(e,n,yu(n,e)):null}class Us{}class WE{}const GR=function(){return YE(Zn(),Me())};let us=(()=>{class n{}return n.__NG_ELEMENT_ID__=GR,n})();const KR=us,$E=class extends KR{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new At(this._hostTNode,this._hostLView)}get parentInjector(){const e=Vl(this._hostTNode,this._hostLView);if(Is(e)){const t=zo(e,this._hostLView),i=Ho(e);return new At(t[1].data[i+8],t)}return new At(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=GE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=i||this.parentInjector;if(!s&&null==e.ngModule&&o){const C=o.get(Us,null);C&&(s=C)}const l=e.create(o,r,void 0,s);return this.insert(l.hostView,t),l}insert(e,t){const i=e._lView,r=i[1];if(function(n){return gr(n[3])}(i)){const B=this.indexOf(e);if(-1!==B)this.detach(B);else{const Y=i[3],Q=new $E(Y,Y[6],Y[3]);Q.detach(Q.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],kc(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const l=e[19];null!==l&&l.insertView(n),e[2]|=128}(r,i,o,s);const l=wm(s,o),C=i[11],N=Vc(C,o[7]);return null!==N&&function(n,e,t,i,r,s){i[0]=r,i[6]=e,Od(n,i,t,1,r,s)}(r,o[6],C,i,N,l),e.attachToViewContainerRef(),kc(yv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=GE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=ym(this._lContainer,t);i&&(Na(yv(this._lContainer),t),NC(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=ym(this._lContainer,t);return i&&null!=Na(yv(this._lContainer),t)?new Kd(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function GE(n){return n[8]}function yv(n){return n[8]||(n[8]=[])}function YE(n,e){let t;const i=e[n.index];if(gr(i))t=i;else{let r;if(8&n.type)r=Rn(i);else{const s=e[11];r=s.createComment("");const o=qi(n,e);Va(s,Vc(s,o),r,function(n,e){return qt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=Ew(i,e,r,n),Gc(e,t)}return new $E(t,n,e)}const Eu={};class fD extends Ko{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oi(e);return new gD(t,this.ngModule)}}function pD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const WN=new Pt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xC});class gD extends PE{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(BO).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return pD(this.componentDef.inputs)}get outputs(){return pD(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function(n,e){return{get:(t,i,r)=>{const s=n.get(t,Eu,r);return s!==Eu||i===Eu?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get(Wa,dc),l=s.get(mv,null),C=o.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",B=i?function(n,e,t){if(qt(n))return n.selectRootElement(e,t===te.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(C,i,this.componentDef.encapsulation):vm(o.createRenderer(null,this.componentDef),N,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(N)),Y=this.componentDef.onPush?576:528,Q=function(n,e){return{components:[],scheduler:n||xC,clean:_I,playerHandler:e||null,flags:0}}(),K=$c(0,null,null,1,0,null,null,null,null,null),q=Id(null,K,Q,Y,null,null,o,C,l,s);let re,ae;Al(q);try{const ve=function(n,e,t,i,r,s){const o=t[1];t[20]=n;const C=Ql(o,20,2,"#host",null),N=C.mergedAttrs=e.hostAttrs;null!==N&&(Yc(C,N,!0),null!==n&&(Fl(r,n,N),null!==C.classes&&Em(r,n,C.classes),null!==C.styles&&YC(r,n,C.styles)));const B=i.createRenderer(n,e),Y=Id(t,cw(e),null,e.onPush?64:16,t[20],C,i,B,s||null,null);return o.firstCreatePass&&(Hl(Oa(C,t),o,e.type),Cw(o,C),ww(C,t.length,1)),Gc(t,Y),t[20]=Y}(B,this.componentDef,q,o,C);if(B)if(i)Fl(C,B,["ng-version",LE.full]);else{const{attrs:fe,classes:Oe}=function(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!ns(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);fe&&Fl(C,B,fe),Oe&&Oe.length>0&&Em(C,B,Oe.join(" "))}if(ae=id(K,20),void 0!==t){const fe=ae.projection=[];for(let Oe=0;Oe<this.ngContentSelectors.length;Oe++){const Te=t[Oe];fe.push(null!=Te?Array.from(Te):null)}}re=function(n,e,t,i,r){const s=t[1],o=function(n,e,t){const i=Zn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),_w(n,i,e,Xl(n,e,1,null),t));const r=se(e,n,i.directiveStart,i);xi(r,e);const s=qi(i,e);return s&&xi(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(C=>C(o,e)),e.contentQueries){const C=Zn();e.contentQueries(1,o,C.directiveStart)}const l=Zn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Jr(l.index),yw(t[1],l,0,l.directiveStart,l.directiveEnd,e),bw(e,o)),o}(ve,this.componentDef,q,Q,[KI]),Ad(K,q,null)}finally{Pl()}return new YN(this.componentType,re,yu(ae,q),q,ae)}}class YN extends class{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new IR(r),this.componentType=e}get injector(){return new At(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Du=new Map;class XN extends Us{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fD(this);const i=Ni(e),r=function(n){return n[lg]||null}(e);r&&lv(r),this._bootstrapComponents=Fs(i.bootstrap),this._r3Injector=Aw(e,t,[{provide:Us,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],ft(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=en.THROW_IF_NOT_FOUND,i=et.Default){return e===en||e===Us||e===Jl?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Iv extends WE{constructor(e){super(),this.moduleType=e,null!==Ni(e)&&function(n){const e=new Set;!function t(i){const r=Ni(i,!0),s=r.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ft(e)} vs ${ft(e.name)}`)}(s,Du.get(s),i),Du.set(s,i));const o=Fs(r.imports);for(const l of o)e.has(l)||(e.add(l),t(l))}(n)}(e)}create(e){return new XN(this.moduleType,e)}}function bD(n,e,t,i){return function(n,e,t,i,r,s){const o=e+t;return Mi(n,o,r)?Bs(n,o+1,s?i.call(s,r):i(r)):nh(n,o+1)}(Me(),_i(),n,e,t,i)}function CD(n,e,t,i,r){return function(n,e,t,i,r,s,o){const l=e+t;return Ha(n,l,r,s)?Bs(n,l+2,o?i.call(o,r,s):i(r,s)):nh(n,l+2)}(Me(),_i(),n,e,t,i,r)}function wD(n,e,t,i,r,s){return function(n,e,t,i,r,s,o,l){const C=e+t;return Qc(n,C,r,s,o)?Bs(n,C+3,l?i.call(l,r,s,o):i(r,s,o)):nh(n,C+3)}(Me(),_i(),n,e,t,i,r,s)}function _D(n,e,t,i,r,s,o,l,C,N){const B=_i()+n,Y=Me();let Q=function(n,e,t,i,r,s){const o=Ha(n,e,t,i);return Ha(n,e+2,r,s)||o}(Y,B,t,i,r,s);return Qc(Y,B+4,o,l,C)||Q?Bs(Y,B+7,N?e.call(N,t,i,r,s,o,l,C):e(t,i,r,s,o,l,C)):Ld(Y,B+7)}function nh(n,e){const t=n[e];return t===yt?void 0:t}function Av(n){return e=>{setTimeout(n,void 0,e)}}const ni=class extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,o;let l=e,C=t||(()=>null),N=i;if(e&&"object"==typeof e){const Y=e;l=null===(r=Y.next)||void 0===r?void 0:r.bind(Y),C=null===(s=Y.error)||void 0===s?void 0:s.bind(Y),N=null===(o=Y.complete)||void 0===o?void 0:o.bind(Y)}this.__isAsync&&(C=Av(C),l&&(l=Av(l)),N&&(N=Av(N)));const B=super.subscribe({next:l,error:C,complete:N});return e instanceof b&&e.add(B),B}};function dF(){return this._results[tu()]()}class ff{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=tu(),i=ff.prototype;i[t]||(i[t]=dF)}get changes(){return this._changes||(this._changes=new ni)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Ar(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Pv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Pv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Rv(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==PD(e,t).matches&&this.queries[t].setDirty()}}class MD{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Nv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Nv(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Fv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Fv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,fF(t,s)),this.matchTNodeWithReadOption(e,t,ee(t,e,s,!1,!1))}else i===yo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ee(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ui||r===us||r===yo&&4&t.type)this.addMatch(t.index,-2);else{const s=ee(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function fF(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function gF(n,e,t,i){return-1===t?function(n,e){return 11&n.type?yu(n,e):4&n.type?lf(n,e):null}(e,n):-2===t?function(n,e,t){return t===ui?yu(e,n):t===yo?lf(e,n):t===us?YE(e,n):void 0}(n,e,i):se(n,n[1],t,e)}function kD(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,l=[];for(let C=0;C<o.length;C+=2){const N=o[C];l.push(N<0?null:gF(e,s[N],o[C+1],t.metadata.read))}r.matches=l}return r.matches}function Lv(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=kD(n,e,r,t);for(let l=0;l<s.length;l+=2){const C=s[l];if(C>0)i.push(o[l/2]);else{const N=s[l+1],B=e[-C];for(let Y=10;Y<B.length;Y++){const Q=B[Y];Q[17]===Q[3]&&Lv(Q[1],Q,N,i)}if(null!==B[9]){const Y=B[9];for(let Q=0;Q<Y.length;Q++){const K=Y[Q];Lv(K[1],K,N,i)}}}}}return i}function pf(n){const e=Me(),t=Lt(),i=vc();dd(i+1);const r=PD(t,i);if(n.dirty&&cc(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Lv(t,e,i,[]):kD(t,e,r,i);n.reset(s,FE),n.notifyOnChanges()}return!0}return!1}function Bv(n,e,t,i){const r=Lt();if(r.firstCreatePass){const s=Zn();AD(r,new MD(e,t,i),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}ID(r,Me(),t)}function gf(){return function(n,e){return n[19].queries[e].queryList}(Me(),vc())}function ID(n,e,t){const i=new ff(4==(4&t));gw(n,e,i,i.destroy),null===e[19]&&(e[19]=new Rv),e[19].queries.push(new Pv(i))}function AD(n,e,t){null===n.queries&&(n.queries=new Nv),n.queries.track(new Fv(e,t))}function PD(n,e){return n.queries.getByIndex(e)}function Xo(n,e){return lf(n,e)}const oh=new Pt("Application Initializer");let Tu=(()=>{class n{constructor(t){this.appInits=t,this.resolve=of,this.reject=of,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Bd(s))t.push(s);else if(Zc(s)){const o=new Promise((l,C)=>{s.subscribe({complete:l,error:C})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Le(oh,8))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();const ah=new Pt("AppId"),$F={provide:ah,useFactory:function(){return`${Wv()}${Wv()}${Wv()}`},deps:[]};function Wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZD=new Pt("Platform Initializer"),$v=new Pt("Platform ID"),JD=new Pt("appBootstrapListener");let yf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();const Zo=new Pt("LocaleId"),qD=new Pt("DefaultCurrencyCode");class YF{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Gv=function(n){return new Iv(n)},KF=Gv,QF=function(n){return Promise.resolve(Gv(n))},eS=function(n){const e=Gv(n),i=Fs(Ni(n).declarations).reduce((r,s)=>{const o=oi(s);return o&&r.push(new gD(o)),r},[]);return new YF(e,i)},XF=eS,ZF=function(n){return Promise.resolve(eS(n))};let Ya=(()=>{class n{constructor(){this.compileModuleSync=KF,this.compileModuleAsync=QF,this.compileModuleAndAllComponentsSync=XF,this.compileModuleAndAllComponentsAsync=ZF}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();const e2=(()=>Promise.resolve(0))();function Yv(n){"undefined"==typeof Zone?e2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class En{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Qv(n),n.isCheckStableRunning=!0,Kv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Qv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,l)=>{try{return tS(n),t.invokeTask(r,s,o,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),nS(n)}},onInvoke:(t,i,r,s,o,l,C)=>{try{return tS(n),t.invoke(r,s,o,l,C)}finally{n.shouldCoalesceRunChangeDetection&&e(),nS(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Qv(n),Kv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!En.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(En.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,n2,of,of);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const n2={};function Kv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function tS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nS(n){n._nesting--,Kv(n)}class s2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let Xv=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{En.assertNotInAngularZone(),Yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Le(En))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),iS=(()=>{class n{constructor(){this._applications=new Map,Zv.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Zv.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();class o2{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Zv=new o2,rS=!0,sS=!1;let cs;const aS=new Pt("AllowMultipleToken");class Jv{constructor(e,t){this.name=e,this.token=t}}function lS(n,e,t=[]){const i=`Platform: ${e}`,r=new Pt(i);return(s=[])=>{let o=uS();if(!o||o.injector.get(aS,!1))if(n)n(t.concat(s).concat({provide:r,useValue:!0}));else{const l=t.concat(s).concat({provide:r,useValue:!0},{provide:Pd,useValue:"platform"});!function(n){if(cs&&!cs.destroyed&&!cs.injector.get(aS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cs=n.get(dS);const e=n.get(ZD,null);e&&e.forEach(t=>t())}(en.create({providers:l,name:i}))}return function(n){const e=uS();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function uS(){return cs&&!cs.destroyed?cs:null}let dS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const l=function(n,e){let t;return t="noop"===n?new s2:("zone.js"===n?void 0:n)||new En({enableLongStackTrace:(sS=!0,rS),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),C=[{provide:En,useValue:l}];return l.run(()=>{const N=en.create({providers:C,parent:this.injector,name:t.moduleType.name}),B=t.create(N),Y=B.injector.get(Ba,null);if(!Y)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return l.runOutsideAngular(()=>{const Q=l.onError.subscribe({next:K=>{Y.handleError(K)}});B.onDestroy(()=>{qv(this._modules,B),Q.unsubscribe()})}),function(n,e,t){try{const i=t();return Bd(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(Y,l,()=>{const Q=B.injector.get(Tu);return Q.runInitializers(),Q.donePromise.then(()=>(lv(B.injector.get(Zo,ef)||ef),this._moduleDoBootstrap(B),B))})})}bootstrapModule(t,i=[]){const r=hS({},i);return function(n,e,t){const i=new Iv(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Jo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${ft(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Le(en))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();function hS(n,e){return Array.isArray(e)?e.reduce(hS,n):Object.assign(Object.assign({},n),e)}let Jo=(()=>{class n{constructor(t,i,r,s,o){this._zone=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new h(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),C=new h(N=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{En.assertNotInAngularZone(),Yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{En.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{B.unsubscribe(),Y.unsubscribe()}});this.isStable=function(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return G(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof h?n[0]:St(e)($t(n,t))}(l,C.pipe(n=>wn()(function(n,e){return function(i){let r;r="function"==typeof n?n:function(){return n};const s=Object.create(i,ga);return s.source=i,s.subjectFactory=r,s}}(cl)(n))))}bootstrap(t,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=t instanceof PE?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Us),l=r.create(en.NULL,[],i||r.selector,s),C=l.location.nativeElement,N=l.injector.get(Xv,null),B=N&&l.injector.get(iS);return N&&B&&B.registerApplication(C,N),l.onDestroy(()=>{this.detachView(l.hostView),qv(this.components,l),B&&B.unregisterApplication(C)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;qv(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(JD,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Le(En),Le(en),Le(Ba),Le(Ko),Le(Tu))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();function qv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Cf{}class w2{}const _2={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let E2=(()=>{class n{constructor(t,i){this._compiler=t,this._config=i||_2}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[i,r]=t.split("#");return void 0===r&&(r="default"),L(255)(i).then(s=>s[r]).then(s=>gS(s,i,r)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[i,r]=t.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),L(255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(o=>o[r+s]).then(o=>gS(o,i,r))}}return n.\u0275fac=function(t){return new(t||n)(Le(Ya),Le(w2,8))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();function gS(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const P2=lS(null,"core",[{provide:$v,useValue:"unknown"},{provide:dS,deps:[en]},{provide:iS,deps:[]},{provide:yf,deps:[]}]),B2=[{provide:Jo,useClass:Jo,deps:[En,en,Ba,Ko,Tu]},{provide:WN,deps:[En],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Tu,useClass:Tu,deps:[[new tr,oh]]},{provide:Ya,useClass:Ya,deps:[]},$F,{provide:Yd,useFactory:function(){return BR},deps:[]},{provide:bu,useFactory:function(){return VR},deps:[]},{provide:Zo,useFactory:function(n){return lv(n=n||"undefined"!=typeof $localize&&$localize.locale||ef),n},deps:[[new Wl(Zo),new tr,new Wo]]},{provide:qD,useValue:"USD"}];let H2=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Le(Jo))},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({providers:B2}),n})(),Of=null;function js(){return Of}const Jn=new Pt("DocumentToken");let Xa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({factory:VL,token:n,providedIn:"platform"}),n})();function VL(){return Le(VS)}const HL=new Pt("Location Initialized");let VS=(()=>{class n extends Xa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return js().getBaseHref(this._doc)}onPopState(t){const i=js().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=js().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){HS()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){HS()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=qe({factory:zL,token:n,providedIn:"platform"}),n})();function HS(){return!!window.history.pushState}function zL(){return new VS(Le(Jn))}function py(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zS(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Co(n){return n&&"?"!==n[0]?"?"+n:n}let ku=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({factory:UL,token:n,providedIn:"root"}),n})();function UL(n){const e=Le(Jn).location;return new US(Le(Xa),e&&e.origin||"")}const gy=new Pt("appBaseHref");let US=(()=>{class n extends ku{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return py(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Co(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Co(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Co(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Le(Xa),Le(gy,8))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),jL=(()=>{class n extends ku{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=py(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Co(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Co(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Le(Xa),Le(gy,8))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),If=(()=>{class n{constructor(t,i){this._subject=new ni,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=zS(jS(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Co(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,jS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Co(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Co(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.\u0275fac=function(t){return new(t||n)(Le(ku),Le(Xa))},n.normalizeQueryParams=Co,n.joinWithSlash=py,n.stripTrailingSlash=zS,n.\u0275prov=qe({factory:WL,token:n,providedIn:"root"}),n})();function WL(){return new If(Le(ku),Le(Xa))}function jS(n){return n.replace(/\/index.html$/,"")}var ii=(()=>((ii=ii||{})[ii.Zero=0]="Zero",ii[ii.One=1]="One",ii[ii.Two=2]="Two",ii[ii.Few=3]="Few",ii[ii.Many=4]="Many",ii[ii.Other=5]="Other",ii))();const JL=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=aE(e);if(t)return t;const i=e.split("-")[0];if(t=aE(i),t)return t;if("en"===i)return mP;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[We.PluralCase]};class zf{}let xB=(()=>{class n extends zf{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(JL(i||this.locale)(t)){case ii.Zero:return"zero";case ii.One:return"one";case ii.Two:return"two";case ii.Few:return"few";case ii.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(Le(Zo))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),ph=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Fd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ft(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(De(Yd),De(bu),De(ui),De(zs))},n.\u0275dir=rt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class OB{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ws=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=[];t.forEachOperation((r,s,o)=>{if(null==r.previousIndex){const l=this._viewContainer.createEmbeddedView(this._template,new OB(null,this._ngForOf,-1,-1),null===o?void 0:o),C=new JS(r,l);i.push(C)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const l=this._viewContainer.get(s);this._viewContainer.move(l,o);const C=new JS(r,l);i.push(C)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const o=this._viewContainer.get(r);o.context.index=r,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(t,i){t.context.$implicit=i.item}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(De(us),De(yo),De(Yd))},n.\u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class JS{constructor(e,t){this.record=e,this.view=t}}let Vr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new AB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(De(us),De(yo))},n.\u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class AB{constructor(){this.$implicit=null,this.ngIf=null}}function qS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ft(e)}'.`)}let nT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({providers:[{provide:zf,useClass:xB}]}),n})();let rT=(()=>{class n{}return n.\u0275prov=qe({token:n,providedIn:"root",factory:()=>new aV(Le(Jn),window)}),n})();class aV{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sT(this.window.history)||sT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function sT(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class My extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Of||(Of=n)}(new My)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(gh=gh||document.querySelector("base"),gh?gh.getAttribute("href"):null);return null==t?null:function(n){Uf=Uf||document.createElement("a"),Uf.setAttribute("href",n);const e=Uf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Uf,gh=null;const oT=new Pt("TRANSITION_ID"),pV=[{provide:oh,useFactory:function(n,e,t){return()=>{t.get(Tu).donePromise.then(()=>{const i=js(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[oT,Jn,en],multi:!0}];class ky{static init(){!function(n){Zv=n}(new ky)}addToWindow(e){Pe.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(i=>{const r=Pe.getAllAngularTestabilities();let s=r.length,o=!1;const l=function(C){o=o||C,s--,0==s&&i(o)};r.forEach(function(C){C.whenStable(l)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?js().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let gV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();const mh=new Pt("EventManagerPlugins");let Wf=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Le(mh),Le(En))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();class Oy{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=js().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let lT=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),vh=(()=>{class n extends lT{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(uT),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(uT))}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();function uT(n){js().remove(n)}const Iy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ay=/%COMP%/g;function $f(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?$f(n,r,t):(r=r.replace(Ay,n),t.push(r))}return t}function cT(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gf=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Py(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case te.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new OV(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case te.ShadowDom:return new IV(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=$f(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Le(Wf),Le(vh),Le(ah))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();class Py{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Iy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Iy[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Iy[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(br.DashCase|br.Important)?e.style.setProperty(t,i,r&br.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&br.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,cT(i)):this.eventManager.addEventListener(e,t,cT(i))}}class OV extends Py{constructor(e,t,i,r){super(e),this.component=i;const s=$f(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(Ay,n)}(r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ay,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class IV extends Py{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$f(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let AV=(()=>{class n extends Oy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();const gT=["alt","control","meta","shift"],VV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},HV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zV=(()=>{class n extends Oy{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>js().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(gT.forEach(C=>{const N=i.indexOf(C);N>-1&&(i.splice(N,1),o+=C+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static getEventFullKey(t){let i="",r=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&mT.hasOwnProperty(e)&&(e=mT[e]))}return VV[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gT.forEach(s=>{s!=r&&HV[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),Yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({factory:function(){return Le(Ny)},token:n,providedIn:"root"}),n})(),Ny=(()=>{class n extends Yf{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case dn.NONE:return i;case dn.HTML:return Rs(i,"HTML")?yr(i):gC(this._doc,String(i)).toString();case dn.STYLE:return Rs(i,"Style")?yr(i):i;case dn.SCRIPT:if(Rs(i,"Script"))return yr(i);throw new Error("unsafe value used in a script context");case dn.URL:return aC(i),Rs(i,"URL")?yr(i):Sd(String(i));case dn.RESOURCE_URL:if(Rs(i,"ResourceURL"))return yr(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new Ek(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new Dk(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new Sk(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new Tk(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new xk(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=qe({factory:function(){return function(n){return new Ny(n.get(Jn))}(Le(Jl))},token:n,providedIn:"root"}),n})();const QV=lS(P2,"browser",[{provide:$v,useValue:"browser"},{provide:ZD,useValue:function(){My.makeCurrent(),ky.init()},multi:!0},{provide:Jn,useFactory:function(){return function(n){Tl=n}(document),document},deps:[]}]),XV=[[],{provide:Pd,useValue:"root"},{provide:Ba,useFactory:function(){return new Ba},deps:[]},{provide:mh,useClass:AV,multi:!0,deps:[Jn,En,$v]},{provide:mh,useClass:zV,multi:!0,deps:[Jn]},[],{provide:Gf,useClass:Gf,deps:[Wf,vh,ah]},{provide:Wa,useExisting:Gf},{provide:lT,useExisting:vh},{provide:vh,useClass:vh,deps:[Jn]},{provide:Xv,useClass:Xv,deps:[En]},{provide:Wf,useClass:Wf,deps:[mh,En]},{provide:class{},useClass:gV,deps:[]},[]];let Fy=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ah,useValue:t.appId},{provide:oT,useExisting:ah},pV]}}}return n.\u0275fac=function(t){return new(t||n)(Le(n,12))},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({providers:XV,imports:[nT,H2]}),n})();function Kf(n,e){return new h(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let s=0,o=0;for(let l=0;l<i;l++){const C=at(n[l]);let N=!1;t.add(C.subscribe({next:B=>{N||(N=!0,o++),r[l]=B},error:B=>t.error(B),complete:()=>{s++,(s===i||!N)&&(o===i&&t.next(e?e.reduce((B,Y,Q)=>(B[Y]=r[Q],B),{}):r),t.complete())}}))}})}"undefined"!=typeof window&&window;let yT=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(De(zs),De(ui))},n.\u0275dir=rt({type:n}),n})(),Za=(()=>{class n extends yT{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Gt(n)))(i||n)}}(),n.\u0275dir=rt({type:n,features:[_n]}),n})();const $s=new Pt("NgValueAccessor"),s3={provide:$s,useExisting:Yt(()=>By),multi:!0};let By=(()=>{class n extends Za{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Gt(n)))(i||n)}}(),n.\u0275dir=rt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&gt("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Tn([s3]),_n]}),n})();const o3={provide:$s,useExisting:Yt(()=>Ou),multi:!0},l3=new Pt("CompositionEventMode");let Ou=(()=>{class n extends yT{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=js()?js().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(De(zs),De(ui),De(l3,8))},n.\u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&gt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Tn([o3]),_n]}),n})();const Ii=new Pt("NgValidators"),na=new Pt("NgAsyncValidators");function MT(n){return null!=n}function kT(n){const e=Bd(n)?at(n):n;return Zc(e),e}function OT(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function IT(n,e){return e.map(t=>t(n))}function AT(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Vy(n){return null!=n?function(n){if(!n)return null;const e=n.filter(MT);return 0==e.length?null:function(t){return OT(IT(t,e))}}(AT(n)):null}function Hy(n){return null!=n?function(n){if(!n)return null;const e=n.filter(MT);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(k(e))return Kf(e,null);if(A(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Kf(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Kf(n=1===n.length&&k(n[0])?n[0]:n,null).pipe(Z(t=>e(...t)))}return Kf(n,null)}(IT(t,e).map(kT)).pipe(Z(OT))}}(AT(n)):null}function NT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zy(n){return n?Array.isArray(n)?n:[n]:[]}function Qf(n,e){return Array.isArray(n)?n.includes(e):n===e}function BT(n,e){const t=zy(e);return zy(n).forEach(r=>{Qf(t,r)||t.push(r)}),t}function VT(n,e){return zy(e).filter(t=>!Qf(n,t))}let HT=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=rt({type:n}),n})(),ji=(()=>{class n extends HT{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Gt(n)))(i||n)}}(),n.\u0275dir=rt({type:n,features:[_n]}),n})();class ra extends HT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Xf=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(De(ra,2))},n.\u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Jc("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[_n]}),n})();function yh(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(NT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(NT(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ep(e._rawValidators,r),ep(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UT(n,e)})}(n,e),function(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UT(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ep(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function UT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function np(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const bh="VALID",ip="INVALID",Iu="PENDING",Ch="DISABLED";function Yy(n){return(Qy(n)?n.validators:n)||null}function $T(n){return Array.isArray(n)?Vy(n):n||null}function Ky(n,e){return(Qy(e)?e.asyncValidators:n)||null}function GT(n){return Array.isArray(n)?Hy(n):n||null}function Qy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Xy{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=$T(this._rawValidators),this._composedAsyncValidatorFn=GT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bh}get invalid(){return this.status===ip}get pending(){return this.status==Iu}get disabled(){return this.status===Ch}get enabled(){return this.status!==Ch}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=$T(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=GT(e)}addValidators(e){this.setValidators(BT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VT(e,this._rawAsyncValidators))}hasValidator(e){return Qf(this._rawValidators,e)}hasAsyncValidator(e){return Qf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ch,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bh,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bh||this.status===Iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ch:bh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Iu,this._hasOwnPendingAsyncValidator=!0;const t=kT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=i instanceof Zy?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof E3&&i.at(r)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ni,this.statusChanges=new ni}_calculateStatus(){return this._allControlsDisabled()?Ch:this.errors?ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iu)?Iu:this._anyControlsHaveStatus(ip)?ip:bh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class rp extends Xy{constructor(e=null,t,i){super(Yy(t),Ky(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){np(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){np(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Zy extends Xy{constructor(e,t,i){super(Yy(t),Ky(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof rp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class E3 extends Xy{constructor(e,t,i){super(Yy(t),Ky(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof rp?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const T3={provide:ra,useExisting:Yt(()=>_h)},QT=(()=>Promise.resolve(null))();let _h=(()=>{class n extends ra{constructor(t,i,r,s){super(),this.control=new rp,this._registered=!1,this.update=new ni,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ou?t=s:function(n){return Object.getPrototypeOf(n.constructor)===Za}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;QT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(De(ji,9),De(Ii,10),De(na,10),De($s,10))},n.\u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Tn([T3]),_n,Xn]}),n})(),ZT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({}),n})(),px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({imports:[[ZT]]}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({imports:[px]}),n})();function Tt(...n){let e=n[n.length-1];return G(e)?(n.pop(),Be(n,e)):$t(n)}class vs extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}next(e){super.next(this._value=e)}}class J3 extends c{notifyNext(e,t,i,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class q3 extends c{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function eH(n,e,t,i,r=new q3(n,t,i)){if(!r.closed)return e instanceof h?e.subscribe(r):ke(e)(r)}const gx={};class nH{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new iH(e,this.resultSelector))}}class iH extends J3{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(gx),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(eH(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const r=this.values,o=this.toRespond?r[i]===gx?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const sp=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function ob(...n){return St(1)(Tt(...n))}const Au=new h(n=>n.complete());function ab(n){return n?function(n){return new h(e=>n.schedule(()=>e.complete()))}(n):Au}function mx(n){return new h(e=>{let t;try{t=n()}catch(r){return void e.error(r)}return(t?at(t):ab()).subscribe(e)})}function sa(n,e){return"function"==typeof e?t=>t.pipe(sa((i,r)=>at(n(i,r)).pipe(Z((s,o)=>e(i,s,r,o))))):t=>t.lift(new oH(n))}class oH{constructor(e){this.project=e}call(e,t){return t.subscribe(new aH(e,this.project))}}class aH extends sn{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new Dt(this),r=this.destination;r.add(i),this.innerSubscription=Zt(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const vx=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function lb(n){return e=>0===n?ab():e.lift(new lH(n))}class lH{constructor(e){if(this.total=e,this.total<0)throw new vx}call(e,t){return t.subscribe(new uH(e,this.total))}}class uH extends c{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function yx(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new hH(n,e,t))}}class hH{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new cH(e,this.accumulator,this.seed,this.hasSeed))}}class cH extends c{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Pu(n,e){return function(i){return i.lift(new fH(n,e))}}class fH{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new pH(e,this.predicate,this.thisArg))}}class pH extends c{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function Ja(n){return function(t){const i=new gH(n),r=t.lift(i);return i.caught=r}}class gH{constructor(e){this.selector=e}call(e,t){return t.subscribe(new mH(e,this.selector,this.caught))}}class mH extends sn{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new Dt(this);this.add(i);const r=Zt(t,i);r!==i&&this.add(r)}}}function Eh(n,e){return Ye(n,e,1)}function ub(n){return function(t){return 0===n?ab():t.lift(new vH(n))}}class vH{constructor(e){if(this.total=e,this.total<0)throw new vx}call(e,t){return t.subscribe(new yH(e,this.total))}}class yH extends c{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=t++%i;e.next(r[o])}}e.complete()}}function bx(n=wH){return e=>e.lift(new bH(n))}class bH{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new CH(e,this.errorFactory))}}class CH extends c{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function wH(){return new sp}function Cx(n=null){return e=>e.lift(new _H(n))}class _H{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new EH(e,this.defaultValue))}}class EH extends c{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ru(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pu((r,s)=>n(r,s,i)):u,lb(1),t?Cx(e):bx(()=>new sp))}function oa(){}function wr(n,e,t){return function(r){return r.lift(new SH(n,e,t))}}class SH{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new TH(e,this.nextOrObserver,this.error,this.complete))}}class TH extends c{constructor(e,t,i,r){super(e),this._tapNext=oa,this._tapError=oa,this._tapComplete=oa,this._tapError=i||oa,this._tapComplete=r||oa,E(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||oa,this._tapError=t.error||oa,this._tapComplete=t.complete||oa)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class MH{constructor(e){this.callback=e}call(e,t){return t.subscribe(new kH(e,this.callback))}}class kH extends c{constructor(e,t){super(e),this.add(new b(t))}}class _o{constructor(e,t){this.id=e,this.url=t}}class db extends _o{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dh extends _o{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wx extends _o{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class OH extends _o{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IH extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AH extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PH extends _o{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RH extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NH extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _x{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ex{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FH{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LH{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BH{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VH{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dx{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rt="primary";class HH{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Nu(n){return new HH(n)}const Sx="ngNavigationCancelingError";function hb(n){const e=Error("NavigationCancelingError: "+n);return e[Sx]=!0,e}function UH(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],l=n[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Gs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Tx(n[r],e[r]))return!1;return!0}function Tx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function xx(n){return Array.prototype.concat.apply([],n)}function Mx(n){return n.length>0?n[n.length-1]:null}function Ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ys(n){return Zc(n)?n:Bd(n)?at(Promise.resolve(n)):Tt(n)}const $H={exact:function Ix(n,e,t){if(!el(n.segments,e.segments)||!op(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ix(n.children[i],e.children[i],t))return!1;return!0},subset:Ax},kx={exact:function(n,e){return Gs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Tx(n[t],e[t]))},ignored:()=>!0};function Ox(n,e,t){return $H[t.paths](n.root,e.root,t.matrixParams)&&kx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ax(n,e,t){return Px(n,e,e.segments,t)}function Px(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!el(r,t)||e.hasChildren()||!op(r,t,i))}if(n.segments.length===t.length){if(!el(n.segments,t)||!op(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ax(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(el(n.segments,r)&&op(n.segments,r,i)&&n.children[Rt])&&Px(n.children[Rt],e,s,i)}}function op(n,e,t){return e.every((i,r)=>kx[t](n[r].parameters,i.parameters))}class qa{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return XH.serialize(this)}}class Ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ei(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ap(this)}}class Sh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Nu(this.parameters)),this._parameterMap}toString(){return Lx(this)}}function el(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class cb{}class Rx{parse(e){const t=new sz(e);return new qa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Th(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${lp(t)}=${lp(r)}`).join("&"):`${lp(t)}=${lp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const XH=new Rx;function ap(n){return n.segments.map(e=>Lx(e)).join("/")}function Th(n,e){if(!n.hasChildren())return ap(n);if(e){const t=n.children[Rt]?Th(n.children[Rt],!1):"",i=[];return Ei(n.children,(r,s)=>{s!==Rt&&i.push(`${s}:${Th(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return Ei(n.children,(i,r)=>{r===Rt&&(t=t.concat(e(i,r)))}),Ei(n.children,(i,r)=>{r!==Rt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Rt?[Th(n.children[Rt],!1)]:[`${r}:${Th(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${ap(n)}/${t[0]}`:`${ap(n)}/(${t.join("//")})`}}function Nx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lp(n){return Nx(n).replace(/%3B/gi,";")}function fb(n){return Nx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function up(n){return decodeURIComponent(n)}function Fx(n){return up(n.replace(/\+/g,"%20"))}function Lx(n){return`${fb(n.path)}${function(n){return Object.keys(n).map(e=>`;${fb(e)}=${fb(n[e])}`).join("")}(n.parameters)}`}const ez=/^[^\/()?;=#]+/;function dp(n){const e=n.match(ez);return e?e[0]:""}const tz=/^[^=?&#]+/,iz=/^[^?&#]+/;class sz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Rt]=new Ht(e,t)),i}parseSegment(){const e=dp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Sh(up(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=dp(this.remaining);r&&(i=r,this.capture(i))}e[up(t)]=up(i)}parseQueryParam(e){const t=function(n){const e=n.match(tz);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(iz);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Fx(t),s=Fx(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Rt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Rt]:new Ht([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Bx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=pb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gb(e,this._root).map(t=>t.value)}}function pb(n,e){if(n===e.value)return e;for(const t of e.children){const i=pb(n,t);if(i)return i}return null}function gb(n,e){if(n===e.value)return[e];for(const t of e.children){const i=gb(n,t);if(i.length)return i.unshift(e),i}return[]}class Eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vx extends Bx{constructor(e,t){super(e),this.snapshot=t,mb(this,e)}toString(){return this.snapshot.toString()}}function Hx(n,e){const t=function(n,e){const o=new hp([],{},{},"",{},Rt,e,null,n.root,-1,{});return new Ux("",new Eo(o,[]))}(n,e),i=new vs([new Sh("",{})]),r=new vs({}),s=new vs({}),o=new vs({}),l=new vs(""),C=new Fu(i,r,o,l,s,Rt,e,t.root);return C.snapshot=t.root,new Vx(new Eo(C,[]),t)}class Fu{constructor(e,t,i,r,s,o,l,C){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Z(e=>Nu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Z(e=>Nu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zx(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class hp{constructor(e,t,i,r,s,o,l,C,N,B,Y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=C,this._urlSegment=N,this._lastPathIndex=B,this._resolve=Y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ux extends Bx{constructor(e,t){super(t),this.url=e,mb(this,t)}toString(){return jx(this._root)}}function mb(n,e){e.value._routerState=n,e.children.forEach(t=>mb(n,t))}function jx(n){const e=n.children.length>0?` { ${n.children.map(jx).join(", ")} } `:"";return`${n.value}${e}`}function vb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yb(n,e){return Gs(n.params,e.params)&&function(n,e){return el(n,e)&&n.every((t,i)=>Gs(t.parameters,e[i].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||yb(n.parent,e.parent))}function cp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cp(n,i,r);return cp(n,i)})}(n,e,t);return new Eo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return Wx(e,o),o}}const i=function(n){return new Fu(new vs(n.url),new vs(n.params),new vs(n.queryParams),new vs(n.fragment),new vs(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>cp(n,s));return new Eo(i,r)}}function Wx(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Wx(n.children[t],e.children[t])}function fp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mh(n){return"object"==typeof n&&null!=n&&n.outlets}function bb(n,e,t,i,r){let s={};return i&&Ei(i,(o,l)=>{s[l]=Array.isArray(o)?o.map(C=>`${C}`):`${o}`}),new qa(t.root===n?e:$x(t.root,n,e),s,r)}function $x(n,e,t){const i={};return Ei(n.children,(r,s)=>{i[s]=r===e?t:$x(r,e,t)}),new Ht(n.segments,i)}class Gx{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&fp(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Mh);if(r&&r!==Mx(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cb{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Yx(n,e,t){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return pp(n,e,t);const i=function(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],l=t[i];if(Mh(l))break;const C=`${l}`,N=i<t.length-1?t[i+1]:null;if(r>0&&void 0===C)break;if(C&&N&&"object"==typeof N&&void 0===N.outlets){if(!Qx(C,N,o))return s;i+=2}else{if(!Qx(C,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ht(n.segments.slice(0,i.pathIndex),{});return s.children[Rt]=new Ht(n.segments.slice(i.pathIndex),n.children),pp(s,0,r)}return i.match&&0===r.length?new Ht(n.segments,{}):i.match&&!n.hasChildren()?wb(n,e,t):i.match?pp(n,0,r):wb(n,e,t)}function pp(n,e,t){if(0===t.length)return new Ht(n.segments,{});{const i=function(n){return Mh(n[0])?n[0].outlets:{[Rt]:n}}(t),r={};return Ei(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Yx(n.children[o],e,s))}),Ei(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Ht(n.segments,r)}}function wb(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Mh(s)){const C=vz(s.outlets);return new Ht(i,C)}if(0===r&&fp(t[0])){i.push(new Sh(n.segments[e].path,Kx(t[0]))),r++;continue}const o=Mh(s)?s.outlets[Rt]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&fp(l)?(i.push(new Sh(o,Kx(l))),r+=2):(i.push(new Sh(o,{})),r++)}return new Ht(i,{})}function vz(n){const e={};return Ei(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=wb(new Ht([],{}),0,t))}),e}function Kx(n){const e={};return Ei(n,(t,i)=>e[i]=`${t}`),e}function Qx(n,e,t){return n==t.path&&Gs(e,t.parameters)}class bz{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),vb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=xh(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Ei(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=xh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=xh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new VH(s.value.snapshot))}),e.children.length&&this.forwardEvent(new LH(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(vb(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),Xx(l.route)}else{const l=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),C=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=C,o.outlet&&o.outlet.activateWith(r,C),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}function Xx(n){vb(n.value),n.children.forEach(Xx)}class _b{constructor(e,t){this.routes=e,this.module=t}}function aa(n){return"function"==typeof n}function tl(n){return n instanceof qa}const kh=Symbol("INITIAL_VALUE");function Oh(){return sa(n=>function(...n){let e,t;return G(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&k(n[0])&&(n=n[0]),$t(n,t).lift(new nH(e))}(n.map(e=>e.pipe(lb(1),function(...n){const e=n[n.length-1];return G(e)?(n.pop(),t=>ob(n,t,e)):t=>ob(n,t)}(kh)))).pipe(yx((e,t)=>{let i=!1;return t.reduce((r,s,o)=>r!==kh?r:(s===kh&&(i=!0),i||!1!==s&&o!==t.length-1&&!tl(s)?r:s),e)},kh),Pu(e=>e!==kh),Z(e=>tl(e)?e:!0===e),lb(1)))}let Zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&he(0,"router-outlet")},directives:function(){return[xb]},encapsulation:2}),n})();function Jx(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];Tz(i,xz(e,i))}}function Tz(n,e){n.children&&Jx(n.children,e)}function xz(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Eb(n){const e=n.children&&n.children.map(Eb),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=Zx),t}function Hr(n){return n.outlet||Rt}function qx(n,e){const t=n.filter(i=>Hr(i)===e);return t.push(...n.filter(i=>Hr(i)!==e)),t}const e1={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gp(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},e1):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||UH)(t,n,e);if(!s)return Object.assign({},e1);const o={};Ei(s.posParams,(C,N)=>{o[N]=C.path});const l=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function mp(n,e,t,i,r="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>vp(n,e,i)&&Hr(i)!==Rt)}(n,t,i)){const o=new Ht(e,function(n,e,t,i){const r={};r[Rt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Hr(s)!==Rt){const o=new Ht([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Hr(s)]=o}return r}(n,e,i,new Ht(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>vp(n,e,i))}(n,t,i)){const o=new Ht(n.segments,function(n,e,t,i,r,s){const o={};for(const l of i)if(vp(n,t,l)&&!r[Hr(l)]){const C=new Ht([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Hr(l)]=C}return Object.assign(Object.assign({},r),o)}(n,e,t,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ht(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function vp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function t1(n,e,t,i){return!!(Hr(n)===i||i!==Rt&&vp(e,t,n))&&("**"===n.path||gp(e,n,t).matched)}function n1(n,e,t){return 0===e.length&&!n.children[t]}class Ih{constructor(e){this.segmentGroup=e||null}}class i1{constructor(e){this.urlTree=e}}function yp(n){return new h(e=>e.error(new Ih(n)))}function r1(n){return new h(e=>e.error(new i1(n)))}function Az(n){return new h(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Nz{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Us)}apply(){const e=mp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ht(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Rt).pipe(Z(s=>this.createUrlTree(Db(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ja(s=>{if(s instanceof i1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ih?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Rt).pipe(Z(r=>this.createUrlTree(Db(r),e.queryParams,e.fragment))).pipe(Ja(r=>{throw r instanceof Ih?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Ht([],{[Rt]:e}):e;return new qa(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Z(s=>new Ht([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return at(r).pipe(Eh(s=>{const o=i.children[s],l=qx(t,s);return this.expandSegmentGroup(e,l,o,s).pipe(Z(C=>({segment:C,outlet:s})))}),yx((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pu((r,s)=>n(r,s,i)):u,ub(1),t?Cx(e):bx(()=>new sp))}())}expandSegment(e,t,i,r,s,o){return at(i).pipe(Eh(l=>this.expandSegmentAgainstRoute(e,t,i,l,r,s,o).pipe(Ja(N=>{if(N instanceof Ih)return Tt(null);throw N}))),Ru(l=>!!l),Ja((l,C)=>{if(l instanceof sp||"EmptyError"===l.name){if(n1(t,r,s))return Tt(new Ht([],{}));throw new Ih(t)}throw l}))}expandSegmentAgainstRoute(e,t,i,r,s,o,l){return t1(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):yp(t):yp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?r1(s):this.lineralizeSegments(i,s).pipe(Ye(o=>{const l=new Ht(o,{});return this.expandSegment(e,l,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:l,consumedSegments:C,lastChild:N,positionalParamSegments:B}=gp(t,r,s);if(!l)return yp(t);const Y=this.applyRedirectCommands(C,r.redirectTo,B);return r.redirectTo.startsWith("/")?r1(Y):this.lineralizeSegments(r,Y).pipe(Ye(Q=>this.expandSegment(e,t,i,Q.concat(s.slice(N)),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Tt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(Z(Q=>(i._loadedConfig=Q,new Ht(r,{})))):Tt(new Ht(r,{}));const{matched:o,consumedSegments:l,lastChild:C}=gp(t,i,r);if(!o)return yp(t);const N=r.slice(C);return this.getChildConfig(e,i,r).pipe(Ye(Y=>{const Q=Y.module,K=Y.routes,{segmentGroup:q,slicedSegments:re}=mp(t,l,N,K),ae=new Ht(q.segments,q.children);if(0===re.length&&ae.hasChildren())return this.expandChildren(Q,K,ae).pipe(Z(Te=>new Ht(l,Te)));if(0===K.length&&0===re.length)return Tt(new Ht(l,{}));const ve=Hr(i)===s;return this.expandSegment(Q,ae,K,re,ve?Rt:s,!0).pipe(Z(Oe=>new Ht(l.concat(Oe.segments),Oe.children)))}))}getChildConfig(e,t,i){return t.children?Tt(new _b(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Tt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(Ye(r=>r?this.configLoader.load(e.injector,t).pipe(Z(s=>(t._loadedConfig=s,s))):function(n){return new h(e=>e.error(hb(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Tt(new _b([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?Tt(r.map(o=>{const l=e.get(o);let C;if(function(n){return n&&aa(n.canLoad)}(l))C=l.canLoad(t,i);else{if(!aa(l))throw new Error("Invalid CanLoad guard");C=l(t,i)}return Ys(C)})).pipe(Oh(),wr(o=>{if(!tl(o))return;const l=hb(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw l.url=o,l}),Z(o=>!0===o)):Tt(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Tt(i);if(r.numberOfChildren>1||!r.children[Rt])return Az(e.redirectTo);r=r.children[Rt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new qa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ei(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=t[l]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Ei(t.children,(l,C)=>{o[C]=this.createSegmentGroup(e,l,i,r)}),new Ht(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Db(n){const e={};for(const i of Object.keys(n.children)){const s=Db(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new Ht(n.segments.concat(e.segments),e.children)}return n}(new Ht(n.segments,e))}class s1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bp{constructor(e,t){this.component=e,this.route=t}}function Bz(n,e,t){const i=n._root;return Ah(i,e?e._root:null,t,[i.value])}function Cp(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Ah(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=xh(e);return n.children.forEach(o=>{(function(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const C=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!el(n.url,e.url);case"pathParamsOrQueryParamsChange":return!el(n.url,e.url)||!Gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yb(n,e)||!Gs(n.queryParams,e.queryParams);case"paramsChange":default:return!yb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);C?r.canActivateChecks.push(new s1(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Ah(n,e,s.component?l?l.children:null:t,i,r),C&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new bp(l.outlet.component,o))}else o&&Ph(e,l,r),r.canActivateChecks.push(new s1(i)),Ah(n,null,s.component?l?l.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Ei(s,(o,l)=>Ph(o,t.getContext(l),r)),r}function Ph(n,e,t){const i=xh(n),r=n.value;Ei(i,(s,o)=>{Ph(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new bp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Zz{}function o1(n){return new h(e=>e.error(n))}class qz{constructor(e,t,i,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=mp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Rt);if(null===t)return null;const i=new hp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Eo(i,t),s=new Ux(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=zx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const o=t.children[s],l=qx(e,s),C=this.processSegmentGroup(l,o,s);if(null===C)return null;i.push(...C)}const r=a1(i);return function(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,i,r);if(null!==o)return o}return n1(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!t1(e,t,i,r))return null;let s,o=[],l=[];if("**"===e.path){const K=i.length>0?Mx(i).parameters:{};s=new hp(i,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,d1(e),Hr(e),e.component,e,l1(t),u1(t)+i.length,h1(e))}else{const K=gp(t,e,i);if(!K.matched)return null;o=K.consumedSegments,l=i.slice(K.lastChild),s=new hp(o,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,d1(e),Hr(e),e.component,e,l1(t),u1(t)+o.length,h1(e))}const C=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:N,slicedSegments:B}=mp(t,o,l,C.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===B.length&&N.hasChildren()){const K=this.processChildren(C,N);return null===K?null:[new Eo(s,K)]}if(0===C.length&&0===B.length)return[new Eo(s,[])];const Y=Hr(e)===r,Q=this.processSegment(C,N,B,Y?Rt:r);return null===Q?null:[new Eo(s,Q)]}}function nU(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function a1(n){const e=[],t=new Set;for(const i of n){if(!nU(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=a1(i.children);e.push(new Eo(i.value,r))}return e.filter(i=>!t.has(i))}function l1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function u1(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function d1(n){return n.data||{}}function h1(n){return n.resolve||{}}function Sb(n){return sa(e=>{const t=n(e);return t?at(t).pipe(Z(()=>e)):Tt(e)})}class dU extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tb=new Pt("ROUTES");class c1{constructor(e,t,i,r){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(Z(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new _b(xx(o.injector.get(Tb,void 0,et.Self|et.Optional)).map(Eb),o)}),Ja(s=>{throw t._loader$=void 0,s}));return t._loader$=new ko(r,()=>new j).pipe(wn()),t._loader$}loadModuleFactory(e){return"string"==typeof e?at(this.loader.load(e)):Ys(e()).pipe(Ye(t=>t instanceof WE?Tt(t):at(this.compiler.compileModuleAsync(t))))}}class hU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lu,this.attachRef=null}}class Lu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new hU,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class fU{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pU(n){throw n}function gU(n,e,t){return e.parse("/")}function f1(n,e){return Tt(null)}const mU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class n{constructor(t,i,r,s,o,l,C,N){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=N,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=pU,this.malformedUriErrorHandler=gU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:f1,afterPreactivation:f1},this.urlHandlingStrategy=new fU,this.routeReuseStrategy=new dU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Us),this.console=o.get(yf);const Q=o.get(En);this.isNgZoneEnabled=Q instanceof En&&En.isInAngularZone(),this.resetConfig(N),this.currentUrlTree=new qa(new Ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new c1(l,C,K=>this.triggerEvent(new _x(K)),K=>this.triggerEvent(new Ex(K))),this.routerState=Hx(this.currentUrlTree,this.rootComponentType),this.transitions=new vs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Pu(r=>0!==r.id),Z(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),sa(r=>{let s=!1,o=!1;return Tt(r).pipe(wr(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sa(l=>{const C=this.browserUrlTree.toString(),N=!this.navigated||l.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||N)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return wp(l.source)&&(this.browserUrlTree=l.extractedUrl),Tt(l).pipe(sa(Y=>{const Q=this.transitions.getValue();return i.next(new db(Y.id,this.serializeUrl(Y.extractedUrl),Y.source,Y.restoredState)),Q!==this.transitions.getValue()?Au:Promise.resolve(Y)}),function(n,e,t,i){return sa(r=>function(n,e,t,i,r){return new Nz(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(Z(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wr(Y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Y.urlAfterRedirects})}),function(n,e,t,i,r){return Ye(s=>function(n,e,t,i,r="emptyOnly",s="legacy"){try{const o=new qz(n,e,t,i,r,s).recognize();return null===o?o1(new Zz):Tt(o)}catch(o){return o1(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(Z(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,Y=>this.serializeUrl(Y),this.paramsInheritanceStrategy,this.relativeLinkResolution),wr(Y=>{"eager"===this.urlUpdateStrategy&&(Y.extras.skipLocationChange||this.setBrowserUrl(Y.urlAfterRedirects,Y),this.browserUrlTree=Y.urlAfterRedirects);const Q=new IH(Y.id,this.serializeUrl(Y.extractedUrl),this.serializeUrl(Y.urlAfterRedirects),Y.targetSnapshot);i.next(Q)}));if(N&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:K,source:q,restoredState:re,extras:ae}=l,ve=new db(Q,this.serializeUrl(K),q,re);i.next(ve);const fe=Hx(K,this.rootComponentType).snapshot;return Tt(Object.assign(Object.assign({},l),{targetSnapshot:fe,urlAfterRedirects:K,extras:Object.assign(Object.assign({},ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,this.browserUrlTree=l.urlAfterRedirects,l.resolve(null),Au}),Sb(l=>{const{targetSnapshot:C,id:N,extractedUrl:B,rawUrl:Y,extras:{skipLocationChange:Q,replaceUrl:K}}=l;return this.hooks.beforePreactivation(C,{navigationId:N,appliedUrlTree:B,rawUrlTree:Y,skipLocationChange:!!Q,replaceUrl:!!K})}),wr(l=>{const C=new AH(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(C)}),Z(l=>Object.assign(Object.assign({},l),{guards:Bz(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function(n,e){return Ye(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Tt(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,i){return at(n).pipe(Ye(r=>function(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Tt(s.map(l=>{const C=Cp(l,e,r);let N;if(function(n){return n&&aa(n.canDeactivate)}(C))N=Ys(C.canDeactivate(n,e,t,i));else{if(!aa(C))throw new Error("Invalid CanDeactivate guard");N=Ys(C(n,e,t,i))}return N.pipe(Ru())})).pipe(Oh()):Tt(!0)}(r.component,r.route,t,e,i)),Ru(r=>!0!==r,!0))}(o,i,r,n).pipe(Ye(l=>l&&function(n){return"boolean"==typeof n}(l)?function(n,e,t,i){return at(e).pipe(Eh(r=>ob(function(n,e){return null!==n&&e&&e(new FH(n)),Tt(!0)}(r.route.parent,i),function(n,e){return null!==n&&e&&e(new BH(n)),Tt(!0)}(r.route,i),function(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>mx(()=>Tt(o.guards.map(C=>{const N=Cp(C,o.node,t);let B;if(function(n){return n&&aa(n.canActivateChild)}(N))B=Ys(N.canActivateChild(i,n));else{if(!aa(N))throw new Error("Invalid CanActivateChild guard");B=Ys(N(i,n))}return B.pipe(Ru())})).pipe(Oh())));return Tt(s).pipe(Oh())}(n,r.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Tt(i.map(s=>mx(()=>{const o=Cp(s,e,t);let l;if(function(n){return n&&aa(n.canActivate)}(o))l=Ys(o.canActivate(e,n));else{if(!aa(o))throw new Error("Invalid CanActivate guard");l=Ys(o(e,n))}return l.pipe(Ru())}))).pipe(Oh()):Tt(!0)}(n,r.route,t))),Ru(r=>!0!==r,!0))}(i,s,n,e):Tt(l)),Z(l=>Object.assign(Object.assign({},t),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),wr(l=>{if(tl(l.guardsResult)){const N=hb(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw N.url=l.guardsResult,N}const C=new PH(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(C)}),Pu(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),Sb(l=>{if(l.guards.canActivateChecks.length)return Tt(l).pipe(wr(C=>{const N=new RH(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(N)}),sa(C=>{let N=!1;return Tt(C).pipe(function(n,e){return Ye(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Tt(t);let s=0;return at(r).pipe(Eh(o=>function(n,e,t,i){return function(n,e,t,i){const r=Object.keys(n);if(0===r.length)return Tt({});const s={};return at(r).pipe(Ye(o=>function(n,e,t,i){const r=Cp(n,e,i);return Ys(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,i).pipe(wr(l=>{s[o]=l}))),ub(1),Ye(()=>Object.keys(s).length===r.length?Tt(s):Au))}(n._resolve,n,e,i).pipe(Z(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),zx(n,t).resolve),null)))}(o.route,i,n,e)),wr(()=>s++),ub(1),Ye(o=>s===r.length?Tt(t):Au))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wr({next:()=>N=!0,complete:()=>{N||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),wr(C=>{const N=new NH(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(N)}))}),Sb(l=>{const{targetSnapshot:C,id:N,extractedUrl:B,rawUrl:Y,extras:{skipLocationChange:Q,replaceUrl:K}}=l;return this.hooks.afterPreactivation(C,{navigationId:N,appliedUrlTree:B,rawUrlTree:Y,skipLocationChange:!!Q,replaceUrl:!!K})}),Z(l=>{const C=function(n,e,t){const i=cp(n,e._root,t?t._root:void 0);return new Vx(i,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:C})}),wr(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>Z(i=>(new bz(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),wr({next(){s=!0},complete(){s=!0}}),function(n){return e=>e.lift(new MH(n))}(()=>{if(!s&&!o){const l=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,l)):this.cancelNavigationTransition(r,l)}this.currentNavigation=null}),Ja(l=>{if(o=!0,function(n){return n&&n[Sx]}(l)){const C=tl(l.url);C||(this.navigated=!0,this.restoreHistory(r,!0));const N=new wx(r.id,this.serializeUrl(r.extractedUrl),l.message);i.next(N),C?setTimeout(()=>{const B=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),Y={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wp(r.source)};this.scheduleNavigation(B,"imperative",null,Y,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const C=new OH(r.id,this.serializeUrl(r.extractedUrl),l);i.next(C);try{r.resolve(this.errorHandler(l))}catch(N){r.reject(N)}}return Au}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:s,urlTree:o}=i,l={replaceUrl:!0};if(s){const C=Object.assign({},s);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(l.state=C)}this.scheduleNavigation(o,r,s,l)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(t){var i;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,i){if(!t)return!0;const r=i.urlTree.toString()===t.urlTree.toString();return i.transitionId!==t.transitionId||!r||!("hashchange"===i.source&&"popstate"===t.source||"popstate"===i.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Jx(t),this.config=t.map(Eb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:C}=i,N=r||this.routerState.root,B=C?this.currentUrlTree.fragment:o;let Y=null;switch(l){case"merge":Y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":Y=this.currentUrlTree.queryParams;break;default:Y=s||null}return null!==Y&&(Y=this.removeEmptyProps(Y)),function(n,e,t,i,r){if(0===t.length)return bb(e.root,e.root,e,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gx(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Ei(s.outlets,(C,N)=>{l[N]="string"==typeof C?C.split("/"):C}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,C)=>{0==C&&"."===l||(0==C&&""===l?t=!0:".."===l?e++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new Gx(t,e,i)}(t);if(s.toRoot())return bb(e.root,new Ht([],{}),e,i,r);const o=function(n,e,t){if(n.isAbsolute)return new Cb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Cb(s,s===e.root,0)}const i=fp(n.commands[0])?0:1;return function(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Cb(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),l=o.processChildren?pp(o.segmentGroup,o.index,s.commands):Yx(o.segmentGroup,o.index,s.commands);return bb(o.segmentGroup,l,e,i,r)}(N,this.currentUrlTree,t,Y,null!=B?B:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=tl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},mU):!1===i?Object.assign({},vU):i,tl(t))return Ox(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Ox(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Dh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){var l,C;if(this.disposed)return Promise.resolve(!1);const N=this.getTransition(),B=wp(i)&&N&&!wp(N.source),K=(this.lastSuccessfulId===N.id||this.currentNavigation?N.rawUrl:N.urlAfterRedirects).toString()===t.toString();if(B&&K)return Promise.resolve(!0);let q,re,ae;o?(q=o.resolve,re=o.reject,ae=o.promise):ae=new Promise((Oe,Te)=>{q=Oe,re=Te});const ve=++this.navigationId;let fe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),fe=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):fe=0,this.setTransition({id:ve,targetPageId:fe,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:q,reject:re,promise:ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ae.catch(Oe=>Promise.reject(Oe))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new wx(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(Le(xc),Le(cb),Le(Lu),Le(If),Le(en),Le(Cf),Le(Ya),Le(void 0))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();function wp(n){return"imperative"!==n}let _p=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.route=i,this.commands=[],this.onChanges=new j,null==r&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Vu(this.skipLocationChange),replaceUrl:Vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(De(Wi),De(Fu),ts("tabindex"),De(zs),De(ui))},n.\u0275dir=rt({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&gt("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Xn]}),n})(),Bu=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new j,this.subscription=t.events.subscribe(s=>{s instanceof Dh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,o){if(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target)return!0;const l={skipLocationChange:Vu(this.skipLocationChange),replaceUrl:Vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(De(Wi),De(Fu),De(ku))},n.\u0275dir=rt({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&gt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&(ov("href",i.href,Fc),nr("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Xn]}),n})();function Vu(n){return""===n||!!n}let Ep=(()=>{class n{constructor(t,i,r,s,o,l){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(C=>{C instanceof Dh&&this.update()})}ngAfterContentInit(){Tt(this.links.changes,this.linksWithHrefs.changes,Tt(null)).pipe(St()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=at(i).pipe(St()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(t){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(De(Wi),De(ui),De(zs),De(vv),De(_p,8),De(Bu,8))},n.\u0275dir=rt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(Bv(r,_p,5),Bv(r,Bu,5)),2&t){let s;pf(s=gf())&&(i.links=s),pf(s=gf())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Xn]}),n})(),xb=(()=>{class n{constructor(t,i,r,s,o){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ni,this.deactivateEvents=new ni,this.name=s||Rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,C=new CU(t,l,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(De(Lu),De(us),De(Ko),ts("name"),De(vv))},n.\u0275dir=rt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class CU{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Fu?this.route:e===Lu?this.childContexts:this.parent.get(e,t)}}class p1{}class g1{preload(e,t){return Tt(null)}}let m1=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new c1(i,r,N=>t.triggerEvent(new _x(N)),N=>t.triggerEvent(new Ex(N)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pu(t=>t instanceof Dh),Eh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Us);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return at(r).pipe(St(),Z(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Tt(i._loadedConfig):this.loader.load(t.injector,i)).pipe(Ye(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Le(Wi),Le(Cf),Le(Ya),Le(en),Le(p1))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),Mb=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof db?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Dx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Le(Wi),Le(rT),Le(void 0))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();const nl=new Pt("ROUTER_CONFIGURATION"),v1=new Pt("ROUTER_FORROOT_GUARD"),_U=[If,{provide:cb,useClass:Rx},{provide:Wi,useFactory:function(n,e,t,i,r,s,o,l={},C,N){const B=new Wi(null,n,e,t,i,r,s,xx(o));return C&&(B.urlHandlingStrategy=C),N&&(B.routeReuseStrategy=N),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(l,B),l.enableTracing&&B.events.subscribe(Y=>{var Q,K;null===(Q=console.group)||void 0===Q||Q.call(console,`Router Event: ${Y.constructor.name}`),console.log(Y.toString()),console.log(Y),null===(K=console.groupEnd)||void 0===K||K.call(console)}),B},deps:[cb,Lu,If,en,Cf,Ya,Tb,nl,[class{},new tr],[class{},new tr]]},Lu,{provide:Fu,useFactory:function(n){return n.routerState.root},deps:[Wi]},{provide:Cf,useClass:E2},m1,g1,class{preload(e,t){return t().pipe(Ja(()=>Tt(null)))}},{provide:nl,useValue:{enableTracing:!1}}];function EU(){return new Jv("Router",Wi)}let DU=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[_U,y1(t),{provide:v1,useFactory:xU,deps:[[Wi,new tr,new Wo]]},{provide:nl,useValue:i||{}},{provide:ku,useFactory:TU,deps:[Xa,[new Wl(gy),new tr],nl]},{provide:Mb,useFactory:SU,deps:[Wi,rT,nl]},{provide:p1,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:g1},{provide:Jv,multi:!0,useFactory:EU},[kb,{provide:oh,multi:!0,useFactory:IU,deps:[kb]},{provide:b1,useFactory:AU,deps:[kb]},{provide:JD,multi:!0,useExisting:b1}]]}}static forChild(t){return{ngModule:n,providers:[y1(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Le(v1,8),Le(Wi,8))},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({}),n})();function SU(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Mb(n,e,t)}function TU(n,e,t={}){return t.useHash?new jL(n,e):new US(n,e)}function xU(n){return"guarded"}function y1(n){return[{provide:qM,multi:!0,useValue:n},{provide:Tb,multi:!0,useValue:n}]}let kb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new j}appInitializer(){return this.injector.get(HL,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(l=>i=l),s=this.injector.get(Wi),o=this.injector.get(nl);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Tt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(nl),r=this.injector.get(m1),s=this.injector.get(Mb),o=this.injector.get(Wi),l=this.injector.get(Jo);t===l.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Le(en))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();function IU(n){return n.appInitializer.bind(n)}function AU(n){return n.bootstrapListener.bind(n)}const b1=new Pt("Router Initializer");function C1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ks(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?C1(Object(t),!0).forEach(function(i){RU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Dp(n){return(Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function RU(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zr(){return(zr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function FU(n,e){if(null==n)return{};var i,r,t=function(n,e){if(null==n)return{};var r,s,t={},i=Object.keys(n);for(s=0;s<i.length;s++)!(e.indexOf(r=i[s])>=0)&&(t[r]=n[r]);return t}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)!(e.indexOf(i=s[r])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,i)||(t[i]=n[i]))}return t}function Do(n){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(n)}var So=Do(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rh=Do(/Edge/i),w1=Do(/firefox/i),Nh=Do(/safari/i)&&!Do(/chrome/i)&&!Do(/android/i),_1=Do(/iP(ad|od|hone)/i),jU=Do(/chrome/i)&&Do(/android/i),E1={capture:!1,passive:!1};function zt(n,e,t){n.addEventListener(e,t,!So&&E1)}function Nt(n,e,t){n.removeEventListener(e,t,!So&&E1)}function Sp(n,e){if(e){if(">"===e[0]&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function WU(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ys(n,e,t,i){if(n){t=t||document;do{if(null!=e&&(">"===e[0]?n.parentNode===t&&Sp(n,e):Sp(n,e))||i&&n===t)return n;if(n===t)break}while(n=WU(n))}return null}var Fh,D1=/\s+/g;function Ln(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(D1," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(D1," ")}}function Xe(n,e,t){var i=n&&n.style;if(i){if(void 0===t)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),void 0===e?t:t[e];!(e in i)&&-1===e.indexOf("webkit")&&(e="-webkit-"+e),i[e]=t+("string"==typeof t?"":"px")}}function il(n,e){var t="";if("string"==typeof n)t=n;else do{var i=Xe(n,"transform");i&&"none"!==i&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function S1(n,e,t){if(n){var i=n.getElementsByTagName(e),r=0,s=i.length;if(t)for(;r<s;r++)t(i[r],r);return i}return[]}function Qs(){return document.scrollingElement||document.documentElement}function xn(n,e,t,i,r){if(n.getBoundingClientRect||n===window){var s,o,l,C,N,B,Y;if(n!==window&&n.parentNode&&n!==Qs()?(o=(s=n.getBoundingClientRect()).top,l=s.left,C=s.bottom,N=s.right,B=s.height,Y=s.width):(o=0,l=0,C=window.innerHeight,N=window.innerWidth,B=window.innerHeight,Y=window.innerWidth),(e||t)&&n!==window&&(r=r||n.parentNode,!So))do{if(r&&r.getBoundingClientRect&&("none"!==Xe(r,"transform")||t&&"static"!==Xe(r,"position"))){var Q=r.getBoundingClientRect();o-=Q.top+parseInt(Xe(r,"border-top-width")),l-=Q.left+parseInt(Xe(r,"border-left-width")),C=o+s.height,N=l+s.width;break}}while(r=r.parentNode);if(i&&n!==window){var K=il(r||n),q=K&&K.a,re=K&&K.d;K&&(C=(o/=re)+(B/=re),N=(l/=q)+(Y/=q))}return{top:o,left:l,bottom:C,right:N,width:Y,height:B}}}function T1(n,e,t){for(var i=la(n,!0),r=xn(n)[e];i;){var s=xn(i)[t];if(!("top"===t||"left"===t?r>=s:r<=s))return i;if(i===Qs())break;i=la(i,!1)}return!1}function Hu(n,e,t,i){for(var r=0,s=0,o=n.children;s<o.length;){if("none"!==o[s].style.display&&o[s]!==ct.ghost&&(i||o[s]!==ct.dragged)&&ys(o[s],t.draggable,n,!1)){if(r===e)return o[s];r++}s++}return null}function Ib(n,e){for(var t=n.lastElementChild;t&&(t===ct.ghost||"none"===Xe(t,"display")||e&&!Sp(t,e));)t=t.previousElementSibling;return t||null}function Un(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)"TEMPLATE"!==n.nodeName.toUpperCase()&&n!==ct.clone&&(!e||Sp(n,e))&&t++;return t}function x1(n){var e=0,t=0,i=Qs();if(n)do{var r=il(n);e+=n.scrollLeft*r.a,t+=n.scrollTop*r.d}while(n!==i&&(n=n.parentNode));return[e,t]}function la(n,e){if(!n||!n.getBoundingClientRect)return Qs();var t=n,i=!1;do{if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=Xe(t);if(t.clientWidth<t.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||t.clientHeight<t.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!t.getBoundingClientRect||t===document.body)return Qs();if(i||e)return t;i=!0}}}while(t=t.parentNode);return Qs()}function Ab(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}function M1(n,e){return function(){if(!Fh){var t=arguments,i=this;1===t.length?n.call(i,t[0]):n.apply(i,t),Fh=setTimeout(function(){Fh=void 0},e)}}}function k1(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Pb(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var Ai="Sortable"+(new Date).getTime();var zu=[],Nb={initializeByDefault:!0},Lh={mount:function(e){for(var t in Nb)Nb.hasOwnProperty(t)&&!(t in e)&&(e[t]=Nb[t]);zu.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),zu.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var s=e+"Global";zu.forEach(function(o){!t[o.pluginName]||(t[o.pluginName][s]&&t[o.pluginName][s](Ks({sortable:t},i)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Ks({sortable:t},i)))})},initializePlugins:function(e,t,i,r){for(var s in zu.forEach(function(l){var C=l.pluginName;if(e.options[C]||l.initializeByDefault){var N=new l(e,t,e.options);N.sortable=e,N.options=e.options,e[C]=N,zr(i,N.defaults)}}),e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);void 0!==o&&(e.options[s]=o)}},getEventProperties:function(e,t){var i={};return zu.forEach(function(r){"function"==typeof r.eventProperties&&zr(i,r.eventProperties.call(t[r.pluginName],e))}),i},modifyOption:function(e,t,i){var r;return zu.forEach(function(s){!e[s.pluginName]||s.optionListeners&&"function"==typeof s.optionListeners[t]&&(r=s.optionListeners[t].call(e[s.pluginName],i))}),r}};var ZU=["evt"],rr=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.evt,s=FU(i,ZU);Lh.pluginEvent.bind(ct)(e,t,Ks({dragEl:He,parentEl:jn,ghostEl:xt,rootEl:Mn,nextEl:rl,lastDownEl:Tp,cloneEl:Wn,cloneHidden:ua,dragStarted:Hh,putSortable:Di,activeSortable:ct.active,originalEvent:r,oldIndex:Uu,oldDraggableIndex:Vh,newIndex:_r,newDraggableIndex:da,hideGhostForTarget:L1,unhideGhostForTarget:B1,cloneNowHidden:function(){ua=!0},cloneNowShown:function(){ua=!1},dispatchSortableEvent:function(l){$i({sortable:t,name:l,originalEvent:r})}},s))};function $i(n){!function(n){var e=n.sortable,t=n.rootEl,i=n.name,r=n.targetEl,s=n.cloneEl,o=n.toEl,l=n.fromEl,C=n.oldIndex,N=n.newIndex,B=n.oldDraggableIndex,Y=n.newDraggableIndex,Q=n.originalEvent,K=n.putSortable,q=n.extraEventProperties;if(e=e||t&&t[Ai]){var re,ae=e.options,ve="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||So||Rh?(re=document.createEvent("Event")).initEvent(i,!0,!0):re=new CustomEvent(i,{bubbles:!0,cancelable:!0}),re.to=o||t,re.from=l||t,re.item=r||t,re.clone=s,re.oldIndex=C,re.newIndex=N,re.oldDraggableIndex=B,re.newDraggableIndex=Y,re.originalEvent=Q,re.pullMode=K?K.lastPutMode:void 0;var fe=Ks(Ks({},q),Lh.getEventProperties(i,e));for(var Oe in fe)re[Oe]=fe[Oe];t&&t.dispatchEvent(re),ae[ve]&&ae[ve].call(e,re)}}(Ks({putSortable:Di,cloneEl:Wn,targetEl:He,rootEl:Mn,oldIndex:Uu,oldDraggableIndex:Vh,newIndex:_r,newDraggableIndex:da},n))}var He,jn,xt,Mn,rl,Tp,Wn,ua,Uu,_r,Vh,da,xp,Di,sl,bs,Fb,Lb,I1,A1,Hh,Wu,zh,Ip,Pi,ju=!1,Mp=!1,kp=[],Uh=!1,Op=!1,Bb=[],Vb=!1,Ap=[],Pp="undefined"!=typeof document,Rp=_1,P1=Rh||So?"cssFloat":"float",JU=Pp&&!jU&&!_1&&"draggable"in document.createElement("div"),R1=function(){if(Pp){if(So)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto","auto"===n.style.pointerEvents}}(),N1=function(e,t){var i=Xe(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=Hu(e,0,t),o=Hu(e,1,t),l=s&&Xe(s),C=o&&Xe(o),N=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xn(s).width,B=C&&parseInt(C.marginLeft)+parseInt(C.marginRight)+xn(o).width;return"flex"===i.display?"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal":"grid"===i.display?i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":s&&l.float&&"none"!==l.float?!o||"both"!==C.clear&&C.clear!==("left"===l.float?"left":"right")?"horizontal":"vertical":s&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||N>=r&&"none"===i[P1]||o&&"none"===i[P1]&&N+B>r)?"vertical":"horizontal"},F1=function(e){function t(s,o){return function(l,C,N,B){if(null==s&&(o||l.options.group.name&&C.options.group.name&&l.options.group.name===C.options.group.name))return!0;if(null==s||!1===s)return!1;if(o&&"clone"===s)return s;if("function"==typeof s)return t(s(l,C,N,B),o)(l,C,N,B);var Q=(o?l:C).options.group.name;return!0===s||"string"==typeof s&&s===Q||s.join&&s.indexOf(Q)>-1}}var i={},r=e.group;(!r||"object"!=Dp(r))&&(r={name:r}),i.name=r.name,i.checkPull=t(r.pull,!0),i.checkPut=t(r.put),i.revertClone=r.revertClone,e.group=i},L1=function(){!R1&&xt&&Xe(xt,"display","none")},B1=function(){!R1&&xt&&Xe(xt,"display","")};Pp&&document.addEventListener("click",function(n){if(Mp)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Mp=!1,!1},!0);var ol=function(e){if(He){var t=function(e,t){var i;return kp.some(function(r){var s=r[Ai].options.emptyInsertThreshold;if(s&&!Ib(r)){var o=xn(r);if(e>=o.left-s&&e<=o.right+s&&t>=o.top-s&&t<=o.bottom+s)return i=r}}),i}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[Ai]._onDragOver(i)}}},tj=function(e){He&&He.parentNode[Ai]._isOutsideThisEl(e.target)};function ct(n,e){if(!n||!n.nodeType||1!==n.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=zr({},e),n[Ai]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return N1(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,l){o.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ct.supportPointer&&"PointerEvent"in window&&!Nh,emptyInsertThreshold:5};for(var i in Lh.initializePlugins(this,n,t),t)!(i in e)&&(e[i]=t[i]);for(var r in F1(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&JU,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?zt(n,"pointerdown",this._onTapStart):(zt(n,"mousedown",this._onTapStart),zt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(zt(n,"dragover",this),zt(n,"dragenter",this)),kp.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),zr(this,function(){var e,n=[];return{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(r){if("none"!==Xe(r,"display")&&r!==ct.ghost){n.push({target:r,rect:xn(r)});var s=Ks({},n[n.length-1].rect);if(r.thisAnimationDuration){var o=il(r,!0);o&&(s.top-=o.f,s.left-=o.e)}r.fromRect=s}})},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(function(n,e){for(var t in n)if(n.hasOwnProperty(t))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t);return-1}(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var s=!1,o=0;n.forEach(function(l){var C=0,N=l.target,B=N.fromRect,Y=xn(N),Q=N.prevFromRect,K=N.prevToRect,q=l.rect,re=il(N,!0);re&&(Y.top-=re.f,Y.left-=re.e),N.toRect=Y,N.thisAnimationDuration&&Ab(Q,Y)&&!Ab(B,Y)&&(q.top-Y.top)/(q.left-Y.left)==(B.top-Y.top)/(B.left-Y.left)&&(C=function(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}(q,Q,K,r.options)),Ab(Y,B)||(N.prevFromRect=B,N.prevToRect=Y,C||(C=r.options.animation),r.animate(N,q,Y,C)),C&&(s=!0,o=Math.max(o,C),clearTimeout(N.animationResetTimer),N.animationResetTimer=setTimeout(function(){N.animationTime=0,N.prevFromRect=null,N.fromRect=null,N.prevToRect=null,N.thisAnimationDuration=null},C),N.thisAnimationDuration=C)}),clearTimeout(e),s?e=setTimeout(function(){"function"==typeof i&&i()},o):"function"==typeof i&&i(),n=[]},animate:function(i,r,s,o){if(o){Xe(i,"transition",""),Xe(i,"transform","");var l=il(this.el),B=(r.left-s.left)/(l&&l.a||1),Y=(r.top-s.top)/(l&&l.d||1);i.animatingX=!!B,i.animatingY=!!Y,Xe(i,"transform","translate3d("+B+"px,"+Y+"px,0)"),this.forRepaintDummy=function(n){return n.offsetWidth}(i),Xe(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Xe(i,"transform","translate3d(0,0,0)"),"number"==typeof i.animated&&clearTimeout(i.animated),i.animated=setTimeout(function(){Xe(i,"transition",""),Xe(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}())}function Np(n,e,t,i,r,s,o,l){var C,Y,N=n[Ai],B=N.options.onMove;return!window.CustomEvent||So||Rh?(C=document.createEvent("Event")).initEvent("move",!0,!0):C=new CustomEvent("move",{bubbles:!0,cancelable:!0}),C.to=e,C.from=n,C.dragged=t,C.draggedRect=i,C.related=r||e,C.relatedRect=s||xn(e),C.willInsertAfter=l,C.originalEvent=o,n.dispatchEvent(C),B&&(Y=B.call(N,C,o)),Y}function Hb(n){n.draggable=!1}function ij(){Vb=!1}function lj(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function Fp(n){return setTimeout(n,0)}function zb(n){return clearTimeout(n)}ct.prototype={constructor:ct,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Wu=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,He):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,r=this.options,s=r.preventOnFilter,o=e.type,l=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,C=(l||e).target,N=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||C,B=r.filter;if(function(n){Ap.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&Ap.push(i)}}(i),!He&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!N.isContentEditable&&(this.nativeDraggable||!Nh||!C||"SELECT"!==C.tagName.toUpperCase())&&!((C=ys(C,r.draggable,i,!1))&&C.animated||Tp===C)){if(Uu=Un(C),Vh=Un(C,r.draggable),"function"==typeof B){if(B.call(this,e,C,this))return $i({sortable:t,rootEl:N,name:"filter",targetEl:C,toEl:i,fromEl:i}),rr("filter",t,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(B&&(B=B.split(",").some(function(Y){if(Y=ys(N,Y.trim(),i,!1))return $i({sortable:t,rootEl:Y,name:"filter",targetEl:C,fromEl:i,toEl:i}),rr("filter",t,{evt:e}),!0})))return void(s&&e.cancelable&&e.preventDefault());r.handle&&!ys(N,r.handle,i,!1)||this._prepareDragStart(e,l,C)}}},_prepareDragStart:function(e,t,i){var C,r=this,s=r.el,o=r.options,l=s.ownerDocument;if(i&&!He&&i.parentNode===s){var N=xn(i);if(Mn=s,jn=(He=i).parentNode,rl=He.nextSibling,Tp=i,xp=o.group,ct.dragged=He,I1=(sl={target:He,clientX:(t||e).clientX,clientY:(t||e).clientY}).clientX-N.left,A1=sl.clientY-N.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,He.style["will-change"]="all",C=function(){rr("delayEnded",r,{evt:e}),ct.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!w1&&r.nativeDraggable&&(He.draggable=!0),r._triggerDragStart(e,t),$i({sortable:r,name:"choose",originalEvent:e}),Ln(He,o.chosenClass,!0))},o.ignore.split(",").forEach(function(B){S1(He,B.trim(),Hb)}),zt(l,"dragover",ol),zt(l,"mousemove",ol),zt(l,"touchmove",ol),zt(l,"mouseup",r._onDrop),zt(l,"touchend",r._onDrop),zt(l,"touchcancel",r._onDrop),w1&&this.nativeDraggable&&(this.options.touchStartThreshold=4,He.draggable=!0),rr("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(Rh||So))C();else{if(ct.eventCanceled)return void this._onDrop();zt(l,"mouseup",r._disableDelayedDrag),zt(l,"touchend",r._disableDelayedDrag),zt(l,"touchcancel",r._disableDelayedDrag),zt(l,"mousemove",r._delayedDragTouchMoveHandler),zt(l,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&zt(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(C,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){He&&Hb(He),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Nt(e,"mouseup",this._disableDelayedDrag),Nt(e,"touchend",this._disableDelayedDrag),Nt(e,"touchcancel",this._disableDelayedDrag),Nt(e,"mousemove",this._delayedDragTouchMoveHandler),Nt(e,"touchmove",this._delayedDragTouchMoveHandler),Nt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?zt(document,this.options.supportPointer?"pointermove":t?"touchmove":"mousemove",this._onTouchMove):(zt(He,"dragend",this),zt(Mn,"dragstart",this._onDragStart));try{document.selection?Fp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(i){}},_dragStarted:function(e,t){if(ju=!1,Mn&&He){rr("dragStarted",this,{evt:t}),this.nativeDraggable&&zt(document,"dragover",tj);var i=this.options;!e&&Ln(He,i.dragClass,!1),Ln(He,i.ghostClass,!0),ct.active=this,e&&this._appendGhost(),$i({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(bs){this._lastX=bs.clientX,this._lastY=bs.clientY,L1();for(var e=document.elementFromPoint(bs.clientX,bs.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(bs.clientX,bs.clientY))!==t;)t=e;if(He.parentNode[Ai]._isOutsideThisEl(e),t)do{if(t[Ai]&&t[Ai]._onDragOver({clientX:bs.clientX,clientY:bs.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);B1()}},_onTouchMove:function(e){if(sl){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=xt&&il(xt,!0),l=xt&&o&&o.a,C=xt&&o&&o.d,N=Rp&&Pi&&x1(Pi),B=(s.clientX-sl.clientX+r.x)/(l||1)+(N?N[0]-Bb[0]:0)/(l||1),Y=(s.clientY-sl.clientY+r.y)/(C||1)+(N?N[1]-Bb[1]:0)/(C||1);if(!ct.active&&!ju){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(xt){o?(o.e+=B-(Fb||0),o.f+=Y-(Lb||0)):o={a:1,b:0,c:0,d:1,e:B,f:Y};var Q="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Xe(xt,"webkitTransform",Q),Xe(xt,"mozTransform",Q),Xe(xt,"msTransform",Q),Xe(xt,"transform",Q),Fb=B,Lb=Y,bs=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!xt){var e=this.options.fallbackOnBody?document.body:Mn,t=xn(He,!0,Rp,!0,e),i=this.options;if(Rp){for(Pi=e;"static"===Xe(Pi,"position")&&"none"===Xe(Pi,"transform")&&Pi!==document;)Pi=Pi.parentNode;Pi!==document.body&&Pi!==document.documentElement?(Pi===document&&(Pi=Qs()),t.top+=Pi.scrollTop,t.left+=Pi.scrollLeft):Pi=Qs(),Bb=x1(Pi)}Ln(xt=He.cloneNode(!0),i.ghostClass,!1),Ln(xt,i.fallbackClass,!0),Ln(xt,i.dragClass,!0),Xe(xt,"transition",""),Xe(xt,"transform",""),Xe(xt,"box-sizing","border-box"),Xe(xt,"margin",0),Xe(xt,"top",t.top),Xe(xt,"left",t.left),Xe(xt,"width",t.width),Xe(xt,"height",t.height),Xe(xt,"opacity","0.8"),Xe(xt,"position",Rp?"absolute":"fixed"),Xe(xt,"zIndex","100000"),Xe(xt,"pointerEvents","none"),ct.ghost=xt,e.appendChild(xt),Xe(xt,"transform-origin",I1/parseInt(xt.style.width)*100+"% "+A1/parseInt(xt.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,s=i.options;rr("dragStart",this,{evt:e}),ct.eventCanceled?this._onDrop():(rr("setupClone",this),ct.eventCanceled||((Wn=Pb(He)).draggable=!1,Wn.style["will-change"]="",this._hideClone(),Ln(Wn,this.options.chosenClass,!1),ct.clone=Wn),i.cloneId=Fp(function(){rr("clone",i),!ct.eventCanceled&&(i.options.removeCloneOnHide||Mn.insertBefore(Wn,He),i._hideClone(),$i({sortable:i,name:"clone"}))}),!t&&Ln(He,s.dragClass,!0),t?(Mp=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Nt(document,"mouseup",i._onDrop),Nt(document,"touchend",i._onDrop),Nt(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(i,r,He)),zt(document,"drop",i),Xe(He,"transform","translateZ(0)")),ju=!0,i._dragStartId=Fp(i._dragStarted.bind(i,t,e)),zt(document,"selectstart",i),Hh=!0,Nh&&Xe(document.body,"user-select","none"))},_onDragOver:function(e){var r,s,o,K,t=this.el,i=e.target,l=this.options,C=l.group,N=ct.active,B=xp===C,Y=l.sort,Q=Di||N,q=this,re=!1;if(!Vb){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=ys(i,l.draggable,t,!0),ae("dragOver"),ct.eventCanceled)return re;if(He.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||q._ignoreWhileAnimating===i)return fe(!1);if(Mp=!1,N&&!l.disabled&&(B?Y||(o=jn!==Mn):Di===this||(this.lastPutMode=xp.checkPull(this,N,He,e))&&C.checkPut(this,N,He,e))){if(K="vertical"===this._getDirection(e,i),r=xn(He),ae("dragOverValid"),ct.eventCanceled)return re;if(o)return jn=Mn,ve(),this._hideClone(),ae("revert"),ct.eventCanceled||(rl?Mn.insertBefore(He,rl):Mn.appendChild(He)),fe(!0);var Te=Ib(t,l.draggable);if(!Te||function(n,e,t){var i=xn(Ib(t.el,t.options.draggable));return e?n.clientX>i.right+10||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+10}(e,K,this)&&!Te.animated){if(Te===He)return fe(!1);if(Te&&t===e.target&&(i=Te),i&&(s=xn(i)),!1!==Np(Mn,t,He,r,i,s,e,!!i))return ve(),t.appendChild(He),jn=t,Oe(),fe(!0)}else if(Te&&function(n,e,t){var i=xn(Hu(t.el,0,t.options,!0));return e?n.clientX<i.left-10||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-10||n.clientY<i.bottom&&n.clientX<i.left}(e,K,this)){var Ze=Hu(t,0,l,!0);if(Ze===He)return fe(!1);if(s=xn(i=Ze),!1!==Np(Mn,t,He,r,i,s,e,!1))return ve(),t.insertBefore(He,Ze),jn=t,Oe(),fe(!0)}else if(i.parentNode===t){s=xn(i);var Et,Ft,kn,Bn=He.parentNode!==t,Ut=!function(e,t,i){var r=i?e.left:e.top,l=i?t.left:t.top;return r===l||(i?e.right:e.bottom)===(i?t.right:t.bottom)||r+(i?e.width:e.height)/2===l+(i?t.width:t.height)/2}(He.animated&&He.toRect||r,i.animated&&i.toRect||s,K),hn=K?"top":"left",$n=T1(i,"top","top")||T1(He,"top","top"),hi=$n?$n.scrollTop:void 0;if(Wu!==i&&(Ft=s[hn],Uh=!1,Op=!Ut&&l.invertSwap||Bn),0!==(Et=function(n,e,t,i,r,s,o,l){var C=i?n.clientY:n.clientX,N=i?t.height:t.width,B=i?t.top:t.left,Y=i?t.bottom:t.right,Q=!1;if(!o)if(l&&Ip<N*r){if(!Uh&&(1===zh?C>B+N*s/2:C<Y-N*s/2)&&(Uh=!0),Uh)Q=!0;else if(1===zh?C<B+Ip:C>Y-Ip)return-zh}else if(C>B+N*(1-r)/2&&C<Y-N*(1-r)/2)return function(n){return Un(He)<Un(n)?1:-1}(e);return(Q=Q||o)&&(C<B+N*s/2||C>Y-N*s/2)?C>B+N/2?1:-1:0}(e,i,s,K,Ut?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Op,Wu===i))){var lr=Un(He);do{kn=jn.children[lr-=Et]}while(kn&&("none"===Xe(kn,"display")||kn===xt))}if(0===Et||kn===i)return fe(!1);Wu=i,zh=Et;var Gr=i.nextElementSibling,Ue=!1,tt=Np(Mn,t,He,r,i,s,e,Ue=1===Et);if(!1!==tt)return(1===tt||-1===tt)&&(Ue=1===tt),Vb=!0,setTimeout(ij,30),ve(),Ue&&!Gr?t.appendChild(He):i.parentNode.insertBefore(He,Ue?Gr:i),$n&&k1($n,0,hi-$n.scrollTop),jn=He.parentNode,void 0!==Ft&&!Op&&(Ip=Math.abs(Ft-xn(i)[hn])),Oe(),fe(!0)}if(t.contains(He))return fe(!1)}return!1}function ae(ot,Wt){rr(ot,q,Ks({evt:e,isOwner:B,axis:K?"vertical":"horizontal",revert:o,dragRect:r,targetRect:s,canSort:Y,fromSortable:Q,target:i,completed:fe,onMove:function(Tr,Gi){return Np(Mn,t,He,r,Tr,xn(Tr),e,Gi)},changed:Oe},Wt))}function ve(){ae("dragOverAnimationCapture"),q.captureAnimationState(),q!==Q&&Q.captureAnimationState()}function fe(ot){return ae("dragOverCompleted",{insertion:ot}),ot&&(B?N._hideClone():N._showClone(q),q!==Q&&(Ln(He,Di?Di.options.ghostClass:N.options.ghostClass,!1),Ln(He,l.ghostClass,!0)),Di!==q&&q!==ct.active?Di=q:q===ct.active&&Di&&(Di=null),Q===q&&(q._ignoreWhileAnimating=i),q.animateAll(function(){ae("dragOverAnimationComplete"),q._ignoreWhileAnimating=null}),q!==Q&&(Q.animateAll(),Q._ignoreWhileAnimating=null)),(i===He&&!He.animated||i===t&&!i.animated)&&(Wu=null),!l.dragoverBubble&&!e.rootEl&&i!==document&&(He.parentNode[Ai]._isOutsideThisEl(e.target),!ot&&ol(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),re=!0}function Oe(){_r=Un(He),da=Un(He,l.draggable),$i({sortable:q,name:"change",toEl:t,newIndex:_r,newDraggableIndex:da,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Nt(document,"mousemove",this._onTouchMove),Nt(document,"touchmove",this._onTouchMove),Nt(document,"pointermove",this._onTouchMove),Nt(document,"dragover",ol),Nt(document,"mousemove",ol),Nt(document,"touchmove",ol)},_offUpEvents:function(){var e=this.el.ownerDocument;Nt(e,"mouseup",this._onDrop),Nt(e,"touchend",this._onDrop),Nt(e,"pointerup",this._onDrop),Nt(e,"touchcancel",this._onDrop),Nt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;_r=Un(He),da=Un(He,i.draggable),rr("drop",this,{evt:e}),jn=He&&He.parentNode,_r=Un(He),da=Un(He,i.draggable),ct.eventCanceled||(ju=!1,Op=!1,Uh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zb(this.cloneId),zb(this._dragStartId),this.nativeDraggable&&(Nt(document,"drop",this),Nt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Nh&&Xe(document.body,"user-select",""),Xe(He,"transform",""),e&&(Hh&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),xt&&xt.parentNode&&xt.parentNode.removeChild(xt),(Mn===jn||Di&&"clone"!==Di.lastPutMode)&&Wn&&Wn.parentNode&&Wn.parentNode.removeChild(Wn),He&&(this.nativeDraggable&&Nt(He,"dragend",this),Hb(He),He.style["will-change"]="",Hh&&!ju&&Ln(He,Di?Di.options.ghostClass:this.options.ghostClass,!1),Ln(He,this.options.chosenClass,!1),$i({sortable:this,name:"unchoose",toEl:jn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Mn!==jn?(_r>=0&&($i({rootEl:jn,name:"add",toEl:jn,fromEl:Mn,originalEvent:e}),$i({sortable:this,name:"remove",toEl:jn,originalEvent:e}),$i({rootEl:jn,name:"sort",toEl:jn,fromEl:Mn,originalEvent:e}),$i({sortable:this,name:"sort",toEl:jn,originalEvent:e})),Di&&Di.save()):_r!==Uu&&_r>=0&&($i({sortable:this,name:"update",toEl:jn,originalEvent:e}),$i({sortable:this,name:"sort",toEl:jn,originalEvent:e})),ct.active&&((null==_r||-1===_r)&&(_r=Uu,da=Vh),$i({sortable:this,name:"end",toEl:jn,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){rr("nulling",this),Mn=He=jn=xt=rl=Wn=Tp=ua=sl=bs=Hh=_r=da=Uu=Vh=Wu=zh=Di=xp=ct.dragged=ct.ghost=ct.clone=ct.active=null,Ap.forEach(function(e){e.checked=!0}),Ap.length=Fb=Lb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":He&&(this._onDragOver(e),function(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,r=0,s=i.length,o=this.options;r<s;r++)ys(t=i[r],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||lj(t));return e},sort:function(e,t){var i={},r=this.el;this.toArray().forEach(function(s,o){var l=r.children[o];ys(l,this.options.draggable,r,!1)&&(i[s]=l)},this),t&&this.captureAnimationState(),e.forEach(function(s){i[s]&&(r.removeChild(i[s]),r.appendChild(i[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ys(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var r=Lh.modifyOption(this,e,t);i[e]=void 0!==r?r:t,"group"===e&&F1(i)},destroy:function(){rr("destroy",this);var e=this.el;e[Ai]=null,Nt(e,"mousedown",this._onTapStart),Nt(e,"touchstart",this._onTapStart),Nt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Nt(e,"dragover",this),Nt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),kp.splice(kp.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ua){if(rr("hideClone",this),ct.eventCanceled)return;Xe(Wn,"display","none"),this.options.removeCloneOnHide&&Wn.parentNode&&Wn.parentNode.removeChild(Wn),ua=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ua){if(rr("showClone",this),ct.eventCanceled)return;He.parentNode!=Mn||this.options.group.revertClone?rl?Mn.insertBefore(Wn,rl):Mn.appendChild(Wn):Mn.insertBefore(Wn,He),this.options.group.revertClone&&this.animate(He,Wn),Xe(Wn,"display",""),ua=!1}}else this._hideClone()}},Pp&&zt(document,"touchmove",function(n){(ct.active||ju)&&n.cancelable&&n.preventDefault()}),ct.utils={on:zt,off:Nt,css:Xe,find:S1,is:function(e,t){return!!ys(e,t,e,!1)},extend:function(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},throttle:M1,closest:ys,toggleClass:Ln,clone:Pb,index:Un,nextTick:Fp,cancelNextTick:zb,detectDirection:N1,getChild:Hu},ct.get=function(n){return n[Ai]},ct.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(ct.utils=Ks(Ks({},ct.utils),i.utils)),Lh.mount(i)})},ct.create=function(n,e){return new ct(n,e)},ct.version="1.14.0";var jh,Ub,Wb,$b,Lp,Wh,si=[],jb=!1;function Bp(){si.forEach(function(n){clearInterval(n.pid)}),si=[]}function V1(){clearInterval(Wh)}var Gb=M1(function(n,e,t,i){if(e.scroll){var B,r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,l=e.scrollSpeed,C=Qs(),N=!1;Ub!==t&&(Ub=t,Bp(),B=e.scrollFn,!0===(jh=e.scroll)&&(jh=la(t,!0)));var Y=0,Q=jh;do{var K=Q,q=xn(K),re=q.top,ae=q.bottom,ve=q.left,fe=q.right,Oe=q.width,Te=q.height,Ze=void 0,Et=void 0,Ft=K.scrollWidth,Bn=K.scrollHeight,Ut=Xe(K),hn=K.scrollLeft,$n=K.scrollTop;K===C?(Ze=Oe<Ft&&("auto"===Ut.overflowX||"scroll"===Ut.overflowX||"visible"===Ut.overflowX),Et=Te<Bn&&("auto"===Ut.overflowY||"scroll"===Ut.overflowY||"visible"===Ut.overflowY)):(Ze=Oe<Ft&&("auto"===Ut.overflowX||"scroll"===Ut.overflowX),Et=Te<Bn&&("auto"===Ut.overflowY||"scroll"===Ut.overflowY));var hi=Ze&&(Math.abs(fe-r)<=o&&hn+Oe<Ft)-(Math.abs(ve-r)<=o&&!!hn),kn=Et&&(Math.abs(ae-s)<=o&&$n+Te<Bn)-(Math.abs(re-s)<=o&&!!$n);if(!si[Y])for(var lr=0;lr<=Y;lr++)si[lr]||(si[lr]={});(si[Y].vx!=hi||si[Y].vy!=kn||si[Y].el!==K)&&(si[Y].el=K,si[Y].vx=hi,si[Y].vy=kn,clearInterval(si[Y].pid),(0!=hi||0!=kn)&&(N=!0,si[Y].pid=setInterval(function(){i&&0===this.layer&&ct.active._onTouchMove(Lp);var Gr=si[this.layer].vy?si[this.layer].vy*l:0,Ue=si[this.layer].vx?si[this.layer].vx*l:0;"function"==typeof B&&"continue"!==B.call(ct.dragged.parentNode[Ai],Ue,Gr,n,Lp,si[this.layer].el)||k1(si[this.layer].el,Ue,Gr)}.bind({layer:Y}),24))),Y++}while(e.bubbleScroll&&Q!==C&&(Q=la(Q,!1)));jb=N}},30),H1=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,o=e.dispatchSortableEvent,C=e.unhideGhostForTarget;if(t){var N=i||e.activeSortable;(0,e.hideGhostForTarget)();var B=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,Y=document.elementFromPoint(B.clientX,B.clientY);C(),N&&!N.el.contains(Y)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Yb(){}function Kb(){}Yb.prototype={startIndex:null,dragStart:function(e){this.startIndex=e.oldDraggableIndex},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Hu(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:H1},zr(Yb,{pluginName:"revertOnSpill"}),Kb.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:H1},zr(Kb,{pluginName:"removeOnSpill"}),ct.mount(new function(){function n(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?zt(document,"dragover",this._handleAutoScroll):zt(document,this.options.supportPointer?"pointermove":i.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Nt(document,"dragover",this._handleAutoScroll):(Nt(document,"pointermove",this._handleFallbackAutoScroll),Nt(document,"touchmove",this._handleFallbackAutoScroll),Nt(document,"mousemove",this._handleFallbackAutoScroll)),V1(),Bp(),clearTimeout(Fh),Fh=void 0},nulling:function(){Lp=Ub=jh=jb=Wh=Wb=$b=null,si.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var r=this,s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(s,o);if(Lp=t,i||this.options.forceAutoScrollFallback||Rh||So||Nh){Gb(t,this.options,l,i);var C=la(l,!0);jb&&(!Wh||s!==Wb||o!==$b)&&(Wh&&V1(),Wh=setInterval(function(){var N=la(document.elementFromPoint(s,o),!0);N!==C&&(C=N,Bp()),Gb(t,r.options,N,i)},10),Wb=s,$b=o)}else{if(!this.options.bubbleScroll||la(l,!0)===Qs())return void Bp();Gb(t,this.options,la(l,!1),!1)}}},zr(n,{pluginName:"scroll",initializeByDefault:!0})}),ct.mount(Kb,Yb);const Qb=ct,U1=new Pt("Global config for sortablejs");class fj{constructor(e){this.target=e}insert(e,t){this.isFormArray?this.target.insert(e,t):this.target.splice(e,0,t)}get(e){return this.isFormArray?this.target.at(e):this.target[e]}remove(e){let t;return this.isFormArray?(t=this.target.at(e),this.target.removeAt(e)):t=this.target.splice(e,1)[0],t}get isFormArray(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset}}class Xb{constructor(e){this.bindings=e.map(t=>new fj(t))}injectIntoEvery(e,t){this.bindings.forEach((i,r)=>i.insert(e,t[r]))}getFromEvery(e){return this.bindings.map(t=>t.get(e))}extractFromEvery(e){return this.bindings.map(t=>t.remove(e))}get provided(){return!!this.bindings.length}}let pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({factory:function(){return new n},token:n,providedIn:"root"}),n})(),mj=(()=>{class n{constructor(t,i,r,s,o){this.globalConfig=t,this.service=i,this.element=r,this.zone=s,this.renderer=o,this.sortablejsInit=new ni}ngOnInit(){Qb&&Qb.create&&this.create()}ngOnChanges(t){const i=t.sortablejsOptions;if(i&&!i.isFirstChange()){const r=i.previousValue,s=i.currentValue;Object.keys(s).forEach(o=>{s[o]!==r[o]&&this.sortableInstance.option(o,this.options[o])})}}ngOnDestroy(){this.sortableInstance&&this.sortableInstance.destroy()}create(){const t=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(()=>{this.sortableInstance=Qb.create(t,this.options),this.sortablejsInit.emit(this.sortableInstance)},0)}getBindings(){return this.sortablejs?this.sortablejs instanceof Xb?this.sortablejs:new Xb([this.sortablejs]):new Xb([])}get options(){return Object.assign(Object.assign({},this.optionsWithoutEvents),this.overridenOptions)}get optionsWithoutEvents(){return Object.assign(Object.assign({},this.globalConfig||{}),this.sortablejsOptions||{})}proxyEvent(t,...i){this.zone.run(()=>{this.optionsWithoutEvents&&this.optionsWithoutEvents[t]&&this.optionsWithoutEvents[t](...i)})}get isCloning(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)}clone(t){return(this.sortablejsCloneFunction||(i=>i))(t)}get overridenOptions(){return{onAdd:t=>{this.service.transfer=i=>{this.getBindings().injectIntoEvery(t.newIndex,i),this.proxyEvent("onAdd",t)},this.proxyEvent("onAddOriginal",t)},onRemove:t=>{const i=this.getBindings();i.provided&&(this.isCloning?(this.service.transfer(i.getFromEvery(t.oldIndex).map(r=>this.clone(r))),this.renderer.removeChild(t.item.parentNode,t.item),this.renderer.insertBefore(t.clone.parentNode,t.item,t.clone),this.renderer.removeChild(t.clone.parentNode,t.clone)):this.service.transfer(i.extractFromEvery(t.oldIndex)),this.service.transfer=null),this.proxyEvent("onRemove",t)},onUpdate:t=>{const i=this.getBindings(),r=(n=>n.hasOwnProperty("newDraggableIndex")&&n.hasOwnProperty("oldDraggableIndex")?{new:n.newDraggableIndex,old:n.oldDraggableIndex}:{new:n.newIndex,old:n.oldIndex})(t);i.injectIntoEvery(r.new,i.extractFromEvery(r.old)),this.proxyEvent("onUpdate",t)}}}}return n.\u0275fac=function(t){return new(t||n)(De(U1,8),De(pj),De(ui),De(En),De(zs))},n.\u0275dir=rt({type:n,selectors:[["","sortablejs",""]],inputs:{sortablejs:"sortablejs",sortablejsContainer:"sortablejsContainer",sortablejsOptions:"sortablejsOptions",sortablejsCloneFunction:"sortablejsCloneFunction"},outputs:{sortablejsInit:"sortablejsInit"},features:[Xn]}),n})(),vj=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:U1,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({}),n})();class j1{}const To="*";function bj(n,e){return{type:7,name:n,definitions:e,options:{}}}function W1(n,e=null){return{type:4,styles:e,timings:n}}function $1(n,e=null){return{type:2,steps:n,options:e}}function Kh(n){return{type:6,styles:n,offset:null}}function Zb(n,e,t){return{type:0,name:n,styles:e,options:t}}function G1(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Y1(n){Promise.resolve(null).then(n)}class Gu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Y1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class K1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?Y1(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Q1(){return"undefined"!=typeof window&&void 0!==window.document}function qb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ha(n){switch(n.length){case 0:return new Gu;case 1:return n[0];default:return new K1(n)}}function X1(n,e,t,i,r={},s={}){const o=[],l=[];let C=-1,N=null;if(i.forEach(B=>{const Y=B.offset,Q=Y==C,K=Q&&N||{};Object.keys(B).forEach(q=>{let re=q,ae=B[q];if("offset"!==q)switch(re=e.normalizePropertyName(re,o),ae){case"!":ae=r[q];break;case To:ae=s[q];break;default:ae=e.normalizeStyleValue(q,re,ae,o)}K[re]=ae}),Q||l.push(K),N=K,C=Y}),o.length){const B="\n - ";throw new Error(`Unable to animate due to the following errors:${B}${o.join(B)}`)}return l}function e0(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&t0(t,"start",n)));break;case"done":n.onDone(()=>i(t&&t0(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&t0(t,"destroy",n)))}}function t0(n,e,t){const i=t.totalTime,s=n0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function n0(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Dr(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Z1(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let r0=(n,e)=>!1,s0=(n,e)=>!1,J1=(n,e,t)=>[];const q1=qb();(q1||"undefined"!=typeof Element)&&(r0=Q1()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),s0=(()=>{if(q1||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):s0}})(),J1=(n,e,t)=>{let i=[];if(t){const r=n.querySelectorAll(e);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(e);r&&i.push(r)}return i});let al=null,eM=!1;function o0(n){al||(al=("undefined"!=typeof document?document.body:null)||{},eM=!!al.style&&"WebkitAppearance"in al.style);let e=!0;return al.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in al.style,!e&&eM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in al.style)),e}const a0=s0,l0=r0,u0=J1;function tM(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let nM=(()=>{class n{validateStyleProperty(t){return o0(t)}matchesElement(t,i){return a0(t,i)}containsElement(t,i){return l0(t,i)}query(t,i,r){return u0(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,l=[],C){return new Gu(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})(),d0=(()=>{class n{}return n.NOOP=new nM,n})();const h0="ng-enter",zp="ng-leave",Up="ng-trigger",jp=".ng-trigger",rM="ng-animating",c0=".ng-animating";function ll(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:f0(parseFloat(e[1]),e[2])}function f0(n,e){switch(e){case"s":return 1e3*n;default:return n}}function Wp(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let r,s=0,o="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=f0(parseFloat(l[1]),l[2]);const C=l[3];null!=C&&(s=f0(parseFloat(C),l[4]));const N=l[5];N&&(o=N)}else r=n;if(!t){let l=!1,C=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(C,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:o}}(n,e,t)}function Yu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ca(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Yu(n,t);return t}function oM(n,e,t){return t?e+":"+t+";":""}function aM(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=oM(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oM(0,xj(t),n.style[t]));n.setAttribute("style",e)}function Xs(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=g0(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),qb()&&aM(n))}function ul(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=g0(t);n.style[i]=""}),qb()&&aM(n))}function Qh(n){return Array.isArray(n)?1==n.length?n[0]:$1(n):n}const p0=new RegExp("{{\\s*(.+?)\\s*}}","g");function lM(n){let e=[];if("string"==typeof n){let t;for(;t=p0.exec(n);)e.push(t[1]);p0.lastIndex=0}return e}function $p(n,e,t){const i=n.toString(),r=i.replace(p0,(s,o)=>{let l=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),l=""),l.toString()});return r==i?n:r}function Gp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Tj=/-+([a-z0-9])/g;function g0(n){return n.replace(Tj,(...e)=>e[1].toUpperCase())}function xj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uM(n,e){return 0===n||0===e}function dM(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(l=>{s.hasOwnProperty(l)||o.push(l),s[l]=t[l]}),o.length)for(var r=1;r<e.length;r++){let l=e[r];o.forEach(function(C){l[C]=m0(n,C)})}}return e}function Sr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function m0(n,e){return window.getComputedStyle(n)[e]}function Mj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const C=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof C)return void e.push(C);n=C}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(hM(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(hM(o,r))}(i,t,e)):t.push(n),t}const Kp=new Set(["true","1"]),Qp=new Set(["false","0"]);function hM(n,e){const t=Kp.has(n)||Qp.has(n),i=Kp.has(e)||Qp.has(e);return(r,s)=>{let o="*"==n||n==r,l="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Kp.has(n):Qp.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?Kp.has(e):Qp.has(e)),o&&l}}const Ij=new RegExp("s*:selfs*,?","g");function v0(n,e,t){return new Aj(n).build(e,t)}class Aj{constructor(e){this._driver=e}build(e,t){const i=new Nj(t);return this._resetContextStyleTimingState(i),Sr(this,Qh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),0==l.type){const C=l,N=C.name;N.toString().split(/\s*,\s*/).forEach(B=>{C.name=B,s.push(this.visitState(C,t))}),C.name=N}else if(1==l.type){const C=this.visitTransition(l,t);i+=C.queryCount,r+=C.depCount,o.push(C)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};if(i.styles.forEach(l=>{if(Xp(l)){const C=l;Object.keys(C).forEach(N=>{lM(C[N]).forEach(B=>{o.hasOwnProperty(B)||s.add(B)})})}}),s.size){const l=Gp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${l.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Sr(this,Qh(e.animation),t);return{type:1,matchers:Mj(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:dl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Sr(this,i,t)),options:dl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const l=Sr(this,o,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:3,steps:s,options:dl(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return y0(Wp(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=y0(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||Wp(i,e),y0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Kh({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,l=!1;if(!o){l=!0;const N={};i.easing&&(N.easing=i.easing),o=Kh(N)}t.currentTime+=i.duration+i.delay;const C=this.visitStyle(o,t);C.isEmptyStep=l,r=C}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==To?i.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(Xp(o)){const l=o,C=l.easing;if(C&&(s=C,delete l.easing),!r)for(let N in l)if(l[N].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(l=>{if(!this._driver.validateStyleProperty(l))return void t.errors.push(`The provided animation property "${l}" is not a supported CSS property for animations`);const C=t.collectedStyles[t.currentQuerySelector],N=C[l];let B=!0;N&&(s!=r&&s>=N.startTime&&r<=N.endTime&&(t.errors.push(`The CSS property "${l}" that exists between the times of "${N.startTime}ms" and "${N.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),B=!1),s=N.startTime),B&&(C[l]={startTime:s,endTime:r}),t.options&&function(n,e,t){const i=e.params||{},r=lM(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[l],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const o=[];let l=!1,C=!1,N=0;const B=e.steps.map(ve=>{const fe=this._makeStyleAst(ve,t);let Oe=null!=fe.offset?fe.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Xp(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Xp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(fe.styles),Te=0;return null!=Oe&&(s++,Te=fe.offset=Oe),C=C||Te<0||Te>1,l=l||Te<N,N=Te,o.push(Te),fe});C&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");const Y=e.steps.length;let Q=0;s>0&&s<Y?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(Q=1/(Y-1));const K=Y-1,q=t.currentTime,re=t.currentAnimateTimings,ae=re.duration;return B.forEach((ve,fe)=>{const Oe=Q>0?fe==K?1:Q*fe:o[fe],Te=Oe*ae;t.currentTime=q+re.delay+Te,re.duration=Te,this._validateStyleAst(ve,t),ve.offset=Oe,i.styles.push(ve)}),i}visitReference(e,t){return{type:8,animation:Sr(this,Qh(e.animation),t),options:dl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ij,"")),[n=n.replace(/@\*/g,jp).replace(/@\w+/g,t=>jp+"-"+t.substr(1)).replace(/:animating/g,c0),e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Dr(t.collectedStyles,t.currentQuerySelector,{});const l=Sr(this,Qh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:l,originalSelector:e.selector,options:dl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wp(e.timings,t.errors,!0);return{type:12,animation:Sr(this,Qh(e.animation),t),timings:i,options:null}}}class Nj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xp(n){return!Array.isArray(n)&&"object"==typeof n}function dl(n){return n?(n=Yu(n)).params&&(n.params=function(n){return n?Yu(n):null}(n.params)):n={},n}function y0(n,e,t){return{duration:n,delay:e,easing:t}}function b0(n,e,t,i,r,s,o=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class Zp{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hj=new RegExp(":enter","g"),Uj=new RegExp(":leave","g");function C0(n,e,t,i,r,s={},o={},l,C,N=[]){return(new jj).buildKeyframes(n,e,t,i,r,s,o,l,C,N)}class jj{buildKeyframes(e,t,i,r,s,o,l,C,N,B=[]){N=N||new Zp;const Y=new w0(e,t,N,r,s,B,[]);Y.options=C,Y.currentTimeline.setStyles([o],null,Y.errors,C),Sr(this,i,Y);const Q=Y.timelines.filter(K=>K.containsAnimation());if(Q.length&&Object.keys(l).length){const K=Q[Q.length-1];K.allowOnlyTimelineStyles()||K.setStyles([l],null,Y.errors,C)}return Q.length?Q.map(K=>K.buildKeyframes()):[b0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?ll(i.duration):null,l=null!=i.delay?ll(i.delay):null;return 0!==o&&e.forEach(C=>{const N=t.appendInstructionToTimeline(C,o,l);s=Math.max(s,N.duration+N.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Sr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Jp);const o=ll(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Sr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ll(e.options.delay):0;e.steps.forEach(o=>{const l=t.createSubContext(e.options);s&&l.delayNextStep(s),Sr(this,o,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Wp(t.params?$p(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,l=t.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(C=>{l.forwardTime((C.offset||0)*s),l.setStyles(C.styles,C.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ll(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Jp);let o=i;const l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let C=null;l.forEach((N,B)=>{t.currentQueryIndex=B;const Y=t.createSubContext(e.options,N);s&&Y.delayNextStep(s),N===t.element&&(C=Y.currentTimeline),Sr(this,e.animation,Y),Y.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,Y.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let C=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":C=l-C;break;case"full":C=i.currentStaggerTime}const B=t.currentTimeline;C&&B.delayNextStep(C);const Y=B.currentTime;Sr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-Y+(r.startTime-i.currentTimeline.startTime)}}const Jp={};class w0{constructor(e,t,i,r,s,o,l,C){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new qp(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ll(i.duration)),null!=i.delay&&(r.delay=ll(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=$p(s[l],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new w0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Jp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Wj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let l=[];if(r&&l.push(this.element),e.length>0){e=(e=e.replace(Hj,"."+this._enterClassName)).replace(Uj,"."+this._leaveClassName);let N=this._driver.query(this.element,e,1!=i);0!==i&&(N=i<0?N.slice(N.length+i,N.length):N.slice(0,i)),l.push(...N)}return!s&&0==l.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),l}}class qp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new qp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||To,this._currentKeyframe[t]=To}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=To})):ca(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(l=>{const C=$p(o[l],s,i);this._pendingStyles[l]=C,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:To),this._updateStyle(l,C)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,C)=>{const N=ca(l,!0);Object.keys(N).forEach(B=>{const Y=N[B];"!"==Y?e.add(B):Y==To&&t.add(B)}),i||(N.offset=C/this.duration),r.push(N)});const s=e.size?Gp(e.values()):[],o=t.size?Gp(t.values()):[];if(i){const l=r[0],C=Yu(l);l.offset=0,C.offset=1,r=[l,C]}return b0(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Wj extends qp{constructor(e,t,i,r,s,o,l=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,l=t/o,C=ca(e[0],!1);C.offset=0,s.push(C);const N=ca(e[0],!1);N.offset=pM(l),s.push(N);const B=e.length-1;for(let Y=1;Y<=B;Y++){let Q=ca(e[Y],!1);Q.offset=pM((t+Q.offset*i)/o),s.push(Q)}i=o,t=0,r="",e=s}return b0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function pM(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class _0{}class Gj extends _0{normalizePropertyName(e,t){return g0(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Yj[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return o+s}}const Yj=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gM(n,e,t,i,r,s,o,l,C,N,B,Y,Q){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:l,queriedElements:C,preStyleProps:N,postStyleProps:B,totalTime:Y,errors:Q}}const E0={};class mM{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,l,C,N,B){const Y=[],Q=this.ast.options&&this.ast.options.params||E0,q=this.buildStyles(i,l&&l.params||E0,Y),re=C&&C.params||E0,ae=this.buildStyles(r,re,Y),ve=new Set,fe=new Map,Oe=new Map,Te="void"===r,Ze={params:Object.assign(Object.assign({},Q),re)},Et=B?[]:C0(e,t,this.ast.animation,s,o,q,ae,Ze,N,Y);let Ft=0;if(Et.forEach(Ut=>{Ft=Math.max(Ut.duration+Ut.delay,Ft)}),Y.length)return gM(t,this._triggerName,i,r,Te,q,ae,[],[],fe,Oe,Ft,Y);Et.forEach(Ut=>{const hn=Ut.element,$n=Dr(fe,hn,{});Ut.preStyleProps.forEach(kn=>$n[kn]=!0);const hi=Dr(Oe,hn,{});Ut.postStyleProps.forEach(kn=>hi[kn]=!0),hn!==t&&ve.add(hn)});const Bn=Gp(ve.values());return gM(t,this._triggerName,i,r,Te,q,ae,Et,Bn,fe,Oe,Ft)}}class Xj{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Yu(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(l=>{let C=o[l];C.length>1&&(C=$p(C,r,t));const N=this.normalizer.normalizePropertyName(l,t);C=this.normalizer.normalizeStyleValue(l,N,C,t),i[N]=C})}}),i}}class Jj{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new Xj(r.style,r.options&&r.options.params||{},i)}),vM(this.states,"true","1"),vM(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new mM(e,r,this.states))}),this.fallbackTransition=function(n,e,t){return new mM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function vM(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const eW=new Zp;class tW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=v0(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,s=X1(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const l=new Map;if(s?(o=C0(this._driver,t,s,h0,zp,{},{},i,eW,r),o.forEach(B=>{const Y=Dr(l,B.element,{});B.postStyleProps.forEach(Q=>Y[Q]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);l.forEach((B,Y)=>{Object.keys(B).forEach(Q=>{B[Q]=this._driver.computeStyle(Y,Q,To)})});const N=ha(o.map(B=>{const Y=l.get(B.element);return this._buildPlayer(B,{},Y)}));return this._playersById[e]=N,N.onDestroy(()=>this.destroy(e)),this.players.push(N),N}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const s=n0(t,"","","");return e0(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const yM="ng-animate-queued",bM="ng-animate-disabled",CM=".ng-animate-disabled",sW=[],wM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class D0{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const s=Yu(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Xh="void",S0=new D0(Xh);class aW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Wr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const s=Dr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const l=Dr(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(Wr(e,Up),Wr(e,Up+"-"+t),l[t]=S0),()=>{this._engine.afterFlush(()=>{const C=s.indexOf(o);C>=0&&s.splice(C,1),this._triggers[t]||delete l[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new T0(this.id,t,e);let l=this._engine.statesByElement.get(e);l||(Wr(e,Up),Wr(e,Up+"-"+t),this._engine.statesByElement.set(e,l={}));let C=l[t];const N=new D0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&C&&N.absorbOptions(C.options),l[t]=N,C||(C=S0),N.value!==Xh&&C.value===N.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(C.params,N.params)){const re=[],ae=s.matchStyles(C.value,C.params,re),ve=s.matchStyles(N.value,N.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{ul(e,ae),Xs(e,ve)})}return}const Q=Dr(this._engine.playersByElement,e,[]);Q.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let K=s.matchTransition(C.value,N.value,e,N.params),q=!1;if(!K){if(!r)return;K=s.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:C,toState:N,player:o,isFallbackTransition:q}),q||(Wr(e,yM),o.onStart(()=>{Ku(e,yM)})),o.onDone(()=>{let re=this.players.indexOf(o);re>=0&&this.players.splice(re,1);const ae=this._engine.playersByElement.get(e);if(ae){let ve=ae.indexOf(o);ve>=0&&ae.splice(ve,1)}}),this.players.push(o),Q.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,jp,!0);i.forEach(r=>{if(r[jr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(l=>{if(this._triggers[l]){const C=this.trigger(e,l,Xh,r);C&&o.push(C)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&ha(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const C=this._triggers[o].fallbackTransition,N=i[o]||S0,B=new D0(Xh),Y=new T0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:C,fromState:N,toState:B,player:Y,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[jr];(!s||s===wM)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Wr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==i.triggerName){const C=n0(s,i.triggerName,i.fromState.value,i.toState.value);C._data=e,e0(i.player,l.phase,C,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class lW{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new aW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const l=this._fetchNamespace(o);l&&t.add(l)}}}return t}trigger(e,t,i,r){if(eg(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!eg(t))return;const s=t[jr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wr(e,bM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ku(e,bM))}removeNode(e,t,i,r){if(eg(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r){this.collectedLeaveElements.push(t),t[jr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,r,s){return eg(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,jp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,c0,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ha(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[jr];if(t&&t.setForRemoval){if(e[jr]=wM,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,CM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,CM,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ha(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new Zp,r=[],s=new Map,o=[],l=new Map,C=new Map,N=new Map,B=new Set;this.disabledNodes.forEach(Ue=>{B.add(Ue);const tt=this.driver.query(Ue,".ng-animate-queued",!0);for(let ot=0;ot<tt.length;ot++)B.add(tt[ot])});const Y=this.bodyNode,Q=Array.from(this.statesByElement.keys()),K=DM(Q,this.collectedEnterElements),q=new Map;let re=0;K.forEach((Ue,tt)=>{const ot=h0+re++;q.set(tt,ot),Ue.forEach(Wt=>Wr(Wt,ot))});const ae=[],ve=new Set,fe=new Set;for(let Ue=0;Ue<this.collectedLeaveElements.length;Ue++){const tt=this.collectedLeaveElements[Ue],ot=tt[jr];ot&&ot.setForRemoval&&(ae.push(tt),ve.add(tt),ot.hasAnimation?this.driver.query(tt,".ng-star-inserted",!0).forEach(Wt=>ve.add(Wt)):fe.add(tt))}const Oe=new Map,Te=DM(Q,Array.from(ve));Te.forEach((Ue,tt)=>{const ot=zp+re++;Oe.set(tt,ot),Ue.forEach(Wt=>Wr(Wt,ot))}),e.push(()=>{K.forEach((Ue,tt)=>{const ot=q.get(tt);Ue.forEach(Wt=>Ku(Wt,ot))}),Te.forEach((Ue,tt)=>{const ot=Oe.get(tt);Ue.forEach(Wt=>Ku(Wt,ot))}),ae.forEach(Ue=>{this.processLeaveNode(Ue)})});const Ze=[],Et=[];for(let Ue=this._namespaceList.length-1;Ue>=0;Ue--)this._namespaceList[Ue].drainQueuedTransitions(t).forEach(ot=>{const Wt=ot.player,ci=ot.element;if(Ze.push(Wt),this.collectedEnterElements.length){const Zs=ci[jr];if(Zs&&Zs.setForMove)return void Wt.destroy()}const Tr=!Y||!this.driver.containsElement(Y,ci),Gi=Oe.get(ci),pa=q.get(ci),Gn=this._buildInstruction(ot,i,pa,Gi,Tr);if(Gn.errors&&Gn.errors.length)Et.push(Gn);else{if(Tr)return Wt.onStart(()=>ul(ci,Gn.fromStyles)),Wt.onDestroy(()=>Xs(ci,Gn.toStyles)),void r.push(Wt);if(ot.isFallbackTransition)return Wt.onStart(()=>ul(ci,Gn.fromStyles)),Wt.onDestroy(()=>Xs(ci,Gn.toStyles)),void r.push(Wt);Gn.timelines.forEach(Zs=>Zs.stretchStartingKeyframe=!0),i.append(ci,Gn.timelines),o.push({instruction:Gn,player:Wt,element:ci}),Gn.queriedElements.forEach(Zs=>Dr(l,Zs,[]).push(Wt)),Gn.preStyleProps.forEach((Zs,Zh)=>{const ag=Object.keys(Zs);if(ag.length){let hl=C.get(Zh);hl||C.set(Zh,hl=new Set),ag.forEach(I0=>hl.add(I0))}}),Gn.postStyleProps.forEach((Zs,Zh)=>{const ag=Object.keys(Zs);let hl=N.get(Zh);hl||N.set(Zh,hl=new Set),ag.forEach(I0=>hl.add(I0))})}});if(Et.length){const Ue=[];Et.forEach(tt=>{Ue.push(`@${tt.triggerName} has failed due to:\n`),tt.errors.forEach(ot=>Ue.push(`- ${ot}\n`))}),Ze.forEach(tt=>tt.destroy()),this.reportError(Ue)}const Ft=new Map,Bn=new Map;o.forEach(Ue=>{const tt=Ue.element;i.has(tt)&&(Bn.set(tt,tt),this._beforeAnimationBuild(Ue.player.namespaceId,Ue.instruction,Ft))}),r.forEach(Ue=>{const tt=Ue.element;this._getPreviousPlayers(tt,!1,Ue.namespaceId,Ue.triggerName,null).forEach(Wt=>{Dr(Ft,tt,[]).push(Wt),Wt.destroy()})});const Ut=ae.filter(Ue=>TM(Ue,C,N)),hn=new Map;EM(hn,this.driver,fe,N,To).forEach(Ue=>{TM(Ue,C,N)&&Ut.push(Ue)});const hi=new Map;K.forEach((Ue,tt)=>{EM(hi,this.driver,new Set(Ue),C,"!")}),Ut.forEach(Ue=>{const tt=hn.get(Ue),ot=hi.get(Ue);hn.set(Ue,Object.assign(Object.assign({},tt),ot))});const kn=[],lr=[],Gr={};o.forEach(Ue=>{const{element:tt,player:ot,instruction:Wt}=Ue;if(i.has(tt)){if(B.has(tt))return ot.onDestroy(()=>Xs(tt,Wt.toStyles)),ot.disabled=!0,ot.overrideTotalTime(Wt.totalTime),void r.push(ot);let ci=Gr;if(Bn.size>1){let Gi=tt;const pa=[];for(;Gi=Gi.parentNode;){const Gn=Bn.get(Gi);if(Gn){ci=Gn;break}pa.push(Gi)}pa.forEach(Gn=>Bn.set(Gn,ci))}const Tr=this._buildAnimation(ot.namespaceId,Wt,Ft,s,hi,hn);if(ot.setRealPlayer(Tr),ci===Gr)kn.push(ot);else{const Gi=this.playersByElement.get(ci);Gi&&Gi.length&&(ot.parentPlayer=ha(Gi)),r.push(ot)}}else ul(tt,Wt.fromStyles),ot.onDestroy(()=>Xs(tt,Wt.toStyles)),lr.push(ot),B.has(tt)&&r.push(ot)}),lr.forEach(Ue=>{const tt=s.get(Ue.element);if(tt&&tt.length){const ot=ha(tt);Ue.setRealPlayer(ot)}}),r.forEach(Ue=>{Ue.parentPlayer?Ue.syncPlayerEvents(Ue.parentPlayer):Ue.destroy()});for(let Ue=0;Ue<ae.length;Ue++){const tt=ae[Ue],ot=tt[jr];if(Ku(tt,zp),ot&&ot.hasAnimation)continue;let Wt=[];if(l.size){let Tr=l.get(tt);Tr&&Tr.length&&Wt.push(...Tr);let Gi=this.driver.query(tt,c0,!0);for(let pa=0;pa<Gi.length;pa++){let Gn=l.get(Gi[pa]);Gn&&Gn.length&&Wt.push(...Gn)}}const ci=Wt.filter(Tr=>!Tr.destroyed);ci.length?cW(this,tt,ci):this.processLeaveNode(tt)}return ae.length=0,kn.forEach(Ue=>{this.players.push(Ue),Ue.onDone(()=>{Ue.destroy();const tt=this.players.indexOf(Ue);this.players.splice(tt,1)}),Ue.play()}),kn}elementContainsData(e,t){let i=!1;const r=t[jr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const l=this.playersByQueriedElement.get(e);l&&(o=l)}else{const l=this.playersByElement.get(e);if(l){const C=!s||s==Xh;l.forEach(N=>{N.queued||!C&&N.triggerName!=r||o.push(N)})}}return(i||r)&&(o=o.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const N=C.element,B=N!==s,Y=Dr(i,N,[]);this._getPreviousPlayers(N,B,o,l,t.toState).forEach(K=>{const q=K.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),K.destroy(),Y.push(K)})}ul(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const l=t.triggerName,C=t.element,N=[],B=new Set,Y=new Set,Q=t.timelines.map(q=>{const re=q.element;B.add(re);const ae=re[jr];if(ae&&ae.removedBeforeQueried)return new Gu(q.duration,q.delay);const ve=re!==C,fe=function(n){const e=[];return SM(n,e),e}((i.get(re)||sW).map(Ft=>Ft.getRealPlayer())).filter(Ft=>!!Ft.element&&Ft.element===re),Oe=s.get(re),Te=o.get(re),Ze=X1(0,this._normalizer,0,q.keyframes,Oe,Te),Et=this._buildPlayer(q,Ze,fe);if(q.subTimeline&&r&&Y.add(re),ve){const Ft=new T0(e,l,re);Ft.setRealPlayer(Et),N.push(Ft)}return Et});N.forEach(q=>{Dr(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,q.element,q))}),B.forEach(q=>Wr(q,rM));const K=ha(Q);return K.onDestroy(()=>{B.forEach(q=>Ku(q,rM)),Xs(C,t.toStyles)}),Y.forEach(q=>{Dr(r,q,[]).push(K)}),K}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Gu(e.duration,e.delay)}}class T0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Gu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>e0(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Dr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function eg(n){return n&&1===n.nodeType}function _M(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function EM(n,e,t,i,r){const s=[];t.forEach(C=>s.push(_M(C)));const o=[];i.forEach((C,N)=>{const B={};C.forEach(Y=>{const Q=B[Y]=e.computeStyle(N,Y,r);(!Q||0==Q.length)&&(N[jr]=oW,o.push(N))}),n.set(N,B)});let l=0;return t.forEach(C=>_M(C,s[l++])),o}function DM(n,e){const t=new Map;if(n.forEach(l=>t.set(l,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(l){if(!l)return 1;let C=s.get(l);if(C)return C;const N=l.parentNode;return C=t.has(N)?N:r.has(N)?1:o(N),s.set(l,C),C}return e.forEach(l=>{const C=o(l);1!==C&&t.get(C).push(l)}),t}const tg="$$classes";function Wr(n,e){if(n.classList)n.classList.add(e);else{let t=n[tg];t||(t=n[tg]={}),t[e]=!0}}function Ku(n,e){if(n.classList)n.classList.remove(e);else{let t=n[tg];t&&delete t[e]}}function cW(n,e,t){ha(t).onDone(()=>n.processLeaveNode(e))}function SM(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof K1?SM(i.players,e):e.push(i)}}function TM(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class ng{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new lW(e,t,i),this._timelineEngine=new tW(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let l=this._triggerCache[o];if(!l){const C=[],N=v0(this._driver,s,C);if(C.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);l=function(n,e,t){return new Jj(n,e,t)}(r,N,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,r,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=Z1(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,l]=Z1(i);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function xM(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=x0(e[0]),e.length>1&&(i=x0(e[e.length-1]))):e&&(t=x0(e)),t||i?new gW(n,t,i):null}let gW=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Xs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xs(this._element,this._initialStyles),this._endStyles&&(Xs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ul(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ul(this._element,this._endStyles),this._endStyles=null),Xs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function x0(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];mW(r)&&(e=e||{},e[r]=n[r])}return e}function mW(n){return"display"===n||"position"===n}const MM="animation",kM="animationend";class bW{constructor(e,t,i,r,s,o,l){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(n,e){const t=k0(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),ig(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),AM(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){OM(this._element,this._name,"paused")}resume(){OM(this._element,this._name,"running")}setPosition(e){const t=IM(this._element,this._name);this._position=e*this._duration,ig(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),AM(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=k0(n,"").split(","),r=M0(i,e);r>=0&&(i.splice(r,1),ig(n,"",i.join(",")))}(this._element,this._name))}}function OM(n,e,t){ig(n,"PlayState",t,IM(n,e))}function IM(n,e){const t=k0(n,"");return t.indexOf(",")>0?M0(t.split(","),e):M0([t],e)}function M0(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function AM(n,e,t){t?n.removeEventListener(kM,e):n.addEventListener(kM,e)}function ig(n,e,t,i){const r=MM+e;if(null!=i){const s=n.style[r];if(s.length){const o=s.split(",");o[i]=t,t=o.join(",")}}n.style[r]=t}function k0(n,e){return n.style[MM+e]||""}class PM{constructor(e,t,i,r,s,o,l,C){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=l,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new bW(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:m0(this.element,i))})}this.currentSnapshot=e}}class SW extends Gu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=tM(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class NM{constructor(){this._count=0}validateStyleProperty(e){return o0(e)}matchesElement(e,t){return a0(e,t)}containsElement(e,t){return l0(e,t)}query(e,t,i){return u0(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(l=>tM(l));let r=`@keyframes ${t} {\n`,s="";i.forEach(l=>{s=" ";const C=parseFloat(l.offset);r+=`${s}${100*C}% {\n`,s+=" ",Object.keys(l).forEach(N=>{const B=l[N];switch(N){case"offset":return;case"easing":return void(B&&(r+=`${s}animation-timing-function: ${B};\n`));default:return void(r+=`${s}${N}: ${B};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,i,r,s,o=[],l){const C=o.filter(ae=>ae instanceof PM),N={};uM(i,r)&&C.forEach(ae=>{let ve=ae.currentSnapshot;Object.keys(ve).forEach(fe=>N[fe]=ve[fe])});const B=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(t=dM(e,t,N));if(0==i)return new SW(e,B);const Y="gen_css_kf_"+this._count++,Q=this.buildKeyframeElement(e,Y,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(Q);const q=xM(e,t),re=new PM(e,t,Y,i,r,s,B,q);return re.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(Q)),re}}class LM{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:m0(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class OW{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(BM().toString()),this._cssKeyframesDriver=new NM}validateStyleProperty(e){return o0(e)}matchesElement(e,t){return a0(e,t)}containsElement(e,t){return l0(e,t)}query(e,t,i){return u0(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,s,o=[],l){if(!l&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,s,o);const B={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(B.easing=s);const Y={},Q=o.filter(q=>q instanceof LM);uM(i,r)&&Q.forEach(q=>{let re=q.currentSnapshot;Object.keys(re).forEach(ae=>Y[ae]=re[ae])});const K=xM(e,t=dM(e,t=t.map(q=>ca(q,!1)),Y));return new LM(e,t,B,K)}}function BM(){return Q1()&&Element.prototype.animate||{}}let AW=(()=>{class n extends j1{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:te.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?$1(t):t;return VM(this._renderer,null,i,"register",[r]),new PW(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Le(Wa),Le(Jn))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();class PW extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RW(this._id,e,t||{},this._renderer)}}class RW{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return VM(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function VM(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const HM="@.disabled";let NW=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let B=this._rendererCache.get(s);return B||(B=new zM("",s,this.engine),this._rendererCache.set(s,B)),B}const o=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);const C=B=>{Array.isArray(B)?B.forEach(C):this.engine.registerTrigger(o,l,t,B.name,B)};return i.data.animation.forEach(C),new FW(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Le(Wa),Le(ng),Le(En))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();class zM{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==HM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class FW extends zM{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==HM?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(e,t,i)}}let VW=(()=>{class n extends ng{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn),Le(d0),Le(_0))},n.\u0275prov=qe({token:n,factory:n.\u0275fac}),n})();const UM=new Pt("AnimationModuleType"),jM=[{provide:j1,useClass:AW},{provide:_0,useFactory:function(){return new Gj}},{provide:ng,useClass:VW},{provide:Wa,useFactory:function(n,e,t){return new NW(n,e,t)},deps:[Gf,ng,En]}],WM=[{provide:d0,useFactory:function(){return"function"==typeof BM()?new OW:new NM}},{provide:UM,useValue:"BrowserAnimations"},...jM],$M=[{provide:d0,useClass:nM},{provide:UM,useValue:"NoopAnimations"},...jM];let jW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$M:WM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({providers:WM,imports:[Fy]}),n})();const GM=["toast-component",""];function WW(n,e){if(1&n){const t=os();z(0,"button",5),gt("click",function(){return wi(t),Ke().remove()}),z(1,"span",6),W(2,"\xd7"),U(),U()}}function $W(n,e){if(1&n&&(za(0),W(1),Ua()),2&n){const t=Ke(2);be(1),Hn("[",t.duplicatesCount+1,"]")}}function GW(n,e){if(1&n&&(z(0,"div"),W(1),Ge(2,$W,2,1,"ng-container",4),U()),2&n){const t=Ke();vo(t.options.titleClass),nr("aria-label",t.title),be(1),Hn(" ",t.title," "),be(1),Ne("ngIf",t.duplicatesCount)}}function YW(n,e){if(1&n&&he(0,"div",7),2&n){const t=Ke();vo(t.options.messageClass),Ne("innerHTML",t.message,lm)}}function KW(n,e){if(1&n&&(z(0,"div",8),W(1),U()),2&n){const t=Ke();vo(t.options.messageClass),nr("aria-label",t.message),be(1),Hn(" ",t.message," ")}}function QW(n,e){if(1&n&&(z(0,"div"),he(1,"div",9),U()),2&n){const t=Ke();be(1),pu("width",t.width+"%")}}function XW(n,e){if(1&n){const t=os();z(0,"button",5),gt("click",function(){return wi(t),Ke().remove()}),z(1,"span",6),W(2,"\xd7"),U(),U()}}function ZW(n,e){if(1&n&&(za(0),W(1),Ua()),2&n){const t=Ke(2);be(1),Hn("[",t.duplicatesCount+1,"]")}}function JW(n,e){if(1&n&&(z(0,"div"),W(1),Ge(2,ZW,2,1,"ng-container",4),U()),2&n){const t=Ke();vo(t.options.titleClass),nr("aria-label",t.title),be(1),Hn(" ",t.title," "),be(1),Ne("ngIf",t.duplicatesCount)}}function qW(n,e){if(1&n&&he(0,"div",7),2&n){const t=Ke();vo(t.options.messageClass),Ne("innerHTML",t.message,lm)}}function e4(n,e){if(1&n&&(z(0,"div",8),W(1),U()),2&n){const t=Ke();vo(t.options.messageClass),nr("aria-label",t.message),be(1),Hn(" ",t.message," ")}}function t4(n,e){if(1&n&&(z(0,"div"),he(1,"div",9),U()),2&n){const t=Ke();be(1),pu("width",t.width+"%")}}class n4{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class sg{constructor(e,t,i,r,s,o){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this._onTap=new j,this._onAction=new j,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const YM={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},KM=new Pt("ToastConfig");class r4{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new j,this._activate=new j,this._manualClose=new j,this._resetTimeout=new j,this._countDuplicate=new j}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class s4{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===sg?this._toastPackage:this._parentInjector.get(e,t,i)}}class o4 extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class a4{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let l4=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(Le(Jn))},n.\u0275prov=qe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u4=(()=>{class n{constructor(t,i,r,s){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=s,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new o4(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new a4(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(Le(l4),Le(Ko),Le(Jo),Le(Jn))},n.\u0275prov=qe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),og=(()=>{class n{constructor(t,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Yr(Yr({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Yr(Yr({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const l of this.toasts){const C=o&&l.title===t;if((!o||C)&&l.message===i)return l.toastRef.onDuplicate(r,s),l}return null}applyConfig(t={}){return Yr(Yr({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=i;let l=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(l=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let N=i;i&&s.enableHtml&&(N=this.sanitizer.sanitize(dn.HTML,i));const B=new r4(C),Y=new sg(this.index,s,N,r,t,B),Q=new s4(Y,this._injector),K=new n4(s.toastComponent,Q),q=C.attach(K,this.toastrConfig.newestOnTop);B.componentInstance=q.instance;const re={toastId:this.index,title:r||"",message:i||"",toastRef:B,onShown:B.afterActivate(),onHidden:B.afterClosed(),onTap:Y.onTap(),onAction:Y.onAction(),portal:q};return l||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{re.toastRef.activate()})),this.toasts.push(re),re}}return n.\u0275fac=function(t){return new(t||n)(Le(KM),Le(u4),Le(en),Le(Yf),Le(En))},n.\u0275prov=qe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d4=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Qu(Yr({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Qu(Yr({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Qu(Yr({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(De(og),De(sg),De(En))},n.\u0275cmp=Xt({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&gt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(av("@flyInOut",i.state),vo(i.toastClasses),pu("display",i.displayStyle))},attrs:GM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,i){1&t&&(Ge(0,WW,3,0,"button",0),Ge(1,GW,3,5,"div",1),Ge(2,YW,1,3,"div",2),Ge(3,KW,2,4,"div",3),Ge(4,QW,2,2,"div",4)),2&t&&(Ne("ngIf",i.options.closeButton),be(1),Ne("ngIf",i.title),be(1),Ne("ngIf",i.message&&i.options.enableHtml),be(1),Ne("ngIf",i.message&&!i.options.enableHtml),be(1),Ne("ngIf",i.options.progressBar))},directives:[Vr],encapsulation:2,data:{animation:[bj("flyInOut",[Zb("inactive",Kh({opacity:0})),Zb("active",Kh({opacity:1})),Zb("removed",Kh({opacity:0})),G1("inactive => active",W1("{{ easeTime }}ms {{ easing }}")),G1("active => removed",W1("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const h4=Qu(Yr({},YM),{toastComponent:d4});let c4=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:KM,useValue:{default:h4,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n}),n.\u0275inj=pn({imports:[[nT]]}),n})(),f4=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(De(og),De(sg),De(Jo))},n.\u0275cmp=Xt({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,i){1&t&&gt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(vo(i.toastClasses),pu("display",i.displayStyle))},attrs:GM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,i){1&t&&(Ge(0,XW,3,0,"button",0),Ge(1,JW,3,5,"div",1),Ge(2,qW,1,3,"div",2),Ge(3,e4,2,4,"div",3),Ge(4,t4,2,2,"div",4)),2&t&&(Ne("ngIf",i.options.closeButton),be(1),Ne("ngIf",i.title),be(1),Ne("ngIf",i.message&&i.options.enableHtml),be(1),Ne("ngIf",i.message&&!i.options.enableHtml),be(1),Ne("ngIf",i.options.progressBar))},directives:[Vr],encapsulation:2}),n})();Qu(Yr({},YM),{toastComponent:f4});let $r=(()=>{class n{constructor(t){this.candidates=["A","B","C","D"],this.rankings=[["A","B","C","D"],["B","A","C","D"],["A","B","C","D"],["D","B","C","A"],["A","B","C","D"]],this.kendallRankings=[["A","B","C","D"],["B","A","C","D"]],this.premadeRankingSets={weaklyNotStrongly:[["C","A","B","E","F","D"],["A","B","C","F","D","E"],["B","C","A","D","E","F"],["A","B","C","D","E","F"],["B","A","C","F","D","E"],["B","C","A","D","F","E"]],noCondorcet:[["B","A","C"],["C","B","A"],["B","A","C"],["A","C","B"],["C","A","B"]]},this.changesMade=new j,this.toastr=t}onChangesMade(){if(this.rankings.length>=2)this.kendallRankings=this.rankings.slice(0,2);else if(this.rankings.length>=1){let t=this.rankings.slice()[0];this.kendallRankings=[t,t.slice()]}else this.kendallRankings=[["A","B"],["B","A"]];this.changesMade.next()}getCandidates(){return this.candidates}pushCandidate(t){this.candidates.push(t)}addCandidateToAllRankings(t){this.rankings.forEach(i=>i.push(t)),this.onChangesMade()}deleteCandidate(t){let i=this.candidates[t];this.candidates.splice(t,1),this.rankings.forEach(r=>r.splice(r.indexOf(i),1)),this.onChangesMade()}getCandidate(t){return this.candidates[t]}isValidCandidate(t,i=!1){return""===t?(i&&this.displayToast("Name of candidate cannot be blank.","Blank Name"),!1):this.candidates.includes(t)?(i&&this.displayToast("Cannot add candidate as it already exists","Already Exists"),!1):!t.includes(",")||(i&&this.displayToast("Cannot add candidate with comma in name","Includes Comma"),!1)}updateCandidateName(t,i){let r=this.candidates[t];this.rankings.forEach(s=>s[s.indexOf(r)]=i),this.candidates[t]=i,this.onChangesMade()}getRankings(){return this.rankings}getKendallRankings(){return this.kendallRankings}setKendallRankings(t){this.kendallRankings=t}pushRanking(t){this.rankings.push(t),console.log(this.rankings),this.onChangesMade()}editRanking(t,i){this.rankings[t]=i,this.onChangesMade()}deleteRanking(t){this.rankings.splice(t,1),this.onChangesMade()}getRanking(t){return this.rankings[t]}isValidRanking(t,i=!1){const r=this.sortStringArray(this.candidates.slice()),s=this.sortStringArray(t.slice());let o=this.arrayEquals(r,s);return!o&&i&&this.displayToast("Ranking must contain each of the candidates names separated by commas","Invalid Ranking"),o}clearRankings(){this.rankings=[],this.onChangesMade()}kendall(t,i){length=t.length;let r,s,l,C,o=0;for(r=0;r<length;r++)for(s=r+1;s<length;s++){let N=t[r],B=t[s];l=t.indexOf(N)<t.indexOf(B)&&i.indexOf(N)>i.indexOf(B),C=t.indexOf(N)>t.indexOf(B)&&i.indexOf(N)<i.indexOf(B),(l||C)&&o++}return o}kendallDisagreements(t,i){length=t.length;let r,o,l,s=0,C=[];for(r=0;r<length;r++)for(s=r+1;s<length;s++){let N=t[r],B=t[s];o=t.indexOf(N)<t.indexOf(B)&&i.indexOf(N)>i.indexOf(B),l=t.indexOf(N)>t.indexOf(B)&&i.indexOf(N)<i.indexOf(B),(o||l)&&C.push(this.sortStringArray([N,B]))}return C}validRankingSet(t){if(t.length<1)return!1;let i=this.sortStringArray(t[0]);for(let r of t)if(!this.arrayEquals(this.sortStringArray(r),i))return console.log(i),console.log(r),console.log("failed here"),!1;return!0}constructFile(){let t=[];this.rankings.forEach(r=>t.push(this.convertToString(r)));let i=t.join("\n");return new Blob([i],{type:".txt"})}constructRankings(t){this.candidates=this.sortStringArray(t[0]),this.rankings=this.deepCopy(t),this.onChangesMade()}constructRankingsPremade(t){console.log("a");let i=this.premadeRankingSets[t];console.log(i),i&&this.constructRankings(i)}sortStringArray(t){return t.slice().sort((i,r)=>i>r?1:i<r?-1:0)}arrayEquals(t,i){return t.length===i.length&&t.every((r,s)=>r===i[s])}deepCopy(t){return JSON.parse(JSON.stringify(t))}suffixIncluded(t){let i=t%10,r=t%100;return 1==i&&11!=r?t+"st":2==i&&12!=r?t+"nd":3==i&&13!=r?t+"rd":t+"th"}convertToArray(t){let i=t.split(",");return i=i.map(r=>r.trim()),i}convertToString(t){return t.join(", ")}getPermutations(t){let i=[],r=[];return function s(o){var l,C;for(l=0;l<o.length;l++)C=o.splice(l,1)[0],r.push(C),0==o.length&&i.push(r.slice()),s(o),o.splice(l,0,C),r.pop();return i}(t),i}shuffle(t){let r,i=t.length;for(;0!=i;)r=Math.floor(Math.random()*i),i--,[t[i],t[r]]=[t[r],t[i]];return t}printSummaryOfTimes(t,i,r=""){let s=t.reduce((Y,Q)=>Y+Q)/t.length,o=Math.min.apply(Math,t),l=Math.max.apply(Math,t),C=Math.round(s*10**i)/10**i,N=Math.round(o*10**i)/10**i,B=Math.round(l*10**i)/10**i;console.log(`Time taken ${r} - Average: ${C}ms, Min: ${N}ms, Max: ${B}ms`)}getRankingFromIP(t,i){let r=new Array(i.length).fill(0);for(let o of Object.keys(t))if("x"===o[0]){let l=o.slice(1).split("_");r[+l[0]]+=1}let s=i.slice();return s=s.sort((o,l)=>r[i.indexOf(l)]-r[i.indexOf(o)]),s}printBFmismatch(t,i,r,s,o,l){console.log(`MISMATCH found between IP and BF results for ${t}`),console.log("Rankings:"),console.log(i),console.log("IPScore: "),console.log(r),console.log("IPResult"),console.log(s),console.log("BFScore: "),console.log(o),console.log("BFResult"),console.log(l)}isDangerous(t){let r={popular:{candidates:7,rankings:200},kemeny:{candidates:25,rankings:1e4}}[t];return!!r&&(this.candidates.length>r.candidates||this.rankings.length>r.rankings)}displayToast(t,i){this.toastr.error(t,i)}}return n.\u0275fac=function(t){return new(t||n)(Le(og))},n.\u0275prov=qe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p4=function(n,e,t){return{"bg-light":n,"bg-red":e,"bg-green":t}},g4=["*"];let bi=(()=>{class n{constructor(){this.heading="",this.bg="bg-light"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-tile"]],inputs:{heading:"heading",bg:"bg"},ngContentSelectors:g4,decls:4,vars:6,consts:[[1,"tile",3,"ngClass"]],template:function(t,i){1&t&&(Vd(),z(0,"div",0),z(1,"h2"),W(2),U(),Hd(3),U()),2&t&&(Ne("ngClass",wD(2,p4,"bg-light"===i.bg,"bg-red"===i.bg,"bg-green"===i.bg)),be(2),wt(i.heading))},directives:[ph],styles:['.tile[_ngcontent-%COMP%]{margin:30px 10px;box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;border-radius:3px;padding:20px;font-size:large;font-family:"Open Sans",sans-serif}.bg-red[_ngcontent-%COMP%]{background-color:#ed7b7b}.bg-green[_ngcontent-%COMP%]{background-color:#7bed9a}']}),n})();const m4=function(n,e,t,i,r,s,o){return{grey:n,red:e,green:t,blue:i,yellow:r,purple:s,kendallWidth:o}},v4=["*"];let or=(()=>{class n{constructor(){this.bg="grey",this.kendallWidth=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["hl"]],inputs:{bg:"bg",kendallWidth:"kendallWidth"},ngContentSelectors:v4,decls:2,vars:9,consts:[[1,"highlight",3,"ngClass"]],template:function(t,i){1&t&&(Vd(),z(0,"div",0),Hd(1),U()),2&t&&Ne("ngClass",_D(1,m4,"grey"===i.bg,"red"===i.bg,"green"===i.bg,"blue"===i.bg,"yellow"===i.bg,"purple"===i.bg,i.kendallWidth))},directives:[ph],styles:[".highlight[_ngcontent-%COMP%]{font-size:large;font-weight:bold;padding:2px 5px;border-radius:5px;width:max-content;display:inline-block;margin:1px;min-width:3ch;text-align:center}.grey[_ngcontent-%COMP%]{background-color:#e7e7e7}.red[_ngcontent-%COMP%]{background-color:#f99}.green[_ngcontent-%COMP%]{background-color:#beff99}.blue[_ngcontent-%COMP%]{background-color:#99c2ff}.yellow[_ngcontent-%COMP%]{background-color:#ffe499}.purple[_ngcontent-%COMP%]{background-color:#fc99ff}.kendallWidth[_ngcontent-%COMP%]{min-width:120px;max-width:170px}"]}),n})();function y4(n,e){if(1&n){const t=os();z(0,"div",1),z(1,"div",20),z(2,"input",43),gt("ngModelChange",function(r){const o=wi(t).index;return Ke().candidateStrings[o]=r})("blur",function(){const s=wi(t).index;return Ke().checkEditedCandidate(s)}),U(),U(),z(3,"div",26),z(4,"button",44),gt("click",function(){const s=wi(t).index;return Ke().removeCandidate(s)}),U(),U(),U()}if(2&n){const t=e.index,i=Ke();be(2),Ne("ngModel",i.candidateStrings[t])}}function b4(n,e){if(1&n){const t=os();z(0,"div",45),z(1,"div",15),z(2,"label",16),W(3),U(),U(),z(4,"div",46),z(5,"input",47),gt("ngModelChange",function(r){const o=wi(t).index;return Ke().rankingStrings[o]=r})("blur",function(){const s=wi(t).index;return Ke().checkEditedRanking(s)}),U(),U(),z(6,"div",15),z(7,"button",44),gt("click",function(){const s=wi(t).index;return Ke().removeRanking(s)}),U(),U(),U()}if(2&n){const t=e.index,i=Ke();be(3),wt(t+1),be(2),Ne("ngModel",i.rankingStrings[t])}}function C4(n,e){if(1&n){const t=os();za(0),z(1,"button",48),gt("click",function(){const s=wi(t).$implicit;return Ke().quickAdd(s)}),W(2),U(),Ua()}if(2&n){const t=e.$implicit;be(2),wt(t)}}function w4(n,e){if(1&n){const t=os();z(0,"div",29),z(1,"div"),W(2,"Number of candidates"),U(),z(3,"input",49),gt("ngModelChange",function(r){return wi(t),Ke().numRandomCandidates=r}),U(),U()}if(2&n){const t=Ke();be(3),Ne("ngModel",t.numRandomCandidates)}}function _4(n,e){if(1&n){const t=os();z(0,"button",42),gt("click",function(){wi(t);const r=Ke();return r.constructRankings(r.rankingsFromFile)}),W(1,"Use rankings from file"),U()}}let E4=(()=>{class n{constructor(t,i){this.newCandidate="",this.newRanking="",this.candidateStrings=[],this.rankingStrings=[],this.candidates=[],this.rankings=[],this.fileToUpload=null,this.validFile=!1,this.rankingsFromFile=[],this.numRandomVoters=10,this.numRandomCandidates=5,this.keepCandidates=!0,this.svc=t,this.toastr=i}ngOnInit(){this.candidates=this.svc.getCandidates(),this.rankings=this.svc.getRankings(),this.svc.changesMade.subscribe(()=>{this.candidates=this.svc.getCandidates(),this.rankings=this.svc.getRankings()}),this.candidateStrings=this.candidates.slice(),this.rankings.forEach(t=>this.rankingStrings.push(this.svc.convertToString(t)))}trackByIndex(t,i){return t}addRanking(){let t=this.svc.convertToArray(this.newRanking);console.log(t),this.svc.isValidRanking(t,!0)&&this.addValidRanking(t)}addValidRanking(t){console.log("new ranking"),console.log(t),this.svc.pushRanking(t),this.rankingStrings.push(this.svc.convertToString(t)),this.newRanking="",setTimeout(this.scrollToBottom,100)}checkEditedRanking(t){let i=this.svc.convertToArray(this.rankingStrings[t]);this.svc.isValidRanking(i)&&this.svc.editRanking(t,i),this.rankingStrings[t]=this.svc.convertToString(this.rankings[t])}removeRanking(t){this.svc.deleteRanking(t),this.rankingStrings.splice(t,1)}addCandidate(){this.svc.isValidCandidate(this.newCandidate,!0)&&(this.svc.pushCandidate(this.newCandidate),this.candidateStrings.push(this.newCandidate),this.svc.addCandidateToAllRankings(this.newCandidate),this.newCandidate="",this.updateRankingStrings())}checkEditedCandidate(t){let i=this.candidateStrings[t];this.svc.isValidCandidate(i)&&this.svc.updateCandidateName(t,i),this.candidateStrings[t]=this.candidates[t],this.updateRankingStrings()}updateRankingStrings(){this.rankingStrings=[],this.rankings.forEach(t=>this.rankingStrings.push(this.svc.convertToString(t)))}removeCandidate(t){this.svc.deleteCandidate(t),this.candidateStrings.splice(t,1),this.updateRankingStrings()}quickAdd(t){let i=this.newRanking.trim();""===i||","===i.substr(i.length-1)?this.newRanking+=t:this.newRanking+=", "+t}addRandomRanking(){let t=this.candidates.slice(),i=this.svc.shuffle(t);this.addValidRanking(i)}clearRankings(){this.svc.clearRankings(),this.candidateStrings=this.candidates.slice(),this.updateRankingStrings()}handleFileInput(){this.validFile=!1;let t=document.getElementById("formFile").files;if(null===t||(this.fileToUpload=t[0],void 0===this.fileToUpload||"txt"!==this.getFileType(this.fileToUpload.name)))return;let i=new FileReader;i.onload=()=>{this.rankingsFromFile=[];let r=i.result;"string"==typeof r&&this.processFile(r)},i.readAsText(this.fileToUpload)}processFile(t){let r=t.split("\n").map(s=>this.svc.convertToArray(s));this.svc.validRankingSet(r)?(this.validFile=!0,this.rankingsFromFile=r):this.svc.displayToast("The file uploaded was invalid or incorrectly formatted.","Invalid File")}downloadRankings(){let t=this.svc.constructFile(),i=document.createElement("a"),r=URL.createObjectURL(t);i.href=r,i.download="voters-rankings",document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)},0)}constructRankings(t){this.svc.constructRankings(t),this.candidateStrings=this.candidates.slice(),this.updateRankingStrings()}constructRankingsPremade(t){this.svc.constructRankingsPremade(t),this.candidateStrings=this.candidates.slice(),this.updateRankingStrings()}scrollToBottom(){var t=document.getElementById("rankingScroll");t&&(t.scrollTop=t.scrollHeight)}generateRandom(){let i=[],r=[];if(this.keepCandidates)i=this.candidates.slice();else{if(this.numRandomCandidates>676||this.numRandomCandidates<1)return;for(let s=0;s<this.numRandomCandidates;s++){let o=s%26,l=(s-o)/26-1,C=String.fromCharCode(65+o),N=-1==l?"":String.fromCharCode(65+l);i.push(N+C)}}for(let s=0;s<this.numRandomVoters;s++){let o=this.svc.shuffle(i.slice());r.push(o)}this.constructRankings(r)}getFileType(t){return t.split(".").pop()}displayToast(){this.toastr.success("message","title")}}return n.\u0275fac=function(t){return new(t||n)(De($r),De(og))},n.\u0275cmp=Xt({type:n,selectors:[["app-add-rankings"]],decls:116,vars:12,consts:[[1,"container","add-rankings-container"],[1,"row"],[1,"col-3"],["heading","Candidates"],[1,"flex-column"],["id","candidateScroll",1,"input-scroll","mb-auto","p-2"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-9"],["placeholder","Enter candidate",1,"new-candidate-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary","new-candidate-btn",3,"click"],["heading","Voters Rankings"],[1,"btn","btn-danger","clear-button",3,"click"],["id","rankingScroll",1,"input-scroll","mb-auto"],["class","ranking-input-list row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ranking-input-list","p-2"],[1,"col-1"],[1,"ranking-input-label"],["placeholder","Enter ranking",1,"new-ranking-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-2"],[1,"btn","btn-primary","new-ranking-btn",3,"click"],[1,"col-8"],[1,"horizontal"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","new-random-btn",3,"click"],[1,"warning-msg"],[1,"bi","bi-exclamation-circle-fill","warn"],[1,"col-4"],["heading","Generate Random"],[1,"fixed-height-tiles"],[1,"d-flex","randomise-row"],["placeholder","i.e. 15",1,"random-input","ms-auto",3,"ngModel","ngModelChange"],["type","checkbox",1,"form-check-input","random-checkbox",3,"ngModel","ngModelChange"],["class","d-flex randomise-row",4,"ngIf"],[1,"btn","btn-danger",3,"click"],["heading","Import File"],["for","formFile",1,"form-label"],["type","file","id","formFile","accept",".txt",1,"form-control","file-input",3,"change"],["class","btn btn-danger apply-file-btn",3,"click",4,"ngIf"],["heading","Export File"],[1,"form-label"],[1,"btn","btn-primary","apply-file-btn",3,"click"],["heading","Interesting Ranking Sets"],[1,"btn","btn-danger","apply-file-btn",3,"click"],["placeholder","Enter candidate",1,"candidate-input",3,"ngModel","ngModelChange","blur"],["type","button","aria-label","Close",1,"btn-close","remove-ranking-btn",3,"click"],[1,"ranking-input-list","row"],[1,"col-10"],["placeholder","Enter ranking",1,"ranking-input",3,"ngModel","ngModelChange","blur"],[1,"btn","btn-primary","quick-add-btn",3,"click"],["placeholder","i.e. 4",1,"random-input","ms-auto",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(z(0,"div",0),z(1,"div",1),z(2,"div",2),z(3,"app-tile",3),z(4,"div",4),z(5,"div",5),Ge(6,y4,5,1,"div",6),U(),z(7,"div",1),z(8,"div",7),z(9,"input",8),gt("ngModelChange",function(s){return i.newCandidate=s})("keyup.enter",function(){return i.addCandidate()}),U(),U(),z(10,"div",2),z(11,"button",9),gt("click",function(){return i.addCandidate()}),W(12,"Add"),U(),U(),U(),U(),U(),U(),z(13,"div",7),z(14,"app-tile",10),z(15,"button",11),gt("click",function(){return i.clearRankings()}),W(16,"Clear All"),U(),z(17,"div",4),z(18,"div",12),Ge(19,b4,8,2,"div",13),U(),z(20,"div",14),z(21,"div",1),z(22,"div",15),z(23,"label",16),W(24),U(),U(),z(25,"div",7),z(26,"input",17),gt("ngModelChange",function(s){return i.newRanking=s})("keyup.enter",function(){return i.addRanking()}),U(),U(),z(27,"div",18),z(28,"button",19),gt("click",function(){return i.addRanking()}),W(29,"Add"),U(),U(),U(),z(30,"div",1),he(31,"div",15),z(32,"div",20),z(33,"div",21),Ge(34,C4,3,1,"ng-container",22),U(),U(),z(35,"div",2),z(36,"button",23),gt("click",function(){return i.addRandomRanking()}),W(37,"Add random"),U(),U(),U(),U(),U(),U(),U(),he(38,"hr"),U(),z(39,"div",1),z(40,"div",24),he(41,"i",25),W(42," The actions below will overwrite the current rankings. "),U(),U(),z(43,"div",1),z(44,"div",26),z(45,"app-tile",27),z(46,"div",28),z(47,"div",29),z(48,"div"),W(49,"Number of voters"),U(),z(50,"input",30),gt("ngModelChange",function(s){return i.numRandomVoters=s}),U(),U(),z(51,"div",29),z(52,"div"),W(53,"Use existing candidates"),U(),z(54,"input",31),gt("ngModelChange",function(s){return i.keepCandidates=s}),U(),U(),Ge(55,w4,4,1,"div",32),z(56,"button",33),gt("click",function(){return i.generateRandom()}),W(57,"Generate random voters"),U(),U(),U(),U(),z(58,"div",26),z(59,"app-tile",34),z(60,"div",28),z(61,"label",35),W(62,"Upload rankings from text file"),U(),z(63,"input",36),gt("change",function(){return i.handleFileInput()}),U(),Ge(64,_4,2,0,"button",37),U(),U(),U(),z(65,"div",26),z(66,"app-tile",38),z(67,"div",28),z(68,"label",39),W(69,"Download rankings as text file"),U(),he(70,"br"),z(71,"button",40),gt("click",function(){return i.downloadRankings()}),W(72,"Download"),U(),U(),U(),U(),U(),z(73,"div",1),z(74,"app-tile",41),z(75,"b"),W(76,"Weakly Not Strongly:"),U(),W(77," An example of where a weakly popular ranking is not strongly popular. "),he(78,"br"),W(79,"Try testing the ranking "),z(80,"hl"),W(81,"A, B, C, D, E, F"),U(),W(82," on the Popular Ranking page. "),z(83,"button",42),gt("click",function(){return i.constructRankingsPremade("weaklyNotStrongly")}),W(84,"Use this ranking set"),U(),he(85,"br"),he(86,"br"),z(87,"b"),W(88,"No Condorcet Winner:"),U(),W(89," An example set of rankings where no candidate is preferred to all others by the majority. "),he(90,"br"),W(91,"The majority of voters prefer "),z(92,"hl"),W(93,"A"),U(),W(94," to "),z(95,"hl"),W(96,"C"),U(),W(97,", prefer "),z(98,"hl"),W(99,"C"),U(),W(100," to "),z(101,"hl"),W(102,"B"),U(),W(103," and prefer "),z(104,"hl"),W(105,"B"),U(),W(106," to "),z(107,"hl"),W(108,"A"),U(),W(109,". "),he(110,"br"),W(111,"There is a cycle in the majority graph so no topological ordering. "),z(112,"button",42),gt("click",function(){return i.constructRankingsPremade("noCondorcet")}),W(113,"Use this ranking set"),U(),he(114,"br"),he(115,"br"),U(),U(),U()),2&t&&(be(6),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),be(3),Ne("ngModel",i.newCandidate),be(10),Ne("ngForOf",i.rankings)("ngForTrackBy",i.trackByIndex),be(5),wt(i.rankings.length+1),be(2),Ne("ngModel",i.newRanking),be(8),Ne("ngForOf",i.candidates),be(16),Ne("ngModel",i.numRandomVoters),be(4),Ne("ngModel",i.keepCandidates),be(1),Ne("ngIf",!i.keepCandidates),be(9),Ne("ngIf",i.validFile))},directives:[bi,Ws,Ou,Xf,_h,By,Vr,or],styles:['.add-rankings-container[_ngcontent-%COMP%]{padding:0;overflow-x:hidden}.rankings-upload-file[_ngcontent-%COMP%]{padding:10px}.candidate-input[_ngcontent-%COMP%]{padding:10px;border:none;font-size:20px;width:100%;background-color:#f8f9fa}.ranking-input[_ngcontent-%COMP%]{padding:10px;border:none;font-size:20px;width:100%;background-color:#e7e7e7}.ranking-input[_ngcontent-%COMP%]:focus, .candidate-input[_ngcontent-%COMP%]:focus{background-color:#fff}.new-ranking-input[_ngcontent-%COMP%], .new-candidate-input[_ngcontent-%COMP%]{padding:10px;font-size:20px;width:100%}.new-ranking-btn[_ngcontent-%COMP%], .new-candidate-btn[_ngcontent-%COMP%]{float:right;padding:8px;margin:5px}.new-random-btn[_ngcontent-%COMP%]{float:right;padding:8px;margin:5px}.apply-file-btn[_ngcontent-%COMP%]{padding:5px}.file-input[_ngcontent-%COMP%]{margin-bottom:5px}.remove-ranking-btn[_ngcontent-%COMP%]{margin:10px}.ranking-input-label[_ngcontent-%COMP%]{padding:10px;font-size:20px}.ranking-input-list[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:3px 10px;margin:4px;border-radius:6px}.edit-candidates[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:30px;border-radius:6px}.quick-add-btn[_ngcontent-%COMP%]{padding:0 10px;margin:15px 10px 5px}.input-scroll[_ngcontent-%COMP%]{overflow:auto;height:35vh;overflow-x:hidden}.random-input[_ngcontent-%COMP%]{width:60px}.random-checkbox[_ngcontent-%COMP%]{margin-left:10px;margin-top:7px}.randomise-row[_ngcontent-%COMP%]{height:30px;line-height:30px;margin:2px}.fixed-height-tiles[_ngcontent-%COMP%]{height:13vh}.warning-msg[_ngcontent-%COMP%]{margin-left:20px;justify-content:center;align-items:center;font-family:"Open Sans",sans-serif}.warn[_ngcontent-%COMP%]{color:red;font-size:large;margin-right:5px}.clear-button[_ngcontent-%COMP%]{float:right;margin-top:-50px}']}),n})(),D4=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.svc=t}ngOnInit(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.svc.changesMade.subscribe(()=>{this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates()})}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-ranking-offcanvas"]],decls:17,vars:2,consts:[[1,"offcanvas-button"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasRight","aria-controls","offcanvasRight",1,"btn","btn-primary"],["tabindex","-1","id","offcanvasRight","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-body"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn","btn-primary","back-btn"],[1,"bi","bi-arrow-left"],[1,"autosave-msg"],[1,"bi","bi-arrow-repeat","refresh-icon"]],template:function(t,i){1&t&&(z(0,"div",0),z(1,"button",1),z(2,"h5"),W(3,"Edit Rankings"),U(),U(),z(4,"div"),W(5),U(),U(),z(6,"div",2),z(7,"div",3),z(8,"div"),z(9,"button",4),he(10,"i",5),W(11," Return "),U(),z(12,"div",6),z(13,"b"),he(14,"i",7),U(),W(15," All changes are automatically saved and results recalculated "),U(),U(),he(16,"app-add-rankings"),U(),U()),2&t&&(be(5),gu("",i.candidates.length," candidates, ",i.rankings.length," voters"))},directives:[E4],styles:['.autosave-msg[_ngcontent-%COMP%]{float:right;margin-right:20px;display:flex;justify-content:center;align-items:center;font-family:"Open Sans",sans-serif}.back-btn[_ngcontent-%COMP%]{float:left}.refresh-icon[_ngcontent-%COMP%]{color:green;font-size:x-large;margin-right:5px}']}),n})();function S4(n,e){1&n&&he(0,"i",15)}const T4=function(n){return{warn:n}};function x4(n,e){if(1&n&&(z(0,"li"),z(1,"a",13),W(2),Ge(3,S4,1,0,"i",14),U(),U()),2&n){const t=e.$implicit,i=Ke();be(1),cu("routerLink","/",t[1],""),Ne("ngClass",bD(4,T4,i.svc.isDangerous(t[1]))),be(1),Hn(" ",t[0]," "),be(1),Ne("ngIf",i.svc.isDangerous(t[1]))}}let M4=(()=>{class n{constructor(t){this.algLinks=[["Plurality (First Past The Post)","plurality"],["Borda Count","borda"],["Instant Runoff","instant-runoff"],["Kendall Distance","kendall"],["Kemeny Consensus","kemeny"],["Topological Ordering","topological"],["Popular Ranking","popular"]],this.criteriaLinks=[["Condorcet","condorcet"]],this.svc=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-sidebar"]],decls:25,vars:1,consts:[[1,"flex-shrink-0","p-3","sidebar",2,"width","300px"],["routerLinkActive","active","routerLink","/",1,"d-flex","mb-3","link-dark","text-decoration-none"],[1,"heading","first-half"],[1,"heading","second-half"],[1,"list-unstyled","ps-0"],[1,"mb-1"],["routerLinkActive","active","routerLink","/how-to-use",1,"btn","btn-sidebar","align-items-center","rounded","collapsed"],["routerLinkActive","active","routerLink","/about",1,"btn","btn-sidebar","align-items-center","rounded","collapsed"],[1,"p-2"],["data-bs-toggle","collapse","data-bs-target","#algs-collapse","aria-expanded","true",1,"btn","btn-toggle","align-items-center","rounded","collapsed"],["id","algs-collapse",1,"collapse","show"],[1,"btn-toggle-nav","list-unstyled","fw-normal","pb-1","small"],[4,"ngFor","ngForOf"],["routerLinkActive","active",1,"link-dark","rounded",3,"routerLink","ngClass"],["class","bi bi-exclamation-circle-fill warn icon",4,"ngIf"],[1,"bi","bi-exclamation-circle-fill","warn","icon"]],template:function(t,i){1&t&&(z(0,"div",0),z(1,"a",1),z(2,"span",2),W(3," Quick "),U(),z(4,"span",3),W(5," Vote "),U(),U(),he(6,"hr"),z(7,"ul",4),z(8,"li",5),z(9,"button",6),W(10," How To Use This Website "),U(),U(),z(11,"li",5),z(12,"button",7),W(13," About "),U(),U(),he(14,"hr"),z(15,"li",5),z(16,"div",8),he(17,"app-ranking-offcanvas"),U(),U(),he(18,"hr"),z(19,"li",5),z(20,"button",9),W(21," Algorithms "),U(),z(22,"div",10),z(23,"ul",11),Ge(24,x4,4,6,"li",12),U(),U(),U(),U(),U()),2&t&&(be(24),Ne("ngForOf",i.algLinks))},directives:[Bu,Ep,_p,D4,Ws,ph,Vr],styles:[".b-example-divider[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;pointer-events:none;fill:currentColor}.dropdown-toggle[_ngcontent-%COMP%]{outline:0}.nav-flush[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:0}.btn-toggle[_ngcontent-%COMP%], .btn-sidebar[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .5rem;font-weight:600;color:#000000a6;background-color:transparent;border:0}.btn-toggle[_ngcontent-%COMP%]:hover, .btn-toggle[_ngcontent-%COMP%]:focus, .btn-sidebar[_ngcontent-%COMP%]:hover, .btn-sidebar[_ngcontent-%COMP%]:focus{color:#000000d9;background-color:#d2eaf4}.btn-toggle[_ngcontent-%COMP%]:before{width:1.25em;line-height:0;content:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='rgba%280,0,0,.5%29' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 14l6-6-6-6'/%3e%3c/svg%3e\");transition:transform .35s ease;transform-origin:.5em 50%}.btn-toggle[aria-expanded=true][_ngcontent-%COMP%]{color:#000000d9}.btn-toggle[aria-expanded=true][_ngcontent-%COMP%]:before{transform:rotate(90deg)}.btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;padding:.1875rem .5rem;margin-top:.125rem;margin-left:1.25rem;text-decoration:none}.btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:#d2eaf4}.scrollarea[_ngcontent-%COMP%]{overflow-y:auto}.heading[_ngcontent-%COMP%]{font-weight:500;font-family:\"Open Sans\",sans-serif;font-size:55px}.lh-tight[_ngcontent-%COMP%]{line-height:1.25}.warn[_ngcontent-%COMP%]{color:red}.icon[_ngcontent-%COMP%]{margin-left:4px}.first-half[_ngcontent-%COMP%]{color:#8a2be2}.second-half[_ngcontent-%COMP%]{color:#00f}"]}),n})(),k4=(()=>{class n{constructor(){this.title="voting"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"bg-light"],[1,"container",2,"overflow-y","auto"],[1,"row"],[1,"col-sm-12"]],template:function(t,i){1&t&&(z(0,"main"),he(1,"app-sidebar",0),z(2,"div",1),he(3,"br"),z(4,"div",2),z(5,"div",3),he(6,"router-outlet"),U(),U(),U(),U())},directives:[M4,xb],styles:["main[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;height:100vh;height:-webkit-fill-available;max-height:100vh;overflow-x:auto;overflow-y:hidden}"]}),n})();function O4(n,e){1&n&&(z(0,"div"),z(1,"app-tile",9),W(2," Click the "),z(3,"button",10),W(4,"Edit Rankings"),U(),W(5," button to add some voters. "),U(),U())}function I4(n,e){1&n&&(z(0,"div"),z(1,"app-tile",12),W(2," Click the "),z(3,"button",10),W(4,"Edit Rankings"),U(),W(5," button to add some candidates. "),U(),U())}function A4(n,e){1&n&&Hd(0)}function P4(n,e){if(1&n&&(Ge(0,I4,6,0,"div",7),Ge(1,A4,1,0,"ng-template",null,11,Xo)),2&n){const t=Yo(2);Ne("ngIf",Ke().showNoCandidates())("ngIfElse",t)}}const R4=function(){return{exact:!0}},N4=["*"];let ar=(()=>{class n{constructor(t){this.title="",this.link="",this.isLearn=!1,this.svc=t}ngOnInit(){}showNoRankings(){return 0==this.svc.getRankings().length&&!this.isLearn}showNoCandidates(){return 0==this.svc.getCandidates().length&&!this.isLearn}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-alg"]],inputs:{title:"title",link:"link",isLearn:"isLearn"},ngContentSelectors:N4,decls:16,vars:7,consts:[[1,"d-flex"],[1,"me-auto","p-2"],[1,"display-3"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[4,"ngIf","ngIfElse"],["checkCandidates",""],["heading","No Voters!"],["type","button","disabled","",1,"btn","btn-primary"],["showContent",""],["heading","No Candidates!"]],template:function(t,i){if(1&t&&(Vd(),z(0,"div",0),z(1,"div",1),z(2,"h1",2),W(3),U(),U(),U(),z(4,"ul",3),z(5,"li",4),z(6,"a",5),z(7,"b"),W(8,"Run Algorithm"),U(),U(),U(),z(9,"li",4),z(10,"a",6),z(11,"b"),W(12,"Learn"),U(),U(),U(),U(),Ge(13,O4,6,0,"div",7),Ge(14,P4,3,2,"ng-template",null,8,Xo)),2&t){const r=Yo(15);be(3),wt(i.title),be(3),cu("routerLink","/",i.link,""),Ne("routerLinkActiveOptions",function(n,e,t){const i=_i()+n,r=Me();return r[i]===yt?Bs(r,i,t?e.call(t):e()):Ld(r,i)}(6,R4)),be(4),cu("routerLink","/",i.link,"/learn"),be(3),Ne("ngIf",i.showNoRankings())("ngIfElse",r)}},directives:[Bu,Ep,Vr,bi],styles:[""]}),n})();function F4(n,e){if(1&n&&(z(0,"th",7),W(1),U()),2&n){const t=e.index,i=Ke();be(1),Hn(" ",i.svc.suffixIncluded(t+1)," choice")}}function L4(n,e){if(1&n&&(z(0,"td"),W(1),U()),2&n){const t=e.index,i=Ke().$implicit,r=Ke();be(1),gu(" ",r.bordaCount[i][t]," (",r.getPoints(i,t)," points) ")}}function B4(n,e){if(1&n&&(z(0,"tr"),z(1,"th",8),W(2),U(),Ge(3,L4,2,2,"td",4),z(4,"th"),W(5),U(),U()),2&n){const t=e.$implicit,i=Ke();be(2),wt(t),be(1),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),be(2),wt(i.getTotal(t))}}function V4(n,e){if(1&n&&(z(0,"div"),W(1),U()),2&n){const t=Ke().index,i=Ke();be(1),Hn(" ",i.svc.suffixIncluded(t+1)," ")}}function H4(n,e){1&n&&W(0," = ")}function z4(n,e){if(1&n&&(z(0,"tr"),z(1,"th",8),Ge(2,V4,2,1,"div",9),Ge(3,H4,1,0,"ng-template",null,10,Xo),U(),z(5,"td"),W(6),U(),z(7,"th"),W(8),U(),U()),2&n){const t=e.$implicit,i=e.index,r=Yo(4),s=Ke();be(2),Ne("ngIf",s.isUniqueRank(i))("ngIfElse",r),be(4),wt(t[0]),be(2),wt(t[1])}}let U4=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.bordaCount={},this.bordaTotals=[],this.svc=t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.borda()}trackByIndex(t,i){return t}borda(){this.resetBordaArray();for(let t of this.rankings)for(let i=0;i<t.length;i++)this.bordaCount[t[i]][i]+=1;this.setTotals()}getPoints(t,i){return this.bordaCount[t][i]*(this.candidates.length-1-i)}getTotal(t){let i=0;for(let r=0;r<this.candidates.length;r++)i+=this.getPoints(t,r);return i}setTotals(){this.bordaTotals=[];for(let t of this.candidates)this.bordaTotals.push([t,this.getTotal(t)]);this.bordaTotals.sort((t,i)=>i[1]-t[1]),console.log(this.bordaTotals)}resetBordaArray(){this.bordaCount={};for(let t of this.candidates){let i=[];for(let r in this.candidates)i.push(0);this.bordaCount[t]=i}}isUniqueRank(t){return 0==t||this.bordaTotals[t-1][1]!==this.bordaTotals[t][1]}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-borda"]],decls:24,vars:6,consts:[["title","Borda Count","link","borda"],["heading","Points"],[1,"table","table-striped"],["scope","col",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],["heading","Results"],[1,"col-3"],["scope","col"],["scope","row"],[4,"ngIf","ngIfElse"],["showEqual",""]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),z(2,"table",2),z(3,"thead"),z(4,"tr"),he(5,"th"),Ge(6,F4,2,1,"th",3),z(7,"th"),W(8,"Total"),U(),U(),U(),z(9,"tbody"),Ge(10,B4,6,4,"tr",4),U(),U(),U(),z(11,"app-tile",5),z(12,"div",6),z(13,"table",2),z(14,"thead"),z(15,"tr"),z(16,"th",7),W(17,"Rank"),U(),z(18,"th",7),W(19,"Candidate"),U(),z(20,"th",7),W(21,"Points"),U(),U(),U(),z(22,"tbody"),Ge(23,z4,9,4,"tr",4),U(),U(),U(),U(),U()),2&t&&(be(6),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),be(4),Ne("ngForOf",i.candidates)("ngForTrackBy",i.trackByIndex),be(13),Ne("ngForOf",i.bordaTotals)("ngForTrackBy",i.trackByIndex))},directives:[ar,bi,Ws,Vr],styles:[""]}),n})();function j4(n,e){if(1&n&&(z(0,"div",22),z(1,"hl",23),W(2),U(),U()),2&n){const t=e.$implicit,i=Ke();be(1),Ne("bg",i.getColorByName(t))("kendallWidth",!0),be(1),wt(t)}}function W4(n,e){if(1&n&&(z(0,"div",22),z(1,"hl",23),W(2),U(),U()),2&n){const t=e.$implicit,i=Ke();be(1),Ne("bg",i.getColorByName(t))("kendallWidth",!0),be(1),wt(t)}}function $4(n,e){if(1&n&&(z(0,"div",25),z(1,"hl"),W(2),U(),U()),2&n){const t=e.$implicit;be(2),gu("",t[0],", ",t[1],"")}}function G4(n,e){if(1&n&&(z(0,"div"),W(1," Pairwise disagreements:"),he(2,"br"),Ge(3,$4,3,2,"div",24),U()),2&n){const t=Ke();be(3),Ne("ngForOf",t.disagreements)}}function Y4(n,e){1&n&&W(0," No pairwise disagreements ")}function K4(n,e){if(1&n){const t=os();za(0),z(1,"button",26),gt("click",function(){const s=wi(t).$implicit;return Ke().quickAdd(s)}),W(2),U(),Ua()}if(2&n){const t=e.$implicit;be(2),wt(t)}}function Q4(n,e){if(1&n&&(z(0,"tr"),z(1,"th"),W(2),U(),z(3,"th",32),W(4),U(),z(5,"td"),W(6),U(),U()),2&n){const t=e.$implicit,i=e.index,r=Ke(2);be(2),wt(i+1),be(2),Hn(" ",r.svc.convertToString(t)," "),be(2),wt(r.svc.kendall(t,r.proposed))}}function X4(n,e){if(1&n&&(z(0,"div",1),z(1,"app-tile",27),W(2," Below are the Kendall distances from the ranking "),z(3,"hl"),W(4),U(),W(5," to each voters ranking: "),he(6,"br"),he(7,"br"),z(8,"div",28),z(9,"table",29),z(10,"thead"),z(11,"tr"),z(12,"th",30),W(13,"Voter #"),U(),z(14,"th",30),W(15,"Ranking"),U(),z(16,"th",30),W(17,"Kendall Distance"),U(),U(),U(),z(18,"tbody"),Ge(19,Q4,7,3,"tr",31),U(),U(),U(),U(),U()),2&n){const t=Ke();be(4),wt(t.formattedProposedString),be(15),Ne("ngForOf",t.votersRankings)("ngForTrackBy",t.trackByIndex)}}let Z4=(()=>{class n{constructor(t){this.candidates=[],this.kendallRankings=[],this.votersRankings=[],this.disagreements=[],this.newCandidate="",this.indexes=[1,2,3,4,5],this.colors=[],this.proposedString="",this.proposed=[],this.formattedProposedString="",this.distancesToVoters=[],this.svc=t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.kendallRankings=this.svc.getKendallRankings(),this.candidates=this.svc.getCandidates(),this.votersRankings=this.svc.getRankings()}kendall(){let t=this.svc.kendallDisagreements(this.kendallRankings[0],this.kendallRankings[1]);return this.disagreements=t,t.length}getColorByName(t){let i=["red","green","blue","yellow","purple"],r=this.candidates.indexOf(t);return null==r?"grey":i[r%i.length]}checkProposed(){let t=this.svc.convertToArray(this.proposedString);this.svc.isValidRanking(t,!0)&&(this.proposed=t,this.formattedProposedString=this.svc.convertToString(this.proposed),this.reCalculate()),this.proposedString=this.svc.convertToString(this.proposed)}quickAdd(t){let i=this.proposedString.trim();""===i||","===i.substr(i.length-1)?this.proposedString+=t:this.proposedString+=", "+t}tryRandom(){let t=this.candidates.slice(),i=this.svc.shuffle(t);this.proposedString=this.svc.convertToString(i),this.checkProposed()}showResults(){return this.proposed.length>0}trackByIndex(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-kendall"]],decls:41,vars:10,consts:[["title","Kendall Distance","link","kendall"],[1,"row"],[1,"col-6"],["heading","Rankings"],[1,"col-6","ranking-area"],[1,"row","justify-content-center"],[3,"sortablejs"],["class","kendall-option btn btn-light",4,"ngFor","ngForOf"],[3,"heading"],[4,"ngIf","ngIfElse"],["noDisagreements",""],["heading","Kendall Distances to Candidates"],[1,"ranking-input-list"],[1,"col-9"],["placeholder","Enter ranking",1,"new-ranking-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-1"],[1,"btn","btn-primary","new-ranking-btn",3,"click"],[1,"horizontal"],[4,"ngFor","ngForOf"],[1,"col-2"],[1,"btn","btn-primary","new-random-btn",3,"click"],["class","row",4,"ngIf"],[1,"kendall-option","btn","btn-light"],[3,"bg","kendallWidth"],["class","disagreement",4,"ngFor","ngForOf"],[1,"disagreement"],[1,"btn","btn-primary","quick-add-btn",3,"click"],["heading","Kendall Distances"],[1,"col-4"],[1,"results-table","table","table-striped"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row"]],template:function(t,i){if(1&t&&(z(0,"app-alg",0),z(1,"div",1),z(2,"div",2),z(3,"app-tile",3),z(4,"div",1),z(5,"div",4),z(6,"div",5),z(7,"h3"),W(8,"Ranking 1"),U(),z(9,"div",6),Ge(10,j4,3,3,"div",7),U(),U(),U(),z(11,"div",4),z(12,"div",5),z(13,"h3"),W(14,"Ranking 2"),U(),z(15,"div",6),Ge(16,W4,3,3,"div",7),U(),U(),U(),U(),W(17," Drag and drop to reorder candidates and recalculate Kendall distance. "),U(),U(),z(18,"div",2),z(19,"app-tile",8),Ge(20,G4,4,1,"div",9),Ge(21,Y4,1,0,"ng-template",null,10,Xo),U(),U(),U(),z(23,"div",1),z(24,"app-tile",11),W(25," Enter a ranking to calulate the Kendall distance to each voters ranking. "),z(26,"div",12),z(27,"div",1),z(28,"div",13),z(29,"input",14),gt("ngModelChange",function(s){return i.proposedString=s})("keyup.enter",function(){return i.checkProposed()}),U(),U(),z(30,"div",15),z(31,"button",16),gt("click",function(){return i.checkProposed()}),W(32,"Calculate"),U(),U(),U(),z(33,"div",1),z(34,"div",13),z(35,"div",17),Ge(36,K4,3,1,"ng-container",18),U(),U(),z(37,"div",19),z(38,"button",20),gt("click",function(){return i.tryRandom()}),W(39,"Use Random"),U(),U(),U(),U(),U(),U(),Ge(40,X4,20,3,"div",21),U()),2&t){const r=Yo(22);be(9),Ne("sortablejs",i.kendallRankings[0]),be(1),Ne("ngForOf",i.kendallRankings[0]),be(5),Ne("sortablejs",i.kendallRankings[1]),be(1),Ne("ngForOf",i.kendallRankings[1]),be(3),Ne("heading","Kendall Distance = "+i.kendall()),be(1),Ne("ngIf",i.disagreements.length>0)("ngIfElse",r),be(9),Ne("ngModel",i.proposedString),be(7),Ne("ngForOf",i.candidates),be(4),Ne("ngIf",i.showResults())}},directives:[ar,bi,mj,Ws,Vr,Ou,Xf,_h,or],styles:[".kendall-option[_ngcontent-%COMP%]{cursor:pointer;padding:0 10px}.ranking-area[_ngcontent-%COMP%]{padding:30px;text-align:center}.disagreement[_ngcontent-%COMP%]{display:inline-block;margin:4px}.ranking-input-list[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:3px 10px;margin:4px;border-radius:6px}.new-ranking-input[_ngcontent-%COMP%]{padding:10px;font-size:20px;width:100%}.new-ranking-btn[_ngcontent-%COMP%]{padding:8px;margin:5px}.quick-add-btn[_ngcontent-%COMP%]{padding:0 10px;margin:15px 10px 5px}"]}),n})();var O0=L(21);const J4=["majority"];function q4(n,e){if(1&n&&(z(0,"div"),z(1,"b"),W(2),U(),U()),2&n){const t=e.$implicit;be(2),wt(t)}}function e$(n,e){1&n&&W(0," There is a cycle in the majority graph, therefore no Topological Ordering exists. ")}function t$(n,e){if(1&n&&(z(0,"div",9),W(1," The unique topological ordering is "),z(2,"hl"),W(3),U(),U()),2&n){const t=Ke();be(3),wt(t.resultText)}}function n$(n,e){if(1&n&&(W(0," A topological ordering is "),z(1,"hl"),W(2),U(),W(3,". "),he(4,"br"),W(5)),2&n){const t=Ke();be(2),wt(t.resultText),be(3),Hn(" There are ",t.results.length," possible topological orderings. ")}}let i$=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.results=[],this.resultText="",this.numResults=0,this.legend=["Scroll to zoom","Drag to move canvas","Drag to move nodes"],this.majorityGraphOptions={layout:{improvedLayout:!0,hierarchical:{enabled:!1,nodeSpacing:300}},edges:{arrows:{to:!0},smooth:{enabled:!0,type:"continuous",roundness:0}},interaction:{hover:!0,dragView:!0,zoomView:!0},manipulation:{enabled:!1},physics:!1},this.svc=t}ngOnInit(){}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.results=this.topological(),this.numResults=this.results.length,this.results.length>0&&(this.resultText=this.svc.convertToString(this.results[0]))}ngAfterViewInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}topological(){let t=this.constructMajority(),i=[],r=[],s=[];for(let o=0;o<this.candidates.length;o++){let l=new Set,C=new Set;s.push({incoming:l,outgoing:C})}for(let o of t){let l=o[0],C=o[1];s[l].outgoing.add(C),s[C].incoming.add(l)}for(let o=0;o<this.candidates.length;o++)0==s[o].incoming.size&&r.push(o);if(r.length>0){let o=[];return s.forEach(C=>o.push({incoming:new Set(C.incoming),outgoing:new Set(C.outgoing)})),this.recursiveTopological(i.slice(),r.slice(),o).map(C=>C.map(N=>this.candidates[N]))}return[]}recursiveTopological(t,i,r){let s=[];for(let o=0;o<i.length;o++){let l=i.slice(),C=l.splice(o,1)[0],N=t.slice();N.push(C);let B=[];r.forEach(Y=>B.push({incoming:new Set(Y.incoming),outgoing:new Set(Y.outgoing)}));for(let Y of B[C].outgoing)B[Y].incoming.delete(C),0==B[Y].incoming.size&&l.push(Y);if(!(l.length>0))return N.length<B.length?[]:[N];{let Y=this.recursiveTopological(N,l,B);if(0==Y.length)return[];s=s.concat(Y)}}return s}constructMajority(){let t,i=0;const r=this.candidates.length;let s=[],o=[];for(let C=0;C<r;C++)o.push(new Array(r).fill(0));for(let C of this.rankings){let N=C.map(B=>this.candidates.indexOf(B));s.push(N)}for(let C of s)for(t=0;t<r;t++)for(i=t+1;i<r;i++)o[C[t]][C[i]]++;let l=[];for(t=0;t<r;t++)for(i=t+1;i<r;i++){let C=o[t][i]-o[i][t];C>0?l.push([t,i]):C<0&&l.push([i,t])}return this.constructMajorityGraph(l),l}constructMajorityGraph(t){let i=this.candidates.map(s=>({id:this.candidates.indexOf(s),label:s}));this.nodes=new O0.DataSet(i);let r=t.map(s=>({from:s[0],to:s[1]}));this.edges=new O0.DataSet(r),this.drawGraph(this.nodes,this.edges)}drawGraph(t,i){this.networkInstance=new O0.Network(this.el.nativeElement,{nodes:t,edges:i},this.majorityGraphOptions),this.networkInstance.on("click",this.onClickCanvas)}onClickCanvas(t){t.nodes.length<=0||(console.log(t.nodes[0]),console.log(t.edges))}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-topological"]],viewQuery:function(t,i){if(1&t&&function(n,e,t){const i=Lt();i.firstCreatePass&&(AD(i,new MD(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),ID(i,Me(),e)}(J4,5),2&t){let r;pf(r=gf())&&(i.el=r.first)}},decls:11,vars:4,consts:[["title","Topological Ordering","link","topological"],["heading","Majority Graph"],[1,"graph-canvas"],[1,"majority-graph"],["majority",""],[1,"legend"],[4,"ngFor","ngForOf"],["heading","Results"],[3,"ngIf"],[1,"results-text"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),z(2,"div",2),he(3,"div",3,4),z(5,"div",5),Ge(6,q4,3,1,"div",6),U(),U(),U(),z(7,"app-tile",7),Ge(8,e$,1,0,"ng-template",8),Ge(9,t$,4,1,"ng-template",8),Ge(10,n$,6,2,"ng-template",8),U(),U()),2&t&&(be(6),Ne("ngForOf",i.legend),be(2),Ne("ngIf",0==i.numResults),be(1),Ne("ngIf",1==i.numResults),be(1),Ne("ngIf",i.numResults>1))},directives:[ar,bi,Ws,Vr,or],styles:[".majority-graph[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:5px;position:absolute;background-color:#fff;box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f}.graph-canvas[_ngcontent-%COMP%]{height:400px;width:100%;position:relative}.legend[_ngcontent-%COMP%]{z-index:1;position:absolute;top:0;right:0;padding:10px;text-align:end}"]}),n})();function r$(n,e){if(1&n&&(z(0,"div"),W(1),U()),2&n){const t=Ke().index,i=Ke();be(1),Hn(" ",i.svc.suffixIncluded(t+1)," ")}}function s$(n,e){1&n&&W(0," = ")}function o$(n,e){if(1&n&&(z(0,"tr"),z(1,"th",6),Ge(2,r$,2,1,"div",7),Ge(3,s$,1,0,"ng-template",null,8,Xo),U(),z(5,"td"),W(6),U(),z(7,"th"),W(8),U(),z(9,"th"),W(10),U(),U()),2&n){const t=e.$implicit,i=e.index,r=Yo(4),s=Ke();be(2),Ne("ngIf",s.isUniqueRank(i))("ngIfElse",r),be(4),wt(t[0]),be(2),wt(t[1]),be(2),Hn("",s.round(t[1]/s.rankings.length*1e3)/10,"%")}}let a$=(()=>{class n{constructor(t){this.totals=[],this.candidates=[],this.rankings=[],this.svc=t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.plurality()}trackByIndex(t,i){return t}plurality(){this.resetTotals();let t={};this.candidates.forEach(i=>t[i]=0),this.rankings.forEach(i=>t[i[0]]++),this.candidates.forEach(i=>this.totals.push([i,t[i]])),this.totals.sort((i,r)=>r[1]-i[1])}resetTotals(){this.totals=[]}isUniqueRank(t){return 0==t||this.totals[t-1][1]!==this.totals[t][1]}round(t){return Math.round(t)}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-plurality"]],decls:16,vars:2,consts:[["title","Plurality (First Past The Post)","link","plurality"],["heading","Results"],[1,"col-4"],[1,"results-table","table","table-striped"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row"],[4,"ngIf","ngIfElse"],["showEqual",""]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),z(2,"div",2),z(3,"table",3),z(4,"thead"),z(5,"tr"),z(6,"th",4),W(7,"Rank"),U(),z(8,"th",4),W(9,"Candidate"),U(),z(10,"th",4),W(11,"Votes"),U(),z(12,"th",4),W(13,"Percentage of votes"),U(),U(),U(),z(14,"tbody"),Ge(15,o$,11,5,"tr",5),U(),U(),U(),U(),U()),2&t&&(be(15),Ne("ngForOf",i.totals)("ngForTrackBy",i.trackByIndex))},directives:[ar,bi,Ws,Vr],styles:[""]}),n})();function l$(n,e){if(1&n){const t=os();z(0,"tr"),z(1,"th",7),W(2),U(),z(3,"td"),W(4),U(),z(5,"td"),z(6,"a",8),gt("click",function(){const s=wi(t).index;return Ke().viewKendall(s)}),W(7,"View"),U(),U(),U()}if(2&n){const t=e.$implicit,i=Ke();be(2),Hn(" ",i.svc.convertToString(t)," "),be(2),wt(i.svc.kendall(t,i.kemenyConsensus))}}let u$=(()=>{class n{constructor(t,i){this.candidates=[],this.rankings=[],this.kemenyConsensus=[],this.kemenyScore=0,this.svc=t,this.router=i}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}trackByIndex(t,i){return t}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),[this.kemenyConsensus,this.kemenyScore]=this.kemeny(this.candidates,this.rankings)}kemeny(t,i){let o,r=this.constructQ(t,i),s=L(328),l=[],C=t.length,N="min:";for(let Q=0;Q<C;Q++)for(let K=0;K<C;K++)Q!=K&&(N+=` +${r[Q][K]} x${K}_${Q}`);l.push(N);for(let Q=0;Q<C;Q++)for(let K=0;K<C;K++)Q!=K&&l.push(`0 <= x${Q}_${K} <= 1`);for(let Q=0;Q<C;Q++)for(let K=Q+1;K<C;K++)l.push(`x${Q}_${K} + x${K}_${Q} = 1`);for(let Q=0;Q<C;Q++)for(let K=0;K<C;K++)for(let q=0;q<C;q++)Q!=K&&Q!=q&&K!=q&&l.push(`x${Q}_${K} + x${K}_${q} + x${q}_${Q} >= 1`);for(let Q=0;Q<C;Q++)for(let K=0;K<C;K++)Q!=K&&l.push(`int x${Q}_${K}`);return l=s.ReformatLP(l),o=s.Solve(l),[this.svc.getRankingFromIP(o,t),o.result]}constructQ(t,i){let r,s=0;const o=t.length;let l=[],C=[];for(let N=0;N<o;N++)C.push(new Array(o).fill(0));for(let N of i){let B=N.map(Y=>t.indexOf(Y));l.push(B)}for(let N of l)for(r=0;r<o;r++)for(s=r+1;s<o;s++)C[N[r]][N[s]]++;return C}kemenyBruteForce(t,i){let r=this.svc.getPermutations(t),s=1/0,o=[];for(let l of r){let C=0;for(let N of i)C+=this.svc.kendall(l,N);C<s&&(s=C,o=l)}return[o,s]}testAgainstBruteForce(t,i,r,s=!1){let o=[];s&&console.log(`Generating ${t} candidates.`);for(let B=0;B<t;B++)o.push(`C_${B}`);let l=0,C=[],N=[];for(let B=0;B<r;B++){s&&console.log(`Iteration: ${B+1}/${r}`);let Y=[];for(let ve=0;ve<i;ve++)Y.push(this.svc.shuffle(o.slice()));let Q,K,q,re,ae=performance.now();if([Q,K]=this.kemeny(o,Y),C.push(performance.now()-ae),ae=performance.now(),[q,re]=this.kemenyBruteForce(o,Y),N.push(performance.now()-ae),this.svc.arrayEquals(Q,q)||(l+=1),K!==re){this.svc.printBFmismatch("kemeny consensus",Y,K,Q,re,q);break}}console.log(`Agreement in all ${r} iterations.`),console.log(`The same ranking was returned ${r-l}/${r} times.`),this.svc.printSummaryOfTimes(C,3,"IP model"),this.svc.printSummaryOfTimes(N,3,"Brute Force")}viewKendall(t){this.svc.setKendallRankings([this.kemenyConsensus,this.rankings[t]]),this.router.navigate(["/kendall"])}round(t){return Math.round(t)}}return n.\u0275fac=function(t){return new(t||n)(De($r),De(Wi))},n.\u0275cmp=Xt({type:n,selectors:[["app-kemeny"]],decls:26,vars:6,consts:[["title","Kemeny Consensus","link","kemeny"],["heading","Results"],["heading","Kendall Distances"],[1,"col-4"],[1,"results-table","table","table-striped"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row"],[1,"link-primary","cursor",3,"click"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," The ranking "),z(3,"hl"),W(4),U(),W(5),he(6,"br"),W(7),U(),z(8,"app-tile",2),W(9," Below are the Kendall distances from the result ("),z(10,"hl"),W(11),U(),W(12,") to each voters ranking: "),he(13,"br"),he(14,"br"),z(15,"div",3),z(16,"table",4),z(17,"thead"),z(18,"tr"),z(19,"th",5),W(20,"Voters Rankings"),U(),z(21,"th",5),W(22,"Kendall Distance"),U(),he(23,"th",5),U(),U(),z(24,"tbody"),Ge(25,l$,8,2,"tr",6),U(),U(),U(),U(),U()),2&t&&(be(4),wt(i.svc.convertToString(i.kemenyConsensus)),be(1),Hn(" is a Kemeny Consensus, with a Kemeny score of ",i.kemenyScore," "),be(2),Hn(" The average Kendall distance to a voter from this ranking is ",i.round(i.kemenyScore/i.rankings.length*10)/10," "),be(4),wt(i.svc.convertToString(i.kemenyConsensus)),be(14),Ne("ngForOf",i.rankings)("ngForTrackBy",i.trackByIndex))},directives:[ar,bi,or,Ws],styles:[".cursor[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function d$(n,e){if(1&n){const t=os();za(0),z(1,"button",13),gt("click",function(){const s=wi(t).$implicit;return Ke().quickAdd(s)}),W(2),U(),Ua()}if(2&n){const t=e.$implicit;be(2),wt(t)}}function h$(n,e){if(1&n&&(z(0,"div"),z(1,"div",19),W(2," No ranking exists that is preferred by more than half of the voters. "),he(3,"br"),W(4," Therefore ranking "),z(5,"hl"),W(6),U(),W(7," is weakly popular. "),U(),U()),2&n){const t=Ke(2);be(6),wt(t.formattedProposedString)}}function c$(n,e){if(1&n&&(z(0,"div",19),W(1," The alternative ranking "),z(2,"hl"),W(3),U(),W(4),he(5,"br"),W(6," Therefore ranking "),z(7,"hl"),W(8),U(),W(9," is NOT weakly popular. "),U()),2&n){const t=Ke(2);be(3),wt(t.bestAltTextWeakly),be(1),sv(" is preferred by ",t.bestScoreWeakly," out of ",t.rankings.length," voters (",t.round(t.bestScoreWeakly/t.rankings.length*1e3)/10,"%). "),be(4),wt(t.formattedProposedString)}}function f$(n,e){if(1&n&&(z(0,"div"),z(1,"div",19),W(2," No ranking exists that is preferred by more than half of the "),z(3,"b"),W(4,"non-abstaining"),U(),W(5," voters. "),he(6,"br"),W(7," Therefore ranking "),z(8,"hl"),W(9),U(),W(10," is strongly popular. "),U(),U()),2&n){const t=Ke(2);be(9),wt(t.formattedProposedString)}}function p$(n,e){1&n&&W(0," (All of the voters have a preference between ")}function g$(n,e){1&n&&W(0," (1 voter has no preference between ")}function m$(n,e){if(1&n&&W(0),2&n){const t=Ke(3);Hn(" (",t.rankings.length-t.bestPPStrongly-t.bestPNStrongly," voters have no preference between ")}}function v$(n,e){if(1&n&&(z(0,"div",19),W(1," The alternative ranking "),z(2,"hl"),W(3),U(),W(4),z(5,"b"),W(6,"non-abstaining"),U(),W(7),he(8,"br"),Ge(9,p$,1,0,"ng-template",20),Ge(10,g$,1,0,"ng-template",20),Ge(11,m$,1,1,"ng-template",20),z(12,"hl"),W(13),U(),W(14," and "),z(15,"hl"),W(16),U(),W(17,") "),he(18,"br"),W(19," Therefore ranking "),z(20,"hl"),W(21),U(),W(22," is NOT strongly popular. "),U()),2&n){const t=Ke(2);be(3),wt(t.bestAltTextStrongly),be(1),gu(" is preferred by ",t.bestPPStrongly," out of the ",t.bestPPStrongly+t.bestPNStrongly," "),be(3),Hn(" voters (",t.round(t.bestPPStrongly/(t.bestPPStrongly+t.bestPNStrongly)*1e3)/10,"%). "),be(2),Ne("ngIf",0==t.numAbstainingVoters()),be(1),Ne("ngIf",1==t.numAbstainingVoters()),be(1),Ne("ngIf",t.numAbstainingVoters()>1),be(2),wt(t.formattedProposedString),be(3),wt(t.bestAltTextStrongly),be(5),wt(t.formattedProposedString)}}function y$(n,e){if(1&n&&(z(0,"div",14),z(1,"app-tile",15),Ge(2,h$,8,1,"div",16),Ge(3,c$,10,5,"ng-template",null,17,Xo),U(),z(5,"app-tile",15),Ge(6,f$,11,1,"div",16),Ge(7,v$,23,10,"ng-template",null,18,Xo),U(),U()),2&n){const t=Yo(4),i=Yo(8),r=Ke();be(1),Ne("heading",r.isWeaklyPopular()?"Weakly Popular":"NOT Weakly Popular")("bg",r.isWeaklyPopular()?"bg-green":"bg-red"),be(1),Ne("ngIf",r.isWeaklyPopular())("ngIfElse",t),be(3),Ne("heading",r.isStronglyPopular()?"Strongly Popular":"NOT Strongly Popular")("bg",r.isStronglyPopular()?"bg-green":"bg-red"),be(1),Ne("ngIf",r.isStronglyPopular())("ngIfElse",i)}}let b$=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.proposedString="",this.proposed=[],this.formattedProposedString="",this.bestAltWeakly=[],this.bestAltTextWeakly="",this.bestScoreWeakly=0,this.bestAltStrongly=[],this.bestAltTextStrongly="",this.bestScoreStrongly=0,this.bestPPStrongly=0,this.bestPNStrongly=0,this.useBruteForce=!0,this.svc=t}ngOnInit(){this.proposed=[],this.proposedString="",this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.svc.changesMade.subscribe(()=>{this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates()})}trackByIndex(t,i){return t}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.useBruteForce?[this.bestAltWeakly,this.bestScoreWeakly,this.bestAltStrongly,this.bestScoreStrongly,this.bestPPStrongly,this.bestPNStrongly]=this.popularBruteForce(this.candidates,this.rankings,this.proposed):([this.bestAltWeakly,this.bestScoreWeakly]=this.weakly(this.candidates,this.rankings,this.proposed),[this.bestAltStrongly,this.bestScoreStrongly,this.bestPPStrongly,this.bestPNStrongly]=this.strongly(this.candidates,this.rankings,this.proposed,!0)),this.bestAltTextWeakly=this.svc.convertToString(this.bestAltWeakly),this.bestAltTextStrongly=this.svc.convertToString(this.bestAltStrongly)}checkProposed(){let t=this.svc.convertToArray(this.proposedString);this.svc.isValidRanking(t,!0)&&(this.proposed=t,this.formattedProposedString=this.svc.convertToString(this.proposed),this.reCalculate()),this.proposedString=this.svc.convertToString(this.proposed)}quickAdd(t){let i=this.proposedString.trim();""===i||","===i.substr(i.length-1)?this.proposedString+=t:this.proposedString+=", "+t}showResults(){return 0!=this.bestAltWeakly.length}isWeaklyPopular(){return this.checkWeakPopularity(this.bestScoreWeakly,this.rankings.length)}checkWeakPopularity(t,i){return t<=i/2}isStronglyPopular(){return this.checkStrongPopularity(this.bestScoreStrongly)}checkStrongPopularity(t){return t<=0}numAbstainingVoters(){return this.rankings.length-this.bestPPStrongly-this.bestPNStrongly}weakly(t,i,r,s=!1){let o=this.popular(!1,t,i,r);return s&&console.log(o),[this.svc.getRankingFromIP(o,this.candidates),o.result]}strongly(t,i,r,s=!1){let o=this.popular(!0,t,i,r);s&&console.log(o);let l=this.svc.getRankingFromIP(o,this.candidates),N=o.PP,B=o.PN;return N||(N=0),B||(B=0),[l,o.result,N,B]}popular(t,i,r,s,o=!1){let l=L(328),C=[],N=i.length,B=r.length;if(t)C.push("max: PP - PN");else{let K="max:";for(let q=1;q<=B;q++)K+=` +p${q}P`;C.push(K)}let Y=this.getKendalls(s,r);for(let K=1;K<=B;K++)C.push(`K${K} = ${Y[K-1]}`);for(let K=1;K<=B;K++)for(let q=0;q<N;q++)for(let re=q+1;re<N;re++){let ve=i[re];r[K-1].indexOf(i[q])<r[K-1].indexOf(ve)?C.push(`R${K}_${q}_${re} = 1`):C.push(`R${K}_${q}_${re} = 0`)}for(let K=0;K<N;K++)for(let q=0;q<N;q++)K!=q&&C.push(`0 <= x${K}_${q} <= 1`);for(let K=0;K<N;K++)for(let q=K+1;q<N;q++)C.push(`x${K}_${q} + x${q}_${K} = 1`);for(let K=0;K<N;K++)for(let q=0;q<N;q++)for(let re=0;re<N;re++)K!=q&&q!=re&&K!=re&&C.push(`x${K}_${re} - x${K}_${q} - x${q}_${re} >= -1`);for(let K=1;K<=B;K++)for(let q=0;q<N;q++)for(let re=q+1;re<N;re++)C.push(`0 <= k${K}_${q}_${re} <= 1`),C.push(`x${q}_${re} - R${K}_${q}_${re} - k${K}_${q}_${re} <= 0`),C.push(`R${K}_${q}_${re} - x${q}_${re} - k${K}_${q}_${re} <= 0`),C.push(`x${q}_${re} + R${K}_${q}_${re} - k${K}_${q}_${re} >= 0`),C.push(`x${q}_${re} + R${K}_${q}_${re} + k${K}_${q}_${re} <= 2`);for(let K=1;K<=B;K++){let q=`K${K}PRIME`;for(let re=0;re<N;re++)for(let ae=re+1;ae<N;ae++)q+=` -k${K}_${re}_${ae}`;q+=" = 0",C.push(q)}let Q=N*(N-1)/2;for(let K=1;K<=B;K++)C.push(`0<= p${K}P <= 1`),C.push(`p${K}P - ${1/Q} K${K} + ${1/Q} K${K}PRIME >=  0`),C.push(`K${K} - K${K}PRIME - ${Q+1} p${K}P >= -${Q}`);if(t){for(let q=1;q<=B;q++)C.push(`0<= p${q}N <= 1`),C.push(`p${q}N - ${1/Q} K${q}PRIME + ${1/Q} K${q} >=  0`),C.push(`K${q}PRIME - K${q} - ${Q+1} p${q}N >= -${Q}`);let K="PP";for(let q=1;q<=B;q++)K+=` -p${q}P`;K+=" = 0",C.push(K),K="PN";for(let q=1;q<=B;q++)K+=` -p${q}N`;K+=" = 0",C.push(K)}for(let K=1;K<=B;K++)C.push(`int p${K}P`);if(t){for(let K=1;K<=B;K++)C.push(`int p${K}N`);C.push("int PP"),C.push("int PN")}for(let K=0;K<N;K++)for(let q=0;q<N;q++)K!=q&&C.push(`int x${K}_${q}`);for(let K=1;K<=B;K++)for(let q=0;q<N;q++)for(let re=q+1;re<N;re++)C.push(`int k${K}_${q}_${re}`);for(let K=1;K<=B;K++)for(let q=0;q<N;q++)for(let re=q+1;re<N;re++)C.push(`int R${K}_${q}_${re}`);for(let K=1;K<=B;K++)C.push(`int K${K}`);for(let K=1;K<=B;K++)C.push(`int K${K}PRIME`);return o&&console.log(C),C=l.ReformatLP(C),o&&console.log(C),l.Solve(C)}popularBruteForce(t,i,r){let s=this.getKendalls(r,i),o=this.svc.getPermutations(t),l=-1/0,C=[],N=-1/0,B=[],Y=0,Q=0;for(let K of o){let q=0,re=0;for(let ae=0;ae<i.length;ae++){let ve=this.svc.kendall(K,i[ae]);ve<s[ae]?q+=1:ve>s[ae]&&(re+=1)}q>l&&(l=q,C=K),q-re>N&&(N=q-re,B=K,Y=q,Q=re)}return[C,l,B,N,Y,Q]}getKendalls(t,i){let r=[];for(let s of i)r.push(this.svc.kendall(t,s));return r}testAgainstBruteForce(t,i,r,s=!1){let o=[];console.log(`Generating ${t} candidates.`);for(let K=0;K<t;K++)o.push(`C_${K}`);let l=0,C=0,N=0,B=[],Y=[],Q=[];for(let K=0;K<r;K++){console.log(`Iteration: ${K+1}/${r}`);let q=[];for(let kn=0;kn<i;kn++)q.push(this.svc.shuffle(o.slice()));let re,ae,ve,fe,Oe,Te,Ze,Et,Ft,Bn,Ut=this.svc.shuffle(o.slice());s&&console.log("Runnning IP for weakly popular...");let hn=performance.now();if([re,ae]=this.weakly(o,q,Ut),B.push(performance.now()-hn),hn=performance.now(),s&&console.log("Runnning IP for strongly popular..."),[ve,fe,Ft,Bn]=this.strongly(o,q,Ut),Y.push(performance.now()-hn),hn=performance.now(),s&&console.log("Runnning brute force..."),[Oe,Te,Ze,Et]=this.popularBruteForce(o,q,Ut),Q.push(performance.now()-hn),ae!==Te){this.svc.printBFmismatch("weak popularity",q,ae,re,Te,Oe);break}if(ae!==Te){this.svc.printBFmismatch("strong popularity",q,fe,ve,Et,Ze);break}let $n=this.checkWeakPopularity(ae,i),hi=this.checkStrongPopularity(fe);if($n||hi)if($n&&hi)C+=1;else{if(!$n||hi){console.log("ERROR: cannot be strongly popular but not weakly"),console.log("Rankings"),console.log(q),console.log("R0"),console.log(Ut);break}N+=1,console.log("Found weakly but not strongly popular"),console.log("Rankings"),console.log(q),console.log("R0"),console.log(Ut)}else l+=1}console.log(`Agreement in all ${r} iterations.`),console.log(`Number of times not popular: ${l}`),console.log(`Number of times weakly and strongly popular: ${C}`),console.log(`Number of times weakly popular but not strongly: ${N}`),this.svc.printSummaryOfTimes(B,3,"IP Weakly"),this.svc.printSummaryOfTimes(Y,3,"IP Strongly"),this.svc.printSummaryOfTimes(Q,3,"Brute Force")}round(t){return Math.round(t)}tryRandom(){let t=this.candidates.slice(),i=this.svc.shuffle(t);this.proposedString=this.svc.convertToString(i),this.checkProposed()}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-popular"]],decls:19,vars:3,consts:[["title","Popular Ranking","link","popular"],["heading","Input ranking to test"],[1,"ranking-input-list"],[1,"row"],[1,"col-9"],["placeholder","Enter ranking",1,"new-ranking-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-1"],[1,"btn","btn-primary","new-ranking-btn",3,"click"],[1,"horizontal"],[4,"ngFor","ngForOf"],[1,"col-2"],[1,"btn","btn-primary","new-random-btn",3,"click"],["class","popular-results",4,"ngIf"],[1,"btn","btn-primary","quick-add-btn",3,"click"],[1,"popular-results"],[3,"heading","bg"],[4,"ngIf","ngIfElse"],["notWeaklyPopular",""],["notStronglyPopular",""],[1,"results-text"],[3,"ngIf"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),z(2,"div"),W(3," Enter a ranking to check whether it is weakly or strongly popular among the voters. "),U(),z(4,"div",2),z(5,"div",3),z(6,"div",4),z(7,"input",5),gt("ngModelChange",function(s){return i.proposedString=s})("keyup.enter",function(){return i.checkProposed()}),U(),U(),z(8,"div",6),z(9,"button",7),gt("click",function(){return i.checkProposed()}),W(10,"Calculate"),U(),U(),U(),z(11,"div",3),z(12,"div",4),z(13,"div",8),Ge(14,d$,3,1,"ng-container",9),U(),U(),z(15,"div",10),z(16,"button",11),gt("click",function(){return i.tryRandom()}),W(17,"Test Random"),U(),U(),U(),U(),U(),Ge(18,y$,9,8,"div",12),U()),2&t&&(be(7),Ne("ngModel",i.proposedString),be(7),Ne("ngForOf",i.candidates),be(4),Ne("ngIf",i.showResults()))},directives:[ar,bi,Ou,Xf,_h,Ws,Vr,or],styles:[".ranking-input-list[_ngcontent-%COMP%]{background-color:#e7e7e7;padding:3px 10px;margin:4px;border-radius:6px}.new-ranking-input[_ngcontent-%COMP%]{padding:10px;font-size:20px;width:100%}.new-ranking-btn[_ngcontent-%COMP%]{padding:8px;margin:5px}.weakly-popular[_ngcontent-%COMP%], .strongly-popular[_ngcontent-%COMP%]{margin:40px 10px;background-color:#fff;box-shadow:0 0 20px #000;border-radius:10px;padding:20px}.positive[_ngcontent-%COMP%]{background-color:#7bed9a}.negative[_ngcontent-%COMP%]{background-color:#ed7b7b}.results-text[_ngcontent-%COMP%]{display:inline-block;font-size:larger;font-weight:medium}.quick-add-btn[_ngcontent-%COMP%]{padding:0 10px;margin:15px 10px 5px}"]}),n})();function C$(n,e){1&n&&(z(0,"th",7),W(1,"Votes"),U())}function w$(n,e){1&n&&(z(0,"th",7),W(1,"First choice votes"),U())}function _$(n,e){1&n&&(z(0,"th",7),W(1,"Runoff votes"),U())}function E$(n,e){1&n&&(z(0,"th",7),W(1,"Total"),U())}function D$(n,e){if(1&n&&(z(0,"td"),W(1),U()),2&n){const t=Ke().$implicit,i=Ke(2);be(1),wt(i.firstChoiceVotes(t[0]))}}function S$(n,e){if(1&n&&(z(0,"td"),W(1),U()),2&n){const t=Ke().$implicit,i=Ke(2);be(1),wt(t[1]-i.firstChoiceVotes(t[0]))}}function T$(n,e){if(1&n&&(z(0,"tr"),z(1,"th",13),W(2),U(),z(3,"td"),W(4),U(),Ge(5,D$,2,1,"td",14),Ge(6,S$,2,1,"td",14),z(7,"th"),W(8),U(),U()),2&n){const t=e.$implicit,i=e.index,r=Ke().index;be(2),Hn(" ",i+1," "),be(2),wt(t[0]),be(1),Ne("ngIf",0!=r),be(1),Ne("ngIf",0!=r),be(2),wt(t[1])}}function x$(n,e){1&n&&he(0,"div",15)}function M$(n,e){1&n&&he(0,"div",16)}function k$(n,e){if(1&n&&(z(0,"div",17),W(1," Candidate "),z(2,"hl"),W(3),U(),W(4," has the highest total, however they do not have a majority, so "),z(5,"hl"),W(6),U(),W(7," is eliminated since they have the lowest total. "),U()),2&n){const t=Ke().index,i=Ke();be(3),wt(i.roundTotals[t][0][0]),be(3),wt(i.roundTotals[t][i.roundTotals[t].length-1][0])}}function O$(n,e){if(1&n&&(z(0,"div",17),W(1," Candidate "),z(2,"hl"),W(3),U(),W(4," has the highest total, and has a majority, therefore wins the election. "),U()),2&n){const t=Ke().index,i=Ke();be(3),wt(i.roundTotals[t][0][0])}}function I$(n,e){if(1&n&&(z(0,"div",17),W(1," Candidates "),z(2,"hl"),W(3),U(),W(4," and "),z(5,"hl"),W(6),U(),W(7," are the last two remaining, therefore "),z(8,"hl"),W(9),U(),W(10," wins since they have the highest total. "),U()),2&n){const t=Ke().index,i=Ke();be(3),wt(i.roundTotals[t][0][0]),be(3),wt(i.roundTotals[t][1][0]),be(3),wt(i.roundTotals[t][0][0])}}const A$=function(n,e){return{"col-3":n,"col-4":e}};function P$(n,e){if(1&n&&(z(0,"div",2),z(1,"app-tile",3),z(2,"div",4),z(3,"div",5),z(4,"table",6),z(5,"thead"),z(6,"tr"),z(7,"th",7),W(8,"Rank"),U(),z(9,"th",7),W(10,"Candidate"),U(),Ge(11,C$,2,0,"th",8),Ge(12,w$,2,0,"th",8),Ge(13,_$,2,0,"th",8),Ge(14,E$,2,0,"th",8),U(),U(),z(15,"tbody"),Ge(16,T$,9,5,"tr",9),U(),U(),U(),Ge(17,x$,1,0,"div",10),Ge(18,M$,1,0,"div",11),Ge(19,k$,8,2,"div",12),Ge(20,O$,5,1,"div",12),Ge(21,I$,11,3,"div",12),U(),U(),U()),2&n){const t=e.$implicit,i=e.index,r=Ke();be(1),Ne("heading",r.getRoundText(i)),be(2),Ne("ngClass",CD(13,A$,0==i,0!=i)),be(8),Ne("ngIf",0==i),be(1),Ne("ngIf",0!=i),be(1),Ne("ngIf",0!=i),be(1),Ne("ngIf",0!=i),be(2),Ne("ngForOf",r.roundTotals[i])("ngForTrackBy",r.trackByIndex),be(1),Ne("ngIf",0==i),be(1),Ne("ngIf",0!=i),be(1),Ne("ngIf",i!=r.roundTotals.length-1),be(1),Ne("ngIf",i==r.roundTotals.length-1&&2!=t.length),be(1),Ne("ngIf",i==r.roundTotals.length-1&&2==t.length)}}let R$=(()=>{class n{constructor(t){this.candidates=[],this.rankings=[],this.roundTotals=[],this.svc=t}trackByIndex(t,i){return t}ngOnInit(){this.reCalculate(),this.svc.changesMade.subscribe(()=>{this.reCalculate()})}reCalculate(){this.rankings=this.svc.getRankings(),this.candidates=this.svc.getCandidates(),this.roundTotals=this.runoff(this.candidates,this.rankings),console.log(this.roundTotals)}runoff(t,i){let r=i.length,s=!1,o=[],l=[];for(;!s&&o.length<t.length-1;){let C={};t.forEach(B=>{-1==o.indexOf(B)&&(C[B]=0)}),i.forEach(B=>C[this.firstNonEliminated(B,o)]++);let N=[];t.forEach(B=>{-1==o.indexOf(B)&&N.push([B,C[B]])}),N.sort((B,Y)=>Y[1]-B[1]),l.push(N),N[0][1]>r/2?s=!0:o.push(N[N.length-1][0])}return l}firstNonEliminated(t,i){for(let r of t)if(-1==i.indexOf(r))return r;return"ERROR"}getRoundText(t){return`Round ${t+1}`}firstChoiceVotes(t){for(let i of this.roundTotals[0])if(i[0]===t)return i[1];return 0}}return n.\u0275fac=function(t){return new(t||n)(De($r))},n.\u0275cmp=Xt({type:n,selectors:[["app-instant-runoff"]],decls:2,vars:2,consts:[["title","Instant Runoff","link","instant-runoff"],["class","round",4,"ngFor","ngForOf","ngForTrackBy"],[1,"round"],[3,"heading"],[1,"row"],[3,"ngClass"],[1,"results-table","table","table-striped"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","col-2",4,"ngIf"],["class","col-1",4,"ngIf"],["class","col-4",4,"ngIf"],["scope","row"],[4,"ngIf"],[1,"col-2"],[1,"col-1"],[1,"col-4"]],template:function(t,i){1&t&&(z(0,"app-alg",0),Ge(1,P$,22,16,"div",1),U()),2&t&&(be(1),Ne("ngForOf",i.roundTotals)("ngForTrackBy",i.trackByIndex))},directives:[ar,Ws,bi,ph,Vr,or],styles:[""]}),n})();const N$=["*"];let fa=(()=>{class n{constructor(){this.link=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["lnk"]],inputs:{link:"link"},ngContentSelectors:N$,decls:2,vars:1,consts:[["target","_blank","rel","noopener noreferrer",1,"link-primary",3,"href"]],template:function(t,i){1&t&&(Vd(),z(0,"a",0),Hd(1),U()),2&t&&Ne("href",i.link,Fc)},styles:[""]}),n})(),F$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-borda-learn"]],decls:116,vars:1,consts:[["title","Borda Count","link","borda",3,"isLearn"],["heading","How It Works"],["heading","Example"],[1,"table","table-striped",2,"width","50%"],["scope","col"],["scope","row"],["heading","Evaluation"],["link","https://en.wikipedia.org/wiki/Majority_criterion"],["link","https://en.wikipedia.org/wiki/Tactical_voting"],["link","https://en.wikipedia.org/wiki/Borda_count"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," For each ranking, assign to each candidate a number of points equal to the number of candidates that are ranked lower. For example, for the ranking "),z(3,"hl"),W(4,"B, A, C"),U(),W(5,", "),z(6,"hl"),W(7,"B"),U(),W(8," would gain 2 points, "),z(9,"hl"),W(10,"A"),U(),W(11," gains 1 and "),z(12,"hl"),W(13,"C"),U(),W(14," gains 0 points. These points are totalled across all rankings from voters to give a final score for each candidate. The final ranking of candidates is determined by these totals, with the highest placing first and the lowest coming last. "),U(),z(15,"app-tile",2),W(16," Given the candidates: "),z(17,"hl"),W(18,"Joe"),U(),W(19,", "),z(20,"hl"),W(21,"Mary"),U(),W(22," and "),z(23,"hl"),W(24,"Tim"),U(),W(25,", and the 5 rankings: "),he(26,"br"),he(27,"br"),z(28,"hl"),W(29,"Joe, Tim, Mary"),U(),he(30,"br"),z(31,"hl"),W(32,"Tim, Mary, Joe"),U(),he(33,"br"),z(34,"hl"),W(35,"Tim, Mary, Joe"),U(),he(36,"br"),z(37,"hl"),W(38,"Mary, Joe, Tim"),U(),he(39,"br"),z(40,"hl"),W(41,"Tim, Mary, Joe"),U(),he(42,"br"),he(43,"br"),W(44," The following table can be constructed to tally the points earned by each candidate: "),he(45,"br"),z(46,"table",3),z(47,"thead"),z(48,"tr"),he(49,"th"),z(50,"th",4),W(51,"1st choice"),U(),z(52,"th",4),W(53,"2nd choice"),U(),z(54,"th",4),W(55,"3rd choice"),U(),z(56,"th"),W(57,"Total"),U(),U(),U(),z(58,"tbody"),z(59,"tr"),z(60,"th",5),W(61,"Joe"),U(),z(62,"td"),W(63,"1 (2 points)"),U(),z(64,"td"),W(65,"1 (1 points)"),U(),z(66,"td"),W(67,"3 (0 points)"),U(),z(68,"th"),W(69,"3"),U(),U(),z(70,"tr"),z(71,"th",5),W(72,"Mary"),U(),z(73,"td"),W(74,"1 (2 points)"),U(),z(75,"td"),W(76,"3 (3 points)"),U(),z(77,"td"),W(78,"1 (0 points)"),U(),z(79,"th"),W(80,"5"),U(),U(),z(81,"tr"),z(82,"th",5),W(83,"Tim"),U(),z(84,"td"),W(85,"3 (6 points)"),U(),z(86,"td"),W(87,"1 (1 points)"),U(),z(88,"td"),W(89,"1 (0 points)"),U(),z(90,"th"),W(91,"7"),U(),U(),U(),U(),he(92,"br"),z(93,"hl"),W(94,"Tim"),U(),W(95," was ranked first choice 3 times (worth 6 points), second choice 1 time (worth 1 point) and last choice 1 time (worth 0 points). Therefore his total score is 7 points and he wins the election since this is higher than all other candidates. "),U(),z(96,"app-tile",6),W(97," The borda count method is simple to implement and intends to choose candidates that are acceptable to a broad number of people rather than to find one that is preferred by a majority. "),he(98,"br"),he(99,"br"),W(100," The system violates the "),z(101,"lnk",7),W(102,"majority constraint"),U(),W(103," as it is possible for a candidate to receive a majority of the first place votes and still not win the election. "),he(104,"br"),he(105,"br"),W(106," The Borda method is also highly susceptible to "),z(107,"lnk",8),W(108,"strategic voting"),U(),W(109,". If voters intentionally rank their biggest competitors low on their preference list they can have a greater impact on the result than if they rank their preferences truthfully. In fact, if all voters vote strategically, the final result is very unlikely to reflect the true preferences of the voters. The Borda count also favours a candidate that runs alongside many similar candidates. "),he(110,"br"),he(111,"br"),W(112," Click "),z(113,"lnk",9),W(114,"here"),U(),W(115," for more information about the Borda Count method. "),U(),U()),2&t&&Ne("isLearn",!0)},directives:[ar,bi,or,fa],styles:[""]}),n})(),L$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-instant-runoff-learn"]],decls:73,vars:1,consts:[["title","Instant Runoff","link","instant-runoff",3,"isLearn"],["heading","How It Works"],["heading","Example"],["heading","Evaluation"],["link","https://en.wikipedia.org/wiki/Tactical_voting"],["link","https://en.wikipedia.org/wiki/Instant-runoff_voting"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," Count the number of first-choice votes for each candidate. If any candidate has a majority, they win the election. Otherwise, eliminate the candidate with the lowest number of first-choice votes (there are multiple different ways to deal with ties for last place. The algorithm implemented here selects the last candidate on the list for simplicity) and re-count first-choice votes on the remaining candidates. "),he(3,"br"),he(4,"br"),W(5," Repeat the above steps with the new totals for each candidate (first-choice + runoff votes) until a candidate has a majority, at which point they win the election. "),U(),z(6,"app-tile",2),W(7," Given the candidates: "),z(8,"hl"),W(9,"Yellow"),U(),W(10,", "),z(11,"hl"),W(12,"Blue"),U(),W(13," and "),z(14,"hl"),W(15,"Red"),U(),W(16,", and the 5 rankings: "),he(17,"br"),he(18,"br"),z(19,"hl"),W(20,"Yellow, Blue, Red"),U(),he(21,"br"),z(22,"hl"),W(23,"Blue, Red, Yellow"),U(),he(24,"br"),z(25,"hl"),W(26,"Yellow, Blue, Red"),U(),he(27,"br"),z(28,"hl"),W(29,"Red, Yellow, Blue"),U(),he(30,"br"),z(31,"hl"),W(32,"Blue, Red, Yellow"),U(),he(33,"br"),he(34,"br"),z(35,"hl"),W(36,"Yellow"),U(),W(37," and "),z(38,"hl"),W(39,"Blue"),U(),W(40," each have 2 first-choice votes while "),z(41,"hl"),W(42,"Red"),U(),W(43," has only 1. Since no candidate has a majority, "),z(44,"hl"),W(45,"Red"),U(),W(46," is eliminated. "),z(47,"hl"),W(48,"Yellow"),U(),W(49," gains an additional vote since the voter whose first choice was "),z(50,"hl"),W(51,"Red"),U(),W(52,", voted for "),z(53,"hl"),W(54,"Yellow"),U(),W(55," as their second choice. "),he(56,"br"),he(57,"br"),W(58," Since "),z(59,"hl"),W(60,"Yellow"),U(),W(61," now has a majority (3/5 votes), they win the election. "),U(),z(62,"app-tile",3),W(63,' In some voting systems, many votes are "wasted" since they go towards a candidate that had no chance of winning. Instant runoff voting avoids this problem by reassigning these votes to more competitive candidates. The instant runoff method is also one of the least susceptible to '),z(64,"lnk",4),W(65,"tactical voting"),U(),W(66,". "),he(67,"br"),he(68,"br"),W(69," Click "),z(70,"lnk",5),W(71,"here"),U(),W(72," for more information about Instant-runoff voting. "),U(),U()),2&t&&Ne("isLearn",!0)},directives:[ar,bi,or,fa],styles:[""]}),n})(),B$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-topological-learn"]],decls:107,vars:1,consts:[["title","Topological Ordering","link","topological",3,"isLearn"],["heading","How It Works"],["heading","Example"],["src","assets/images/topological-example.png","alt","Topological Example",2,"width","40%"],["heading","Evaluation"],["link","https://en.wikipedia.org/wiki/Topological_sorting"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," Construct the majority graph for the rankings. In the graph, each candidate is represented by a vertex, and a directed edge is drawn between vertices if one candidate is preferred over the other by the majority of voters. A topological ordering of the graph is an ordering of the vertices (candidates), such that for every edge in the graph from candidate "),z(3,"hl"),W(4,"A"),U(),W(5," to candidate "),z(6,"hl"),W(7,"B"),U(),W(8,", "),z(9,"hl"),W(10,"A"),U(),W(11," comes before "),z(12,"hl"),W(13,"B"),U(),W(14," in the order. There may be multiple possible topological orderings or none. "),U(),z(15,"app-tile",2),W(16," Given the candidates: "),z(17,"hl"),W(18,"Square"),U(),W(19,", "),z(20,"hl"),W(21,"Circle"),U(),W(22," and "),z(23,"hl"),W(24,"Triangle"),U(),W(25,", and the 4 rankings: "),he(26,"br"),he(27,"br"),z(28,"hl"),W(29,"Square, Circle, Triangle"),U(),he(30,"br"),z(31,"hl"),W(32,"Square, Triangle, Circle"),U(),he(33,"br"),z(34,"hl"),W(35,"Square, Triangle, Circle"),U(),he(36,"br"),z(37,"hl"),W(38,"Circle, Triangle, Square"),U(),he(39,"br"),he(40,"br"),W(41," The majority graph can be constructed: "),he(42,"br"),he(43,"br"),he(44,"img",3),he(45,"br"),he(46,"br"),W(47," There is an edge from "),z(48,"hl"),W(49,"Square"),U(),W(50," to "),z(51,"hl"),W(52,"Circle"),U(),W(53," since "),z(54,"hl"),W(55,"Square"),U(),W(56," comes before "),z(57,"hl"),W(58,"Circle"),U(),W(59," in the majority of the rankings and similarly there is an edge from "),z(60,"hl"),W(61,"Square"),U(),W(62," to "),z(63,"hl"),W(64,"Triangle"),U(),W(65,". There is no edge between "),z(66,"hl"),W(67,"Circle"),U(),W(68," and "),z(69,"hl"),W(70,"Triangle"),U(),W(71," since half of the voters prefer "),z(72,"hl"),W(73,"Circle"),U(),W(74," and half prefer "),z(75,"hl"),W(76,"Triangle"),U(),W(77,". "),he(78,"br"),he(79,"br"),W(80," The edges determine that "),z(81,"hl"),W(82,"Square"),U(),W(83," comes before "),z(84,"hl"),W(85,"Circle"),U(),W(86," and that "),z(87,"hl"),W(88,"Square"),U(),W(89," comes before "),z(90,"hl"),W(91,"Triangle"),U(),W(92," in a topological ordering. Therefore there are two possible topological orderings: "),he(93,"br"),z(94,"hl"),W(95,"Square, Circle, Triangle"),U(),W(96," or "),z(97,"hl"),W(98,"Square, Triangle, Circle"),U(),U(),z(99,"app-tile",4),W(100," Topological ordering is a useful concept in computing science and graph theory, however is not practical as an algorithm to determine the result of real-world elections. For certain sets of candidates and rankings, multiple solutions will exist and sometimes no solution exists. "),he(101,"br"),he(102,"br"),W(103," Click "),z(104,"lnk",5),W(105,"here"),U(),W(106," for more information about Topological sorting. "),U(),U()),2&t&&Ne("isLearn",!0)},directives:[ar,bi,or,fa],styles:[""]}),n})(),V$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-kemeny-learn"]],decls:179,vars:1,consts:[["title","Kemeny Consensus","link","kemeny",3,"isLearn"],["heading","How It Works"],["heading","Example"],[1,"table","table-striped",2,"width","50%"],["scope","col"],["scope","row"],["heading","Evaluation"],["link","https://en.wikipedia.org/wiki/Condorcet_winner_criterion"],["link","https://en.wikipedia.org/wiki/Majority_criterion"],["link","https://en.wikipedia.org/wiki/Time_complexity#Polynomial_time"],["link","https://en.wikipedia.org/wiki/Kemeny%E2%80%93Young_method"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," For a proposed ranking of candidates, the Kemeny score can be calculated by taking the sum of the Kendall distances to each voters ranking list. The ranking with minimum Kemeny score is the Kemeny Consensus. "),U(),z(3,"app-tile",2),W(4," Given the candidates: "),z(5,"hl"),W(6,"A"),U(),W(7,", "),z(8,"hl"),W(9,"B"),U(),W(10," and "),z(11,"hl"),W(12,"C"),U(),W(13," and the 4 rankings: "),he(14,"br"),he(15,"br"),W(16," V1: "),z(17,"hl"),W(18,"B, A, C"),U(),he(19,"br"),W(20," V2: "),z(21,"hl"),W(22,"B, C, A"),U(),he(23,"br"),W(24," V3: "),z(25,"hl"),W(26,"B, A, C"),U(),he(27,"br"),W(28," V4: "),z(29,"hl"),W(30,"A, C, B"),U(),he(31,"br"),he(32,"br"),W(33," Consider the ranking "),z(34,"hl"),W(35,"B, A, C"),U(),he(36,"br"),he(37,"br"),W(38," Calculate the Kendall distance from this ranking to each of the voters rankings: "),he(39,"br"),he(40,"br"),W(41," D1 = 0,"),he(42,"br"),W(43," D2 = 1,"),he(44,"br"),W(45," D3 = 0,"),he(46,"br"),W(47," D4 = 2 "),he(48,"br"),he(49,"br"),W(50," Therefore the Kemeny score for "),z(51,"hl"),W(52,"B, A, C"),U(),W(53," is D1 + D2 + D3 + D4 = 3. "),he(54,"br"),he(55,"br"),W(56," Calculating the Kemeny score for every possible permutation of the candidates would give the following results: "),he(57,"br"),he(58,"br"),z(59,"table",3),z(60,"thead"),z(61,"tr"),z(62,"th"),W(63,"Permutation"),U(),z(64,"th"),W(65,"D1"),U(),z(66,"th"),W(67,"D2"),U(),z(68,"th"),W(69,"D3"),U(),z(70,"th"),W(71,"D4"),U(),z(72,"th",4),W(73,"Kemeny Score"),U(),U(),U(),z(74,"tbody"),z(75,"tr"),z(76,"th",5),W(77,"A, B, C"),U(),z(78,"th"),W(79,"1"),U(),z(80,"th"),W(81,"2"),U(),z(82,"th"),W(83,"1"),U(),z(84,"th"),W(85,"1"),U(),z(86,"th"),W(87,"5"),U(),U(),z(88,"tr"),z(89,"th",5),W(90," A, C, B "),U(),z(91,"th"),W(92,"2"),U(),z(93,"th"),W(94,"3"),U(),z(95,"th"),W(96,"2"),U(),z(97,"th"),W(98,"0"),U(),z(99,"th"),W(100,"7"),U(),U(),z(101,"tr"),z(102,"th",5),W(103," B, A, C "),U(),z(104,"th"),W(105,"0"),U(),z(106,"th"),W(107,"1"),U(),z(108,"th"),W(109,"0"),U(),z(110,"th"),W(111,"2"),U(),z(112,"th"),W(113,"3"),U(),U(),z(114,"tr"),z(115,"th",5),W(116," B, C, A "),U(),z(117,"th"),W(118,"1"),U(),z(119,"th"),W(120,"0"),U(),z(121,"th"),W(122,"1"),U(),z(123,"th"),W(124,"3"),U(),z(125,"th"),W(126,"5"),U(),U(),z(127,"tr"),z(128,"th",5),W(129," C, A, B "),U(),z(130,"th"),W(131,"3"),U(),z(132,"th"),W(133,"2"),U(),z(134,"th"),W(135,"3"),U(),z(136,"th"),W(137,"1"),U(),z(138,"th"),W(139,"9"),U(),U(),z(140,"tr"),z(141,"th",5),W(142," C, B, A "),U(),z(143,"th"),W(144,"2"),U(),z(145,"th"),W(146,"1"),U(),z(147,"th"),W(148,"2"),U(),z(149,"th"),W(150,"2"),U(),z(151,"th"),W(152,"7"),U(),U(),U(),U(),he(153,"br"),he(154,"br"),W(155," Therefore "),z(156,"hl"),W(157,"B, A, C"),U(),W(158," is the Kemeny Consensus since it minimises the Kemeny score. "),U(),z(159,"app-tile",6),W(160," The Kemeny Consensus method meets many of the desirable criteria for a voting method that other methods do not. The method guarantees that if a candidate is preferred by the majority in a head to head against each of the other candidates, then that candidate must win ("),z(161,"lnk",7),W(162,"Condorcet criterion"),U(),W(163,"). It also guarantees that if a candidate is ranked first by the majority of candidates, it will win ("),z(164,"lnk",8),W(165,"Majority criterion"),U(),W(166,"). "),he(167,"br"),he(168,"br"),W(169," The main disadvantage of the method is that there is no algorithm that can find a solution in "),z(170,"lnk",9),W(171,"polynomial time"),U(),W(172,". On a small numbers of candidates, a solution can usually be found in reasonable time, however the number of permutations that need to be considered is C! where C is the number of candidates, meaning that for a large number of candidates a solution cannot be found easily. "),he(173,"br"),he(174,"br"),W(175," Click "),z(176,"lnk",10),W(177,"here"),U(),W(178," for more information about Kemeny Consensus. "),U(),U()),2&t&&Ne("isLearn",!0)},directives:[ar,bi,or,fa],styles:[""]}),n})(),H$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-kendall-learn"]],decls:206,vars:1,consts:[["title","Kendall Distance","link","kendall",3,"isLearn"],["heading","What is Kendall Distance?"],["link","https://en.wikipedia.org/wiki/Kendall_tau_distance"],["heading","How It Works"],["link","https://en.wikipedia.org/wiki/Bubble_sort"],["heading","Example"],[1,"table","table-striped",2,"width","50%"],["scope","col"],["scope","row"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," The Kendall distance is a measure of similarity between two rankings. The distance is 0 if the rankings are identical, and the higher the value, the more dissimilar the rankings are. "),he(3,"br"),he(4,"br"),W(5," Kendall distance is used in some voting aggregation algorithms (i.e. Kemeny Consensus), which aim to find a final ranking with minimal Kendall distance to each voters ranking. "),he(6,"br"),he(7,"br"),W(8," Click "),z(9,"lnk",2),W(10,"here"),U(),W(11," for more information about Kendall distance. "),U(),z(12,"app-tile",3),W(13," The Kendall distance is the number of pairwise disagreements between two rankings. "),he(14,"br"),he(15,"br"),W(16," That is, for each pair of candidates, count 1 if the candidates are not in the same order in the 2 rankings. The total after counting each of these disagreements is the Kendall distance. "),he(17,"br"),he(18,"br"),W(19," The Kendall distance is sometimes called the bubble sort distance, since it the number of swaps that the "),z(20,"lnk",4),W(21,"bubble sort"),U(),W(22," algorithm would make to convert one of the ranking lists to the other. "),U(),z(23,"app-tile",5),W(24," Given the candidates: "),z(25,"hl"),W(26,"A"),U(),W(27,", "),z(28,"hl"),W(29,"B"),U(),W(30,", "),z(31,"hl"),W(32,"C"),U(),W(33," and "),z(34,"hl"),W(35,"D"),U(),W(36," and the 2 rankings: "),he(37,"br"),he(38,"br"),W(39," R1: "),z(40,"hl"),W(41,"A,D,C,B"),U(),he(42,"br"),W(43," R2: "),z(44,"hl"),W(45,"B,A,C,D"),U(),he(46,"br"),he(47,"br"),W(48," For each pair of candidates, count 1 if there is disagreement about the order of the candidates between the two rankings. "),he(49,"br"),he(50,"br"),W(51," For example, consider the candidates "),z(52,"hl"),W(53,"A"),U(),W(54," and "),z(55,"hl"),W(56,"B"),U(),W(57,". "),z(58,"hl"),W(59,"A"),U(),W(60," comes before "),z(61,"hl"),W(62,"B"),U(),W(63," in the first ranking, but "),z(64,"hl"),W(65,"B"),U(),W(66," comes before "),z(67,"hl"),W(68,"A"),U(),W(69," in the second ranking, so count 1 since there is disagreement. "),he(70,"br"),he(71,"br"),z(72,"table",6),z(73,"thead"),z(74,"tr"),z(75,"th",7),W(76,"Pair"),U(),z(77,"th",7),W(78,"Order in R1"),U(),z(79,"th",7),W(80,"Order in R2"),U(),z(81,"th",7),W(82,"Agreement"),U(),z(83,"th",7),W(84,"Count"),U(),U(),U(),z(85,"tbody"),z(86,"tr"),z(87,"th",8),z(88,"hl"),W(89,"A,B"),U(),U(),z(90,"td"),z(91,"hl"),W(92,"A"),U(),W(93," before "),z(94,"hl"),W(95,"B"),U(),U(),z(96,"td"),z(97,"hl"),W(98,"B"),U(),W(99," before "),z(100,"hl"),W(101,"A"),U(),U(),z(102,"td"),W(103,"No"),U(),z(104,"th"),W(105,"1"),U(),U(),z(106,"tr"),z(107,"th",8),z(108,"hl"),W(109,"A,C"),U(),U(),z(110,"td"),z(111,"hl"),W(112,"A"),U(),W(113," before "),z(114,"hl"),W(115,"C"),U(),U(),z(116,"td"),z(117,"hl"),W(118,"A"),U(),W(119," before "),z(120,"hl"),W(121,"C"),U(),U(),z(122,"td"),W(123,"Yes"),U(),he(124,"th"),U(),z(125,"tr"),z(126,"th",8),z(127,"hl"),W(128,"A,D"),U(),U(),z(129,"td"),z(130,"hl"),W(131,"A"),U(),W(132," before "),z(133,"hl"),W(134,"D"),U(),U(),z(135,"td"),z(136,"hl"),W(137,"A"),U(),W(138," before "),z(139,"hl"),W(140,"D"),U(),U(),z(141,"td"),W(142,"Yes"),U(),he(143,"th"),U(),z(144,"tr"),z(145,"th",8),z(146,"hl"),W(147,"B,C"),U(),U(),z(148,"td"),z(149,"hl"),W(150,"C"),U(),W(151," before "),z(152,"hl"),W(153,"B"),U(),U(),z(154,"td"),z(155,"hl"),W(156,"B"),U(),W(157," before "),z(158,"hl"),W(159,"C"),U(),U(),z(160,"td"),W(161,"No"),U(),z(162,"th"),W(163,"1"),U(),U(),z(164,"tr"),z(165,"th",8),z(166,"hl"),W(167,"B,D"),U(),U(),z(168,"td"),z(169,"hl"),W(170,"D"),U(),W(171," before "),z(172,"hl"),W(173,"B"),U(),U(),z(174,"td"),z(175,"hl"),W(176,"B"),U(),W(177," before "),z(178,"hl"),W(179,"D"),U(),U(),z(180,"td"),W(181,"No"),U(),z(182,"th"),W(183,"1"),U(),U(),z(184,"tr"),z(185,"th",8),z(186,"hl"),W(187,"C,D"),U(),U(),z(188,"td"),z(189,"hl"),W(190,"D"),U(),W(191," before "),z(192,"hl"),W(193,"C"),U(),U(),z(194,"td"),z(195,"hl"),W(196,"C"),U(),W(197," before "),z(198,"hl"),W(199,"D"),U(),U(),z(200,"td"),W(201,"No"),U(),z(202,"th"),W(203,"1"),U(),U(),U(),U(),he(204,"br"),W(205," The Kendall distance between the rankings is 4, since there are 4 pairwise disagreements. "),U(),U()),2&t&&Ne("isLearn",!0)},directives:[ar,bi,fa,or],styles:[""]}),n})(),z$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-plurality-learn"]],decls:50,vars:1,consts:[["title","Plurality (First Past The Post)","link","plurality",3,"isLearn"],["heading","How It Works"],["heading","Example"],["heading","Evaluation"],["link","https://en.wikipedia.org/wiki/Tactical_voting"],["link","https://en.wikipedia.org/wiki/Plurality_voting"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," Only consider the first choice of each voter. Simply count the number of votes received by each candidate and rank them from highest to lowest number of votes. "),U(),z(3,"app-tile",2),W(4," Given the candidates: "),z(5,"hl"),W(6,"Smith"),U(),W(7,", "),z(8,"hl"),W(9,"Jones"),U(),W(10," and "),z(11,"hl"),W(12,"Wood"),U(),W(13,", and the 4 rankings: "),he(14,"br"),he(15,"br"),z(16,"hl"),W(17,"Smith, Jones, Wood"),U(),he(18,"br"),z(19,"hl"),W(20,"Smith, Wood, Jones"),U(),he(21,"br"),z(22,"hl"),W(23,"Jones, Smith, Wood"),U(),he(24,"br"),z(25,"hl"),W(26,"Wood, Jones, Smith"),U(),he(27,"br"),he(28,"br"),W(29," The second and third choice of each voter can be ignored. "),z(30,"hl"),W(31,"Smith"),U(),W(32," wins since they have the most first-choice votes (2). "),U(),z(33,"app-tile",3),W(34," Plurality voting is a very simple and widely used system. "),he(35,"br"),he(36,"br"),W(37," The system is very susceptible to "),z(38,"lnk",4),W(39,"tactical voting"),U(),W(40,". Voters are incentivised to vote for one of the two candidates most likely to win, even if this is not their preferred choice, since votes for any other candidate are unlikely to have an impact on the outcome. "),he(41,"br"),he(42,"br"),W(43," Another disadvantage of the system is that multiple similar candidates are likely to split their distribution of the vote, reducing the chance that any of them can win. "),he(44,"br"),he(45,"br"),W(46," Click "),z(47,"lnk",5),W(48,"here"),U(),W(49," for more information about the Plurality voting method. "),U(),U()),2&t&&Ne("isLearn",!0)},directives:[ar,bi,or,fa],styles:[""]}),n})(),U$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-popular-learn"]],decls:159,vars:1,consts:[["title","Popular Rankings","link","popular",3,"isLearn"],["heading","How It Works"],["heading","Example"],[1,"table","table-striped",2,"width","70%"],["scope","row"],["heading","Summary"],["link","https://www.sciencedirect.com/science/article/pii/S0166218X12002715?via%3Dihub"],["link","https://arxiv.org/pdf/2102.01361.pdf"]],template:function(t,i){1&t&&(z(0,"app-alg",0),z(1,"app-tile",1),W(2," Given the choice of two rankings, a voter is said to 'prefer' the ranking that has the smallest Kendall distance from their own ranking. If the Kendall distance is the same to the two rankings, the voter does not have a preference and is said to abstain. "),he(3,"br"),he(4,"br"),W(5," A ranking is more popular than another in the weak sense if it is preferred by a majority of the voters. A ranking can be said to be 'weakly popular' if no other ranking is more popular in the weak sense. "),he(6,"br"),he(7,"br"),W(8," A ranking is more popular in the strong sense if it is preferred by a majority of the "),z(9,"b"),W(10,"non-abstaining"),U(),W(11," voters. A ranking can be said to be 'strongly popular' if no other ranking is more popular in the strongly sense. "),he(12,"br"),he(13,"br"),W(14," If a ranking is strongly popular then it must also be weakly popular, however it is possible for a ranking to be weakly strongly but not strongly popular. If a ranking is weakly popular then it must also be a Kemeny consensus. "),U(),z(15,"app-tile",2),W(16," Given the candidates: "),z(17,"hl"),W(18,"A"),U(),W(19,", "),z(20,"hl"),W(21,"B"),U(),W(22,", "),z(23,"hl"),W(24,"C"),U(),W(25,", "),z(26,"hl"),W(27,"D"),U(),W(28,", "),z(29,"hl"),W(30,"E"),U(),W(31," and "),z(32,"hl"),W(33,"F"),U(),W(34," and the 6 rankings: "),he(35,"br"),he(36,"br"),W(37," R1: "),z(38,"hl"),W(39,"C, A, B, E, F, D"),U(),he(40,"br"),W(41," R2: "),z(42,"hl"),W(43,"A, B, C, F, D, E"),U(),he(44,"br"),W(45," R3: "),z(46,"hl"),W(47,"B, C, A, D, E, F"),U(),he(48,"br"),W(49," R4: "),z(50,"hl"),W(51,"A, B, C, D, E, F"),U(),he(52,"br"),W(53," R5: "),z(54,"hl"),W(55,"B, A, C, F, D, E"),U(),he(56,"br"),W(57," R6: "),z(58,"hl"),W(59,"B, C, A, D, F, E"),U(),he(60,"br"),he(61,"br"),W(62," Suppose we want to find out if the ranking \u03c31: "),z(63,"hl"),W(64,"A, B, C, D, E, F"),U(),W(65," is weakly popular and if it is strongly popular? "),he(66,"br"),he(67,"br"),W(68," The ranking needs to be compared against every other possible ranking of the candidates to see if there exists a ranking that is more popular (in either the weak sense or strong sense). "),he(69,"br"),he(70,"br"),W(71," An alternative ranking is \u03c32: "),z(72,"hl"),W(73,"B, C, A, F, D, E"),U(),W(74,". Using the Kendall distance, we can check which of these rankings (\u03c31 or \u03c32) is preferred by each voter: "),he(75,"br"),he(76,"br"),z(77,"table",3),z(78,"thead"),z(79,"tr"),z(80,"th"),W(81,"Voters Rankings"),U(),z(82,"th"),W(83,"Distance to \u03c31"),U(),z(84,"th"),W(85,"Distance to \u03c32"),U(),z(86,"th"),W(87,"Preferred ranking"),U(),U(),U(),z(88,"tbody"),z(89,"tr"),z(90,"th",4),W(91," R1: C, A, B, E, F, D "),U(),z(92,"th"),W(93,"4"),U(),z(94,"th"),W(95,"4"),U(),z(96,"th"),W(97,"Abstain"),U(),U(),z(98,"tr"),z(99,"th",4),W(100," R2: A, B, C, F, D, E "),U(),z(101,"th"),W(102,"2"),U(),z(103,"th"),W(104,"2"),U(),z(105,"th"),W(106,"Abstain"),U(),U(),z(107,"tr"),z(108,"th",4),W(109," R3: B, C, A, D, E, F "),U(),z(110,"th"),W(111,"2"),U(),z(112,"th"),W(113,"2"),U(),z(114,"th"),W(115,"Abstain"),U(),U(),z(116,"tr"),z(117,"th",4),W(118," R4: A, B, C, D, E, F "),U(),z(119,"th"),W(120,"0"),U(),z(121,"th"),W(122,"4"),U(),z(123,"th"),W(124,"\u03c31"),U(),U(),z(125,"tr"),z(126,"th",4),W(127," R5: B, A, C, F, D, E "),U(),z(128,"th"),W(129,"3"),U(),z(130,"th"),W(131,"1"),U(),z(132,"th"),W(133,"\u03c32"),U(),U(),z(134,"tr"),z(135,"th",4),W(136," R6: B, C, A, D, F, E "),U(),z(137,"th"),W(138,"3"),U(),z(139,"th"),W(140,"1"),U(),z(141,"th"),W(142,"\u03c32"),U(),U(),U(),U(),he(143,"br"),W(144," Since only 2 out of 6 voters prefer \u03c32 (less than half of the voters), \u03c32 is not more popular in the weak sense and therefore \u03c31 may still be weakly popular. After comparing \u03c31 to every other possible ranking it turns out that \u03c31 is in fact weakly popular, since no other ranking is stronger in the weak sense. "),he(145,"br"),he(146,"br"),W(147," Because 2 out of the 3 "),z(148,"b"),W(149,"non-abstaining"),U(),W(150," voters prefer \u03c32 (more than half), \u03c32 is stronger in the strong sense and therefore \u03c31 is not strongly popular. "),U(),z(151,"app-tile",5),W(152," A popular ranking is a notion introduced by Van Zuylen et al. ("),z(153,"lnk",6),W(154,"link to paper"),U(),W(155,"). The definition given was the same as weak popularity as explained above. Kraiczy, Cseh and Manlove extended this notion to introduce a more strict form of popularity, strong popularity ("),z(156,"lnk",7),W(157,"link to paper"),U(),W(158,"). There remain open questions about the time complexity of finding a ranking that is more popular (in the weak or strong sense) for different numbers of voters. "),U(),U()),2&t&&Ne("isLearn",!0)},directives:[ar,bi,or,fa],styles:[""]}),n})(),j$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-tutorial"]],decls:71,vars:0,consts:[[1,"d-flex"],[1,"me-auto","p-2"],[1,"display-3"],["heading","Candidates, Voters and Rankings"],["heading","Voting Aggregation"],["heading","Using the Application"],["type","button","disabled","",1,"btn","btn-primary"]],template:function(t,i){1&t&&(z(0,"div",0),z(1,"div",1),z(2,"h1",2),W(3,"How To Use This Website"),U(),U(),U(),z(4,"div"),z(5,"app-tile",3),W(6," In a election, there are multiple candidates. For example, an election may have 3 candidates: "),z(7,"hl"),W(8,"Adam"),U(),W(9,", "),z(10,"hl"),W(11,"Beth"),U(),W(12," and "),z(13,"hl"),W(14,"Chris"),U(),W(15,". "),he(16,"br"),W(17," In a ranked voting system, each voter produces a ranking, which is their order of preference for the list of candidates. For example, if a voter believed "),z(18,"hl"),W(19,"Adam"),U(),W(20," was the best candidate, "),z(21,"hl"),W(22,"Chris"),U(),W(23," was their second choice, and "),z(24,"hl"),W(25,"Beth"),U(),W(26," was their least preferred, they would give the ranking "),z(27,"hl"),W(28,"Adam, Chris, Beth"),U(),W(29,". "),U(),z(30,"app-tile",4),W(31," Once all votes have been cast, there is a list of rankings. Suppose 6 voters ranked the candidates introduced above. The list of rankings produced may look like: "),he(32,"br"),he(33,"br"),W(34," Voter 1: "),z(35,"hl"),W(36,"Adam, Chris, Beth"),U(),W(37,", Voter 2: "),z(38,"hl"),W(39,"Chris, Beth, Adam"),U(),W(40,", Voter 3: "),z(41,"hl"),W(42,"Beth, Adam, Chris"),U(),W(43,", "),he(44,"br"),W(45," Voter 4: "),z(46,"hl"),W(47,"Chris, Adam, Beth"),U(),W(48,", Voter 5: "),z(49,"hl"),W(50,"Adam, Chris, Beth"),U(),W(51,", Voter 6: "),z(52,"hl"),W(53,"Beth, Adam, Chris"),U(),he(54,"br"),he(55,"br"),W(56," So who won the election? "),he(57,"br"),he(58,"br"),W(59," The challenge now is to determine the order of the candidates in the final standings, which should reflect the preferences of the voters as a whole. This may seem trivial at first, but there are many different algorithms used to accomplish this, each having advantages and disadvantages. "),U(),z(60,"app-tile",5),W(61," This application allows you to input your own set of candidates and rankings to compare how different preference aggregation algorithms work. "),he(62,"br"),he(63,"br"),W(64," Begin by clicking the "),z(65,"button",6),W(66,"Edit Rankings"),U(),W(67," button on the sidebar, to edit the candidates and list of rankings. Rankings are input as a comma separated list containing each of the candidates names. The candidates and rankings can also be imported from a text file or generated randomly. "),he(68,"br"),he(69,"br"),W(70," Once you are satisfied with the candidates and rankings, select an algorithm from the sidebar to run. Algorithms are run as soon as the page is loaded, using the rankings you have input. "),U(),U())},directives:[bi,or],styles:[""]}),n})(),W$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-home-page"]],decls:28,vars:0,consts:[[1,"container"],[1,"d-flex","home-row"],[1,"me-auto","big-text","row"],[1,"display-3"],[1,"circular_image"],["src","assets/images/home-1.png","alt","Image 1",2,"width","110%"],["src","assets/images/home-2.png","alt","Image 2",2,"width","150%"],[1,"me-auto","big-text"],["src","assets/images/home-3.png","alt","Image 3",2,"width","110%"],["routerLinkActive","active","routerLink","/how-to-use"],["type","button",1,"btn","btn-primary"],[1,"display-4"],[1,"bi","bi-arrow-right"]],template:function(t,i){1&t&&(z(0,"div",0),z(1,"div",1),z(2,"div",2),z(3,"h1",3),W(4,"Learn about different voting algorithms"),U(),U(),z(5,"div",2),z(6,"div",4),he(7,"img",5),U(),U(),U(),z(8,"div",1),z(9,"div",2),z(10,"div",4),he(11,"img",6),U(),U(),z(12,"div",7),z(13,"h1",3),W(14,"Test using your own candidates and voters"),U(),U(),U(),z(15,"div",1),z(16,"div",7),z(17,"h1",3),W(18,"Discover the strengths and weaknesses of each mechanism"),U(),U(),z(19,"div",2),z(20,"div",4),he(21,"img",8),U(),U(),U(),z(22,"div",1),z(23,"a",9),z(24,"button",10),z(25,"h4",11),W(26," Get Started "),he(27,"i",12),U(),U(),U(),U(),U())},directives:[Bu,Ep],styles:[".big-text[_ngcontent-%COMP%]{padding:0 25px;display:flex;justify-content:center;flex-direction:column}.home-row[_ngcontent-%COMP%]{justify-content:center;padding:10px 30px}.circular_image[_ngcontent-%COMP%]{width:230px;height:230px;box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;border-radius:50%;overflow:hidden;display:inline-block;vertical-align:middle}"]}),n})(),$$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xt({type:n,selectors:[["app-about"]],decls:51,vars:0,consts:[[1,"d-flex"],[1,"me-auto","p-2"],[1,"display-3"],["heading","The Project"],["link","https://en.wikipedia.org/wiki/Arrow%27s_impossibility_theorem"],["link","https://en.wikipedia.org/wiki/Unrestricted_domain"],["link","https://en.wikipedia.org/wiki/Dictatorship_mechanism"],["link","https://en.wikipedia.org/wiki/Pareto_efficiency"],["link","https://en.wikipedia.org/wiki/Independence_of_irrelevant_alternatives"],["link","https://en.wikipedia.org/wiki/Gibbard%27s_theorem"],["link","https://en.wikipedia.org/wiki/Tactical_voting"],["heading","Development"]],template:function(t,i){1&t&&(z(0,"div",0),z(1,"div",1),z(2,"h1",2),W(3,"About"),U(),U(),U(),z(4,"div"),z(5,"app-tile",3),W(6," I was intrigued by "),z(7,"lnk",4),W(8,"Arrow's impossibility theorem"),U(),W(9," which states that for an election with at least 3 candidates, where voters are allowed to express their preferences ("),z(10,"lnk",5),W(11,"Unrestricted Domain"),U(),W(12,"), every voting system will fail to meet at least one of the following desirable criteria: "),he(13,"br"),he(14,"br"),z(15,"li"),z(16,"lnk",6),W(17,"Non-dictatorship"),U(),W(18,": There does not exist a single voter who solely decides on the outcome. "),U(),z(19,"li"),z(20,"lnk",7),W(21,"Pareto efficiency"),U(),W(22,": If every voter prefers candidate A over candidate B, then the group ranks A before B. "),U(),z(23,"li"),z(24,"lnk",8),W(25,"Independence of irrelevant alternatives"),U(),W(26,": The groups preference between candidates A and B should not be affected by adding/removing candidate C from the election. "),U(),he(27,"br"),W(28," Furthermore, "),z(29,"lnk",9),W(30,"Gibbard's theorem"),U(),W(31," states that if a voting system is non-dictorial and there are more than two possible outcomes, the system must be susceptible to "),z(32,"lnk",10),W(33,"strategic voting"),U(),W(34,". This means that the best way for a voter to achieve their desired outcome might be to vote insincerely in order to sway the result in their favour. "),he(35,"br"),he(36,"br"),W(37," In other words, every voting system is flawed, and so the question of which to use in a given situation is a difficult one. "),he(38,"br"),he(39,"br"),W(40," I was also introduced to the notions of weakly and strongly popular rankings. The complexity of calculating a ranking that is more popular than a given ranking (in the weak or strong sense) is unknown for certain numbers of voters, and there are currently no efficient algorithms to find a popular ranking of candidates. "),he(41,"br"),he(42,"br"),W(43," The aim of the project was to develop an application that could run various preference aggregation algorithms, so that these different voting rules could be compared to one another. A particular focus was given to mechanisms involving Kendall distance, such as Kemeny consensus and Popular ranking, and trying to find solutions as efficiently as possible. "),U(),z(44,"app-tile",11),W(45," This website was developed in 2021/22 over 6 months by Ewan Chelley, as a final year project at the University of Glasgow."),he(46,"br"),W(47," Special thanks to Professor David Manlove for his invaluable guidance and support. "),he(48,"br"),he(49,"br"),W(50," If you have any questions or feedback, please contact me at 2314806c@student.gla.ac.uk "),U(),U())},directives:[bi,fa],styles:[""]}),n})(),G$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Si({type:n,bootstrap:[k4]}),n.\u0275inj=pn({providers:[$r],imports:[[Fy,DU.forRoot([{path:"about",component:$$},{path:"how-to-use",component:j$},{path:"kendall/learn",component:H$},{path:"kendall",component:Z4},{path:"borda/learn",component:F$},{path:"borda",component:U4},{path:"topological/learn",component:B$},{path:"topological",component:i$},{path:"plurality/learn",component:z$},{path:"plurality",component:a$},{path:"kemeny/learn",component:V$},{path:"kemeny",component:u$},{path:"popular/learn",component:U$},{path:"popular",component:b$},{path:"instant-runoff/learn",component:L$},{path:"instant-runoff",component:R$},{path:"**",component:W$}]),vj.forRoot({animation:150}),Z3,c4.forRoot({timeOut:5e3,progressBar:!0}),jW]]}),n})();(function(){if(sS)throw new Error("Cannot enable prod mode after platform setup.");rS=!1})(),QV().bootstrapModule(G$).catch(n=>console.error(n))},22:()=>{},890:()=>{}},ut=>{ut(ut.s=714)}]);